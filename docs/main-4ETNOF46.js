import{a as FS}from"./chunk-MNFQCXAS.js";import{a as vn}from"./chunk-FK6H3RFT.js";import{a as yt,b as Jt,c as Pw,d as ed,e as Rn,f as Pm,g as Al,h as Be}from"./chunk-QWWW7GFA.js";var jA=Rn((tH,C_)=>{"use strict";var b_=function(n){"use strict";var t=Object.prototype,e=t.hasOwnProperty,i=Object.defineProperty||function(F,B,$){F[B]=$.value},r,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(F,B,$){return Object.defineProperty(F,B,{value:$,enumerable:!0,configurable:!0,writable:!0}),F[B]}try{c({},"")}catch{c=function(B,$,re){return B[$]=re}}function u(F,B,$,re){var ye=B&&B.prototype instanceof C?B:C,S=Object.create(ye.prototype),j=new Q(re||[]);return i(S,"_invoke",{value:ve(F,$,j)}),S}n.wrap=u;function d(F,B,$){try{return{type:"normal",arg:F.call(B,$)}}catch(re){return{type:"throw",arg:re}}}var g="suspendedStart",f="suspendedYield",w="executing",b="completed",A={};function C(){}function D(){}function P(){}var z={};c(z,o,function(){return this});var Z=Object.getPrototypeOf,ae=Z&&Z(Z(Ce([])));ae&&ae!==t&&e.call(ae,o)&&(z=ae);var X=P.prototype=C.prototype=Object.create(z);D.prototype=P,i(X,"constructor",{value:P,configurable:!0}),i(P,"constructor",{value:D,configurable:!0}),D.displayName=c(P,l,"GeneratorFunction");function q(F){["next","throw","return"].forEach(function(B){c(F,B,function($){return this._invoke(B,$)})})}n.isGeneratorFunction=function(F){var B=typeof F=="function"&&F.constructor;return B?B===D||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,P):(F.__proto__=P,c(F,l,"GeneratorFunction")),F.prototype=Object.create(X),F},n.awrap=function(F){return{__await:F}};function se(F,B){function $(S,j,U,ne){var oe=d(F[S],F,j);if(oe.type==="throw")ne(oe.arg);else{var ue=oe.arg,ge=ue.value;return ge&&typeof ge=="object"&&e.call(ge,"__await")?B.resolve(ge.__await).then(function(_e){$("next",_e,U,ne)},function(_e){$("throw",_e,U,ne)}):B.resolve(ge).then(function(_e){ue.value=_e,U(ue)},function(_e){return $("throw",_e,U,ne)})}}var re;function ye(S,j){function U(){return new B(function(ne,oe){$(S,j,ne,oe)})}return re=re?re.then(U,U):U()}i(this,"_invoke",{value:ye})}q(se.prototype),c(se.prototype,a,function(){return this}),n.AsyncIterator=se,n.async=function(F,B,$,re,ye){ye===void 0&&(ye=Promise);var S=new se(u(F,B,$,re),ye);return n.isGeneratorFunction(B)?S:S.next().then(function(j){return j.done?j.value:S.next()})};function ve(F,B,$){var re=g;return function(S,j){if(re===w)throw new Error("Generator is already running");if(re===b){if(S==="throw")throw j;return Y()}for($.method=S,$.arg=j;;){var U=$.delegate;if(U){var ne=k(U,$);if(ne){if(ne===A)continue;return ne}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(re===g)throw re=b,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);re=w;var oe=d(F,B,$);if(oe.type==="normal"){if(re=$.done?b:f,oe.arg===A)continue;return{value:oe.arg,done:$.done}}else oe.type==="throw"&&(re=b,$.method="throw",$.arg=oe.arg)}}}function k(F,B){var $=B.method,re=F.iterator[$];if(re===r)return B.delegate=null,$==="throw"&&F.iterator.return&&(B.method="return",B.arg=r,k(F,B),B.method==="throw")||$!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+$+"' method")),A;var ye=d(re,F.iterator,B.arg);if(ye.type==="throw")return B.method="throw",B.arg=ye.arg,B.delegate=null,A;var S=ye.arg;if(!S)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,A;if(S.done)B[F.resultName]=S.value,B.next=F.nextLoc,B.method!=="return"&&(B.method="next",B.arg=r);else return S;return B.delegate=null,A}q(X),c(X,l,"Generator"),c(X,o,function(){return this}),c(X,"toString",function(){return"[object Generator]"});function L(F){var B={tryLoc:F[0]};1 in F&&(B.catchLoc=F[1]),2 in F&&(B.finallyLoc=F[2],B.afterLoc=F[3]),this.tryEntries.push(B)}function te(F){var B=F.completion||{};B.type="normal",delete B.arg,F.completion=B}function Q(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(L,this),this.reset(!0)}n.keys=function(F){var B=Object(F),$=[];for(var re in B)$.push(re);return $.reverse(),function ye(){for(;$.length;){var S=$.pop();if(S in B)return ye.value=S,ye.done=!1,ye}return ye.done=!0,ye}};function Ce(F){if(F){var B=F[o];if(B)return B.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var $=-1,re=function ye(){for(;++$<F.length;)if(e.call(F,$))return ye.value=F[$],ye.done=!1,ye;return ye.value=r,ye.done=!0,ye};return re.next=re}}return{next:Y}}n.values=Ce;function Y(){return{value:r,done:!0}}return Q.prototype={constructor:Q,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(te),!F)for(var B in this)B.charAt(0)==="t"&&e.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=r)},stop:function(){this.done=!0;var F=this.tryEntries[0],B=F.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var B=this;function $(ne,oe){return S.type="throw",S.arg=F,B.next=ne,oe&&(B.method="next",B.arg=r),!!oe}for(var re=this.tryEntries.length-1;re>=0;--re){var ye=this.tryEntries[re],S=ye.completion;if(ye.tryLoc==="root")return $("end");if(ye.tryLoc<=this.prev){var j=e.call(ye,"catchLoc"),U=e.call(ye,"finallyLoc");if(j&&U){if(this.prev<ye.catchLoc)return $(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return $(ye.finallyLoc)}else if(j){if(this.prev<ye.catchLoc)return $(ye.catchLoc,!0)}else if(U){if(this.prev<ye.finallyLoc)return $(ye.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(F,B){for(var $=this.tryEntries.length-1;$>=0;--$){var re=this.tryEntries[$];if(re.tryLoc<=this.prev&&e.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var ye=re;break}}ye&&(F==="break"||F==="continue")&&ye.tryLoc<=B&&B<=ye.finallyLoc&&(ye=null);var S=ye?ye.completion:{};return S.type=F,S.arg=B,ye?(this.method="next",this.next=ye.finallyLoc,A):this.complete(S)},complete:function(F,B){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&B&&(this.next=B),A},finish:function(F){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.finallyLoc===F)return this.complete($.completion,$.afterLoc),te($),A}},catch:function(F){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.tryLoc===F){var re=$.completion;if(re.type==="throw"){var ye=re.arg;te($)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(F,B,$){return this.delegate={iterator:Ce(F),resultName:B,nextLoc:$},this.method==="next"&&(this.arg=r),A}},n}(typeof C_=="object"?C_.exports:{});try{regeneratorRuntime=b_}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=b_:Function("r","regeneratorRuntime = r")(b_)}});var Qg=Rn((nH,BA)=>{"use strict";BA.exports=(n,t)=>`${n}-${t}-${Math.random().toString(16).slice(3,8)}`});var x_=Rn((iH,HA)=>{"use strict";var TO=Qg(),VA=0;HA.exports=({id:n,action:t,payload:e={}})=>{let i=n;return typeof i>"u"&&(i=TO("Job",VA),VA+=1),{id:i,action:t,payload:e}}});var Jg=Rn(fh=>{"use strict";var A_=!1;fh.logging=A_;fh.setLogging=n=>{A_=n};fh.log=(...n)=>A_?console.log.apply(fh,n):null});var qA=Rn((xu,zA)=>{"use strict";var NO=x_(),{log:em}=Jg(),PO=Qg(),UA=0;zA.exports=()=>{let n=PO("Scheduler",UA),t={},e={},i=[];UA+=1;let r=()=>i.length,s=()=>Object.keys(t).length,o=()=>{if(i.length!==0){let d=Object.keys(t);for(let g=0;g<d.length;g+=1)if(typeof e[d[g]]>"u"){i[0](t[d[g]]);break}}},a=(d,g)=>new Promise((f,w)=>{let b=NO({action:d,payload:g});i.push(A=>Be(xu,null,function*(){i.shift(),e[A.id]=b;try{f(yield A[d].apply(xu,[...g,b.id]))}catch(C){w(C)}finally{delete e[A.id],o()}})),em(`[${n}]: Add ${b.id} to JobQueue`),em(`[${n}]: JobQueue length=${i.length}`),o()});return{addWorker:d=>(t[d.id]=d,em(`[${n}]: Add ${d.id}`),em(`[${n}]: Number of workers=${s()}`),o(),d.id),addJob:(d,...g)=>Be(xu,null,function*(){if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return a(d,g)}),terminate:()=>Be(xu,null,function*(){Object.keys(t).forEach(d=>Be(xu,null,function*(){yield t[d].terminate()})),i=[]}),getQueueLen:r,getNumWorkers:s}}});var WA=Rn((oH,$A)=>{"use strict";$A.exports=n=>{let t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof Pw=="function"&&(t.type="node"),typeof n>"u"?t:t[n]}});var YA=Rn((lH,GA)=>{"use strict";var kO=WA()("type")==="browser",LO=kO?n=>new URL(n,window.location.href).href:n=>n;GA.exports=n=>{let t=yt({},n);return["corePath","workerPath","langPath"].forEach(e=>{n[e]&&(t[e]=LO(t[e]))}),t}});var E_=Rn((uH,XA)=>{"use strict";XA.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var KA=Rn((dH,OO)=>{OO.exports={name:"tesseract.js",version:"6.0.0",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var QA=Rn((hH,ZA)=>{"use strict";ZA.exports={workerBlobURL:!0,logger:()=>{}}});var eE=Rn((fH,JA)=>{"use strict";var FO=KA().version,RO=QA();JA.exports=Jt(yt({},RO),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${FO}/dist/worker.min.js`})});var nE=Rn((gH,tE)=>{"use strict";tE.exports=({workerPath:n,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){let i=new Blob([`importScripts("${n}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(i))}else e=new Worker(n);return e}});var rE=Rn((mH,iE)=>{"use strict";iE.exports=n=>{n.terminate()}});var oE=Rn((vH,sE)=>{"use strict";sE.exports=(n,t)=>{n.onmessage=({data:e})=>{t(e)}}});var cE=Rn((aE,lE)=>{"use strict";lE.exports=(n,t)=>Be(aE,null,function*(){n.postMessage(t)})});var dE=Rn((I_,uE)=>{"use strict";var S_=n=>new Promise((t,e)=>{let i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=({target:{error:{code:r}}})=>{e(Error(`File could not be read! Code=${r}`))},i.readAsArrayBuffer(n)}),D_=n=>Be(I_,null,function*(){let t=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?t=atob(n.split(",")[1]).split("").map(e=>e.charCodeAt(0)):t=yield(yield fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(t=yield D_(n.src)),n.tagName==="VIDEO"&&(t=yield D_(n.poster)),n.tagName==="CANVAS"&&(yield new Promise(e=>{n.toBlob(i=>Be(I_,null,function*(){t=yield S_(i),e()}))}));else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){let e=yield n.convertToBlob();t=yield S_(e)}else(n instanceof File||n instanceof Blob)&&(t=yield S_(n));return new Uint8Array(t)});uE.exports=D_});var fE=Rn((wH,hE)=>{"use strict";var jO=eE(),BO=nE(),VO=rE(),HO=oE(),UO=cE(),zO=dE();hE.exports={defaultOptions:jO,spawnWorker:BO,terminateWorker:VO,onMessage:HO,send:UO,loadImage:zO}});var M_=Rn((ph,vE)=>{"use strict";var qO=YA(),io=x_(),{log:pE}=Jg(),$O=Qg(),Ql=E_(),{defaultOptions:WO,spawnWorker:GO,terminateWorker:YO,onMessage:XO,loadImage:gE,send:KO}=fE(),mE=0;vE.exports=(...r)=>Be(ph,[...r],function*(n="eng",t=Ql.LSTM_ONLY,e={},i={}){let s=$O("Worker",mE),B=qO(yt(yt({},WO),e)),{logger:o,errorHandler:a}=B,l=ed(B,["logger","errorHandler"]),c={},u=typeof n=="string"?n.split("+"):n,d=t,g=i,f=[Ql.DEFAULT,Ql.LSTM_ONLY].includes(t)&&!l.legacyCore,w,b,A=new Promise(($,re)=>{b=$,w=re}),C=$=>{w($.message)},D=GO(l);D.onerror=C,mE+=1;let P=({id:$,action:re,payload:ye})=>new Promise((S,j)=>{pE(`[${s}]: Start ${$}, action=${re}`);let U=`${re}-${$}`;c[U]={resolve:S,reject:j},KO(D,{workerId:s,jobId:$,action:re,payload:ye})}),z=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),Z=$=>P(io({id:$,action:"load",payload:{options:{lstmOnly:f,corePath:l.corePath,logging:l.logging}}})),ae=($,re,ye)=>P(io({id:ye,action:"FS",payload:{method:"writeFile",args:[$,re]}})),X=($,re)=>P(io({id:re,action:"FS",payload:{method:"readFile",args:[$,{encoding:"utf8"}]}})),q=($,re)=>P(io({id:re,action:"FS",payload:{method:"unlink",args:[$]}})),se=($,re,ye)=>P(io({id:ye,action:"FS",payload:{method:$,args:re}})),ve=($,re)=>P(io({id:re,action:"loadLanguage",payload:{langs:$,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Ql.DEFAULT,Ql.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),k=($,re,ye,S)=>P(io({id:S,action:"initialize",payload:{langs:$,oem:re,config:ye}})),L=($="eng",re,ye,S)=>{if(f&&[Ql.TESSERACT_ONLY,Ql.TESSERACT_LSTM_COMBINED].includes(re))throw Error("Legacy model requested but code missing.");let j=re||d;d=j;let U=ye||g;g=U;let oe=(typeof $=="string"?$.split("+"):$).filter(ue=>!u.includes(ue));return u.push(...oe),oe.length>0?ve(oe,S).then(()=>k($,j,U,S)):k($,j,U,S)},te=($={},re)=>P(io({id:re,action:"setParameters",payload:{params:$}})),Q=(j,...U)=>Be(ph,[j,...U],function*($,re={},ye={text:!0},S){return P(io({id:S,action:"recognize",payload:{image:yield gE($),options:re,output:ye}}))}),Ce=($,re)=>Be(ph,null,function*(){if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return P(io({id:re,action:"detect",payload:{image:yield gE($)}}))}),Y=()=>Be(ph,null,function*(){return D!==null&&(YO(D),D=null),Promise.resolve()});XO(D,({workerId:$,jobId:re,status:ye,action:S,data:j})=>{let U=`${S}-${re}`;if(ye==="resolve")pE(`[${$}]: Complete ${re}`),c[U].resolve({jobId:re,data:j}),delete c[U];else if(ye==="reject")if(c[U].reject(j),delete c[U],S==="load"&&w(j),a)a(j);else throw Error(j);else ye==="progress"&&o(Jt(yt({},j),{userJobId:re}))});let F={id:s,worker:D,load:z,writeText:ae,readText:X,removeFile:q,FS:se,reinitialize:L,setParameters:te,recognize:Q,detect:Ce,terminate:Y};return Z().then(()=>ve(n)).then(()=>k(n,t,i)).then(()=>b(F)).catch(()=>{}),A})});var wE=Rn((gh,_E)=>{"use strict";var yE=M_(),ZO=(n,t,e)=>Be(gh,null,function*(){let i=yield yE(t,1,e);return i.recognize(n).finally(()=>Be(gh,null,function*(){yield i.terminate()}))}),QO=(n,t)=>Be(gh,null,function*(){let e=yield yE("osd",0,t);return e.detect(n).finally(()=>Be(gh,null,function*(){yield e.terminate()}))});_E.exports={recognize:ZO,detect:QO}});var CE=Rn((xH,bE)=>{"use strict";bE.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var AE=Rn((AH,xE)=>{"use strict";xE.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var SE=Rn((EH,EE)=>{"use strict";jA();var JO=qA(),e4=M_(),t4=wE(),n4=CE(),i4=E_(),r4=AE(),{setLogging:s4}=Jg();EE.exports=yt({languages:n4,OEM:i4,PSM:r4,createScheduler:JO,createWorker:e4,setLogging:s4},t4)});var NE=Rn((ro,T_)=>{"use strict";(function(n,t){typeof ro=="object"&&typeof T_<"u"?T_.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(ro,function(){"use strict";function n(m,_,E){if(typeof m=="function"?m===_:m.has(_))return arguments.length<3?_:E;throw new TypeError("Private element is not present on this object")}function t(m,_){if(_.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(m,_){return m.get(n(m,_))}function i(m,_,E){t(m,_),_.set(m,E)}function r(m,_,E){return m.set(n(m,_),E),E}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=m=>new Promise(_=>{if(!m)return _();let E=window.scrollX,G=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),_()},s),window.scrollTo(E,G)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((m,_)=>(m[_]=c+_,m),{}),f=["success","warning","info","question","error"].reduce((m,_)=>(m[_]=c+_,m),{}),w="SweetAlert2:",b=m=>m.charAt(0).toUpperCase()+m.slice(1),A=m=>{console.warn(`${w} ${typeof m=="object"?m.join(" "):m}`)},C=m=>{console.error(`${w} ${m}`)},D=[],P=m=>{D.includes(m)||(D.push(m),A(m))},z=function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;P(`"${m}" is deprecated and will be removed in the next major release.${_?` Use "${_}" instead.`:""}`)},Z=m=>typeof m=="function"?m():m,ae=m=>m&&typeof m.toPromise=="function",X=m=>ae(m)?m.toPromise():Promise.resolve(m),q=m=>m&&Promise.resolve(m)===m,se=()=>document.body.querySelector(`.${d.container}`),ve=m=>{let _=se();return _?_.querySelector(m):null},k=m=>ve(`.${m}`),L=()=>k(d.popup),te=()=>k(d.icon),Q=()=>k(d["icon-content"]),Ce=()=>k(d.title),Y=()=>k(d["html-container"]),F=()=>k(d.image),B=()=>k(d["progress-steps"]),$=()=>k(d["validation-message"]),re=()=>ve(`.${d.actions} .${d.confirm}`),ye=()=>ve(`.${d.actions} .${d.cancel}`),S=()=>ve(`.${d.actions} .${d.deny}`),j=()=>k(d["input-label"]),U=()=>ve(`.${d.loader}`),ne=()=>k(d.actions),oe=()=>k(d.footer),ue=()=>k(d["timer-progress-bar"]),ge=()=>k(d.close),_e=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Re=()=>{let m=L();if(!m)return[];let _=m.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),E=Array.from(_).sort((We,kt)=>{let qt=parseInt(We.getAttribute("tabindex")||"0"),In=parseInt(kt.getAttribute("tabindex")||"0");return qt>In?1:qt<In?-1:0}),G=m.querySelectorAll(_e),xe=Array.from(G).filter(We=>We.getAttribute("tabindex")!=="-1");return[...new Set(E.concat(xe))].filter(We=>ft(We))},Fe=()=>Ae(document.body,d.shown)&&!Ae(document.body,d["toast-shown"])&&!Ae(document.body,d["no-backdrop"]),Ue=()=>{let m=L();return m?Ae(m,d.toast):!1},qe=()=>{let m=L();return m?m.hasAttribute("data-loading"):!1},it=(m,_)=>{if(m.textContent="",_){let G=new DOMParser().parseFromString(_,"text/html"),xe=G.querySelector("head");xe&&Array.from(xe.childNodes).forEach(kt=>{m.appendChild(kt)});let We=G.querySelector("body");We&&Array.from(We.childNodes).forEach(kt=>{kt instanceof HTMLVideoElement||kt instanceof HTMLAudioElement?m.appendChild(kt.cloneNode(!0)):m.appendChild(kt)})}},Ae=(m,_)=>{if(!_)return!1;let E=_.split(/\s+/);for(let G=0;G<E.length;G++)if(!m.classList.contains(E[G]))return!1;return!0},ee=(m,_)=>{Array.from(m.classList).forEach(E=>{!Object.values(d).includes(E)&&!Object.values(f).includes(E)&&!Object.values(_.showClass||{}).includes(E)&&m.classList.remove(E)})},lt=(m,_,E)=>{if(ee(m,_),!_.customClass)return;let G=_.customClass[E];if(G){if(typeof G!="string"&&!G.forEach){A(`Invalid type of customClass.${E}! Expected string or iterable object, got "${typeof G}"`);return}ke(m,G)}},Qe=(m,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return m.querySelector(`.${d.popup} > .${d[_]}`);case"checkbox":return m.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return m.querySelector(`.${d.popup} > .${d.radio} input:checked`)||m.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return m.querySelector(`.${d.popup} > .${d.range} input`);default:return m.querySelector(`.${d.popup} > .${d.input}`)}},je=m=>{if(m.focus(),m.type!=="file"){let _=m.value;m.value="",m.value=_}},He=(m,_,E)=>{!m||!_||(typeof _=="string"&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(G=>{Array.isArray(m)?m.forEach(xe=>{E?xe.classList.add(G):xe.classList.remove(G)}):E?m.classList.add(G):m.classList.remove(G)}))},ke=(m,_)=>{He(m,_,!0)},Ve=(m,_)=>{He(m,_,!1)},tt=(m,_)=>{let E=Array.from(m.children);for(let G=0;G<E.length;G++){let xe=E[G];if(xe instanceof HTMLElement&&Ae(xe,_))return xe}},ht=(m,_,E)=>{E===`${parseInt(E)}`&&(E=parseInt(E)),E||parseInt(E)===0?m.style.setProperty(_,typeof E=="number"?`${E}px`:E):m.style.removeProperty(_)},st=function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";m&&(m.style.display=_)},ct=m=>{m&&(m.style.display="none")},Ut=function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";m&&new MutationObserver(()=>{dt(m,m.innerHTML,_)}).observe(m,{childList:!0,subtree:!0})},sn=(m,_,E,G)=>{let xe=m.querySelector(_);xe&&xe.style.setProperty(E,G)},dt=function(m,_){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";_?st(m,E):ct(m)},ft=m=>!!(m&&(m.offsetWidth||m.offsetHeight||m.getClientRects().length)),Ge=()=>!ft(re())&&!ft(S())&&!ft(ye()),si=m=>m.scrollHeight>m.clientHeight,Yt=m=>{let _=window.getComputedStyle(m),E=parseFloat(_.getPropertyValue("animation-duration")||"0"),G=parseFloat(_.getPropertyValue("transition-duration")||"0");return E>0||G>0},Ri=function(m){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=ue();E&&ft(E)&&(_&&(E.style.transition="none",E.style.width="100%"),setTimeout(()=>{E.style.transition=`width ${m/1e3}s linear`,E.style.width="0%"},10))},un=()=>{let m=ue();if(!m)return;let _=parseInt(window.getComputedStyle(m).width);m.style.removeProperty("transition"),m.style.width="100%";let E=parseInt(window.getComputedStyle(m).width),G=_/E*100;m.style.width=`${G}%`},Cn=()=>typeof window>"u"||typeof document>"u",Br=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),rn=()=>{let m=se();return m?(m.remove(),Ve([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},ji=()=>{o.currentInstance.resetValidationMessage()},Tn=()=>{let m=L(),_=tt(m,d.input),E=tt(m,d.file),G=m.querySelector(`.${d.range} input`),xe=m.querySelector(`.${d.range} output`),We=tt(m,d.select),kt=m.querySelector(`.${d.checkbox} input`),qt=tt(m,d.textarea);_.oninput=ji,E.onchange=ji,We.onchange=ji,kt.onchange=ji,qt.oninput=ji,G.oninput=()=>{ji(),xe.value=G.value},G.onchange=()=>{ji(),xe.value=G.value}},yr=m=>typeof m=="string"?document.querySelector(m):m,ss=m=>{let _=L();_.setAttribute("role",m.toast?"alert":"dialog"),_.setAttribute("aria-live",m.toast?"polite":"assertive"),m.toast||_.setAttribute("aria-modal","true")},Nn=m=>{window.getComputedStyle(m).direction==="rtl"&&ke(se(),d.rtl)},At=m=>{let _=rn();if(Cn()){C("SweetAlert2 requires document to initialize");return}let E=document.createElement("div");E.className=d.container,_&&ke(E,d["no-transition"]),it(E,Br);let G=yr(m.target);G.appendChild(E),ss(m),Nn(G),Tn()},Kt=(m,_)=>{m instanceof HTMLElement?_.appendChild(m):typeof m=="object"?ao(m,_):m&&it(_,m)},ao=(m,_)=>{m.jquery?oi(_,m):it(_,m.toString())},oi=(m,_)=>{if(m.textContent="",0 in _)for(let E=0;E in _;E++)m.appendChild(_[E].cloneNode(!0));else m.appendChild(_.cloneNode(!0))},Vr=(m,_)=>{let E=ne(),G=U();!E||!G||(!_.showConfirmButton&&!_.showDenyButton&&!_.showCancelButton?ct(E):st(E),lt(E,_,"actions"),Hr(E,G,_),it(G,_.loaderHtml||""),lt(G,_,"loader"))};function Hr(m,_,E){let G=re(),xe=S(),We=ye();!G||!xe||!We||(Bi(G,"confirm",E),Bi(xe,"deny",E),Bi(We,"cancel",E),pt(G,xe,We,E),E.reverseButtons&&(E.toast?(m.insertBefore(We,G),m.insertBefore(xe,G)):(m.insertBefore(We,_),m.insertBefore(xe,_),m.insertBefore(G,_))))}function pt(m,_,E,G){if(!G.buttonsStyling){Ve([m,_,E],d.styled);return}ke([m,_,E],d.styled),G.confirmButtonColor&&(m.style.backgroundColor=G.confirmButtonColor,ke(m,d["default-outline"])),G.denyButtonColor&&(_.style.backgroundColor=G.denyButtonColor,ke(_,d["default-outline"])),G.cancelButtonColor&&(E.style.backgroundColor=G.cancelButtonColor,ke(E,d["default-outline"]))}function Bi(m,_,E){let G=b(_);dt(m,E[`show${G}Button`],"inline-block"),it(m,E[`${_}ButtonText`]||""),m.setAttribute("aria-label",E[`${_}ButtonAriaLabel`]||""),m.className=d[_],lt(m,E,`${_}Button`)}let Ur=(m,_)=>{let E=ge();E&&(it(E,_.closeButtonHtml||""),lt(E,_,"closeButton"),dt(E,_.showCloseButton),E.setAttribute("aria-label",_.closeButtonAriaLabel||""))},Ei=(m,_)=>{let E=se();E&&(qn(E,_.backdrop),Bn(E,_.position),Vi(E,_.grow),lt(E,_,"container"))};function qn(m,_){typeof _=="string"?m.style.background=_:_||ke([document.documentElement,document.body],d["no-backdrop"])}function Bn(m,_){_&&(_ in d?ke(m,d[_]):(A('The "position" parameter is not valid, defaulting to "center"'),ke(m,d.center)))}function Vi(m,_){_&&ke(m,d[`grow-${_}`])}var Zt={innerParams:new WeakMap,domCache:new WeakMap};let os=["input","file","range","select","radio","checkbox","textarea"],_r=(m,_)=>{let E=L();if(!E)return;let G=Zt.innerParams.get(m),xe=!G||_.input!==G.input;os.forEach(We=>{let kt=tt(E,d[We]);kt&&(zr(We,_.inputAttributes),kt.className=d[We],xe&&ct(kt))}),_.input&&(xe&&wr(_),Ki(_))},wr=m=>{if(!m.input)return;if(!fn[m.input]){C(`Unexpected type of input! Expected ${Object.keys(fn).join(" | ")}, got "${m.input}"`);return}let _=lo(m.input);if(!_)return;let E=fn[m.input](_,m);st(_),m.inputAutoFocus&&setTimeout(()=>{je(E)})},br=m=>{for(let _=0;_<m.attributes.length;_++){let E=m.attributes[_].name;["id","type","value","style"].includes(E)||m.removeAttribute(E)}},zr=(m,_)=>{let E=L();if(!E)return;let G=Qe(E,m);if(G){br(G);for(let xe in _)G.setAttribute(xe,_[xe])}},Ki=m=>{if(!m.input)return;let _=lo(m.input);_&&lt(_,m,"input")},Zi=(m,_)=>{!m.placeholder&&_.inputPlaceholder&&(m.placeholder=_.inputPlaceholder)},Cr=(m,_,E)=>{if(E.inputLabel){let G=document.createElement("label"),xe=d["input-label"];G.setAttribute("for",m.id),G.className=xe,typeof E.customClass=="object"&&ke(G,E.customClass.inputLabel),G.innerText=E.inputLabel,_.insertAdjacentElement("beforebegin",G)}},lo=m=>{let _=L();if(_)return tt(_,d[m]||d.input)},as=(m,_)=>{["string","number"].includes(typeof _)?m.value=`${_}`:q(_)||A(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},fn={};fn.text=fn.email=fn.password=fn.number=fn.tel=fn.url=fn.search=fn.date=fn["datetime-local"]=fn.time=fn.week=fn.month=(m,_)=>(as(m,_.inputValue),Cr(m,m,_),Zi(m,_),m.type=_.input,m),fn.file=(m,_)=>(Cr(m,m,_),Zi(m,_),m),fn.range=(m,_)=>{let E=m.querySelector("input"),G=m.querySelector("output");return as(E,_.inputValue),E.type=_.input,as(G,_.inputValue),Cr(E,m,_),m},fn.select=(m,_)=>{if(m.textContent="",_.inputPlaceholder){let E=document.createElement("option");it(E,_.inputPlaceholder),E.value="",E.disabled=!0,E.selected=!0,m.appendChild(E)}return Cr(m,m,_),m},fn.radio=m=>(m.textContent="",m),fn.checkbox=(m,_)=>{let E=Qe(L(),"checkbox");E.value="1",E.checked=!!_.inputValue;let G=m.querySelector("span");return it(G,_.inputPlaceholder||_.inputLabel),E},fn.textarea=(m,_)=>{as(m,_.inputValue),Zi(m,_),Cr(m,m,_);let E=G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let G=parseInt(window.getComputedStyle(L()).width),xe=()=>{if(!document.body.contains(m))return;let We=m.offsetWidth+E(m);We>G?L().style.width=`${We}px`:ht(L(),"width",_.width)};new MutationObserver(xe).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};let Wo=(m,_)=>{let E=Y();E&&(Ut(E),lt(E,_,"htmlContainer"),_.html?(Kt(_.html,E),st(E,"block")):_.text?(E.textContent=_.text,st(E,"block")):ct(E),_r(m,_))},rc=(m,_)=>{let E=oe();E&&(Ut(E),dt(E,_.footer,"block"),_.footer&&Kt(_.footer,E),lt(E,_,"footer"))},Su=(m,_)=>{let E=Zt.innerParams.get(m),G=te();if(G){if(E&&_.icon===E.icon){Yo(G,_),sc(G,_);return}if(!_.icon&&!_.iconHtml){ct(G);return}if(_.icon&&Object.keys(f).indexOf(_.icon)===-1){C(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),ct(G);return}st(G),Yo(G,_),sc(G,_),ke(G,_.showClass&&_.showClass.icon)}},sc=(m,_)=>{for(let[E,G]of Object.entries(f))_.icon!==E&&Ve(m,G);ke(m,_.icon&&f[_.icon]),Iu(m,_),Go(),lt(m,_,"icon")},Go=()=>{let m=L();if(!m)return;let _=window.getComputedStyle(m).getPropertyValue("background-color"),E=m.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<E.length;G++)E[G].style.backgroundColor=_},oc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Du=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Yo=(m,_)=>{if(!_.icon&&!_.iconHtml)return;let E=m.innerHTML,G="";_.iconHtml?G=Qa(_.iconHtml):_.icon==="success"?(G=oc,E=E.replace(/ style=".*?"/g,"")):_.icon==="error"?G=Du:_.icon&&(G=Qa({question:"?",warning:"!",info:"i"}[_.icon])),E.trim()!==G.trim()&&it(m,G)},Iu=(m,_)=>{if(_.iconColor){m.style.color=_.iconColor,m.style.borderColor=_.iconColor;for(let E of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sn(m,E,"background-color",_.iconColor);sn(m,".swal2-success-ring","border-color",_.iconColor)}},Qa=m=>`<div class="${d["icon-content"]}">${m}</div>`,Mu=(m,_)=>{let E=F();if(E){if(!_.imageUrl){ct(E);return}st(E,""),E.setAttribute("src",_.imageUrl),E.setAttribute("alt",_.imageAlt||""),ht(E,"width",_.imageWidth),ht(E,"height",_.imageHeight),E.className=d.image,lt(E,_,"image")}},ks=!1,ac=0,Pn=0,Ja=0,el=0,lc=m=>{m.addEventListener("mousedown",Xo),document.body.addEventListener("mousemove",Si),m.addEventListener("mouseup",ls),m.addEventListener("touchstart",Xo),document.body.addEventListener("touchmove",Si),m.addEventListener("touchend",ls)},tl=m=>{m.removeEventListener("mousedown",Xo),document.body.removeEventListener("mousemove",Si),m.removeEventListener("mouseup",ls),m.removeEventListener("touchstart",Xo),document.body.removeEventListener("touchmove",Si),m.removeEventListener("touchend",ls)},Xo=m=>{let _=L();if(m.target===_||te().contains(m.target)){ks=!0;let E=mi(m);ac=E.clientX,Pn=E.clientY,Ja=parseInt(_.style.insetInlineStart)||0,el=parseInt(_.style.insetBlockStart)||0,ke(_,"swal2-dragging")}},Si=m=>{let _=L();if(ks){let{clientX:E,clientY:G}=mi(m);_.style.insetInlineStart=`${Ja+(E-ac)}px`,_.style.insetBlockStart=`${el+(G-Pn)}px`}},ls=()=>{let m=L();ks=!1,Ve(m,"swal2-dragging")},mi=m=>{let _=0,E=0;return m.type.startsWith("mouse")?(_=m.clientX,E=m.clientY):m.type.startsWith("touch")&&(_=m.touches[0].clientX,E=m.touches[0].clientY),{clientX:_,clientY:E}},nl=(m,_)=>{let E=se(),G=L();if(!(!E||!G)){if(_.toast){ht(E,"width",_.width),G.style.width="100%";let xe=U();xe&&G.insertBefore(xe,te())}else ht(G,"width",_.width);ht(G,"padding",_.padding),_.color&&(G.style.color=_.color),_.background&&(G.style.background=_.background),ct($()),cc(G,_),_.draggable&&!_.toast?(ke(G,d.draggable),lc(G)):(Ve(G,d.draggable),tl(G))}},cc=(m,_)=>{let E=_.showClass||{};m.className=`${d.popup} ${ft(m)?E.popup:""}`,_.toast?(ke([document.documentElement,document.body],d["toast-shown"]),ke(m,d.toast)):ke(m,d.modal),lt(m,_,"popup"),typeof _.customClass=="string"&&ke(m,_.customClass),_.icon&&ke(m,d[`icon-${_.icon}`])},Tu=(m,_)=>{let E=B();if(!E)return;let{progressSteps:G,currentProgressStep:xe}=_;if(!G||G.length===0||xe===void 0){ct(E);return}st(E),E.textContent="",xe>=G.length&&A("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),G.forEach((We,kt)=>{let qt=uc(We);if(E.appendChild(qt),kt===xe&&ke(qt,d["active-progress-step"]),kt!==G.length-1){let In=Nu(_);E.appendChild(In)}})},uc=m=>{let _=document.createElement("li");return ke(_,d["progress-step"]),it(_,m),_},Nu=m=>{let _=document.createElement("li");return ke(_,d["progress-step-line"]),m.progressStepsDistance&&ht(_,"width",m.progressStepsDistance),_},dc=(m,_)=>{let E=Ce();E&&(Ut(E),dt(E,_.title||_.titleText,"block"),_.title&&Kt(_.title,E),_.titleText&&(E.innerText=_.titleText),lt(E,_,"title"))},hc=(m,_)=>{nl(m,_),Ei(m,_),Tu(m,_),Su(m,_),Mu(m,_),dc(m,_),Ur(m,_),Wo(m,_),Vr(m,_),rc(m,_);let E=L();typeof _.didRender=="function"&&E&&_.didRender(E),o.eventEmitter.emit("didRender",E)},il=()=>ft(L()),fc=()=>{var m;return(m=re())===null||m===void 0?void 0:m.click()},Pu=()=>{var m;return(m=S())===null||m===void 0?void 0:m.click()},ku=()=>{var m;return(m=ye())===null||m===void 0?void 0:m.click()},Di=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),co=m=>{m.keydownTarget&&m.keydownHandlerAdded&&(m.keydownTarget.removeEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!1)},Ko=(m,_,E)=>{co(m),_.toast||(m.keydownHandler=G=>pc(_,G,E),m.keydownTarget=_.keydownListenerCapture?window:L(),m.keydownListenerCapture=_.keydownListenerCapture,m.keydownTarget.addEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!0)},Zo=(m,_)=>{var E;let G=Re();if(G.length){m=m+_,m===G.length?m=0:m===-1&&(m=G.length-1),G[m].focus();return}(E=L())===null||E===void 0||E.focus()},ai=["ArrowRight","ArrowDown"],Lu=["ArrowLeft","ArrowUp"],pc=(m,_,E)=>{m&&(_.isComposing||_.keyCode===229||(m.stopKeydownPropagation&&_.stopPropagation(),_.key==="Enter"?Ct(_,m):_.key==="Tab"?Ou(_):[...ai,...Lu].includes(_.key)?Fu(_.key):_.key==="Escape"&&qr(_,m,E)))},Ct=(m,_)=>{if(!Z(_.allowEnterKey))return;let E=Qe(L(),_.input);if(m.target&&E&&m.target instanceof HTMLElement&&m.target.outerHTML===E.outerHTML){if(["textarea","file"].includes(_.input))return;fc(),m.preventDefault()}},Ou=m=>{let _=m.target,E=Re(),G=-1;for(let xe=0;xe<E.length;xe++)if(_===E[xe]){G=xe;break}m.shiftKey?Zo(G,-1):Zo(G,1),m.stopPropagation(),m.preventDefault()},Fu=m=>{let _=ne(),E=re(),G=S(),xe=ye();if(!_||!E||!G||!xe)return;let We=[E,G,xe];if(document.activeElement instanceof HTMLElement&&!We.includes(document.activeElement))return;let kt=ai.includes(m)?"nextElementSibling":"previousElementSibling",qt=document.activeElement;if(qt){for(let In=0;In<_.children.length;In++){if(qt=qt[kt],!qt)return;if(qt instanceof HTMLButtonElement&&ft(qt))break}qt instanceof HTMLButtonElement&&qt.focus()}},qr=(m,_,E)=>{Z(_.allowEscapeKey)&&(m.preventDefault(),E(Di.esc))};var cs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let gc=()=>{let m=se();Array.from(document.body.children).forEach(E=>{E.contains(m)||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")||""),E.setAttribute("aria-hidden","true"))})},uo=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},Qo=typeof window<"u"&&!!window.GestureEvent,Ru=()=>{if(Qo&&!Ae(document.body,d.iosfix)){let m=document.body.scrollTop;document.body.style.top=`${m*-1}px`,ke(document.body,d.iosfix),ju()}},ju=()=>{let m=se();if(!m)return;let _;m.ontouchstart=E=>{_=Bu(E)},m.ontouchmove=E=>{_&&(E.preventDefault(),E.stopPropagation())}},Bu=m=>{let _=m.target,E=se(),G=Y();return!E||!G||rl(m)||ho(m)?!1:_===E||!si(E)&&_ instanceof HTMLElement&&_.tagName!=="INPUT"&&_.tagName!=="TEXTAREA"&&!(si(G)&&G.contains(_))},rl=m=>m.touches&&m.touches.length&&m.touches[0].touchType==="stylus",ho=m=>m.touches&&m.touches.length>1,Ls=()=>{if(Ae(document.body,d.iosfix)){let m=parseInt(document.body.style.top,10);Ve(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=m*-1}},Vu=()=>{let m=document.createElement("div");m.className=d["scrollbar-measure"],document.body.appendChild(m);let _=m.getBoundingClientRect().width-m.clientWidth;return document.body.removeChild(m),_},Qi=null,sl=m=>{Qi===null&&(document.body.scrollHeight>window.innerHeight||m==="scroll")&&(Qi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qi+Vu()}px`)},Jo=()=>{Qi!==null&&(document.body.style.paddingRight=`${Qi}px`,Qi=null)};function ol(m,_,E,G){Ue()?ea(m,G):(l(E).then(()=>ea(m,G)),co(o)),Qo?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),Fe()&&(Jo(),Ls(),uo()),mc()}function mc(){Ve([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function xr(m){m=Hu(m);let _=cs.swalPromiseResolve.get(this),E=vc(this);this.isAwaitingPromise?m.isDismissed||(Hi(this),_(m)):E&&_(m)}let vc=m=>{let _=L();if(!_)return!1;let E=Zt.innerParams.get(m);if(!E||Ae(_,E.hideClass.popup))return!1;Ve(_,E.showClass.popup),ke(_,E.hideClass.popup);let G=se();return Ve(G,E.showClass.backdrop),ke(G,E.hideClass.backdrop),Os(m,_,E),!0};function Ar(m){let _=cs.swalPromiseReject.get(this);Hi(this),_&&_(m)}let Hi=m=>{m.isAwaitingPromise&&(delete m.isAwaitingPromise,Zt.innerParams.get(m)||m._destroy())},Hu=m=>typeof m>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},m),Os=(m,_,E)=>{var G;let xe=se(),We=Yt(_);typeof E.willClose=="function"&&E.willClose(_),(G=o.eventEmitter)===null||G===void 0||G.emit("willClose",_),We?Er(m,_,xe,E.returnFocus,E.didClose):ol(m,xe,E.returnFocus,E.didClose)},Er=(m,_,E,G,xe)=>{o.swalCloseEventFinishedCallback=ol.bind(null,m,E,G,xe);let We=function(kt){if(kt.target===_){var qt;(qt=o.swalCloseEventFinishedCallback)===null||qt===void 0||qt.call(o),delete o.swalCloseEventFinishedCallback,_.removeEventListener("animationend",We),_.removeEventListener("transitionend",We)}};_.addEventListener("animationend",We),_.addEventListener("transitionend",We)},ea=(m,_)=>{setTimeout(()=>{var E;typeof _=="function"&&_.bind(m.params)(),(E=o.eventEmitter)===null||E===void 0||E.emit("didClose"),m._destroy&&m._destroy()})},Ji=m=>{let _=L();if(_||new Ic,_=L(),!_)return;let E=U();Ue()?ct(te()):Uu(_,m),st(E),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},Uu=(m,_)=>{let E=ne(),G=U();!E||!G||(!_&&ft(re())&&(_=re()),st(E),_&&(ct(_),G.setAttribute("data-button-to-replace",_.className),E.insertBefore(G,_)),ke([m,E],d.loading))},ta=(m,_)=>{_.input==="select"||_.input==="radio"?na(m,_):["text","email","number","tel","textarea"].some(E=>E===_.input)&&(ae(_.inputValue)||q(_.inputValue))&&(Ji(re()),cl(m,_))},zu=(m,_)=>{let E=m.getInput();if(!E)return null;switch(_.input){case"checkbox":return al(E);case"radio":return ll(E);case"file":return yc(E);default:return _.inputAutoTrim?E.value.trim():E.value}},al=m=>m.checked?1:0,ll=m=>m.checked?m.value:null,yc=m=>m.files&&m.files.length?m.getAttribute("multiple")!==null?m.files:m.files[0]:null,na=(m,_)=>{let E=L();if(!E)return;let G=xe=>{_.input==="select"?ul(E,ia(xe),_):_.input==="radio"&&_c(E,ia(xe),_)};ae(_.inputOptions)||q(_.inputOptions)?(Ji(re()),X(_.inputOptions).then(xe=>{m.hideLoading(),G(xe)})):typeof _.inputOptions=="object"?G(_.inputOptions):C(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof _.inputOptions}`)},cl=(m,_)=>{let E=m.getInput();E&&(ct(E),X(_.inputValue).then(G=>{E.value=_.input==="number"?`${parseFloat(G)||0}`:`${G}`,st(E),E.focus(),m.hideLoading()}).catch(G=>{C(`Error in inputValue promise: ${G}`),E.value="",st(E),E.focus(),m.hideLoading()}))};function ul(m,_,E){let G=tt(m,d.select);if(!G)return;let xe=(We,kt,qt)=>{let In=document.createElement("option");In.value=qt,it(In,kt),In.selected=fo(qt,E.inputValue),We.appendChild(In)};_.forEach(We=>{let kt=We[0],qt=We[1];if(Array.isArray(qt)){let In=document.createElement("optgroup");In.label=kt,In.disabled=!1,G.appendChild(In),qt.forEach(ga=>xe(In,ga[1],ga[0]))}else xe(G,qt,kt)}),G.focus()}function _c(m,_,E){let G=tt(m,d.radio);if(!G)return;_.forEach(We=>{let kt=We[0],qt=We[1],In=document.createElement("input"),ga=document.createElement("label");In.type="radio",In.name=d.radio,In.value=kt,fo(kt,E.inputValue)&&(In.checked=!0);let Yu=document.createElement("span");it(Yu,qt),Yu.className=d.label,ga.appendChild(In),ga.appendChild(Yu),G.appendChild(ga)});let xe=G.querySelectorAll("input");xe.length&&xe[0].focus()}let ia=m=>{let _=[];return m instanceof Map?m.forEach((E,G)=>{let xe=E;typeof xe=="object"&&(xe=ia(xe)),_.push([G,xe])}):Object.keys(m).forEach(E=>{let G=m[E];typeof G=="object"&&(G=ia(G)),_.push([E,G])}),_},fo=(m,_)=>!!_&&_.toString()===m.toString(),po=m=>{let _=Zt.innerParams.get(m);m.disableButtons(),_.input?ra(m,"confirm"):me(m,!0)},dl=m=>{let _=Zt.innerParams.get(m);m.disableButtons(),_.returnInputValueOnDeny?ra(m,"deny"):I(m,!1)},Fs=(m,_)=>{m.disableButtons(),_(Di.cancel)},ra=(m,_)=>{let E=Zt.innerParams.get(m);if(!E.input){C(`The "input" parameter is needed to be set when using returnInputValueOn${b(_)}`);return}let G=m.getInput(),xe=zu(m,E);E.inputValidator?v(m,xe,_):G&&!G.checkValidity()?(m.enableButtons(),m.showValidationMessage(E.validationMessage||G.validationMessage)):_==="deny"?I(m,xe):me(m,xe)},v=(m,_,E)=>{let G=Zt.innerParams.get(m);m.disableInput(),Promise.resolve().then(()=>X(G.inputValidator(_,G.validationMessage))).then(We=>{m.enableButtons(),m.enableInput(),We?m.showValidationMessage(We):E==="deny"?I(m,_):me(m,_)})},I=(m,_)=>{let E=Zt.innerParams.get(m||void 0);E.showLoaderOnDeny&&Ji(S()),E.preDeny?(m.isAwaitingPromise=!0,Promise.resolve().then(()=>X(E.preDeny(_,E.validationMessage))).then(xe=>{xe===!1?(m.hideLoading(),Hi(m)):m.close({isDenied:!0,value:typeof xe>"u"?_:xe})}).catch(xe=>le(m||void 0,xe))):m.close({isDenied:!0,value:_})},K=(m,_)=>{m.close({isConfirmed:!0,value:_})},le=(m,_)=>{m.rejectPromise(_)},me=(m,_)=>{let E=Zt.innerParams.get(m||void 0);E.showLoaderOnConfirm&&Ji(),E.preConfirm?(m.resetValidationMessage(),m.isAwaitingPromise=!0,Promise.resolve().then(()=>X(E.preConfirm(_,E.validationMessage))).then(xe=>{ft($())||xe===!1?(m.hideLoading(),Hi(m)):K(m,typeof xe>"u"?_:xe)}).catch(xe=>le(m||void 0,xe))):K(m,_)};function Se(){let m=Zt.innerParams.get(this);if(!m)return;let _=Zt.domCache.get(this);ct(_.loader),Ue()?m.icon&&st(te()):Oe(_),Ve([_.popup,_.actions],d.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}let Oe=m=>{let _=m.popup.getElementsByClassName(m.loader.getAttribute("data-button-to-replace"));_.length?st(_[0],"inline-block"):Ge()&&ct(m.actions)};function Ye(){let m=Zt.innerParams.get(this),_=Zt.domCache.get(this);return _?Qe(_.popup,m.input):null}function at(m,_,E){let G=Zt.domCache.get(m);_.forEach(xe=>{G[xe].disabled=E})}function Et(m,_){let E=L();if(!(!E||!m))if(m.type==="radio"){let G=E.querySelectorAll(`[name="${d.radio}"]`);for(let xe=0;xe<G.length;xe++)G[xe].disabled=_}else m.disabled=_}function xt(){at(this,["confirmButton","denyButton","cancelButton"],!1)}function zt(){at(this,["confirmButton","denyButton","cancelButton"],!0)}function xn(){Et(this.getInput(),!1)}function En(){Et(this.getInput(),!0)}function Ln(m){let _=Zt.domCache.get(this),E=Zt.innerParams.get(this);it(_.validationMessage,m),_.validationMessage.className=d["validation-message"],E.customClass&&E.customClass.validationMessage&&ke(_.validationMessage,E.customClass.validationMessage),st(_.validationMessage);let G=this.getInput();G&&(G.setAttribute("aria-invalid","true"),G.setAttribute("aria-describedby",d["validation-message"]),je(G),ke(G,d.inputerror))}function li(){let m=Zt.domCache.get(this);m.validationMessage&&ct(m.validationMessage);let _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),Ve(_,d.inputerror))}let Sn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Sr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ui={allowEnterKey:void 0},$r=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hl=m=>Object.prototype.hasOwnProperty.call(Sn,m),sa=m=>Sr.indexOf(m)!==-1,oa=m=>Ui[m],aa=m=>{hl(m)||A(`Unknown parameter "${m}"`)},fl=m=>{$r.includes(m)&&A(`The parameter "${m}" is incompatible with toasts`)},pl=m=>{let _=oa(m);_&&z(m,_)},la=m=>{m.backdrop===!1&&m.allowOutsideClick&&A('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let _ in m)aa(_),m.toast&&fl(_),pl(_)};function Qn(m){let _=L(),E=Zt.innerParams.get(this);if(!_||Ae(_,E.hideClass.popup)){A("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let G=ca(m),xe=Object.assign({},E,G);hc(this,xe),Zt.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}let ca=m=>{let _={};return Object.keys(m).forEach(E=>{sa(E)?_[E]=m[E]:A(`Invalid parameter to update: ${E}`)}),_};function go(){let m=Zt.domCache.get(this),_=Zt.innerParams.get(this);if(!_){da(this);return}m.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof _.didDestroy=="function"&&_.didDestroy(),o.eventEmitter.emit("didDestroy"),ua(this)}let ua=m=>{da(m),delete m.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},da=m=>{m.isAwaitingPromise?(di(Zt,m),m.isAwaitingPromise=!0):(di(cs,m),di(Zt,m),delete m.isAwaitingPromise,delete m.disableButtons,delete m.enableButtons,delete m.getInput,delete m.disableInput,delete m.enableInput,delete m.hideLoading,delete m.disableLoading,delete m.showValidationMessage,delete m.resetValidationMessage,delete m.close,delete m.closePopup,delete m.closeModal,delete m.closeToast,delete m.rejectPromise,delete m.update,delete m._destroy)},di=(m,_)=>{for(let E in m)m[E].delete(_)};var qu=Object.freeze({__proto__:null,_destroy:go,close:xr,closeModal:xr,closePopup:xr,closeToast:xr,disableButtons:zt,disableInput:En,disableLoading:Se,enableButtons:xt,enableInput:xn,getInput:Ye,handleAwaitingPromise:Hi,hideLoading:Se,rejectPromise:Ar,resetValidationMessage:li,showValidationMessage:Ln,update:Qn});let gl=(m,_,E)=>{m.toast?wc(m,_,E):(bc(_),Cc(_),Rs(m,_,E))},wc=(m,_,E)=>{_.popup.onclick=()=>{m&&(er(m)||m.timer||m.input)||E(Di.close)}},er=m=>!!(m.showConfirmButton||m.showDenyButton||m.showCancelButton||m.showCloseButton),us=!1,bc=m=>{m.popup.onmousedown=()=>{m.container.onmouseup=function(_){m.container.onmouseup=()=>{},_.target===m.container&&(us=!0)}}},Cc=m=>{m.container.onmousedown=_=>{_.target===m.container&&_.preventDefault(),m.popup.onmouseup=function(E){m.popup.onmouseup=()=>{},(E.target===m.popup||E.target instanceof HTMLElement&&m.popup.contains(E.target))&&(us=!0)}}},Rs=(m,_,E)=>{_.container.onclick=G=>{if(us){us=!1;return}G.target===_.container&&Z(m.allowOutsideClick)&&E(Di.backdrop)}},mo=m=>typeof m=="object"&&m.jquery,vi=m=>m instanceof Element||mo(m),yi=m=>{let _={};return typeof m[0]=="object"&&!vi(m[0])?Object.assign(_,m[0]):["title","html","icon"].forEach((E,G)=>{let xe=m[G];typeof xe=="string"||vi(xe)?_[E]=xe:xe!==void 0&&C(`Unexpected type of ${E}! Expected "string" or "Element", got ${typeof xe}`)}),_};function js(){for(var m=arguments.length,_=new Array(m),E=0;E<m;E++)_[E]=arguments[E];return new this(..._)}function ds(m){class _ extends this{_main(G,xe){return super._main(G,Object.assign({},m,xe))}}return _}let hs=()=>o.timeout&&o.timeout.getTimerLeft(),vo=()=>{if(o.timeout)return un(),o.timeout.stop()},Wr=()=>{if(o.timeout){let m=o.timeout.start();return Ri(m),m}},On=()=>{let m=o.timeout;return m&&(m.running?vo():Wr())},ml=m=>{if(o.timeout){let _=o.timeout.increase(m);return Ri(_,!0),_}},_i=()=>!!(o.timeout&&o.timeout.isRunning()),zi=!1,Bs={};function xc(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Bs[m]=this,zi||(document.body.addEventListener("click",vl),zi=!0)}let vl=m=>{for(let _=m.target;_&&_!==document;_=_.parentNode)for(let E in Bs){let G=_.getAttribute(E);if(G){Bs[E].fire({template:G});return}}};class yo{constructor(){this.events={}}_getHandlersByEventName(_){return typeof this.events[_]>"u"&&(this.events[_]=[]),this.events[_]}on(_,E){let G=this._getHandlersByEventName(_);G.includes(E)||G.push(E)}once(_,E){var G=this;let xe=function(){G.removeListener(_,xe);for(var We=arguments.length,kt=new Array(We),qt=0;qt<We;qt++)kt[qt]=arguments[qt];E.apply(G,kt)};this.on(_,xe)}emit(_){for(var E=arguments.length,G=new Array(E>1?E-1:0),xe=1;xe<E;xe++)G[xe-1]=arguments[xe];this._getHandlersByEventName(_).forEach(We=>{try{We.apply(this,G)}catch(kt){console.error(kt)}})}removeListener(_,E){let G=this._getHandlersByEventName(_),xe=G.indexOf(E);xe>-1&&G.splice(xe,1)}removeAllListeners(_){this.events[_]!==void 0&&(this.events[_].length=0)}reset(){this.events={}}}o.eventEmitter=new yo;var pa=Object.freeze({__proto__:null,argsToParams:yi,bindClickHandler:xc,clickCancel:ku,clickConfirm:fc,clickDeny:Pu,enableLoading:Ji,fire:js,getActions:ne,getCancelButton:ye,getCloseButton:ge,getConfirmButton:re,getContainer:se,getDenyButton:S,getFocusableElements:Re,getFooter:oe,getHtmlContainer:Y,getIcon:te,getIconContent:Q,getImage:F,getInputLabel:j,getLoader:U,getPopup:L,getProgressSteps:B,getTimerLeft:hs,getTimerProgressBar:ue,getTitle:Ce,getValidationMessage:$,increaseTimer:ml,isDeprecatedParameter:oa,isLoading:qe,isTimerRunning:_i,isUpdatableParameter:sa,isValidParameter:hl,isVisible:il,mixin:ds,off:(m,_)=>{if(!m){o.eventEmitter.reset();return}_?o.eventEmitter.removeListener(m,_):o.eventEmitter.removeAllListeners(m)},on:(m,_)=>{o.eventEmitter.on(m,_)},once:(m,_)=>{o.eventEmitter.once(m,_)},resumeTimer:Wr,showLoading:Ji,stopTimer:vo,toggleTimer:On});class wo{constructor(_,E){this.callback=_,this.remaining=E,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(_){let E=this.running;return E&&this.stop(),this.remaining+=_,E&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let fs=["swal-title","swal-html","swal-footer"],yl=m=>{let _=typeof m.template=="string"?document.querySelector(m.template):m.template;if(!_)return{};let E=_.content;return _l(E),Object.assign(tr(E),nr(E),pn(E),gn(E),Fn(E),$n(E),ps(E,fs))},tr=m=>{let _={};return Array.from(m.querySelectorAll("swal-param")).forEach(G=>{ir(G,["name","value"]);let xe=G.getAttribute("name"),We=G.getAttribute("value");!xe||!We||(typeof Sn[xe]=="boolean"?_[xe]=We!=="false":typeof Sn[xe]=="object"?_[xe]=JSON.parse(We):_[xe]=We)}),_},nr=m=>{let _={};return Array.from(m.querySelectorAll("swal-function-param")).forEach(G=>{let xe=G.getAttribute("name"),We=G.getAttribute("value");!xe||!We||(_[xe]=new Function(`return ${We}`)())}),_},pn=m=>{let _={};return Array.from(m.querySelectorAll("swal-button")).forEach(G=>{ir(G,["type","color","aria-label"]);let xe=G.getAttribute("type");!xe||!["confirm","cancel","deny"].includes(xe)||(_[`${xe}ButtonText`]=G.innerHTML,_[`show${b(xe)}Button`]=!0,G.hasAttribute("color")&&(_[`${xe}ButtonColor`]=G.getAttribute("color")),G.hasAttribute("aria-label")&&(_[`${xe}ButtonAriaLabel`]=G.getAttribute("aria-label")))}),_},gn=m=>{let _={},E=m.querySelector("swal-image");return E&&(ir(E,["src","width","height","alt"]),E.hasAttribute("src")&&(_.imageUrl=E.getAttribute("src")||void 0),E.hasAttribute("width")&&(_.imageWidth=E.getAttribute("width")||void 0),E.hasAttribute("height")&&(_.imageHeight=E.getAttribute("height")||void 0),E.hasAttribute("alt")&&(_.imageAlt=E.getAttribute("alt")||void 0)),_},Fn=m=>{let _={},E=m.querySelector("swal-icon");return E&&(ir(E,["type","color"]),E.hasAttribute("type")&&(_.icon=E.getAttribute("type")),E.hasAttribute("color")&&(_.iconColor=E.getAttribute("color")),_.iconHtml=E.innerHTML),_},$n=m=>{let _={},E=m.querySelector("swal-input");E&&(ir(E,["type","label","placeholder","value"]),_.input=E.getAttribute("type")||"text",E.hasAttribute("label")&&(_.inputLabel=E.getAttribute("label")),E.hasAttribute("placeholder")&&(_.inputPlaceholder=E.getAttribute("placeholder")),E.hasAttribute("value")&&(_.inputValue=E.getAttribute("value")));let G=Array.from(m.querySelectorAll("swal-input-option"));return G.length&&(_.inputOptions={},G.forEach(xe=>{ir(xe,["value"]);let We=xe.getAttribute("value");if(!We)return;let kt=xe.innerHTML;_.inputOptions[We]=kt})),_},ps=(m,_)=>{let E={};for(let G in _){let xe=_[G],We=m.querySelector(xe);We&&(ir(We,[]),E[xe.replace(/^swal-/,"")]=We.innerHTML.trim())}return E},_l=m=>{let _=fs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(m.children).forEach(E=>{let G=E.tagName.toLowerCase();_.includes(G)||A(`Unrecognized element <${G}>`)})},ir=(m,_)=>{Array.from(m.attributes).forEach(E=>{_.indexOf(E.name)===-1&&A([`Unrecognized attribute "${E.name}" on <${m.tagName.toLowerCase()}>.`,`${_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."}`])})},wl=10,$u=m=>{let _=se(),E=L();typeof m.willOpen=="function"&&m.willOpen(E),o.eventEmitter.emit("willOpen",E);let xe=window.getComputedStyle(document.body).overflowY;Ac(_,E,m),setTimeout(()=>{qi(_,E)},wl),Fe()&&(rr(_,m.scrollbarPadding,xe),gc()),!Ue()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof m.didOpen=="function"&&setTimeout(()=>m.didOpen(E)),o.eventEmitter.emit("didOpen",E),Ve(_,d["no-transition"])},bo=m=>{let _=L();if(m.target!==_)return;let E=se();_.removeEventListener("animationend",bo),_.removeEventListener("transitionend",bo),E.style.overflowY="auto"},qi=(m,_)=>{Yt(_)?(m.style.overflowY="hidden",_.addEventListener("animationend",bo),_.addEventListener("transitionend",bo)):m.style.overflowY="auto"},rr=(m,_,E)=>{Ru(),_&&E!=="hidden"&&sl(E),setTimeout(()=>{m.scrollTop=0})},Ac=(m,_,E)=>{ke(m,E.showClass.backdrop),E.animation?(_.style.setProperty("opacity","0","important"),st(_,"grid"),setTimeout(()=>{ke(_,E.showClass.popup),_.style.removeProperty("opacity")},wl)):st(_,"grid"),ke([document.documentElement,document.body],d.shown),E.heightAuto&&E.backdrop&&!E.toast&&ke([document.documentElement,document.body],d["height-auto"])};var bl={email:(m,_)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(m)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(m,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(m)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function xh(m){m.inputValidator||(m.input==="email"&&(m.inputValidator=bl.email),m.input==="url"&&(m.inputValidator=bl.url))}function Ec(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(A('Target parameter is not valid, defaulting to "body"'),m.target="body")}function Sc(m){xh(m),m.showLoaderOnConfirm&&!m.preConfirm&&A(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ec(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),At(m)}let sr;var Cl=new WeakMap;class Dn{constructor(){if(i(this,Cl,void 0),typeof window>"u")return;sr=this;for(var _=arguments.length,E=new Array(_),G=0;G<_;G++)E[G]=arguments[G];let xe=Object.freeze(this.constructor.argsToParams(E));this.params=xe,this.isAwaitingPromise=!1,r(Cl,this,this._main(sr.params))}_main(_){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(la(Object.assign({},E,_)),o.currentInstance){let We=cs.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:kt}=o.currentInstance;o.currentInstance._destroy(),kt||We({isDismissed:!0}),Fe()&&uo()}o.currentInstance=sr;let G=Dc(_,E);Sc(G),Object.freeze(G),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let xe=Gu(sr);return hc(sr,G),Zt.innerParams.set(sr,G),Wu(sr,xe,G)}then(_){return e(Cl,this).then(_)}finally(_){return e(Cl,this).finally(_)}}let Wu=(m,_,E)=>new Promise((G,xe)=>{let We=kt=>{m.close({isDismissed:!0,dismiss:kt})};cs.swalPromiseResolve.set(m,G),cs.swalPromiseReject.set(m,xe),_.confirmButton.onclick=()=>{po(m)},_.denyButton.onclick=()=>{dl(m)},_.cancelButton.onclick=()=>{Fs(m,We)},_.closeButton.onclick=()=>{We(Di.close)},gl(E,_,We),Ko(o,E,We),ta(m,E),$u(E),ym(o,E,We),_m(_,E),setTimeout(()=>{_.container.scrollTop=0})}),Dc=(m,_)=>{let E=yl(m),G=Object.assign({},Sn,_,E,m);return G.showClass=Object.assign({},Sn.showClass,G.showClass),G.hideClass=Object.assign({},Sn.hideClass,G.hideClass),G.animation===!1&&(G.showClass={backdrop:"swal2-noanimation"},G.hideClass={}),G},Gu=m=>{let _={popup:L(),container:se(),actions:ne(),confirmButton:re(),denyButton:S(),cancelButton:ye(),loader:U(),closeButton:ge(),validationMessage:$(),progressSteps:B()};return Zt.domCache.set(m,_),_},ym=(m,_,E)=>{let G=ue();ct(G),_.timer&&(m.timeout=new wo(()=>{E("timer"),delete m.timeout},_.timer),_.timerProgressBar&&(st(G),lt(G,_,"timerProgressBar"),setTimeout(()=>{m.timeout&&m.timeout.running&&Ri(_.timer)})))},_m=(m,_)=>{if(!_.toast){if(!Z(_.allowEnterKey)){z("allowEnterKey"),bm();return}Ah(m)||wm(m,_)||Zo(-1,1)}},Ah=m=>{let _=Array.from(m.popup.querySelectorAll("[autofocus]"));for(let E of _)if(E instanceof HTMLElement&&ft(E))return E.focus(),!0;return!1},wm=(m,_)=>_.focusDeny&&ft(m.denyButton)?(m.denyButton.focus(),!0):_.focusCancel&&ft(m.cancelButton)?(m.cancelButton.focus(),!0):_.focusConfirm&&ft(m.confirmButton)?(m.confirmButton.focus(),!0):!1,bm=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let m=new Date,_=localStorage.getItem("swal-initiation");_?(m.getTime()-Date.parse(_))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let E=document.createElement("audio");E.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",E.loop=!0,document.body.appendChild(E),setTimeout(()=>{E.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${m}`)}Dn.prototype.disableButtons=zt,Dn.prototype.enableButtons=xt,Dn.prototype.getInput=Ye,Dn.prototype.disableInput=En,Dn.prototype.enableInput=xn,Dn.prototype.hideLoading=Se,Dn.prototype.disableLoading=Se,Dn.prototype.showValidationMessage=Ln,Dn.prototype.resetValidationMessage=li,Dn.prototype.close=xr,Dn.prototype.closePopup=xr,Dn.prototype.closeModal=xr,Dn.prototype.closeToast=xr,Dn.prototype.rejectPromise=Ar,Dn.prototype.update=Qn,Dn.prototype._destroy=go,Object.assign(Dn,pa),Object.keys(qu).forEach(m=>{Dn[m]=function(){return sr&&sr[m]?sr[m](...arguments):null}}),Dn.DismissReason=Di,Dn.version="11.15.10";let Ic=Dn;return Ic.default=Ic,Ic});typeof ro<"u"&&ro.Sweetalert2&&(ro.swal=ro.sweetAlert=ro.Swal=ro.SweetAlert=ro.Sweetalert2);typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function kw(n,t){return Object.is(n,t)}var ci=null,jh=!1,Bh=1,Eo=Symbol("SIGNAL");function en(n){let t=ci;return ci=n,t}function Lw(){return ci}var nd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Om(n){if(jh)throw new Error("");if(ci===null)return;ci.consumerOnSignalRead(n);let t=ci.nextProducerIndex++;if(zh(ci),t<ci.producerNode.length&&ci.producerNode[t]!==n&&td(ci)){let e=ci.producerNode[t];Uh(e,ci.producerIndexOfThis[t])}ci.producerNode[t]!==n&&(ci.producerNode[t]=n,ci.producerIndexOfThis[t]=td(ci)?jw(n,ci,t):0),ci.producerLastReadVersion[t]=n.version}function RS(){Bh++}function Ow(n){if(!(td(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Bh)){if(!n.producerMustRecompute(n)&&!Rm(n)){n.dirty=!1,n.lastCleanEpoch=Bh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Bh}}function Fw(n){if(n.liveConsumerNode===void 0)return;let t=jh;jh=!0;try{for(let e of n.liveConsumerNode)e.dirty||jS(e)}finally{jh=t}}function Rw(){return ci?.consumerAllowSignalWrites!==!1}function jS(n){n.dirty=!0,Fw(n),n.consumerMarkedDirty?.(n)}function Hh(n){return n&&(n.nextProducerIndex=0),en(n)}function Fm(n,t){if(en(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(td(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Uh(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rm(n){zh(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Ow(e),i!==e.version))return!0}return!1}function jm(n){if(zh(n),td(n))for(let t=0;t<n.producerNode.length;t++)Uh(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function jw(n,t,e){if(Bw(n),n.liveConsumerNode.length===0&&Vw(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=jw(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Uh(n,t){if(Bw(n),n.liveConsumerNode.length===1&&Vw(n))for(let i=0;i<n.producerNode.length;i++)Uh(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];zh(r),r.producerIndexOfThis[i]=t}}function td(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function zh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Bw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Vw(n){return n.producerNode!==void 0}function Hw(n){let t=Object.create(BS);t.computation=n;let e=()=>{if(Ow(t),Om(t),t.value===Vh)throw t.error;return t.value};return e[Eo]=t,e}var km=Symbol("UNSET"),Lm=Symbol("COMPUTING"),Vh=Symbol("ERRORED"),BS=Jt(yt({},nd),{value:km,dirty:!0,error:null,equal:kw,producerMustRecompute(n){return n.value===km||n.value===Lm},producerRecomputeValue(n){if(n.value===Lm)throw new Error("Detected cycle in computations.");let t=n.value;n.value=Lm;let e=Hh(n),i;try{i=n.computation()}catch(r){i=Vh,n.error=r}finally{Fm(n,e)}if(t!==km&&t!==Vh&&i!==Vh&&n.equal(t,i)){n.value=t;return}n.value=i,n.version++}});function VS(){throw new Error}var Uw=VS;function zw(){Uw()}function qw(n){Uw=n}var HS=null;function $w(n){let t=Object.create(Gw);t.value=n;let e=()=>(Om(t),t.value);return e[Eo]=t,e}function Bm(n,t){Rw()||zw(),n.equal(n.value,t)||(n.value=t,US(n))}function Ww(n,t){Rw()||zw(),Bm(n,t(n.value))}var Gw=Jt(yt({},nd),{equal:kw,value:void 0});function US(n){n.version++,RS(),Fw(n),HS?.()}function Wt(n){return typeof n=="function"}function qh(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var $h=qh(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function id(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Wi=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Wt(i))try{i()}catch(s){t=s instanceof $h?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Yw(s)}catch(o){t=t??[],o instanceof $h?t=[...t,...o.errors]:t.push(o)}}if(t)throw new $h(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Yw(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&id(e,t)}remove(t){let{_finalizers:e}=this;e&&id(e,t),t instanceof n&&t._removeParent(this)}};Wi.EMPTY=(()=>{let n=new Wi;return n.closed=!0,n})();var Vm=Wi.EMPTY;function Wh(n){return n instanceof Wi||n&&"closed"in n&&Wt(n.remove)&&Wt(n.add)&&Wt(n.unsubscribe)}function Yw(n){Wt(n)?n():n.unsubscribe()}var vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kc={setTimeout(n,t,...e){let{delegate:i}=kc;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=kc;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Gh(n){kc.setTimeout(()=>{let{onUnhandledError:t}=vs;if(t)t(n);else throw n})}function Hm(){}var Xw=Um("C",void 0,void 0);function Kw(n){return Um("E",void 0,n)}function Zw(n){return Um("N",n,void 0)}function Um(n,t,e){return{kind:n,value:t,error:e}}var El=null;function Lc(n){if(vs.useDeprecatedSynchronousErrorHandling){let t=!El;if(t&&(El={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=El;if(El=null,e)throw i}}else n()}function Qw(n){vs.useDeprecatedSynchronousErrorHandling&&El&&(El.errorThrown=!0,El.error=n)}var Sl=class extends Wi{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wh(t)&&t.add(this)):this.destination=$S}static create(t,e,i){return new Oc(t,e,i)}next(t){this.isStopped?qm(Zw(t),this):this._next(t)}error(t){this.isStopped?qm(Kw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qm(Xw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zS=Function.prototype.bind;function zm(n,t){return zS.call(n,t)}var $m=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Yh(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Yh(i)}else Yh(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Yh(e)}}},Oc=class extends Sl{constructor(t,e,i){super();let r;if(Wt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&vs.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&zm(t.next,s),error:t.error&&zm(t.error,s),complete:t.complete&&zm(t.complete,s)}):r=t}this.destination=new $m(r)}};function Yh(n){vs.useDeprecatedSynchronousErrorHandling?Qw(n):Gh(n)}function qS(n){throw n}function qm(n,t){let{onStoppedNotification:e}=vs;e&&kc.setTimeout(()=>e(n,t))}var $S={closed:!0,next:Hm,error:qS,complete:Hm};var Fc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jw(n){return n}function eb(n){return n.length===0?Jw:n.length===1?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}var Hn=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){let s=GS(e)?e:new Oc(e,i,r);return Lc(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=tb(i),new i((r,s)=>{let o=new Oc({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Fc](){return this}pipe(...e){return eb(e)(this)}toPromise(e){return e=tb(e),new e((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function tb(n){var t;return(t=n??vs.Promise)!==null&&t!==void 0?t:Promise}function WS(n){return n&&Wt(n.next)&&Wt(n.error)&&Wt(n.complete)}function GS(n){return n&&n instanceof Sl||WS(n)&&Wh(n)}function YS(n){return Wt(n?.lift)}function lr(n){return t=>{if(YS(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function cr(n,t,e,i,r){return new Wm(n,t,e,i,r)}var Wm=class extends Sl{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var nb=qh(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Hs=(()=>{class n extends Hn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new Xh(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new nb}next(e){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Lc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Vm:(this.currentObservers=null,s.push(e),new Wi(()=>{this.currentObservers=null,id(s,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){let e=new Hn;return e.source=this,e}}return n.create=(t,e)=>new Xh(t,e),n})(),Xh=class extends Hs{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:Vm}};var rd=class extends Hs{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};function ib(n){return n&&Wt(n.schedule)}function rb(n){return n[n.length-1]}function sb(n){return Wt(rb(n))?n.pop():void 0}function ob(n){return ib(rb(n))?n.pop():void 0}function lb(n,t,e,i){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function ab(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dl(n){return this instanceof Dl?(this.v=n,this):new Dl(n)}function cb(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(w){return Promise.resolve(w).then(f,d)}}function a(f,w){i[f]&&(r[f]=function(b){return new Promise(function(A,C){s.push([f,b,A,C])>1||l(f,b)})},w&&(r[f]=w(r[f])))}function l(f,w){try{c(i[f](w))}catch(b){g(s[0][3],b)}}function c(f){f.value instanceof Dl?Promise.resolve(f.value.v).then(u,d):g(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function g(f,w){f(w),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ub(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof ab=="function"?ab(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Kh=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zh(n){return Wt(n?.then)}function Qh(n){return Wt(n[Fc])}function Jh(n){return Symbol.asyncIterator&&Wt(n?.[Symbol.asyncIterator])}function ef(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tf=XS();function nf(n){return Wt(n?.[tf])}function rf(n){return cb(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:r}=yield Dl(e.read());if(r)return yield Dl(void 0);yield yield Dl(i)}}finally{e.releaseLock()}})}function sf(n){return Wt(n?.getReader)}function ur(n){if(n instanceof Hn)return n;if(n!=null){if(Qh(n))return KS(n);if(Kh(n))return ZS(n);if(Zh(n))return QS(n);if(Jh(n))return db(n);if(nf(n))return JS(n);if(sf(n))return eD(n)}throw ef(n)}function KS(n){return new Hn(t=>{let e=n[Fc]();if(Wt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZS(n){return new Hn(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function QS(n){return new Hn(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Gh)})}function JS(n){return new Hn(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function db(n){return new Hn(t=>{tD(n,t).catch(e=>t.error(e))})}function eD(n){return db(rf(n))}function tD(n,t){var e,i,r,s;return lb(this,void 0,void 0,function*(){try{for(e=ub(n);i=yield e.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})}function Xr(n,t,e,i=0,r=!1){let s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function of(n,t=0){return lr((e,i)=>{e.subscribe(cr(i,r=>Xr(i,n,()=>i.next(r),t),()=>Xr(i,n,()=>i.complete(),t),r=>Xr(i,n,()=>i.error(r),t)))})}function af(n,t=0){return lr((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function hb(n,t){return ur(n).pipe(af(t),of(t))}function fb(n,t){return ur(n).pipe(af(t),of(t))}function pb(n,t){return new Hn(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function gb(n,t){return new Hn(e=>{let i;return Xr(e,t,()=>{i=n[tf](),Xr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){e.error(o);return}s?e.complete():e.next(r)},0,!0)}),()=>Wt(i?.return)&&i.return()})}function lf(n,t){if(!n)throw new Error("Iterable cannot be null");return new Hn(e=>{Xr(e,t,()=>{let i=n[Symbol.asyncIterator]();Xr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function mb(n,t){return lf(rf(n),t)}function vb(n,t){if(n!=null){if(Qh(n))return hb(n,t);if(Kh(n))return pb(n,t);if(Zh(n))return fb(n,t);if(Jh(n))return lf(n,t);if(nf(n))return gb(n,t);if(sf(n))return mb(n,t)}throw ef(n)}function Kr(n,t){return t?vb(n,t):ur(n)}function cf(...n){let t=ob(n);return Kr(n,t)}function dr(n,t){return lr((e,i)=>{let r=0;e.subscribe(cr(i,s=>{i.next(n.call(t,s,r++))}))})}var{isArray:nD}=Array;function iD(n,t){return nD(t)?n(...t):n(t)}function yb(n){return dr(t=>iD(n,t))}var{isArray:rD}=Array,{getPrototypeOf:sD,prototype:oD,keys:aD}=Object;function _b(n){if(n.length===1){let t=n[0];if(rD(t))return{args:t,keys:null};if(lD(t)){let e=aD(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function lD(n){return n&&typeof n=="object"&&sD(n)===oD}function wb(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function bb(n,t,e,i,r,s,o,a){let l=[],c=0,u=0,d=!1,g=()=>{d&&!l.length&&!c&&t.complete()},f=b=>c<i?w(b):l.push(b),w=b=>{s&&t.next(b),c++;let A=!1;ur(e(b,u++)).subscribe(cr(t,C=>{r?.(C),s?f(C):t.next(C)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<i;){let C=l.shift();o?Xr(t,o,()=>w(C)):w(C)}g()}catch(C){t.error(C)}}))};return n.subscribe(cr(t,f,()=>{d=!0,g()})),()=>{a?.()}}function uf(n,t,e=1/0){return Wt(t)?uf((i,r)=>dr((s,o)=>t(i,s,r,o))(ur(n(i,r))),e):(typeof t=="number"&&(e=t),lr((i,r)=>bb(i,r,n,e)))}function Gm(...n){let t=sb(n),{args:e,keys:i}=_b(n),r=new Hn(s=>{let{length:o}=e;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;ur(e[u]).subscribe(cr(s,g=>{d||(d=!0,c--),a[u]=g},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?wb(i,a):a),s.complete())}))}});return t?r.pipe(yb(t)):r}function Ym(n,t){return lr((e,i)=>{let r=0;e.subscribe(cr(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Xm(n,t){return Wt(t)?uf(n,t,1):uf(n,1)}function Km(n){return lr((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Zm(n,t){return lr((e,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();e.subscribe(cr(i,l=>{r?.unsubscribe();let c=0,u=s++;ur(n(l,u)).subscribe(r=cr(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}var cD="https://g.co/ng/security#xss",Xe=class extends Error{constructor(t,e){super(zf(t,e)),this.code=t}};function zf(n,t){return`${`NG0${Math.abs(n)}`}${t?": "+t:""}`}function vd(n){return{toString:n}.toString()}var df="__parameters__";function uD(n){return function(...e){if(n){let i=n(...e);for(let r in i)this[r]=i[r]}}}function c2(n,t,e){return vd(()=>{let i=uD(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(df)?l[df]:Object.defineProperty(l,df,{value:[]})[df];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var sd=globalThis;function Mn(n){for(let t in n)if(n[t]===Mn)return t;throw Error("Could not find renamed property on target object.")}function dD(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Tr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let t=n.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Cb(n,t){return n==null||n===""?t===null?"":t:t==null||t===""?n:n+" "+t}var hD=Mn({__forward_ref__:Mn});function Ta(n){return n.__forward_ref__=Ta,n.toString=function(){return Tr(this())},n}function Gi(n){return u2(n)?n():n}function u2(n){return typeof n=="function"&&n.hasOwnProperty(hD)&&n.__forward_ref__===Ta}function Ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Na(n){return{providers:n.providers||[],imports:n.imports||[]}}function lv(n){return xb(n,d2)||xb(n,h2)}function xb(n,t){return n.hasOwnProperty(t)?n[t]:null}function fD(n){let t=n&&(n[d2]||n[h2]);return t||null}function Ab(n){return n&&(n.hasOwnProperty(Eb)||n.hasOwnProperty(pD))?n[Eb]:null}var d2=Mn({\u0275prov:Mn}),Eb=Mn({\u0275inj:Mn}),h2=Mn({ngInjectableDef:Mn}),pD=Mn({ngInjectorDef:Mn}),It=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Ot({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function f2(n){return n&&!!n.\u0275providers}var gD=Mn({\u0275cmp:Mn}),mD=Mn({\u0275dir:Mn}),vD=Mn({\u0275pipe:Mn});var bf=Mn({\u0275fac:Mn}),ld=Mn({__NG_ELEMENT_ID__:Mn}),Sb=Mn({__NG_ENV_ID__:Mn});function Mr(n){return typeof n=="string"?n:n==null?"":String(n)}function yD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Mr(n)}function _D(n,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Xe(-200,n)}function cv(n,t){throw new Xe(-201,!1)}var Gt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Gt||{}),h0;function p2(){return h0}function Zr(n){let t=h0;return h0=n,t}function g2(n,t,e){let i=lv(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&Gt.Optional)return null;if(t!==void 0)return t;cv(n,"Injector")}var wD={},cd=wD,f0="__NG_DI_FLAG__",Cf="ngTempTokenPath",bD="ngTokenPath",CD=/\n/gm,xD="\u0275",Db="__source",Vc;function AD(){return Vc}function xa(n){let t=Vc;return Vc=n,t}function ED(n,t=Gt.Default){if(Vc===void 0)throw new Xe(-203,!1);return Vc===null?g2(n,void 0,t):Vc.get(n,t&Gt.Optional?null:void 0,t)}function Nt(n,t=Gt.Default){return(p2()||ED)(Gi(n),t)}function Mt(n,t=Gt.Default){return Nt(n,qf(t))}function qf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function p0(n){let t=[];for(let e=0;e<n.length;e++){let i=Gi(n[e]);if(Array.isArray(i)){if(i.length===0)throw new Xe(900,!1);let r,s=Gt.Default;for(let o=0;o<i.length;o++){let a=i[o],l=SD(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(Nt(r,s))}else t.push(Nt(i))}return t}function m2(n,t){return n[f0]=t,n.prototype[f0]=t,n}function SD(n){return n[f0]}function DD(n,t,e,i){let r=n[Cf];throw t[Db]&&r.unshift(t[Db]),n.message=ID(`
`+n.message,r,e,i),n[bD]=r,n[Cf]=null,n}function ID(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==xD?n.slice(2):n;let r=Tr(t);if(Array.isArray(t))r=t.map(Tr).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Tr(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(CD,`
  `)}`}var uv=m2(c2("Optional"),8);var v2=m2(c2("SkipSelf"),4);function Uc(n,t){let e=n.hasOwnProperty(bf);return e?n[bf]:null}function MD(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}function TD(n){return n.flat(Number.POSITIVE_INFINITY)}function dv(n,t){n.forEach(e=>Array.isArray(e)?dv(e,t):t(e))}function y2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function xf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ND(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(r===1)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;){let s=r-2;n[r]=n[s],r--}n[t]=e,n[t+1]=i}}function PD(n,t,e){let i=yd(n,t);return i>=0?n[i|1]=e:(i=~i,ND(n,i,t,e)),i}function Qm(n,t){let e=yd(n,t);if(e>=0)return n[e|1]}function yd(n,t){return kD(n,t,1)}function kD(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}var zc={},Qr=[],ud=new It(""),_2=new It("",-1),w2=new It(""),Af=class{get(t,e=cd){if(e===cd){let i=new Error(`NullInjectorError: No provider for ${Tr(t)}!`);throw i.name="NullInjectorError",i}return e}},b2=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(b2||{}),qs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qs||{}),Sa=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Sa||{});function LD(n,t,e){let i=n.length;for(;;){let r=n.indexOf(t,e);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function g0(n,t,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{let s=r,o=e[++i];FD(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function OD(n){return n===3||n===4||n===6}function FD(n){return n.charCodeAt(0)===64}function dd(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?Ib(n,e,r,null,t[++i]):Ib(n,e,r,null,null))}}return n}function Ib(n,t,e,i,r){let s=0,o=n.length;if(t===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var C2="ng-template";function RD(n,t,e,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&LD(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(hv(n))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===e)return!0}return!1}function hv(n){return n.type===4&&n.value!==C2}function jD(n,t,e){let i=n.type===4&&!e?C2:n.value;return t===i}function BD(n,t,e){let i=4,r=n.attrs,s=r!==null?UD(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!ys(i)&&!ys(l))return!1;if(o&&ys(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!jD(n,l,e)||l===""&&t.length===1){if(ys(i))return!1;o=!0}}else if(i&8){if(r===null||!RD(n,r,l,e)){if(ys(i))return!1;o=!0}}else{let c=t[++a],u=VD(l,r,hv(n),e);if(u===-1){if(ys(i))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(ys(i))return!1;o=!0}}}}return ys(i)||o}function ys(n){return(n&1)===0}function VD(n,t,e,i){if(t===null)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){let o=t[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return zD(t,n)}function HD(n,t,e=!1){for(let i=0;i<t.length;i++)if(BD(n,t[i],e))return!0;return!1}function UD(n){for(let t=0;t<n.length;t++){let e=n[t];if(OD(e))return t}return n.length}function zD(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function Mb(n,t){return n?":not("+t.trim()+")":t}function qD(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if(typeof o=="string")if(i&2){let a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ys(o)&&(t+=Mb(s,r),r=""),i=o,s=s||!ys(i);e++}return r!==""&&(t+=Mb(s,r)),t}function $D(n){return n.map(qD).join(",")}function WD(n){let t=[],e=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&t.push(s,n[++i]):r===8&&e.push(s);else{if(!ys(r))break;r=s}i++}return{attrs:t,classes:e}}function $f(n){return vd(()=>{let t=S2(n),e=Jt(yt({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===b2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qs.Emulated,styles:n.styles||Qr,_:null,schemas:n.schemas||null,tView:null,id:""});D2(e);let i=n.dependencies;return e.directiveDefs=Nb(i,!1),e.pipeDefs=Nb(i,!0),e.id=KD(e),e})}function GD(n){return qc(n)||A2(n)}function YD(n){return n!==null}function Pa(n){return vd(()=>({type:n.type,bootstrap:n.bootstrap||Qr,declarations:n.declarations||Qr,imports:n.imports||Qr,exports:n.exports||Qr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tb(n,t){if(n==null)return zc;let e={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Sa.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(e[s]=a!==Sa.None?[i,a]:i,t[s]=o):e[s]=i}return e}function Ci(n){return vd(()=>{let t=S2(n);return D2(t),t})}function x2(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function qc(n){return n[gD]||null}function A2(n){return n[mD]||null}function E2(n){return n[vD]||null}function XD(n){let t=qc(n)||A2(n)||E2(n);return t!==null?t.standalone:!1}function S2(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||zc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Qr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tb(n.inputs,t),outputs:Tb(n.outputs),debugInfo:null}}function D2(n){n.features?.forEach(t=>t(n))}function Nb(n,t){if(!n)return null;let e=t?E2:GD;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(YD)}function KD(n){let t=0,e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function fv(n){return{\u0275providers:n}}function ZD(...n){return{\u0275providers:I2(!0,n),\u0275fromNgModule:!0}}function I2(n,...t){let e=[],i=new Set,r,s=o=>{e.push(o)};return dv(t,o=>{let a=o;m0(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&M2(r,s),e}function M2(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:r}=n[e];pv(r,s=>{t(s,i)})}}function m0(n,t,e,i){if(n=Gi(n),!n)return!1;let r=null,s=Ab(n),o=!s&&qc(n);if(!s&&!o){let l=n.ngModule;if(s=Ab(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)m0(c,t,e,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{dv(s.imports,u=>{m0(u,t,e,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&M2(c,t)}if(!a){let c=Uc(r)||(()=>new r);t({provide:r,useFactory:c,deps:Qr},r),t({provide:w2,useValue:r,multi:!0},r),t({provide:ud,useValue:()=>Nt(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;pv(l,u=>{t(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function pv(n,t){for(let e of n)f2(e)&&(e=e.\u0275providers),Array.isArray(e)?pv(e,t):t(e)}var QD=Mn({provide:String,useValue:Mn});function T2(n){return n!==null&&typeof n=="object"&&QD in n}function JD(n){return!!(n&&n.useExisting)}function eI(n){return!!(n&&n.useFactory)}function $c(n){return typeof n=="function"}function tI(n){return!!n.useClass}var Wf=new It(""),gf={},nI={},Jm;function gv(){return Jm===void 0&&(Jm=new Af),Jm}var $s=class{},hd=class extends $s{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y0(t,o=>this.processProvider(o)),this.records.set(_2,Rc(void 0,this)),r.has("environment")&&this.records.set($s,Rc(void 0,this));let s=this.records.get(Wf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(w2,Qr,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=en(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),en(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=xa(this),i=Zr(void 0),r;try{return t()}finally{xa(e),Zr(i)}}get(t,e=cd,i=Gt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Sb))return t[Sb](this);i=qf(i);let r,s=xa(this),o=Zr(void 0);try{if(!(i&Gt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=aI(t)&&lv(t);c&&this.injectableDefInScope(c)?l=Rc(v0(t),gf):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Gt.Self?gv():this.parent;return e=i&Gt.Optional&&e===cd?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Cf]=a[Cf]||[]).unshift(Tr(t)),s)throw a;return DD(a,t,"R3InjectorError",this.source)}else throw a}finally{Zr(o),xa(s)}}resolveInjectorInitializers(){let t=en(null),e=xa(this),i=Zr(void 0),r;try{let s=this.get(ud,Qr,Gt.Self);for(let o of s)o()}finally{xa(e),Zr(i),en(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(Tr(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){t=Gi(t);let e=$c(t)?t:Gi(t&&t.provide),i=rI(t);if(!$c(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Rc(void 0,gf,!0),r.factory=()=>p0(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){let i=en(null);try{return e.value===gf&&(e.value=nI,e.value=e.factory()),typeof e.value=="object"&&e.value&&oI(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{en(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Gi(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function v0(n){let t=lv(n),e=t!==null?t.factory:Uc(n);if(e!==null)return e;if(n instanceof It)throw new Xe(204,!1);if(n instanceof Function)return iI(n);throw new Xe(204,!1)}function iI(n){if(n.length>0)throw new Xe(204,!1);let e=fD(n);return e!==null?()=>e.factory(n):()=>new n}function rI(n){if(T2(n))return Rc(void 0,n.useValue);{let t=N2(n);return Rc(t,gf)}}function N2(n,t,e){let i;if($c(n)){let r=Gi(n);return Uc(r)||v0(r)}else if(T2(n))i=()=>Gi(n.useValue);else if(eI(n))i=()=>n.useFactory(...p0(n.deps||[]));else if(JD(n))i=()=>Nt(Gi(n.useExisting));else{let r=Gi(n&&(n.useClass||n.provide));if(sI(n))i=()=>new r(...p0(n.deps));else return Uc(r)||v0(r)}return i}function Rc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sI(n){return!!n.deps}function oI(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function aI(n){return typeof n=="function"||typeof n=="object"&&n instanceof It}function y0(n,t){for(let e of n)Array.isArray(e)?y0(e,t):e&&f2(e)?y0(e.\u0275providers,t):t(e)}function P2(n,t){n instanceof hd&&n.assertNotDestroyed();let e,i=xa(n),r=Zr(void 0);try{return t()}finally{xa(i),Zr(r)}}function lI(){return p2()!==void 0||AD()!=null}function cI(n){return typeof n=="function"}var To=0,jt=1,St=2,Ii=3,_s=4,bs=5,Ef=6,Sf=7,ws=8,Wc=9,So=10,ti=11,fd=12,Pb=13,Jc=14,Ws=15,Tl=16,jc=17,Do=18,Gf=19,k2=20,Aa=21,e0=22,Jr=23,Gs=25,L2=1;var Nl=7,Df=8,Gc=9,Nr=10,If=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(If||{});function Ea(n){return Array.isArray(n)&&typeof n[L2]=="object"}function No(n){return Array.isArray(n)&&n[L2]===!0}function mv(n){return(n.flags&4)!==0}function Yf(n){return n.componentOffset>-1}function Xf(n){return(n.flags&1)===1}function Da(n){return!!n.template}function _0(n){return(n[St]&512)!==0}var w0=class{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function O2(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}function _d(){return F2}function F2(n){return n.type.prototype.ngOnChanges&&(n.setInput=dI),uI}_d.ngInherit=!0;function uI(){let n=j2(this),t=n?.current;if(t){let e=n.previous;if(e===zc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function dI(n,t,e,i,r){let s=this.declaredInputs[i],o=j2(n)||hI(n,{previous:zc,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new w0(c&&c.currentValue,e,l===zc),O2(n,t,r,e)}var R2="__ngSimpleChanges__";function j2(n){return n[R2]||null}function hI(n,t){return n[R2]=t}var kb=null;var Us=function(n,t,e){kb?.(n,t,e)},fI="svg",pI="math";function Ys(n){for(;Array.isArray(n);)n=n[To];return n}function B2(n,t){return Ys(t[n])}function es(n,t){return Ys(t[n.index])}function V2(n,t){return n.data[t]}function gI(n,t){return n[t]}function ka(n,t){let e=t[n];return Ea(e)?e:e[To]}function mI(n){return(n[St]&4)===4}function vv(n){return(n[St]&128)===128}function vI(n){return No(n[Ii])}function Yc(n,t){return t==null?null:n[t]}function H2(n){n[jc]=0}function U2(n){n[St]&1024||(n[St]|=1024,vv(n)&&Zf(n))}function yI(n,t){for(;n>0;)t=t[Jc],n--;return t}function Kf(n){return!!(n[St]&9216||n[Jr]?.dirty)}function b0(n){n[So].changeDetectionScheduler?.notify(8),n[St]&64&&(n[St]|=1024),Kf(n)&&Zf(n)}function Zf(n){n[So].changeDetectionScheduler?.notify(0);let t=Pl(n);for(;t!==null&&!(t[St]&8192||(t[St]|=8192,!vv(t)));)t=Pl(t)}function z2(n,t){if((n[St]&256)===256)throw new Xe(911,!1);n[Aa]===null&&(n[Aa]=[]),n[Aa].push(t)}function _I(n,t){if(n[Aa]===null)return;let e=n[Aa].indexOf(t);e!==-1&&n[Aa].splice(e,1)}function Pl(n){let t=n[Ii];return No(t)?t[Ii]:t}var Bt={lFrame:J2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var q2=!1;function wI(){return Bt.lFrame.elementDepthCount}function bI(){Bt.lFrame.elementDepthCount++}function CI(){Bt.lFrame.elementDepthCount--}function $2(){return Bt.bindingsEnabled}function xI(){return Bt.skipHydrationRootTNode!==null}function AI(n){return Bt.skipHydrationRootTNode===n}function EI(){Bt.skipHydrationRootTNode=null}function tn(){return Bt.lFrame.lView}function xi(){return Bt.lFrame.tView}function Ne(n){return Bt.lFrame.contextLView=n,n[ws]}function Pe(n){return Bt.lFrame.contextLView=null,n}function Yi(){let n=W2();for(;n!==null&&n.type===64;)n=n.parent;return n}function W2(){return Bt.lFrame.currentTNode}function SI(){let n=Bt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Bl(n,t){let e=Bt.lFrame;e.currentTNode=n,e.isParent=t}function yv(){return Bt.lFrame.isParent}function G2(){Bt.lFrame.isParent=!1}function DI(){return Bt.lFrame.contextLView}function Y2(){return q2}function Lb(n){q2=n}function X2(){let n=Bt.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function _v(){return Bt.lFrame.bindingIndex}function II(n){return Bt.lFrame.bindingIndex=n}function Qf(){return Bt.lFrame.bindingIndex++}function Jf(n){let t=Bt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function MI(){return Bt.lFrame.inI18n}function TI(n,t){let e=Bt.lFrame;e.bindingIndex=e.bindingRootIndex=n,C0(t)}function NI(){return Bt.lFrame.currentDirectiveIndex}function C0(n){Bt.lFrame.currentDirectiveIndex=n}function PI(n){let t=Bt.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function K2(){return Bt.lFrame.currentQueryIndex}function wv(n){Bt.lFrame.currentQueryIndex=n}function kI(n){let t=n[jt];return t.type===2?t.declTNode:t.type===1?n[bs]:null}function Z2(n,t,e){if(e&Gt.SkipSelf){let r=t,s=n;for(;r=r.parent,r===null&&!(e&Gt.Host);)if(r=kI(s),r===null||(s=s[Jc],r.type&10))break;if(r===null)return!1;t=r,n=s}let i=Bt.lFrame=Q2();return i.currentTNode=t,i.lView=n,!0}function bv(n){let t=Q2(),e=n[jt];Bt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Q2(){let n=Bt.lFrame,t=n===null?null:n.child;return t===null?J2(n):t}function J2(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function eC(){let n=Bt.lFrame;return Bt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var tC=eC;function Cv(){let n=eC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function LI(n){return(Bt.lFrame.contextLView=yI(n,Bt.lFrame.contextLView))[ws]}function Po(){return Bt.lFrame.selectedIndex}function kl(n){Bt.lFrame.selectedIndex=n}function xv(){let n=Bt.lFrame;return V2(n.tView,n.selectedIndex)}function OI(){return Bt.lFrame.currentNamespace}var nC=!0;function ep(){return nC}function tp(n){nC=n}function FI(n,t,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let o=F2(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}function np(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),u!=null&&(n.destroyHooks??=[]).push(e,u)}}function mf(n,t,e){iC(n,t,3,e)}function vf(n,t,e,i){(n[St]&3)===e&&iC(n,t,e,i)}function t0(n,t){let e=n[St];(e&3)===t&&(e&=16383,e+=1,n[St]=e)}function iC(n,t,e,i){let r=i!==void 0?n[jc]&65535:0,s=i??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(n[jc]+=65536),(a<s||s==-1)&&(RI(n,e,t,l),n[jc]=(n[jc]&4294901760)+l+2),l++}function Ob(n,t){Us(4,n,t);let e=en(null);try{t.call(n)}finally{en(e),Us(5,n,t)}}function RI(n,t,e,i){let r=e[i]<0,s=e[i+1],o=r?-e[i]:e[i],a=n[o];r?n[St]>>14<n[jc]>>16&&(n[St]&3)===t&&(n[St]+=16384,Ob(a,s)):Ob(a,s)}var Hc=-1,Ll=class{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function jI(n){return n instanceof Ll}function BI(n){return(n.flags&8)!==0}function VI(n){return(n.flags&16)!==0}var n0={},x0=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=qf(i);let r=this.injector.get(t,n0,i);return r!==n0||e===n0?r:this.parentInjector.get(t,e,i)}};function rC(n){return n!==Hc}function Mf(n){return n&32767}function HI(n){return n>>16}function Tf(n,t){let e=HI(n),i=t;for(;e>0;)i=i[Jc],e--;return i}var A0=!0;function Fb(n){let t=A0;return A0=n,t}var UI=256,sC=UI-1,oC=5,zI=0,zs={};function qI(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(ld)&&(i=e[ld]),i==null&&(i=e[ld]=zI++);let r=i&sC,s=1<<r;t.data[n+(r>>oC)]|=s}function Nf(n,t){let e=aC(n,t);if(e!==-1)return e;let i=t[jt];i.firstCreatePass&&(n.injectorIndex=t.length,i0(i.data,n),i0(t,null),i0(i.blueprint,null));let r=Av(n,t),s=n.injectorIndex;if(rC(r)){let o=Mf(r),a=Tf(r,t),l=a[jt].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function i0(n,t){n.push(0,0,0,0,0,0,0,0,t)}function aC(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Av(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;r!==null;){if(i=hC(r),i===null)return Hc;if(e++,r=r[Jc],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Hc}function E0(n,t,e){qI(n,t,e)}function lC(n,t,e){if(e&Gt.Optional||n!==void 0)return n;cv(t,"NodeInjector")}function cC(n,t,e,i){if(e&Gt.Optional&&i===void 0&&(i=null),!(e&(Gt.Self|Gt.Host))){let r=n[Wc],s=Zr(void 0);try{return r?r.get(t,i,e&Gt.Optional):g2(t,i,e&Gt.Optional)}finally{Zr(s)}}return lC(i,t,e)}function uC(n,t,e,i=Gt.Default,r){if(n!==null){if(t[St]&2048&&!(i&Gt.Self)){let o=YI(n,t,e,i,zs);if(o!==zs)return o}let s=dC(n,t,e,i,zs);if(s!==zs)return s}return cC(t,e,i,r)}function dC(n,t,e,i,r){let s=WI(e);if(typeof s=="function"){if(!Z2(t,n,i))return i&Gt.Host?lC(r,e,i):cC(t,e,i,r);try{let o;if(o=s(i),o==null&&!(i&Gt.Optional))cv(e);else return o}finally{tC()}}else if(typeof s=="number"){let o=null,a=aC(n,t),l=Hc,c=i&Gt.Host?t[Ws][bs]:null;for((a===-1||i&Gt.SkipSelf)&&(l=a===-1?Av(n,t):t[a+8],l===Hc||!jb(i,!1)?a=-1:(o=t[jt],a=Mf(l),t=Tf(l,t)));a!==-1;){let u=t[jt];if(Rb(s,a,u.data)){let d=$I(a,t,e,o,i,c);if(d!==zs)return d}l=t[a+8],l!==Hc&&jb(i,t[jt].data[a+8]===c)&&Rb(s,a,t)?(o=u,a=Mf(l),t=Tf(l,t)):a=-1}}return r}function $I(n,t,e,i,r,s){let o=t[jt],a=o.data[n+8],l=i==null?Yf(a)&&A0:i!=o&&(a.type&3)!==0,c=r&Gt.Host&&s===a,u=yf(a,o,e,l,c);return u!==null?Ol(t,o,u,a):zs}function yf(n,t,e,i,r){let s=n.providerIndexes,o=t.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,d=i?a:a+u,g=r?a+u:c;for(let f=d;f<g;f++){let w=o[f];if(f<l&&e===w||f>=l&&w.type===e)return f}if(r){let f=o[l];if(f&&Da(f)&&f.type===e)return l}return null}function Ol(n,t,e,i){let r=n[e],s=t.data;if(jI(r)){let o=r;o.resolving&&_D(yD(s[e]));let a=Fb(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Zr(o.injectImpl):null,u=Z2(n,i,Gt.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&FI(e,s[e],t)}finally{c!==null&&Zr(c),Fb(a),o.resolving=!1,tC()}}return r}function WI(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(ld)?n[ld]:void 0;return typeof t=="number"?t>=0?t&sC:GI:t}function Rb(n,t,e){let i=1<<n;return!!(e[t+(n>>oC)]&i)}function jb(n,t){return!(n&Gt.Self)&&!(n&Gt.Host&&t)}var Ml=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return uC(this._tNode,this._lView,t,qf(i),e)}};function GI(){return new Ml(Yi(),tn())}function wd(n){return vd(()=>{let t=n.prototype.constructor,e=t[bf]||S0(t),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[bf]||S0(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function S0(n){return u2(n)?()=>{let t=S0(Gi(n));return t&&t()}:Uc(n)}function YI(n,t,e,i,r){let s=n,o=t;for(;s!==null&&o!==null&&o[St]&2048&&!(o[St]&512);){let a=dC(s,o,e,i|Gt.Self,zs);if(a!==zs)return a;let l=s.parent;if(!l){let c=o[k2];if(c){let u=c.get(e,zs,i);if(u!==zs)return u}l=hC(o),o=o[Jc]}s=l}return r}function hC(n){let t=n[jt],e=t.type;return e===2?t.declTNode:e===1?n[bs]:null}function Bb(n,t=null,e=null,i){let r=XI(n,t,e,i);return r.resolveInjectorInitializers(),r}function XI(n,t=null,e=null,i,r=new Set){let s=[e||Qr,ZD(n)];return i=i||(typeof n=="object"?void 0:Tr(n)),new hd(s,t||gv(),i||null,r)}var Xc=class n{static{this.THROW_IF_NOT_FOUND=cd}static{this.NULL=new Af}static create(t,e){if(Array.isArray(t))return Bb({name:""},e,t,"");{let i=t.name??"";return Bb({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=Ot({token:n,providedIn:"any",factory:()=>Nt(_2)})}static{this.__NG_ELEMENT_ID__=-1}};var KI=new It("");KI.__NG_ELEMENT_ID__=n=>{let t=Yi();if(t===null)throw new Xe(204,!1);if(t.type&2)return t.value;if(n&Gt.Optional)return null;throw new Xe(204,!1)};var ZI="ngOriginalError";function r0(n){return n[ZI]}var fC=!0,pC=(()=>{class n{static{this.__NG_ELEMENT_ID__=QI}static{this.__NG_ENV_ID__=e=>e}}return n})(),D0=class extends pC{constructor(t){super(),this._lView=t}onDestroy(t){return z2(this._lView,t),()=>_I(this._lView,t)}};function QI(){return new D0(tn())}var eu=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rd(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>new n})}}return n})();var I0=class extends Hs{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,lI()&&(this.destroyRef=Mt(pC,{optional:!0})??void 0,this.pendingTasks=Mt(eu,{optional:!0})??void 0)}emit(t){let e=en(null);try{super.next(t)}finally{en(e)}}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof Wi&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(e),i!==void 0&&this.pendingTasks?.remove(i)})}}},bi=I0;function Pf(...n){}function gC(n){let t,e;function i(){n=Pf;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Vb(n){return queueMicrotask(()=>n()),()=>{n=Pf}}var Ev="isAngularZone",kf=Ev+"_ID",JI=0,Un=class n{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bi(!1),this.onMicrotaskEmpty=new bi(!1),this.onStable=new bi(!1),this.onError=new bi(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=fC}=t;if(typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,nM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ev)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Xe(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,eM,Pf,Pf);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},eM={};function Sv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){gC(()=>{n.callbackScheduled=!1,M0(n),n.isCheckStableRunning=!0,Sv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),M0(n)}function nM(n){let t=()=>{tM(n)},e=JI++;n._inner=n._inner.fork({name:"angular",properties:{[Ev]:!0,[kf]:e,[kf+e]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(iM(l))return i.invokeTask(s,o,a,l);try{return Hb(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),Ub(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return Hb(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rM(l)&&t(),Ub(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,M0(n),Sv(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function M0(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Hb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ub(n){n._nesting--,Sv(n)}var T0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bi,this.onMicrotaskEmpty=new bi,this.onStable=new bi,this.onError=new bi}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}};function iM(n){return mC(n,"__ignore_ng_zone__")}function rM(n){return mC(n,"__scheduler_tick__")}function mC(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Io=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&r0(t);for(;e&&r0(e);)e=r0(e);return e||null}},sM=new It("",{providedIn:"root",factory:()=>{let n=Mt(Un),t=Mt(Io);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function oM(){return tu(Yi(),tn())}function tu(n,t){return new Pr(es(n,t))}var Pr=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=oM}}return n})();function aM(n){return n instanceof Pr?n.nativeElement:n}function lM(){return this._results[Symbol.iterator]()}var N0=class n{get changes(){return this._changes??=new bi}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=n.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lM)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=TD(t);(this._changesDetected=!MD(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function vC(n){return(n.flags&128)===128}var yC=new Map,cM=0;function uM(){return cM++}function dM(n){yC.set(n[Gf],n)}function P0(n){yC.delete(n[Gf])}var zb="__ngContext__";function Ia(n,t){Ea(t)?(n[zb]=t[Gf],dM(t)):n[zb]=t}function _C(n){return bC(n[fd])}function wC(n){return bC(n[_s])}function bC(n){for(;n!==null&&!No(n);)n=n[_s];return n}var k0;function CC(n){k0=n}function hM(){if(k0!==void 0)return k0;if(typeof document<"u")return document;throw new Xe(210,!1)}var Dv=new It("",{providedIn:"root",factory:()=>fM}),fM="ng",Iv=new It(""),La=new It("",{providedIn:"platform",factory:()=>"unknown"});var Mv=new It(""),Tv=new It("",{providedIn:"root",factory:()=>hM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pM="h",gM="b";var mM=()=>null;function Nv(n,t,e=!1){return mM(n,t,e)}var xC=!1,vM=new It("",{providedIn:"root",factory:()=>xC});var L0=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cD})`}};function Pv(n){return n instanceof L0?n.changingThisBreaksApplicationSecurity:n}var yM=/^>|^->|<!--|-->|--!>|<!-$/g,_M=/(<|>)/g,wM="\u200B$1\u200B";function bM(n){return n.replace(yM,t=>t.replace(_M,wM))}function bd(n){return n.ownerDocument.defaultView}var Xs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xs||{}),CM;function kv(n,t){return CM(n,t)}function Bc(n,t,e,i,r){if(i!=null){let s,o=!1;No(i)?s=i:Ea(i)&&(o=!0,i=i[To]);let a=Ys(i);n===0&&e!==null?r==null?IC(t,e,a):Lf(t,e,a,r||null,!0):n===1&&e!==null?Lf(t,e,a,r||null,!0):n===2?jM(t,a,o):n===3&&t.destroyNode(a),s!=null&&VM(t,n,s,e,r)}}function xM(n,t){return n.createText(t)}function AM(n,t,e){n.setValue(t,e)}function EM(n,t){return n.createComment(bM(t))}function AC(n,t,e){return n.createElement(t,e)}function SM(n,t){EC(n,t),t[To]=null,t[bs]=null}function DM(n,t,e,i,r,s){i[To]=r,i[bs]=t,rp(n,i,e,1,r,s)}function EC(n,t){t[So].changeDetectionScheduler?.notify(9),rp(n,t,t[ti],2,null,null)}function IM(n){let t=n[fd];if(!t)return s0(n[jt],n);for(;t;){let e=null;if(Ea(t))e=t[fd];else{let i=t[Nr];i&&(e=i)}if(!e){for(;t&&!t[_s]&&t!==n;)Ea(t)&&s0(t[jt],t),t=t[Ii];t===null&&(t=n),Ea(t)&&s0(t[jt],t),e=t&&t[_s]}t=e}}function MM(n,t,e,i){let r=Nr+i,s=e.length;i>0&&(e[r-1][_s]=t),i<s-Nr?(t[_s]=e[r],y2(e,Nr+i,t)):(e.push(t),t[_s]=null),t[Ii]=e;let o=t[Tl];o!==null&&e!==o&&SC(o,t);let a=t[Do];a!==null&&a.insertView(n),b0(t),t[St]|=128}function SC(n,t){let e=n[Gc],i=t[Ii];if(Ea(i))n[St]|=If.HasTransplantedViews;else{let r=i[Ii][Ws];t[Ws]!==r&&(n[St]|=If.HasTransplantedViews)}e===null?n[Gc]=[t]:e.push(t)}function Lv(n,t){let e=n[Gc],i=e.indexOf(t);e.splice(i,1)}function O0(n,t){if(n.length<=Nr)return;let e=Nr+t,i=n[e];if(i){let r=i[Tl];r!==null&&r!==n&&Lv(r,i),t>0&&(n[e-1][_s]=i[_s]);let s=xf(n,Nr+t);SM(i[jt],i);let o=s[Do];o!==null&&o.detachView(s[jt]),i[Ii]=null,i[_s]=null,i[St]&=-129}return i}function DC(n,t){if(!(t[St]&256)){let e=t[ti];e.destroyNode&&rp(n,t,e,3,null,null),IM(t)}}function s0(n,t){if(t[St]&256)return;let e=en(null);try{t[St]&=-129,t[St]|=256,t[Jr]&&jm(t[Jr]),NM(n,t),TM(n,t),t[jt].type===1&&t[ti].destroy();let i=t[Tl];if(i!==null&&No(t[Ii])){i!==t[Ii]&&Lv(i,t);let r=t[Do];r!==null&&r.detachView(n)}P0(t)}finally{en(e)}}function TM(n,t){let e=n.cleanup,i=t[Sf];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[e[s+1]];e[s].call(o)}i!==null&&(t[Sf]=null);let r=t[Aa];if(r!==null){t[Aa]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function NM(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=t[e[i]];if(!(r instanceof Ll)){let s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Us(4,a,l);try{l.call(a)}finally{Us(5,a,l)}}else{Us(4,r,s);try{s.call(r)}finally{Us(5,r,s)}}}}}function PM(n,t,e){return kM(n,t.parent,e)}function kM(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[To];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===qs.None||s===qs.Emulated)return null}return es(i,e)}}function Lf(n,t,e,i,r){n.insertBefore(t,e,i,r)}function IC(n,t,e){n.appendChild(t,e)}function qb(n,t,e,i,r){i!==null?Lf(n,t,e,i,r):IC(n,t,e)}function MC(n,t){return n.parentNode(t)}function LM(n,t){return n.nextSibling(t)}function OM(n,t,e){return RM(n,t,e)}function FM(n,t,e){return n.type&40?es(n,e):null}var RM=FM,$b;function ip(n,t,e,i){let r=PM(n,i,t),s=t[ti],o=i.parent||t[bs],a=OM(o,i,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)qb(s,r,e[l],a,!1);else qb(s,r,e,a,!1);$b!==void 0&&$b(s,i,t,e,r)}function od(n,t){if(t!==null){let e=t.type;if(e&3)return es(t,n);if(e&4)return F0(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return od(n,i);{let r=n[t.index];return No(r)?F0(-1,r):Ys(r)}}else{if(e&128)return od(n,t.next);if(e&32)return kv(t,n)()||Ys(n[t.index]);{let i=TC(n,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Pl(n[Ws]);return od(r,i)}else return od(n,t.next)}}}return null}function TC(n,t){if(t!==null){let i=n[Ws][bs],r=t.projection;return i.projection[r]}return null}function F0(n,t){let e=Nr+n+1;if(e<t.length){let i=t[e],r=i[jt].firstChild;if(r!==null)return od(i,r)}return t[Nl]}function jM(n,t,e){n.removeChild(null,t,e)}function Ov(n,t,e,i,r,s,o){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],l=e.type;if(o&&t===0&&(a&&Ia(Ys(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)Ov(n,t,e.child,i,r,s,!1),Bc(t,n,r,a,s);else if(l&32){let c=kv(e,i),u;for(;u=c();)Bc(t,n,r,u,s);Bc(t,n,r,a,s)}else l&16?BM(n,t,i,e,r,s):Bc(t,n,r,a,s);e=o?e.projectionNext:e.next}}function rp(n,t,e,i,r,s){Ov(e,i,n.firstChild,t,r,s,!1)}function BM(n,t,e,i,r,s){let o=e[Ws],l=o[bs].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Bc(t,n,r,u,s)}else{let c=l,u=o[Ii];vC(i)&&(c.flags|=128),Ov(n,t,c,u,r,s,!0)}}function VM(n,t,e,i,r){let s=e[Nl],o=Ys(e);s!==o&&Bc(t,n,i,s,r);for(let a=Nr;a<e.length;a++){let l=e[a];rp(l[jt],l,n,t,i,s)}}function HM(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=i.indexOf("-")===-1?void 0:Xs.DashCase;r==null?n.removeStyle(e,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Xs.Important),n.setStyle(e,i,r,s))}}function UM(n,t,e){n.setAttribute(t,"style",e)}function NC(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function PC(n,t,e){let{mergedAttrs:i,classes:r,styles:s}=e;i!==null&&g0(n,t,i),r!==null&&NC(n,t,r),s!==null&&UM(n,t,s)}var hr={};function J(n=1){kC(xi(),tn(),Po()+n,!1)}function kC(n,t,e,i){if(!i)if((t[St]&3)===3){let s=n.preOrderCheckHooks;s!==null&&mf(t,s,e)}else{let s=n.preOrderHooks;s!==null&&vf(t,s,0,e)}kl(e)}function Pt(n,t=Gt.Default){let e=tn();if(e===null)return Nt(n,t);let i=Yi();return uC(i,e,Gi(n),t)}function LC(n,t,e,i,r,s){let o=en(null);try{let a=null;r&Sa.SignalBased&&(a=t[i][Eo]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Sa.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(t,s)),n.setInput!==null?n.setInput(t,a,s,e,i):O2(t,a,i,s)}finally{en(o)}}function zM(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)kl(~r);else{let s=r,o=e[++i],a=e[++i];TI(o,s);let l=t[s];a(2,l)}}}finally{kl(-1)}}function sp(n,t,e,i,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[To]=r,d[St]=i|4|128|8|64,(c!==null||n&&n[St]&2048)&&(d[St]|=2048),H2(d),d[Ii]=d[Jc]=n,d[ws]=e,d[So]=o||n&&n[So],d[ti]=a||n&&n[ti],d[Wc]=l||n&&n[Wc]||null,d[bs]=s,d[Gf]=uM(),d[Ef]=u,d[k2]=c,d[Ws]=t.type==2?n[Ws]:d,d}function Cd(n,t,e,i,r){let s=n.data[t];if(s===null)s=qM(n,t,e,i,r),MI()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=i,s.attrs=r;let o=SI();s.injectorIndex=o===null?-1:o.injectorIndex}return Bl(s,!0),s}function qM(n,t,e,i,r){let s=W2(),o=yv(),a=o?s:s&&s.parent,l=n.data[t]=KM(n,a,e,t,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function OC(n,t,e,i){if(e===0)return-1;let r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function FC(n,t,e,i,r){let s=Po(),o=i&2;try{kl(-1),o&&t.length>Gs&&kC(n,t,Gs,!1),Us(o?2:0,r),e(i,r)}finally{kl(s),Us(o?3:1,r)}}function Fv(n,t,e){if(mv(t)){let i=en(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=e[o];a.contentQueries(1,l,o)}}}finally{en(i)}}}function Rv(n,t,e){$2()&&(nT(n,t,e,es(e,t)),(e.flags&64)===64&&VC(n,t,e))}function jv(n,t,e=es){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?e(t,n):n[o];n[r++]=a}}}function RC(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Bv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Bv(n,t,e,i,r,s,o,a,l,c,u){let d=Gs+i,g=d+r,f=$M(d,g),w=typeof c=="function"?c():c;return f[jt]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function $M(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:hr);return e}function WM(n,t,e,i){let s=i.get(vM,xC)||e===qs.ShadowDom,o=n.selectRootElement(t,s);return GM(o),o}function GM(n){YM(n)}var YM=()=>null;function XM(n,t,e,i){let r=zC(t);r.push(e),n.firstCreatePass&&qC(n).push(i,r.length-1)}function KM(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return xI()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Wb(n,t,e,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;i??={};let a,l=Sa.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}n===0?Gb(i,e,c,a,l):Gb(i,e,c,a)}return i}function Gb(n,t,e,i,r){let s;n.hasOwnProperty(e)?(s=n[e]).push(t,i):s=n[e]=[t,i],r!==void 0&&s.push(r)}function ZM(n,t,e){let i=t.directiveStart,r=t.directiveEnd,s=n.data,o=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],g=e?e.get(d):null,f=g?g.inputs:null,w=g?g.outputs:null;l=Wb(0,d.inputs,u,l,f),c=Wb(1,d.outputs,u,c,w);let b=l!==null&&o!==null&&!hv(t)?fT(l,u,o):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function QM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function jC(n,t,e,i,r,s,o,a){let l=es(t,e),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(Hv(n,e,u,i,r),Yf(t)&&JM(e,t.index)):t.type&3?(i=QM(i),r=o!=null?o(r,t.value||"",i):r,s.setProperty(l,i,r)):t.type&12}function JM(n,t){let e=ka(t,n);e[St]&16||(e[St]|=64)}function Vv(n,t,e,i){if($2()){let r=i===null?null:{"":-1},s=rT(n,e),o,a;s===null?o=a=null:[o,a]=s,o!==null&&BC(n,t,e,o,r,a),r&&sT(e,i,r)}e.mergedAttrs=dd(e.mergedAttrs,e.attrs)}function BC(n,t,e,i,r,s){for(let c=0;c<i.length;c++)E0(Nf(e,t),n,i[c].type);aT(e,n.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=OC(n,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];e.mergedAttrs=dd(e.mergedAttrs,u.hostAttrs),lT(n,e,t,l,u),oT(l,u,r),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}ZM(n,e,s)}function eT(n,t,e,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~t.index;tT(o)!=a&&o.push(a),o.push(e,i,s)}}function tT(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function nT(n,t,e,i){let r=e.directiveStart,s=e.directiveEnd;Yf(e)&&cT(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Nf(e,t),Ia(i,t);let o=e.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],c=Ol(t,n,a,e);if(Ia(c,t),o!==null&&hT(t,a-r,c,l,e,o),Da(l)){let u=ka(e.index,t);u[ws]=Ol(t,n,a,e)}}}function VC(n,t,e){let i=e.directiveStart,r=e.directiveEnd,s=e.index,o=NI();try{kl(s);for(let a=i;a<r;a++){let l=n.data[a],c=t[a];C0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&iT(l,c)}}finally{kl(-1),C0(o)}}function iT(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function rT(n,t){let e=n.directiveRegistry,i=null,r=null;if(e)for(let s=0;s<e.length;s++){let o=e[s];if(HD(t,o.selectors,!1))if(i||(i=[]),Da(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;R0(n,t,l)}else i.unshift(o),R0(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function R0(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function sT(n,t,e){if(t){let i=n.localNames=[];for(let r=0;r<t.length;r+=2){let s=e[t[r+1]];if(s==null)throw new Xe(-301,!1);i.push(t[r],s)}}}function oT(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Da(t)&&(e[""]=n)}}function aT(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function lT(n,t,e,i,r){n.data[i]=r;let s=r.factory||(r.factory=Uc(r.type,!0)),o=new Ll(s,Da(r),Pt);n.blueprint[i]=o,e[i]=o,eT(n,t,i,OC(n,e,r.hostVars,hr),r)}function cT(n,t,e){let i=es(t,n),r=RC(e),s=n[So].rendererFactory,o=16;e.signals?o=4096:e.onPush&&(o=64);let a=op(n,sp(n,r,null,o,i,t,null,s.createRenderer(i,e),null,null,null));n[t.index]=a}function uT(n,t,e,i,r,s){let o=es(n,t);dT(t[ti],o,s,n.value,e,i,r)}function dT(n,t,e,i,r,s,o){if(s==null)n.removeAttribute(t,r,e);else{let a=o==null?Mr(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}function hT(n,t,e,i,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];LC(i,e,l,c,u,d)}}function fT(n,t,e){let i=null,r=0;for(;r<e.length;){let s=e[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}return i}function HC(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function UC(n,t){let e=n.contentQueries;if(e!==null){let i=en(null);try{for(let r=0;r<e.length;r+=2){let s=e[r],o=e[r+1];if(o!==-1){let a=n.data[o];wv(s),a.contentQueries(2,t[o],o)}}}finally{en(i)}}}function op(n,t){return n[fd]?n[Pb][_s]=t:n[fd]=t,n[Pb]=t,t}function j0(n,t,e){wv(0);let i=en(null);try{t(n,e)}finally{en(i)}}function zC(n){return n[Sf]??=[]}function qC(n){return n.cleanup??=[]}function $C(n,t){let e=n[Wc],i=e?e.get(Io,null):null;i&&i.handleError(t)}function Hv(n,t,e,i,r){for(let s=0;s<e.length;){let o=e[s++],a=e[s++],l=e[s++],c=t[o],u=n.data[o];LC(u,c,i,a,l,r)}}function ap(n,t,e){let i=B2(t,n);AM(n[ti],i,e)}function pT(n,t){let e=ka(t,n),i=e[jt];gT(i,e);let r=e[To];r!==null&&e[Ef]===null&&(e[Ef]=Nv(r,e[Wc])),Uv(i,e,e[ws])}function gT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Uv(n,t,e){bv(t);try{let i=n.viewQuery;i!==null&&j0(1,i,e);let r=n.template;r!==null&&FC(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Do]?.finishViewCreation(n),n.staticContentQueries&&UC(n,t),n.staticViewQueries&&j0(2,n.viewQuery,e);let s=n.components;s!==null&&mT(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[St]&=-5,Cv()}}function mT(n,t){for(let e=0;e<t.length;e++)pT(n,t[e])}function vT(n,t,e,i){let r=en(null);try{let s=t.tView,a=n[St]&4096?4096:16,l=sp(n,s,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[Tl]=c;let u=n[Do];return u!==null&&(l[Do]=u.createEmbeddedView(s)),Uv(s,l,e),l}finally{en(r)}}function Yb(n,t){return!t||t.firstChild===null||vC(n)}function yT(n,t,e,i=!0){let r=t[jt];if(MM(r,t,n,e),i){let o=F0(e,n),a=t[ti],l=MC(a,n[Nl]);l!==null&&DM(r,n[bs],a,t,l,o)}let s=t[Ef];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Of(n,t,e,i,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let s=t[e.index];s!==null&&i.push(Ys(s)),No(s)&&_T(s,i);let o=e.type;if(o&8)Of(n,t,e.child,i);else if(o&32){let a=kv(e,t),l;for(;l=a();)i.push(l)}else if(o&16){let a=TC(t,e);if(Array.isArray(a))i.push(...a);else{let l=Pl(t[Ws]);Of(l[jt],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function _T(n,t){for(let e=Nr;e<n.length;e++){let i=n[e],r=i[jt].firstChild;r!==null&&Of(i[jt],i,r,t)}n[Nl]!==n[To]&&t.push(n[Nl])}var WC=[];function wT(n){return n[Jr]??bT(n)}function bT(n){let t=WC.pop()??Object.create(xT);return t.lView=n,t}function CT(n){n.lView[Jr]!==n&&(n.lView=null,WC.push(n))}var xT=Jt(yt({},nd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zf(n.lView)},consumerOnSignalRead(){this.lView[Jr]=this}});function AT(n){let t=n[Jr]??Object.create(ET);return t.lView=n,t}var ET=Jt(yt({},nd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=Pl(n.lView);for(;t&&!GC(t[jt]);)t=Pl(t);t&&U2(t)},consumerOnSignalRead(){this.lView[Jr]=this}});function GC(n){return n.type!==2}var ST=100;function YC(n,t=!0,e=0){let i=n[So],r=i.rendererFactory,s=!1;s||r.begin?.();try{DT(n,e)}catch(o){throw t&&$C(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function DT(n,t){let e=Y2();try{Lb(!0),B0(n,t);let i=0;for(;Kf(n);){if(i===ST)throw new Xe(103,!1);i++,B0(n,1)}}finally{Lb(e)}}function IT(n,t,e,i){let r=t[St];if((r&256)===256)return;let s=!1,o=!1;!s&&t[So].inlineEffectRunner?.flush(),bv(t);let a=!0,l=null,c=null;s||(GC(n)?(c=wT(t),l=Hh(c)):Lw()===null?(a=!1,c=AT(t),l=Hh(c)):t[Jr]&&(jm(t[Jr]),t[Jr]=null));try{H2(t),II(n.bindingStartIndex),e!==null&&FC(n,t,e,2,i);let u=(r&3)===3;if(!s)if(u){let f=n.preOrderCheckHooks;f!==null&&mf(t,f,null)}else{let f=n.preOrderHooks;f!==null&&vf(t,f,0,null),t0(t,0)}if(o||MT(t),XC(t,0),n.contentQueries!==null&&UC(n,t),!s)if(u){let f=n.contentCheckHooks;f!==null&&mf(t,f)}else{let f=n.contentHooks;f!==null&&vf(t,f,1),t0(t,1)}zM(n,t);let d=n.components;d!==null&&ZC(t,d,0);let g=n.viewQuery;if(g!==null&&j0(2,g,i),!s)if(u){let f=n.viewCheckHooks;f!==null&&mf(t,f)}else{let f=n.viewHooks;f!==null&&vf(t,f,2),t0(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[e0]){for(let f of t[e0])f();t[e0]=null}s||(t[St]&=-73)}catch(u){throw s||Zf(t),u}finally{c!==null&&(Fm(c,l),a&&CT(c)),Cv()}}function XC(n,t){for(let e=_C(n);e!==null;e=wC(e))for(let i=Nr;i<e.length;i++){let r=e[i];KC(r,t)}}function MT(n){for(let t=_C(n);t!==null;t=wC(t)){if(!(t[St]&If.HasTransplantedViews))continue;let e=t[Gc];for(let i=0;i<e.length;i++){let r=e[i];U2(r)}}}function TT(n,t,e){let i=ka(t,n);KC(i,e)}function KC(n,t){vv(n)&&B0(n,t)}function B0(n,t){let i=n[jt],r=n[St],s=n[Jr],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&Rm(s)),o||=!1,s&&(s.dirty=!1),n[St]&=-9217,o)IT(i,n,i.template,n[ws]);else if(r&8192){XC(n,1);let a=i.components;a!==null&&ZC(n,a,1)}}function ZC(n,t,e){for(let i=0;i<t.length;i++)TT(n,t[i],e)}function zv(n,t){let e=Y2()?64:1088;for(n[So].changeDetectionScheduler?.notify(t);n;){n[St]|=e;let i=Pl(n);if(_0(n)&&!i)return n;n=i}return null}var Fl=class{get rootNodes(){let t=this._lView,e=t[jt];return Of(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ws]}set context(t){this._lView[ws]=t}get destroyed(){return(this._lView[St]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ii];if(No(t)){let e=t[Df],i=e?e.indexOf(this):-1;i>-1&&(O0(t,i),xf(e,i))}this._attachedToViewContainer=!1}DC(this._lView[jt],this._lView)}onDestroy(t){z2(this._lView,t)}markForCheck(){zv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[St]&=-129}reattach(){b0(this._lView),this._lView[St]|=128}detectChanges(){this._lView[St]|=1024,YC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=_0(this._lView),e=this._lView[Tl];e!==null&&!t&&Lv(e,this._lView),EC(this._lView[jt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t;let e=_0(this._lView),i=this._lView[Tl];i!==null&&!e&&SC(i,this._lView),b0(this._lView)}},Rl=(()=>{class n{static{this.__NG_ELEMENT_ID__=kT}}return n})(),NT=Rl,PT=class extends NT{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let r=vT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Fl(r)}};function kT(){return lp(Yi(),tn())}function lp(n,t){return n.type&4?new PT(t,n,tu(n,t)):null}var IB=new RegExp(`^(\\d+)*(${gM}|${pM})*(.*)`);var LT=()=>null;function Xb(n,t){return LT(n,t)}var Kc=class{},qv=new It("",{providedIn:"root",factory:()=>!1});var QC=new It(""),JC=new It(""),V0=class{},Ff=class{};function OT(n){let t=Error(`No component factory found for ${Tr(n)}.`);return t[FT]=n,t}var FT="ngComponent";var H0=class{resolveComponentFactory(t){throw OT(t)}},pd=class{static{this.NULL=new H0}},Ma=class{},ko=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>RT()}}return n})();function RT(){let n=tn(),t=Yi(),e=ka(t.index,n);return(Ea(e)?e:n)[ti]}var jT=(()=>{class n{static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>null})}}return n})();function Rf(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Cb(r,a);else if(s==2){let l=a,c=t[++o];i=Cb(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}var U0=class extends pd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=qc(t);return new jf(e,this.ngModule)}};function Kb(n,t){let e=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Sa.None;t?e.push({propName:o,templateName:i,isSignal:(a&Sa.SignalBased)!==0}):e.push({propName:o,templateName:i})}return e}function BT(n){let t=n.toLowerCase();return t==="svg"?fI:t==="math"?pI:null}var jf=class extends Ff{get inputs(){let t=this.componentDef,e=t.inputTransforms,i=Kb(t.inputs,!0);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return Kb(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=$D(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=en(null);try{r=r||this.ngModule;let o=r instanceof $s?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new x0(t,o):t,l=a.get(Ma,null);if(l===null)throw new Xe(407,!1);let c=a.get(jT,null),u=a.get(Kc,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},g=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",w=i?WM(g,i,this.componentDef.encapsulation,a):AC(g,f,BT(f)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let A=null;w!==null&&(A=Nv(w,a,!0));let C=Bv(0,null,null,1,0,null,null,null,null,null,null),D=sp(null,C,null,b,null,null,d,g,a,null,A);bv(D);let P,z,Z=null;try{let ae=this.componentDef,X,q=null;ae.findHostDirectiveDefs?(X=[],q=new Map,ae.findHostDirectiveDefs(ae,X,q),X.push(ae)):X=[ae];let se=VT(D,w);Z=HT(se,w,ae,X,D,d,g),z=V2(C,Gs),w&&qT(g,ae,w,i),e!==void 0&&$T(z,this.ngContentSelectors,e),P=zT(Z,ae,X,q,D,[WT]),Uv(C,D,null)}catch(ae){throw Z!==null&&P0(Z),P0(D),ae}finally{Cv()}return new z0(this.componentType,P,tu(z,D),D,z)}finally{en(s)}}},z0=class extends V0{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Fl(r,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let s=this._rootLView;Hv(s[jt],s,r,t,e),this.previousInputValues.set(t,e);let o=ka(this._tNode.index,s);zv(o,1)}}get injector(){return new Ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function VT(n,t){let e=n[jt],i=Gs;return n[i]=t,Cd(e,i,2,"#host",null)}function HT(n,t,e,i,r,s,o){let a=r[jt];UT(i,n,t,o);let l=null;t!==null&&(l=Nv(t,r[Wc]));let c=s.rendererFactory.createRenderer(t,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=sp(r,RC(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&R0(a,n,i.length-1),op(r,d),r[n.index]=d}function UT(n,t,e,i){for(let r of n)t.mergedAttrs=dd(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Rf(t,t.mergedAttrs,!0),e!==null&&PC(i,e,t))}function zT(n,t,e,i,r,s){let o=Yi(),a=r[jt],l=es(o,r);BC(a,r,o,e,null,i);for(let u=0;u<e.length;u++){let d=o.directiveStart+u,g=Ol(r,a,d,o);Ia(g,r)}VC(a,r,o),l&&Ia(l,r);let c=Ol(r,a,o.directiveStart+o.componentOffset,o);if(n[ws]=r[ws]=c,s!==null)for(let u of s)u(c,t);return Fv(a,o,r),c}function qT(n,t,e,i){if(i)g0(n,e,["ng-version","18.2.13"]);else{let{attrs:r,classes:s}=WD(t.selectors[0]);r&&g0(n,e,r),s&&s.length>0&&NC(n,e,s.join(" "))}}function $T(n,t,e){let i=n.projection=[];for(let r=0;r<t.length;r++){let s=e[r];i.push(s!=null?Array.from(s):null)}}function WT(){let n=Yi();np(tn()[jt],n)}var nu=(()=>{class n{static{this.__NG_ELEMENT_ID__=GT}}return n})();function GT(){let n=Yi();return tx(n,tn())}var YT=nu,ex=class extends YT{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return tu(this._hostTNode,this._hostLView)}get injector(){return new Ml(this._hostTNode,this._hostLView)}get parentInjector(){let t=Av(this._hostTNode,this._hostLView);if(rC(t)){let e=Tf(t,this._hostLView),i=Mf(t),r=e[jt].data[i+8];return new Ml(r,e)}else return new Ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Zb(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(t,e,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Xb(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,Yb(this._hostTNode,o)),a}createComponent(t,e,i,r,s){let o=t&&!cI(t),a;if(o)a=e;else{let w=e||{};a=w.index,i=w.injector,r=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let l=o?t:new jf(qc(t)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let b=(o?c:this.parentInjector).get($s,null);b&&(s=b)}let u=qc(l.componentType??{}),d=Xb(this._lContainer,u?.id??null),g=d?.firstChild??null,f=l.create(c,r,g,s);return this.insertImpl(f.hostView,a,Yb(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let r=t._lView;if(vI(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Ii],c=new ex(l,l[bs],l[Ii]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(e),o=this._lContainer;return yT(o,r,s,i),t.attachToViewContainerRef(),y2(o0(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Zb(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=O0(this._lContainer,e);i&&(xf(o0(this._lContainer),e),DC(i[jt],i))}detach(t){let e=this._adjustIndex(t,-1),i=O0(this._lContainer,e);return i&&xf(o0(this._lContainer),e)!=null?new Fl(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Zb(n){return n[Df]}function o0(n){return n[Df]||(n[Df]=[])}function tx(n,t){let e,i=t[n.index];return No(i)?e=i:(e=HC(i,t,null,n),t[n.index]=e,op(t,e)),KT(e,t,n,i),new ex(e,n,t)}function XT(n,t){let e=n[ti],i=e.createComment(""),r=es(t,n),s=MC(e,r);return Lf(e,s,i,LM(e,r),!1),i}var KT=JT,ZT=()=>!1;function QT(n,t,e){return ZT(n,t,e)}function JT(n,t,e,i){if(n[Nl])return;let r;e.type&8?r=Ys(i):r=XT(t,e),n[Nl]=r}var q0=class n{constructor(t){this.queryList=t,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},$0=class n{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){let o=e.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)$v(t,e).matches!==null&&this.queries[e].setDirty()}},W0=class{constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=aN(t):this.predicate=t}},G0=class n{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,e!==null?e.push(s):e=[s])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Y0=class n{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(t,e,eN(e,s)),this.matchTNodeWithReadOption(t,e,yf(e,t,s,!1,!1))}else i===Rl?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,yf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Pr||r===nu||r===Rl&&e.type&4)this.addMatch(e.index,-2);else{let s=yf(e,t,r,!1,!1);s!==null&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function eN(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function tN(n,t){return n.type&11?tu(n,t):n.type&4?lp(n,t):null}function nN(n,t,e,i){return e===-1?tN(t,n):e===-2?iN(n,t,i):Ol(n,n[jt],e,t)}function iN(n,t,e){if(e===Pr)return tu(t,n);if(e===Rl)return lp(t,n);if(e===nu)return tx(t,n)}function nx(n,t,e,i){let r=t[Do].queries[i];if(r.matches===null){let s=n.data,o=e.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(nN(t,u,o[l+1],e.metadata.read))}}r.matches=a}return r.matches}function X0(n,t,e,i){let r=n.queries.getByIndex(e),s=r.matches;if(s!==null){let o=nx(n,t,r,e);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=Nr;d<u.length;d++){let g=u[d];g[Tl]===g[Ii]&&X0(g[jt],g,c,i)}if(u[Gc]!==null){let d=u[Gc];for(let g=0;g<d.length;g++){let f=d[g];X0(f[jt],f,c,i)}}}}}return i}function rN(n,t){return n[Do].queries[t].queryList}function sN(n,t,e){let i=new N0((e&4)===4);return XM(n,t,i,i.destroy),(t[Do]??=new $0).queries.push(new q0(i))-1}function oN(n,t,e){let i=xi();return i.firstCreatePass&&(lN(i,new W0(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),sN(i,tn(),t)}function aN(n){return n.split(",").map(t=>t.trim())}function lN(n,t,e){n.queries===null&&(n.queries=new G0),n.queries.track(new Y0(t,e))}function $v(n,t){return n.queries.getByIndex(t)}function cN(n,t){let e=n[jt],i=$v(e,t);return i.crossesNgTemplate?X0(e,n,t,[]):nx(e,n,i,t)}var Qb=new Set;function Vl(n){Qb.has(n)||(Qb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function uN(n){return typeof n=="function"&&n[Eo]!==void 0}function cp(n,t){Vl("NgSignals");let e=$w(n),i=e[Eo];return t?.equal&&(i.equal=t.equal),e.set=r=>Bm(i,r),e.update=r=>Ww(i,r),e.asReadonly=dN.bind(e),e}function dN(){let n=this[Eo];if(n.readonlyFn===void 0){let t=()=>this();t[Eo]=n,n.readonlyFn=t}return n.readonlyFn}function ix(n){return uN(n)&&typeof n.set=="function"}function hN(n){return Object.getPrototypeOf(n.prototype).constructor}function Lo(n){let t=hN(n.type),e=!0,i=[n];for(;t;){let r;if(Da(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);let o=n;o.inputs=hf(n.inputs),o.inputTransforms=hf(n.inputTransforms),o.declaredInputs=hf(n.declaredInputs),o.outputs=hf(n.outputs);let a=r.hostBindings;a&&vN(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&gN(n,l),c&&mN(n,c),fN(n,r),dD(n.outputs,r.outputs),Da(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Lo&&(e=!1)}}t=Object.getPrototypeOf(t)}pN(i)}function fN(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];if(i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function pN(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=dd(r.hostAttrs,e=dd(e,r.hostAttrs))}}function hf(n){return n===zc?{}:n===Qr?[]:n}function gN(n,t){let e=n.viewQuery;e?n.viewQuery=(i,r)=>{t(i,r),e(i,r)}:n.viewQuery=t}function mN(n,t){let e=n.contentQueries;e?n.contentQueries=(i,r,s)=>{t(i,r,s),e(i,r,s)}:n.contentQueries=t}function vN(n,t){let e=n.hostBindings;e?n.hostBindings=(i,r)=>{t(i,r),e(i,r)}:n.hostBindings=t}var Zc=class{};var Bf=class extends Zc{constructor(t){super(),this.componentFactoryResolver=new U0(this),this.instance=null;let e=new hd([...t.providers,{provide:Zc,useValue:this},{provide:pd,useValue:this.componentFactoryResolver}],t.parent||gv(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function yN(n,t,e=null){return new Bf({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function rx(n){return Wv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function _N(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function Wv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sx(n,t,e){return n[t]=e}function wN(n,t){return n[t]}function Mo(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function gd(n,t,e,i){let r=Mo(n,t,e);return Mo(n,t+1,i)||r}function bN(n,t,e,i,r){let s=gd(n,t,e,i);return Mo(n,t+2,r)||s}function CN(n,t,e,i,r,s){let o=gd(n,t,e,i);return gd(n,t+2,r,s)||o}function xN(n){return(n.flags&32)===32}function AN(n,t,e,i,r,s,o,a,l){let c=t.consts,u=Cd(t,n,4,o||null,a||null);Vv(t,e,u,Yc(c,l)),np(t,u);let d=u.tView=Bv(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function EN(n,t,e,i,r,s,o,a,l,c){let u=e+Gs,d=t.firstCreatePass?AN(u,t,n,i,r,s,o,a,l):t.data[u];Bl(d,!1);let g=SN(t,n,d,e);ep()&&ip(t,n,g,d),Ia(g,n);let f=HC(g,n,g,d);return n[u]=f,op(n,f),QT(f,d,n),Xf(d)&&Rv(t,n,d),l!=null&&jv(n,d,c),d}function Ze(n,t,e,i,r,s,o,a){let l=tn(),c=xi(),u=Yc(c.consts,s);return EN(l,c,n,t,e,i,r,u,o,a),Ze}var SN=DN;function DN(n,t,e,i){return tp(!0),t[ti].createComment("")}var ad=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ad||{}),IN=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Jb=class n{constructor(){this.ngZone=Mt(Un),this.scheduler=Mt(Kc),this.errorHandler=Mt(Io,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ad.EarlyRead,ad.Write,ad.MixedReadWrite,ad.Read]}execute(){this.executing=!0;for(let t of n.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[t]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(i){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>new n})}};function xd(n,t,e,i){let r=tn(),s=Qf();if(Mo(r,s,t)){let o=xi(),a=xv();uT(a,r,n,t,e,i)}return xd}function MN(n,t,e,i){return Mo(n,Qf(),e)?t+Mr(e)+i:hr}function TN(n,t,e,i,r,s){let o=_v(),a=gd(n,o,e,r);return Jf(2),a?t+Mr(e)+i+Mr(r)+s:hr}function NN(n,t,e,i,r,s,o,a){let l=_v(),c=bN(n,l,e,r,o);return Jf(3),c?t+Mr(e)+i+Mr(r)+s+Mr(o)+a:hr}function PN(n,t,e,i,r,s,o,a,l,c,u,d){let g=_v(),f=CN(n,g,e,r,o,l);return f=Mo(n,g+4,u)||f,Jf(5),f?t+Mr(e)+i+Mr(r)+s+Mr(o)+a+Mr(l)+c+Mr(u)+d:hr}function ff(n,t){return n<<17|t<<2}function jl(n){return n>>17&32767}function kN(n){return(n&2)==2}function LN(n,t){return n&131071|t<<17}function K0(n){return n|2}function Qc(n){return(n&131068)>>2}function a0(n,t){return n&-131069|t<<2}function ON(n){return(n&1)===1}function Z0(n){return n|1}function FN(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=jl(o),l=Qc(o);n[i]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||yd(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let g=jl(n[a+1]);n[i+1]=ff(g,a),g!==0&&(n[g+1]=a0(n[g+1],i)),n[a+1]=LN(n[a+1],i)}else n[i+1]=ff(a,0),a!==0&&(n[a+1]=a0(n[a+1],i)),a=i;else n[i+1]=ff(l,0),a===0?a=i:n[l+1]=a0(n[l+1],i),l=i;c&&(n[i+1]=K0(n[i+1])),e2(n,u,i,!0),e2(n,u,i,!1),RN(t,u,n,i,s),o=ff(a,l),s?t.classBindings=o:t.styleBindings=o}function RN(n,t,e,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof t=="string"&&yd(s,t)>=0&&(e[i+1]=Z0(e[i+1]))}function e2(n,t,e,i){let r=n[e+1],s=t===null,o=i?jl(r):Qc(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];jN(l,t)&&(a=!0,n[o+1]=i?Z0(c):K0(c)),o=i?jl(c):Qc(c)}a&&(n[e+1]=i?K0(r):Z0(r))}function jN(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?yd(n,t)>=0:!1}function De(n,t,e){let i=tn(),r=Qf();if(Mo(i,r,t)){let s=xi(),o=xv();jC(s,o,i,n,t,i[ti],e,!1)}return De}function t2(n,t,e,i,r){let s=t.inputs,o=r?"class":"style";Hv(n,e,s[o],o,i)}function nn(n,t){return BN(n,t,null,!0),nn}function BN(n,t,e,i){let r=tn(),s=xi(),o=Jf(2);if(s.firstUpdatePass&&HN(s,n,o,i),t!==hr&&Mo(r,o,t)){let a=s.data[Po()];WN(s,a,r,r[ti],n,r[o+1]=GN(t,e),i,o)}}function VN(n,t){return t>=n.expandoStartIndex}function HN(n,t,e,i){let r=n.data;if(r[e+1]===null){let s=r[Po()],o=VN(n,e);YN(s,i)&&t===null&&!o&&(t=!1),t=UN(r,s,t,i),FN(r,s,t,e,o,i)}}function UN(n,t,e,i){let r=PI(n),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(e=l0(null,n,t,e,i),e=md(e,t.attrs,i),s=null);else{let o=t.directiveStylingLast;if(o===-1||n[o]!==r)if(e=l0(r,n,t,e,i),s===null){let l=zN(n,t,i);l!==void 0&&Array.isArray(l)&&(l=l0(null,n,t,l[1],i),l=md(l,t.attrs,i),qN(n,t,i,l))}else s=$N(n,t,i)}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),e}function zN(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Qc(i)!==0)return n[jl(i)]}function qN(n,t,e,i){let r=e?t.classBindings:t.styleBindings;n[jl(r)]=i}function $N(n,t,e){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=md(i,o,e)}return md(i,t.attrs,e)}function l0(n,t,e,i,r){let s=null,o=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<o&&(s=t[a],i=md(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function md(n,t,e){let i=e?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),PD(n,o,e?!0:t[++s]))}return n===void 0?null:n}function WN(n,t,e,i,r,s,o,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],u=ON(c)?n2(l,t,e,r,Qc(c),o):void 0;if(!Vf(u)){Vf(s)||kN(c)&&(s=n2(l,null,e,r,a,o));let d=B2(Po(),e);HM(i,o,d,r,s)}}function n2(n,t,e,i,r,s){let o=t===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,g=e[r+1];g===hr&&(g=d?Qr:void 0);let f=d?Qm(g,i):u===i?g:void 0;if(c&&!Vf(f)&&(f=Qm(l,i)),Vf(f)&&(a=f,o))return a;let w=n[r+1];r=o?jl(w):Qc(w)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=Qm(l,i))}return a}function Vf(n){return n!==void 0}function GN(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=Tr(Pv(n)))),n}function YN(n,t){return(n.flags&(t?8:16))!==0}function XN(n,t,e,i,r,s){let o=t.consts,a=Yc(o,r),l=Cd(t,n,2,i,a);return Vv(t,e,l,Yc(o,s)),l.attrs!==null&&Rf(l,l.attrs,!1),l.mergedAttrs!==null&&Rf(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function V(n,t,e,i){let r=tn(),s=xi(),o=Gs+n,a=r[ti],l=s.firstCreatePass?XN(o,s,r,t,e,i):s.data[o],c=KN(s,r,l,a,t,n);r[o]=c;let u=Xf(l);return Bl(l,!0),PC(a,c,l),!xN(l)&&ep()&&ip(s,r,c,l),wI()===0&&Ia(c,r),bI(),u&&(Rv(s,r,l),Fv(s,l,r)),i!==null&&jv(r,l),V}function H(){let n=Yi();yv()?G2():(n=n.parent,Bl(n,!1));let t=n;AI(t)&&EI(),CI();let e=xi();return e.firstCreatePass&&(np(e,n),mv(n)&&e.queries.elementEnd(n)),t.classesWithoutHost!=null&&BI(t)&&t2(e,t,tn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&VI(t)&&t2(e,t,tn(),t.stylesWithoutHost,!1),H}function pi(n,t,e,i){return V(n,t,e,i),H(),pi}var KN=(n,t,e,i,r,s)=>(tp(!0),AC(i,r,OI()));function ZN(n,t,e,i,r){let s=t.consts,o=Yc(s,i),a=Cd(t,n,8,"ng-container",o);o!==null&&Rf(a,o,!0);let l=Yc(s,r);return Vv(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function Cs(n,t,e){let i=tn(),r=xi(),s=n+Gs,o=r.firstCreatePass?ZN(s,r,i,t,e):r.data[s];Bl(o,!0);let a=QN(r,i,o,n);return i[s]=a,ep()&&ip(r,i,a,o),Ia(a,i),Xf(o)&&(Rv(r,i,o),Fv(r,o,i)),e!=null&&jv(i,o),Cs}function xs(){let n=Yi(),t=xi();return yv()?G2():(n=n.parent,Bl(n,!1)),t.firstCreatePass&&(np(t,n),mv(n)&&t.queries.elementEnd(n)),xs}var QN=(n,t,e,i)=>(tp(!0),EM(t[ti],""));function ut(){return tn()}var Il=void 0;function JN(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var eP=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",JN],c0={};function ts(n){let t=tP(n),e=i2(t);if(e)return e;let i=t.split("-")[0];if(e=i2(i),e)return e;if(i==="en")return eP;throw new Xe(701,!1)}function i2(n){return n in c0||(c0[n]=sd.ng&&sd.ng.common&&sd.ng.common.locales&&sd.ng.common.locales[n]),c0[n]}var Wn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Wn||{});function tP(n){return n.toLowerCase().replace(/_/g,"-")}var Hf="en-US";var nP=Hf;function iP(n){typeof n=="string"&&(nP=n.toLowerCase().replace(/_/g,"-"))}var rP=(n,t,e)=>{};function rt(n,t,e,i){let r=tn(),s=xi(),o=Yi();return ox(s,r,r[ti],o,n,t,i),rt}function sP(n,t,e,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===e&&r[s+1]===i){let a=t[Sf],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function ox(n,t,e,i,r,s,o){let a=Xf(i),c=n.firstCreatePass&&qC(n),u=t[ws],d=zC(t),g=!0;if(i.type&3||o){let b=es(i,t),A=o?o(b):b,C=d.length,D=o?z=>o(Ys(z[i.index])):i.index,P=null;if(!o&&a&&(P=sP(n,t,r,i.index)),P!==null){let z=P.__ngLastListenerFn__||P;z.__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,g=!1}else{s=s2(i,t,u,s),rP(b,r,s);let z=e.listen(A,r,s);d.push(s,z),c&&c.push(r,D,C,C+1)}}else s=s2(i,t,u,s);let f=i.outputs,w;if(g&&f!==null&&(w=f[r])){let b=w.length;if(b)for(let A=0;A<b;A+=2){let C=w[A],D=w[A+1],Z=t[C][D].subscribe(s),ae=d.length;d.push(s,Z),c&&c.push(r,i.index,ae,-(ae+1))}}}function r2(n,t,e,i){let r=en(null);try{return Us(6,t,e),e(i)!==!1}catch(s){return $C(n,s),!1}finally{Us(7,t,e),en(r)}}function s2(n,t,e,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?ka(n.index,t):t;zv(o,5);let a=r2(t,e,i,s),l=r.__ngNextListenerFn__;for(;l;)a=r2(t,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function ce(n=1){return LI(n)}function ax(n,t,e){oN(n,t,e)}function lx(n){let t=tn(),e=xi(),i=K2();wv(i+1);let r=$v(e,i);if(n.dirty&&mI(t)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=cN(t,i);n.reset(s,aM),n.notifyOnChanges()}return!0}return!1}function cx(){return rN(tn(),K2())}function ux(n){let t=DI();return gI(t,Gs+n)}function ie(n,t=""){let e=tn(),i=xi(),r=n+Gs,s=i.firstCreatePass?Cd(i,r,1,t,null):i.data[r],o=oP(i,e,s,t,n);e[r]=o,ep()&&ip(i,e,o,s),Bl(s,!1)}var oP=(n,t,e,i,r)=>(tp(!0),xM(t[ti],i));function Je(n){return Gn("",n,""),Je}function Gn(n,t,e){let i=tn(),r=MN(i,n,t,e);return r!==hr&&ap(i,Po(),r),Gn}function Oo(n,t,e,i,r){let s=tn(),o=TN(s,n,t,e,i,r);return o!==hr&&ap(s,Po(),o),Oo}function up(n,t,e,i,r,s,o){let a=tn(),l=NN(a,n,t,e,i,r,s,o);return l!==hr&&ap(a,Po(),l),up}function Ad(n,t,e,i,r,s,o,a,l,c,u){let d=tn(),g=PN(d,n,t,e,i,r,s,o,a,l,c,u);return g!==hr&&ap(d,Po(),g),Ad}function mt(n,t,e){ix(t)&&(t=t());let i=tn(),r=Qf();if(Mo(i,r,t)){let s=xi(),o=xv();jC(s,o,i,n,t,i[ti],e,!1)}return mt}function _t(n,t){let e=ix(n);return e&&n.set(t),e}function vt(n,t){let e=tn(),i=xi(),r=Yi();return ox(i,e,e[ti],r,n,t),vt}function aP(n,t,e){let i=xi();if(i.firstCreatePass){let r=Da(n);Q0(e,i.data,i.blueprint,r,!0),Q0(t,i.data,i.blueprint,r,!1)}}function Q0(n,t,e,i,r){if(n=Gi(n),Array.isArray(n))for(let s=0;s<n.length;s++)Q0(n[s],t,e,i,r);else{let s=xi(),o=tn(),a=Yi(),l=$c(n)?n:Gi(n.provide),c=N2(n),u=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if($c(n)||!n.multi){let f=new Ll(c,r,Pt),w=d0(l,t,r?u:u+g,d);w===-1?(E0(Nf(a,o),s,l),u0(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[w]=f,o[w]=f)}else{let f=d0(l,t,u+g,d),w=d0(l,t,u,u+g),b=f>=0&&e[f],A=w>=0&&e[w];if(r&&!A||!r&&!b){E0(Nf(a,o),s,l);let C=uP(r?cP:lP,e.length,r,i,c);!r&&A&&(e[w].providerFactory=C),u0(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(C),o.push(C)}else{let C=dx(e[r?w:f],c,!r&&i);u0(s,n,f>-1?f:w,C)}!r&&i&&A&&e[w].componentProviders++}}}function u0(n,t,e,i){let r=$c(t),s=tI(t);if(r||s){let l=(s?Gi(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function dx(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function d0(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function lP(n,t,e,i){return J0(this.multi,[])}function cP(n,t,e,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ol(e,e[jt],this.providerFactory.index,i);s=a.slice(0,o),J0(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],J0(r,s);return s}function J0(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function uP(n,t,e,i,r){let s=new Ll(n,e,Pt);return s.multi=[],s.index=t,s.componentProviders=0,dx(s,r,i&&!e),s}function Oa(n,t=[]){return e=>{e.providersResolver=(i,r)=>aP(i,r?r(n):n,t)}}var dP=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=I2(!1,e.type),r=i.length>0?yN([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ot({token:n,providedIn:"environment",factory:()=>new n(Nt($s))})}}return n})();function dp(n){Vl("NgStandalone"),n.getStandaloneInjector=t=>t.get(dP).getOrCreateStandaloneInjector(n)}function Gv(n,t,e){let i=X2()+n,r=tn();return r[i]===hr?sx(r,i,e?t.call(e):t()):wN(r,i)}function hx(n,t,e,i,r){return fP(tn(),X2(),n,t,e,i,r)}function hP(n,t){let e=n[t];return e===hr?void 0:e}function fP(n,t,e,i,r,s,o){let a=t+e;return gd(n,a,r,s)?sx(n,a+2,o?i.call(o,r,s):i(r,s)):hP(n,a+2)}function fx(n,t){return lp(n,t)}var px=new It("");function Ed(n){return!!n&&typeof n.then=="function"}function gx(n){return!!n&&typeof n.subscribe=="function"}var pP=new It(""),mx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Mt(pP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let s=r();if(Ed(s))e.push(s);else if(gx(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vx=new It("");function gP(){qw(()=>{throw new Xe(600,!1)})}function mP(n){return n.isBoundToModule}var vP=10;function yP(n,t,e){try{let i=e();return Ed(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}var iu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(sM),this.afterRenderManager=Mt(IN),this.zonelessEnabled=Mt(qv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Hs,this.afterTick=new Hs,this.componentTypes=[],this.components=[],this.isStable=Mt(eu).hasPendingTasks.pipe(dr(e=>!e)),this._injector=Mt($s)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof Ff;if(!this._injector.get(mx).done){let g=!r&&XD(e),f=!1;throw new Xe(405,f)}let o;r?o=e:o=this._injector.get(pd).resolveComponentFactory(e),this.componentTypes.push(o.componentType);let a=mP(o)?void 0:this._injector.get(Zc),l=i||o.selector,c=o.create(Xc.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(px,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),_f(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Xe(101,!1);let e=en(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,en(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Ma,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<vP;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)_P(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Kf(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;_f(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(vx,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>_f(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Xe(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _f(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function _P(n,t,e,i){if(!e&&!Kf(n))return;YC(n,t,e&&!i?0:1)}var wP=(()=>{class n{constructor(){this.zone=Mt(Un),this.changeDetectionScheduler=Mt(Kc),this.applicationRef=Mt(iu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bP({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new Un(Jt(yt({},CP()),{scheduleInRootZone:e})),[{provide:Un,useFactory:n},{provide:ud,multi:!0,useFactory:()=>{let i=Mt(wP,{optional:!0});return()=>i.initialize()}},{provide:ud,multi:!0,useFactory:()=>{let i=Mt(xP);return()=>{i.initialize()}}},t===!0?{provide:QC,useValue:!0}:[],{provide:JC,useValue:e??fC}]}function CP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var xP=(()=>{class n{constructor(){this.subscription=new Wi,this.initialized=!1,this.zone=Mt(Un),this.pendingTasks=Mt(eu)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Un.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Un.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var AP=(()=>{class n{constructor(){this.appRef=Mt(iu),this.taskService=Mt(eu),this.ngZone=Mt(Un),this.zonelessEnabled=Mt(qv),this.disableScheduling=Mt(QC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Wi,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Mt(JC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof T0||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Vb:gC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EP(){return typeof $localize<"u"&&$localize.locale||Hf}var hp=new It("",{providedIn:"root",factory:()=>Mt(hp,Gt.Optional|Gt.SkipSelf)||EP()});var ev=new It("");function pf(n){return!n.moduleRef}function SP(n){let t=pf(n)?n.r3Injector:n.moduleRef.injector,e=t.get(Un);return e.run(()=>{pf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Io,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:s=>{i.handleError(s)}})}),pf(n)){let s=()=>t.destroy(),o=n.platformInjector.get(ev);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ev);o.add(s),n.moduleRef.onDestroy(()=>{_f(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return yP(i,e,()=>{let s=t.get(mx);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(hp,Hf);if(iP(o||Hf),pf(n)){let a=t.get(iu);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return DP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function DP(n,t){let e=n.injector.get(iu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new Xe(-403,!1);t.push(n)}var wf=null;function IP(n=[],t){return Xc.create({name:t,providers:[{provide:Wf,useValue:"platform"},{provide:ev,useValue:new Set([()=>wf=null])},...n]})}function MP(n=[]){if(wf)return wf;let t=IP(n);return wf=t,gP(),TP(t),t}function TP(n){n.get(Iv,null)?.forEach(e=>e())}function Fa(){return!1}var fp=(()=>{class n{static{this.__NG_ELEMENT_ID__=NP}}return n})();function NP(n){return PP(Yi(),tn(),(n&16)===16)}function PP(n,t,e){if(Yf(n)&&!e){let i=ka(n.index,t);return new Fl(i,i)}else if(n.type&175){let i=t[Ws];return new Fl(i,t)}return null}var tv=class{constructor(){}supports(t){return rx(t)}create(t){return new nv(t)}},kP=(n,t)=>t,nv=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kP}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){let o=!i||e&&e.currentIndex<o2(i,r,s)?e:i,a=o2(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let g=0;g<c;g++){let f=g<s.length?s[g]:s[g]=0,w=f+g;u<=w&&w<c&&(s[g]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!rx(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,s,o,a),i=!0):(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else r=0,_N(t,a=>{o=this._trackByFn(r,a),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,a,o,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new iv(e,i),s,r)),t}_verifyReinsertion(t,e,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Uf),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uf),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},iv=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},rv=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},Uf=class{constructor(){this.map=new Map}put(t){let e=t.trackById,i=this.map.get(e);i||(i=new rv,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,r=this.map.get(i);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function o2(n,t,e){let i=n.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}var sv=class{constructor(){}supports(t){return t instanceof Map||Wv(t)}create(){return new ov}},ov=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Wv(t)))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{let s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new av(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}},av=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function a2(){return new Yv([new tv])}var Yv=(()=>{class n{static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:a2})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||a2()),deps:[[n,new v2,new uv]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new Xe(901,!1)}}return n})();function l2(){return new Xv([new sv])}var Xv=(()=>{class n{static{this.\u0275prov=Ot({token:n,providedIn:"root",factory:l2})}constructor(e){this.factories=e}static create(e,i){if(i){let r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||l2()),deps:[[n,new v2,new uv]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Xe(901,!1)}}return n})();function yx(n){try{let{rootComponent:t,appProviders:e,platformProviders:i}=n,r=MP(i),s=[bP({}),{provide:Kc,useExisting:AP},...e||[]],o=new Bf({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return SP({r3Injector:o.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}}function Kv(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function pp(n,t){Vl("NgSignals");let e=Hw(n);return t?.equal&&(e[Eo].equal=t.equal),e}function Ra(n){let t=en(null);try{return n()}finally{en(t)}}var Sx=null;function Bo(){return Sx}function Dx(n){Sx??=n}var xp=class{};var fr=new It(""),Ix=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:()=>Mt(OP),providedIn:"platform"})}}return n})();var OP=(()=>{class n extends Ix{constructor(){super(),this._doc=Mt(fr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bo().getBaseHref(this._doc)}onPopState(e){let i=Bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Bo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Mx(n,t){if(n.length==0)return t;if(t.length==0)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?n+t.substring(1):e==1?n+t:n+"/"+t}function _x(n){let t=n.match(/#|\?|$/),e=t&&t.index||n.length,i=e-(n[e-1]==="/"?1:0);return n.slice(0,i)+n.slice(e)}function Hl(n){return n&&n[0]!=="?"?"?"+n:n}var iy=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:()=>Mt(RP),providedIn:"root"})}}return n})(),FP=new It(""),RP=(()=>{class n extends iy{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Mt(fr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Mx(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Hl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Hl(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Hl(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(Nt(Ix),Nt(FP,8))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ry=(()=>{class n{constructor(e){this._subject=new bi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=VP(_x(wx(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Hl(i))}normalize(e){return n.stripTrailingSlash(BP(this._basePath,wx(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Hl}static{this.joinWithSlash=Mx}static{this.stripTrailingSlash=_x}static{this.\u0275fac=function(i){return new(i||n)(Nt(iy))}}static{this.\u0275prov=Ot({token:n,factory:()=>jP(),providedIn:"root"})}}return n})();function jP(){return new ry(Nt(iy))}function BP(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function wx(n){return n.replace(/\/index.html$/,"")}function VP(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Xi=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Xi||{}),_n=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(_n||{}),kr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(kr||{}),ja={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HP(n){return ts(n)[Wn.LocaleId]}function UP(n,t,e){let i=ts(n),r=[i[Wn.DayPeriodsFormat],i[Wn.DayPeriodsStandalone]],s=ns(r,t);return ns(s,e)}function zP(n,t,e){let i=ts(n),r=[i[Wn.DaysFormat],i[Wn.DaysStandalone]],s=ns(r,t);return ns(s,e)}function qP(n,t,e){let i=ts(n),r=[i[Wn.MonthsFormat],i[Wn.MonthsStandalone]],s=ns(r,t);return ns(s,e)}function $P(n,t){let i=ts(n)[Wn.Eras];return ns(i,t)}function gp(n,t){let e=ts(n);return ns(e[Wn.DateFormat],t)}function mp(n,t){let e=ts(n);return ns(e[Wn.TimeFormat],t)}function vp(n,t){let i=ts(n)[Wn.DateTimeFormat];return ns(i,t)}function Ep(n,t){let e=ts(n),i=e[Wn.NumberSymbols][t];if(typeof i>"u"){if(t===ja.CurrencyDecimal)return e[Wn.NumberSymbols][ja.Decimal];if(t===ja.CurrencyGroup)return e[Wn.NumberSymbols][ja.Group]}return i}function Tx(n){if(!n[Wn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Wn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function WP(n){let t=ts(n);return Tx(t),(t[Wn.ExtraData][2]||[]).map(i=>typeof i=="string"?Zv(i):[Zv(i[0]),Zv(i[1])])}function GP(n,t,e){let i=ts(n);Tx(i);let r=[i[Wn.ExtraData][0],i[Wn.ExtraData][1]],s=ns(r,t)||[];return ns(s,e)||[]}function ns(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Zv(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var YP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yp={},XP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jo=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(jo||{}),ln=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(ln||{}),an=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(an||{});function KP(n,t,e,i){let r=sk(n);t=Ro(e,t)||t;let o=[],a;for(;t;)if(a=XP.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u}else{o.push(t);break}let l=r.getTimezoneOffset();i&&(l=Px(i,l),r=rk(r,i,!0));let c="";return o.forEach(u=>{let d=nk(u);c+=d?d(r,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ap(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ro(n,t){let e=HP(n);if(yp[e]??={},yp[e][t])return yp[e][t];let i="";switch(t){case"shortDate":i=gp(n,kr.Short);break;case"mediumDate":i=gp(n,kr.Medium);break;case"longDate":i=gp(n,kr.Long);break;case"fullDate":i=gp(n,kr.Full);break;case"shortTime":i=mp(n,kr.Short);break;case"mediumTime":i=mp(n,kr.Medium);break;case"longTime":i=mp(n,kr.Long);break;case"fullTime":i=mp(n,kr.Full);break;case"short":let r=Ro(n,"shortTime"),s=Ro(n,"shortDate");i=_p(vp(n,kr.Short),[r,s]);break;case"medium":let o=Ro(n,"mediumTime"),a=Ro(n,"mediumDate");i=_p(vp(n,kr.Medium),[o,a]);break;case"long":let l=Ro(n,"longTime"),c=Ro(n,"longDate");i=_p(vp(n,kr.Long),[l,c]);break;case"full":let u=Ro(n,"fullTime"),d=Ro(n,"fullDate");i=_p(vp(n,kr.Full),[u,d]);break}return i&&(yp[e][t]=i),i}function _p(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function As(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function ZP(n,t){return As(n,3).substring(0,t)}function ni(n,t,e=0,i=!1,r=!1){return function(s,o){let a=QP(n,s);if((e>0||a>-e)&&(a+=e),n===ln.Hours)a===0&&e===-12&&(a=12);else if(n===ln.FractionalSeconds)return ZP(a,t);let l=Ep(o,ja.MinusSign);return As(a,t,l,i,r)}}function QP(n,t){switch(n){case ln.FullYear:return t.getFullYear();case ln.Month:return t.getMonth();case ln.Date:return t.getDate();case ln.Hours:return t.getHours();case ln.Minutes:return t.getMinutes();case ln.Seconds:return t.getSeconds();case ln.FractionalSeconds:return t.getMilliseconds();case ln.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function An(n,t,e=Xi.Format,i=!1){return function(r,s){return JP(r,s,n,t,e,i)}}function JP(n,t,e,i,r,s){switch(e){case an.Months:return qP(t,r,i)[n.getMonth()];case an.Days:return zP(t,r,i)[n.getDay()];case an.DayPeriods:let o=n.getHours(),a=n.getMinutes();if(s){let c=WP(t),u=GP(t,r,i),d=c.findIndex(g=>{if(Array.isArray(g)){let[f,w]=g,b=o>=f.hours&&a>=f.minutes,A=o<w.hours||o===w.hours&&a<w.minutes;if(f.hours<w.hours){if(b&&A)return!0}else if(b||A)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return UP(t,r,i)[o<12?0:1];case an.Eras:return $P(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function wp(n){return function(t,e,i){let r=-1*i,s=Ep(e,ja.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case jo.Short:return(r>=0?"+":"")+As(o,2,s)+As(Math.abs(r%60),2,s);case jo.ShortGMT:return"GMT"+(r>=0?"+":"")+As(o,1,s);case jo.Long:return"GMT"+(r>=0?"+":"")+As(o,2,s)+":"+As(Math.abs(r%60),2,s);case jo.Extended:return i===0?"Z":(r>=0?"+":"")+As(o,2,s)+":"+As(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var ek=0,Cp=4;function tk(n){let t=Ap(n,ek,1).getDay();return Ap(n,0,1+(t<=Cp?Cp:Cp+7)-t)}function Nx(n){let t=n.getDay(),e=t===0?-3:Cp-t;return Ap(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Qv(n,t=!1){return function(e,i){let r;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{let s=Nx(e),o=tk(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return As(r,n,Ep(i,ja.MinusSign))}}function bp(n,t=!1){return function(e,i){let s=Nx(e).getFullYear();return As(s,n,Ep(i,ja.MinusSign),t)}}var Jv={};function nk(n){if(Jv[n])return Jv[n];let t;switch(n){case"G":case"GG":case"GGG":t=An(an.Eras,_n.Abbreviated);break;case"GGGG":t=An(an.Eras,_n.Wide);break;case"GGGGG":t=An(an.Eras,_n.Narrow);break;case"y":t=ni(ln.FullYear,1,0,!1,!0);break;case"yy":t=ni(ln.FullYear,2,0,!0,!0);break;case"yyy":t=ni(ln.FullYear,3,0,!1,!0);break;case"yyyy":t=ni(ln.FullYear,4,0,!1,!0);break;case"Y":t=bp(1);break;case"YY":t=bp(2,!0);break;case"YYY":t=bp(3);break;case"YYYY":t=bp(4);break;case"M":case"L":t=ni(ln.Month,1,1);break;case"MM":case"LL":t=ni(ln.Month,2,1);break;case"MMM":t=An(an.Months,_n.Abbreviated);break;case"MMMM":t=An(an.Months,_n.Wide);break;case"MMMMM":t=An(an.Months,_n.Narrow);break;case"LLL":t=An(an.Months,_n.Abbreviated,Xi.Standalone);break;case"LLLL":t=An(an.Months,_n.Wide,Xi.Standalone);break;case"LLLLL":t=An(an.Months,_n.Narrow,Xi.Standalone);break;case"w":t=Qv(1);break;case"ww":t=Qv(2);break;case"W":t=Qv(1,!0);break;case"d":t=ni(ln.Date,1);break;case"dd":t=ni(ln.Date,2);break;case"c":case"cc":t=ni(ln.Day,1);break;case"ccc":t=An(an.Days,_n.Abbreviated,Xi.Standalone);break;case"cccc":t=An(an.Days,_n.Wide,Xi.Standalone);break;case"ccccc":t=An(an.Days,_n.Narrow,Xi.Standalone);break;case"cccccc":t=An(an.Days,_n.Short,Xi.Standalone);break;case"E":case"EE":case"EEE":t=An(an.Days,_n.Abbreviated);break;case"EEEE":t=An(an.Days,_n.Wide);break;case"EEEEE":t=An(an.Days,_n.Narrow);break;case"EEEEEE":t=An(an.Days,_n.Short);break;case"a":case"aa":case"aaa":t=An(an.DayPeriods,_n.Abbreviated);break;case"aaaa":t=An(an.DayPeriods,_n.Wide);break;case"aaaaa":t=An(an.DayPeriods,_n.Narrow);break;case"b":case"bb":case"bbb":t=An(an.DayPeriods,_n.Abbreviated,Xi.Standalone,!0);break;case"bbbb":t=An(an.DayPeriods,_n.Wide,Xi.Standalone,!0);break;case"bbbbb":t=An(an.DayPeriods,_n.Narrow,Xi.Standalone,!0);break;case"B":case"BB":case"BBB":t=An(an.DayPeriods,_n.Abbreviated,Xi.Format,!0);break;case"BBBB":t=An(an.DayPeriods,_n.Wide,Xi.Format,!0);break;case"BBBBB":t=An(an.DayPeriods,_n.Narrow,Xi.Format,!0);break;case"h":t=ni(ln.Hours,1,-12);break;case"hh":t=ni(ln.Hours,2,-12);break;case"H":t=ni(ln.Hours,1);break;case"HH":t=ni(ln.Hours,2);break;case"m":t=ni(ln.Minutes,1);break;case"mm":t=ni(ln.Minutes,2);break;case"s":t=ni(ln.Seconds,1);break;case"ss":t=ni(ln.Seconds,2);break;case"S":t=ni(ln.FractionalSeconds,1);break;case"SS":t=ni(ln.FractionalSeconds,2);break;case"SSS":t=ni(ln.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wp(jo.Short);break;case"ZZZZZ":t=wp(jo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wp(jo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wp(jo.Long);break;default:return null}return Jv[n]=t,t}function Px(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function ik(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function rk(n,t,e){let i=e?-1:1,r=n.getTimezoneOffset(),s=Px(t,r);return ik(n,i*(s-r))}function sk(n){if(bx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return Ap(r,s-1,o)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(YP))return ok(i)}let t=new Date(n);if(!bx(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function ok(n){let t=new Date(0),e=0,i=0,r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(t,o,a,l,c),t}function bx(n){return n instanceof Date&&!isNaN(n.valueOf())}function Sp(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[r,s]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var ey=/\s+/,Cx=[],kx=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Cx,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(ey):Cx}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(ey):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(ey).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(Pt(Pr),Pt(ko))}}static{this.\u0275dir=Ci({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var ty=class{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dp=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new ty(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),xx(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);xx(s,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Pt(nu),Pt(Rl),Pt(Yv))}}static{this.\u0275dir=Ci({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function xx(n,t){n.context.$implicit=t.item}var Ip=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ny,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ax("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ax("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(Pt(nu),Pt(Rl))}}static{this.\u0275dir=Ci({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),ny=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ax(n,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Tr(t)}'.`)}var Lx=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){let[r,s]=e.split("."),o=r.indexOf("-")===-1?void 0:Xs.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(Pt(Pr),Pt(Xv),Pt(ko))}}static{this.\u0275dir=Ci({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function ak(n,t){return new Xe(2100,!1)}var lk="mediumDate",ck=new It(""),uk=new It(""),Mp=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(e==null||e===""||e!==e)return null;try{let o=i??this.defaultOptions?.dateFormat??lk,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return KP(e,o,s||this.locale,a)}catch(o){throw ak(n,o.message)}}static{this.\u0275fac=function(i){return new(i||n)(Pt(hp,16),Pt(ck,24),Pt(uk,24))}}static{this.\u0275pipe=x2({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Sd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Pa({type:n})}static{this.\u0275inj=Na({})}}return n})(),Ox="browser",dk="server";function Tp(n){return n===dk}var ru=class{};var Id=class{},Pp=class{},Vo=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ay=class{encodeKey(t){return Fx(t)}encodeValue(t){return Fx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function hk(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var fk=/%(\d[a-f0-9])/gi,pk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Fx(n){return encodeURIComponent(n).replace(fk,(t,e)=>pk[e]??t)}function Np(n){return`${n}`}var Va=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ay,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=hk(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Np):[Np(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Np(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Np(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var ly=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function gk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Rx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jx(n){return typeof Blob<"u"&&n instanceof Blob}function Bx(n){return typeof FormData<"u"&&n instanceof FormData}function mk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Dd=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(gk(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Vo,this.context??=new ly,!this.params)this.params=new Va,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Rx(this.body)||jx(this.body)||Bx(this.body)||mk(this.body)?this.body:this.body instanceof Va?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bx(this.body)?null:jx(this.body)?this.body.type||null:Rx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((g,f)=>g.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((g,f)=>g.set(f,t.setParams[f]),u)),new n(e,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Ha=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ha||{}),Md=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Vo,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},kp=class n extends Md{constructor(t={}){super(t),this.type=Ha.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Td=class n extends Md{constructor(t={}){super(t),this.type=Ha.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ba=class extends Md{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},zx=200,vk=204;function oy(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Nd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Dd)s=e;else{let l;r.headers instanceof Vo?l=r.headers:l=new Vo(r.headers);let c;r.params&&(r.params instanceof Va?c=r.params:c=new Va({fromObject:r.params})),s=new Dd(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=cf(s).pipe(Xm(l=>this.handler.handle(l)));if(e instanceof Dd||r.observe==="events")return o;let a=o.pipe(Ym(l=>l instanceof Td));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(dr(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(dr(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(dr(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(dr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Va().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,oy(r,i))}post(e,i,r={}){return this.request("POST",e,oy(r,i))}put(e,i,r={}){return this.request("PUT",e,oy(r,i))}static{this.\u0275fac=function(i){return new(i||n)(Nt(Id))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),yk=/^\)\]\}',?\n/,_k="X-Request-URL";function Vx(n){if(n.url)return n.url;let t=_k.toLocaleLowerCase();return n.headers.get(t)}var wk=(()=>{class n{constructor(){this.fetchImpl=Mt(cy,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=Mt(Un)}handle(e){return new Hn(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(uy,s=>i.error(new Ba({error:s}))),()=>r.abort()})}doRequest(e,i,r){return Be(this,null,function*(){let s=this.createRequestInit(e),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,yt({signal:i},s)));bk(f),r.next({type:Ha.Sent}),o=yield f}catch(f){r.error(new Ba({error:f,status:f.status??0,statusText:f.statusText,url:e.urlWithParams,headers:f.headers}));return}let a=new Vo(o.headers),l=o.statusText,c=Vx(o)??e.urlWithParams,u=o.status,d=null;if(e.reportProgress&&r.next(new kp({headers:a,status:u,statusText:l,url:c})),o.body){let f=o.headers.get("content-length"),w=[],b=o.body.getReader(),A=0,C,D,P=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Be(this,null,function*(){for(;;){let{done:Z,value:ae}=yield b.read();if(Z)break;if(w.push(ae),A+=ae.length,e.reportProgress){D=e.responseType==="text"?(D??"")+(C??=new TextDecoder).decode(ae,{stream:!0}):void 0;let X=()=>r.next({type:Ha.DownloadProgress,total:f?+f:void 0,loaded:A,partialText:D});P?P.run(X):X()}}}));let z=this.concatChunks(w,A);try{let Z=o.headers.get("Content-Type")??"";d=this.parseBody(e,z,Z)}catch(Z){r.error(new Ba({error:Z,headers:new Vo(o.headers),status:o.status,statusText:o.statusText,url:Vx(o)??e.urlWithParams}));return}}u===0&&(u=d?zx:0),u>=200&&u<300?(r.next(new Td({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Ba({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(e,i,r){switch(e.responseType){case"json":let s=new TextDecoder().decode(i).replace(yk,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>i[s]=o.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),s=0;for(let o of e)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),cy=class{};function uy(){}function bk(n){n.then(uy,uy)}function Ck(n,t){return t(n)}function xk(n,t,e){return(i,r)=>P2(e,()=>t(i,s=>n(s,r)))}var qx=new It(""),Ak=new It(""),Ek=new It("",{providedIn:"root",factory:()=>!0});var Hx=(()=>{class n extends Id{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Mt(eu),this.contributeToStability=Mt(Ek)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(qx),...this.injector.get(Ak,[])]));this.chain=i.reduceRight((r,s)=>xk(r,s,this.injector),Ck)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Km(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(Nt(Pp),Nt($s))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})();var Sk=/^\)\]\}',?\n/;function Dk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Ux=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Xe(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Kr(i.\u0275loadImpl()):cf(null)).pipe(Zm(()=>new Hn(s=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((b,A)=>o.setRequestHeader(b,A.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let b=e.detectContentTypeHeader();b!==null&&o.setRequestHeader("Content-Type",b)}if(e.responseType){let b=e.responseType.toLowerCase();o.responseType=b!=="json"?b:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=o.statusText||"OK",A=new Vo(o.getAllResponseHeaders()),C=Dk(o)||e.url;return l=new kp({headers:A,status:o.status,statusText:b,url:C}),l},u=()=>{let{headers:b,status:A,statusText:C,url:D}=c(),P=null;A!==vk&&(P=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=P?zx:0);let z=A>=200&&A<300;if(e.responseType==="json"&&typeof P=="string"){let Z=P;P=P.replace(Sk,"");try{P=P!==""?JSON.parse(P):null}catch(ae){P=Z,z&&(z=!1,P={error:ae,text:P})}}z?(s.next(new Td({body:P,headers:b,status:A,statusText:C,url:D||void 0})),s.complete()):s.error(new Ba({error:P,headers:b,status:A,statusText:C,url:D||void 0}))},d=b=>{let{url:A}=c(),C=new Ba({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(C)},g=!1,f=b=>{g||(s.next(c()),g=!0);let A={type:Ha.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(A.total=b.total),e.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),s.next(A)},w=b=>{let A={type:Ha.UploadProgress,loaded:b.loaded};b.lengthComputable&&(A.total=b.total),s.next(A)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(a),s.next({type:Ha.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(Nt(ru))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),$x=new It(""),Ik="XSRF-TOKEN",Mk=new It("",{providedIn:"root",factory:()=>Ik}),Tk="X-XSRF-TOKEN",Nk=new It("",{providedIn:"root",factory:()=>Tk}),Lp=class{},Pk=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sp(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(Nt(fr),Nt(La),Nt(Mk))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})();function kk(n,t){let e=n.url.toLowerCase();if(!Mt($x)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=Mt(Lp).getToken(),r=Mt(Nk);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}function Wx(...n){let t=[Nd,Ux,Hx,{provide:Id,useExisting:Hx},{provide:Pp,useFactory:()=>Mt(wk,{optional:!0})??Mt(Ux)},{provide:qx,useValue:kk,multi:!0},{provide:$x,useValue:!0},{provide:Lp,useClass:Pk}];for(let e of n)t.push(...e.\u0275providers);return fv(t)}var fy=class extends xp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},py=class n extends fy{static makeCurrent(){Dx(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Ok();return e==null?null:Fk(e)}resetBaseElement(){Pd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Sp(document.cookie,t)}},Pd=null;function Ok(){return Pd=Pd||document.querySelector("base"),Pd?Pd.getAttribute("href"):null}function Fk(n){return new URL(n,document.baseURI).pathname}var Rk=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),gy=new It(""),Kx=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new Xe(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(Nt(gy),Nt(Un))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),Op=class{constructor(t){this._doc=t}},dy="ng-app-id",Zx=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tp(s),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${dy}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(dy),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(dy,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(Nt(fr),Nt(Dv),Nt(Tv,8),Nt(La))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vy=/%COMP%/g,Qx="%COMP%",jk=`_nghost-${Qx}`,Bk=`_ngcontent-${Qx}`,Vk=!0,Hk=new It("",{providedIn:"root",factory:()=>Vk});function Uk(n){return Bk.replace(vy,n)}function zk(n){return jk.replace(vy,n)}function Jx(n,t){return t.map(e=>e.replace(vy,n))}var Fp=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Tp(a),this.defaultRenderer=new kd(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qs.ShadowDom&&(i=Jt(yt({},i),{encapsulation:qs.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Rp?r.applyToHost(e):r instanceof Ld&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case qs.Emulated:s=new Rp(l,c,i,this.appId,u,o,a,d);break;case qs.ShadowDom:return new my(l,c,e,i,o,a,this.nonce,d);default:s=new Ld(l,c,i,u,o,a,d);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(Nt(Kx),Nt(Zx),Nt(Dv),Nt(Hk),Nt(fr),Nt(La),Nt(Un),Nt(Tv))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),kd=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(hy[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Yx(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Yx(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Xe(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let s=hy[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=hy[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Xs.DashCase|Xs.Important)?t.style.setProperty(e,i,r&Xs.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Xs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=Bo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Yx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var my=class extends kd{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Jx(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ld=class extends kd{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Jx(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rp=class extends Ld{constructor(t,e,i,r,s,o,a,l){let c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=Uk(c),this.hostAttr=zk(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},qk=(()=>{class n extends Op{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(Nt(fr))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),Xx=["alt","control","meta","shift"],$k={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Gk=(()=>{class n extends Op{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bo().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Xx.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=$k[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Xx.forEach(o=>{if(o!==r){let a=Wk[o];a(e)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(Nt(fr))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})();function e5(n,t){return yx(yt({rootComponent:n},Yk(t)))}function Yk(n){return{appProviders:[...Jk,...n?.providers??[]],platformProviders:Qk}}function Xk(){py.makeCurrent()}function Kk(){return new Io}function Zk(){return CC(document),document}var Qk=[{provide:La,useValue:Ox},{provide:Iv,useValue:Xk,multi:!0},{provide:fr,useFactory:Zk,deps:[]}];var Jk=[{provide:Wf,useValue:"root"},{provide:Io,useFactory:Kk,deps:[]},{provide:gy,useClass:qk,multi:!0,deps:[fr,Un,La]},{provide:gy,useClass:Gk,multi:!0,deps:[fr]},Fp,Zx,Kx,{provide:Ma,useExisting:Fp},{provide:ru,useClass:Rk,deps:[]},[]];var u5=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(Pt(ko),Pt(Pr))}}static{this.\u0275dir=Ci({type:n})}}return n})(),Cy=(()=>{class n extends u5{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=wd(n)))(r||n)}})()}static{this.\u0275dir=Ci({type:n,features:[Lo]})}}return n})(),Up=new It("");var e3={provide:Up,useExisting:Ta(()=>lu),multi:!0};function t3(){let n=Bo()?Bo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var n3=new It(""),lu=(()=>{class n extends u5{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!t3())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(Pt(ko),Pt(Pr),Pt(n3,8))}}static{this.\u0275dir=Ci({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&rt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Oa([e3]),Lo]})}}return n})();function i3(n){return n!=null&&typeof n.length=="number"}var d5=new It(""),r3=new It("");function s3(n){return t=>i3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function t5(n){return null}function h5(n){return n!=null}function f5(n){return Ed(n)?Kr(n):n}function p5(n){let t={};return n.forEach(e=>{t=e!=null?yt(yt({},t),e):t}),Object.keys(t).length===0?null:t}function g5(n,t){return t.map(e=>e(n))}function o3(n){return!n.validate}function m5(n){return n.map(t=>o3(t)?t:e=>t.validate(e))}function a3(n){if(!n)return null;let t=n.filter(h5);return t.length==0?null:function(e){return p5(g5(e,t))}}function v5(n){return n!=null?a3(m5(n)):null}function l3(n){if(!n)return null;let t=n.filter(h5);return t.length==0?null:function(e){let i=g5(e,t).map(f5);return Gm(i).pipe(dr(p5))}}function y5(n){return n!=null?l3(m5(n)):null}function n5(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function c3(n){return n._rawValidators}function u3(n){return n._rawAsyncValidators}function yy(n){return n?Array.isArray(n)?n:[n]:[]}function Bp(n,t){return Array.isArray(n)?n.includes(t):n===t}function i5(n,t){let e=yy(t);return yy(n).forEach(r=>{Bp(e,r)||e.push(r)}),e}function r5(n,t){return yy(t).filter(e=>!Bp(n,e))}var Vp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=v5(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=y5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},_y=class extends Vp{get formDirective(){return null}get path(){return null}},Bd=class extends Vp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wy=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},d3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},n9=Jt(yt({},d3),{"[class.ng-submitted]":"isSubmitted"}),zp=(()=>{class n extends wy{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(Pt(Bd,2))}}static{this.\u0275dir=Ci({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&nn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Lo]})}}return n})();var Od="VALID",jp="INVALID",su="PENDING",Fd="DISABLED",au=class{},Hp=class extends au{constructor(t,e){super(),this.value=t,this.source=e}},Rd=class extends au{constructor(t,e){super(),this.pristine=t,this.source=e}},jd=class extends au{constructor(t,e){super(),this.touched=t,this.source=e}},ou=class extends au{constructor(t,e){super(),this.status=t,this.source=e}};function h3(n){return(qp(n)?n.validators:n)||null}function f3(n){return Array.isArray(n)?v5(n):n||null}function p3(n,t){return(qp(t)?t.asyncValidators:n)||null}function g3(n){return Array.isArray(n)?y5(n):n||null}function qp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var by=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pp(()=>this.statusReactive()),this.statusReactive=cp(void 0),this._pristine=pp(()=>this.pristineReactive()),this.pristineReactive=cp(!0),this._touched=pp(()=>this.touchedReactive()),this.touchedReactive=cp(!1),this._events=new Hs,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ra(this.statusReactive)}set status(t){Ra(()=>this.statusReactive.set(t))}get valid(){return this.status===Od}get invalid(){return this.status===jp}get pending(){return this.status==su}get disabled(){return this.status===Fd}get enabled(){return this.status!==Fd}get pristine(){return Ra(this.pristineReactive)}set pristine(t){Ra(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Ra(this.touchedReactive)}set touched(t){Ra(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(i5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(i5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(r5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(r5(t,this._rawAsyncValidators))}hasValidator(t){return Bp(this._rawValidators,t)}hasAsyncValidator(t){return Bp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Jt(yt({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new jd(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new jd(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Jt(yt({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Rd(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Rd(!0,i))}markAsPending(t={}){this.status=su;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ou(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Jt(yt({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Fd,this.errors=null,this._forEachChild(r=>{r.disable(Jt(yt({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hp(this.value,i)),this._events.next(new ou(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Jt(yt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Od,this._forEachChild(i=>{i.enable(Jt(yt({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Jt(yt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Od||this.status===su)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hp(this.value,e)),this._events.next(new ou(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Jt(yt({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fd:Od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=su,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=f5(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new ou(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new bi,this.statusChanges=new bi}_calculateStatus(){return this._allControlsDisabled()?Fd:this.errors?jp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(su)?su:this._anyControlsHaveStatus(jp)?jp:Od}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Rd(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new jd(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=f3(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=g3(this._rawAsyncValidators)}};var _5=new It("CallSetDisabledState",{providedIn:"root",factory:()=>xy}),xy="always";function m3(n,t){return[...t.path,n]}function v3(n,t,e=xy){_3(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),w3(n,t),C3(n,t),b3(n,t),y3(n,t)}function s5(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function y3(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function _3(n,t){let e=c3(n);t.validator!==null?n.setValidators(n5(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=u3(n);t.asyncValidator!==null?n.setAsyncValidators(n5(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();s5(t._rawValidators,r),s5(t._rawAsyncValidators,r)}function w3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&w5(n,t)})}function b3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&w5(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function w5(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C3(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function x3(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function A3(n){return Object.getPrototypeOf(n.constructor)===Cy}function E3(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===lu?e=s:A3(s)?i=s:r=s}),r||i||e||null}function o5(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function a5(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var S3=class extends by{constructor(t=null,e,i){super(h3(e),p3(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(a5(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){o5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){o5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){a5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var D3={provide:Bd,useExisting:Ta(()=>Vd)},l5=Promise.resolve(),Vd=(()=>{class n extends Bd{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new S3,this._registered=!1,this.name="",this.update=new bi,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=E3(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),x3(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){v3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){l5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Kv(i);l5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?m3(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(Pt(_y,9),Pt(d5,10),Pt(r3,10),Pt(Up,10),Pt(fp,8),Pt(_5,8))}}static{this.\u0275dir=Ci({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oa([D3]),Lo,_d]})}}return n})();var I3={provide:Up,useExisting:Ta(()=>cu),multi:!0};function b5(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function M3(n){return n.split(":")[0]}var cu=(()=>{class n extends Cy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=b5(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=M3(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=wd(n)))(r||n)}})()}static{this.\u0275dir=Ci({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&rt("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oa([I3]),Lo]})}}return n})(),$p=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(b5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Pt(Pr),Pt(ko),Pt(cu,9))}}static{this.\u0275dir=Ci({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),T3={provide:Up,useExisting:Ta(()=>C5),multi:!0};function c5(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function N3(n){return n.split(":")[0]}var C5=(()=>{class n extends Cy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=N3(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=wd(n)))(r||n)}})()}static{this.\u0275dir=Ci({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&rt("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Oa([T3]),Lo]})}}return n})(),Wp=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(c5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(c5(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(Pt(Pr),Pt(ko),Pt(C5,9))}}static{this.\u0275dir=Ci({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function P3(n){return typeof n=="number"?n:parseInt(n,10)}var k3=(()=>{class n{constructor(){this._validator=t5}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):t5,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ci({type:n,features:[_d]})}}return n})();var L3={provide:d5,useExisting:Ta(()=>Ay),multi:!0},Ay=(()=>{class n extends k3{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>P3(e),this.createValidator=e=>s3(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=wd(n)))(r||n)}})()}static{this.\u0275dir=Ci({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&xd("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Oa([L3]),Lo]})}}return n})();var O3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Pa({type:n})}static{this.\u0275inj=Na({})}}return n})();var Gp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_5,useValue:e.callSetDisabledState??xy}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Pa({type:n})}static{this.\u0275inj=Na({imports:[O3]})}}return n})();var Wd={};Wd.d=(n,t)=>{for(var e in t)Wd.o(t,e)&&!Wd.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Wd.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var Dt=globalThis.pdfjsLib={};Wd.d(Dt,{AbortException:()=>Qs,AnnotationEditorLayer:()=>PL,AnnotationEditorParamsType:()=>Xt,AnnotationEditorType:()=>Ft,AnnotationEditorUIManager:()=>Qd,AnnotationLayer:()=>B1,AnnotationMode:()=>Ua,ColorPicker:()=>Dg,DOMSVGFactory:()=>ih,DrawLayer:()=>Y1,FeatureTest:()=>Ai,GlobalWorkerOptions:()=>zl,ImageKind:()=>Jp,InvalidPDFException:()=>Yd,MissingPDFException:()=>ql,OPS:()=>Es,OutputScale:()=>Zd,PDFDataRangeTransport:()=>gg,PDFDateString:()=>ng,PDFWorker:()=>hu,PasswordResponses:()=>V3,PermissionFlag:()=>B3,PixelsPerInch:()=>qa,RenderingCancelledException:()=>Kd,TextLayer:()=>th,TouchManager:()=>rg,UnexpectedResponseException:()=>fu,Util:()=>ot,VerbosityLevel:()=>Tg,XfaLayer:()=>yg,build:()=>ML,createValidAbsoluteUrl:()=>q3,fetchData:()=>Lg,getDocument:()=>EL,getFilenameFromUrl:()=>Q3,getPdfFilenameFromUrl:()=>J3,getXfaPageViewport:()=>eL,isDataScheme:()=>Og,isPdfFile:()=>Z1,noContextMenu:()=>Ss,normalizeUnicode:()=>X3,setLayerDimensions:()=>$l,shadow:()=>Vt,stopEvent:()=>Or,version:()=>IL});var Ni=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),B5=[1,0,0,1,0,0],Ty=[.001,0,0,.001,0,0],F3=1e7,Qp=1.35,R3=.35,s9=R3/Qp,Lr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ua={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},j3="pdfjs_internal_editor_",Ft={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},B3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Mi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Jp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ui={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var Hd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var Tg={ERRORS:0,WARNINGS:1,INFOS:5},Es={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},V3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Ng=Tg.WARNINGS;function H3(n){Number.isInteger(n)&&(Ng=n)}function U3(){return Ng}function Pg(n){Ng>=Tg.INFOS&&console.log(`Info: ${n}`)}function Rt(n){Ng>=Tg.WARNINGS&&console.log(`Warning: ${n}`)}function wn(n){throw new Error(n)}function ri(n,t){n||wn(t)}function z3(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function q3(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=Y3(n)}catch{}let i=t?new URL(n,t):new URL(n);if(z3(i))return i}catch{}return null}function Vt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}var $a=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}(),eg=class extends $a{constructor(t,e){super(t,"PasswordException"),this.code=e}},Gd=class extends $a{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},Yd=class extends $a{constructor(t){super(t,"InvalidPDFException")}},ql=class extends $a{constructor(t){super(t,"MissingPDFException")}},fu=class extends $a{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},Ny=class extends $a{constructor(t){super(t,"FormatError")}},Qs=class extends $a{constructor(t){super(t,"AbortException")}};function V5(n){(typeof n!="object"||n?.length===void 0)&&wn("Invalid argument for bytesToString");let t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);let i=[];for(let r=0;r<t;r+=e){let s=Math.min(r+e,t),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function kg(n){typeof n!="string"&&wn("Invalid argument for stringToBytes");let t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function $3(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function X1(n){let t=Object.create(null);for(let[e,i]of n)t[e]=i;return t}function W3(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function G3(){try{return new Function(""),!0}catch{return!1}}var Ai=class{static get isLittleEndian(){return Vt(this,"isLittleEndian",W3())}static get isEvalSupported(){return Vt(this,"isEvalSupported",G3())}static get isOffscreenCanvasSupported(){return Vt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Vt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Vt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Vt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Vt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},Ey=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),ot=class{static makeHexColor(t,e,i){return`#${Ey[t]}${Ey[e]}${Ey[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){let i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){let i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,s]}static getAxialAlignedBoundingBox(t,e){let i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],s[0],o[0]),Math.min(i[1],r[1],s[1],o[1]),Math.max(i[0],r[0],s[0],o[0]),Math.max(i[1],r[1],s[1],o[1])]}static inverseTransform(t){let e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){let e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(i+o)/2,l=Math.sqrt((i+o)**2-4*(i*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(t){let e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){let i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;let s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[i,s,r,o]}static#e(t,e,i,r,s,o,a,l,c,u){if(c<=0||c>=1)return;let d=1-c,g=c*c,f=g*c,w=d*(d*(d*t+3*c*e)+3*g*i)+f*r,b=d*(d*(d*s+3*c*o)+3*g*a)+f*l;u[0]=Math.min(u[0],w),u[1]=Math.min(u[1],b),u[2]=Math.max(u[2],w),u[3]=Math.max(u[3],b)}static#t(t,e,i,r,s,o,a,l,c,u,d,g){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(t,e,i,r,s,o,a,l,-d/u,g);return}let f=u**2-4*d*c;if(f<0)return;let w=Math.sqrt(f),b=2*c;this.#e(t,e,i,r,s,o,a,l,(-u+w)/b,g),this.#e(t,e,i,r,s,o,a,l,(-u-w)/b,g)}static bezierBoundingBox(t,e,i,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,a),Math.min(e,l),Math.max(t,a),Math.max(e,l)],this.#t(t,i,s,a,e,r,o,l,3*(-t+3*(i-s)+a),6*(t-2*i+s),3*(i-t),c),this.#t(t,i,s,a,e,r,o,l,3*(-e+3*(r-o)+l),6*(e-2*r+o),3*(r-e),c),c}};function Y3(n){return decodeURIComponent(escape(n))}var Sy=null,A5=null;function X3(n){return Sy||(Sy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,A5=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(Sy,(t,e,i)=>e?e.normalize("NFKC"):A5.get(i))}function K3(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);return crypto.getRandomValues(n),V5(n)}var K1="pdfjs_internal_id_";function Z3(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(V5(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});var Ho="http://www.w3.org/2000/svg",qa=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function Lg(n,t="text"){return Be(this,null,function*(){if($d(n,document.baseURI)){let e=yield fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{let r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})})}var Xd=class n{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=e;let l=(t[2]+t[0])/2,c=(t[3]+t[1])/2,u,d,g,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,g=0,f=1;break;case 90:u=0,d=1,g=1,f=0;break;case 270:u=0,d=-1,g=-1,f=0;break;case 0:u=1,d=0,g=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,f=-f);let w,b,A,C;u===0?(w=Math.abs(c-t[1])*i+s,b=Math.abs(l-t[0])*i+o,A=(t[3]-t[1])*i,C=(t[2]-t[0])*i):(w=Math.abs(l-t[0])*i+s,b=Math.abs(c-t[1])*i+o,A=(t[2]-t[0])*i,C=(t[3]-t[1])*i),this.transform=[u*i,d*i,g*i,f*i,w-u*i*l-g*i*c,b-d*i*l-f*i*c],this.width=A,this.height=C}get rawDims(){let{userUnit:t,viewBox:e}=this,i=e.map(r=>r*t);return Vt(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new n({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){return ot.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){let e=ot.applyTransform([t[0],t[1]],this.transform),i=ot.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return ot.applyInverseTransform([t,e],this.transform)}},Kd=class extends $a{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}};function Og(n){let t=n.length,e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Z1(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Q3(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function J3(n,t="document.pdf"){if(typeof n!="string")return t;if(Og(n))return Rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;let e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(n),s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||t}var tg=class{started=Object.create(null);times=[];time(t){t in this.started&&Rt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Rt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){let t=[],e=0;for(let{name:i}of this.times)e=Math.max(i.length,e);for(let{name:i,start:r,end:s}of this.times)t.push(`${i.padEnd(e)} ${s-r}ms
`);return t.join("")}};function $d(n,t){try{let{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function Ss(n){n.preventDefault()}function Or(n){n.preventDefault(),n.stopPropagation()}var ng=class{static#e;static toDateObject(t){if(!t||typeof t!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let e=this.#e.exec(t);if(!e)return null;let i=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;let c=e[7]||"Z",u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(i,r,s,o,a,l))}};function eL(n,{scale:t=1,rotation:e=0}){let{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Xd({viewBox:s,userUnit:1,scale:t,rotation:e})}function Q1(n){if(n.startsWith("#")){let t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Rt(`Not a valid color format: "${n}"`),[0,0,0])}function tL(n){let t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(let e of n.keys()){t.style.color=e;let i=window.getComputedStyle(t).color;n.set(e,Q1(i))}t.remove()}function kn(n){let{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform();return[t,e,i,r,s,o]}function Ks(n){let{a:t,b:e,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[t,e,i,r,s,o]}function $l(n,t,e=!1,i=!0){if(t instanceof Xd){let{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=n,a=Ai.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}i&&n.setAttribute("data-main-rotation",t.rotation)}var Zd=class{constructor(){let t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},Py=class n{#e=null;#t=null;#n;#i=null;#s=null;static#r=null;constructor(t){this.#n=t,n.#r||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let t=this.#e=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");let e=this.#n._uiManager._signal;t.addEventListener("contextmenu",Ss,{signal:e}),t.addEventListener("pointerdown",n.#l,{signal:e});let i=this.#i=document.createElement("div");i.className="buttons",t.append(i);let r=this.#n.toolbarPosition;if(r){let{style:s}=t,o=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),t}get div(){return this.#e}static#l(t){t.stopPropagation()}#a(t){this.#n._focusEventsAllowed=!1,Or(t)}#u(t){this.#n._focusEventsAllowed=!0,Or(t)}#c(t){let e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#a.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ss,{signal:e})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#h(){let{editorType:t,_uiManager:e}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#r[t]),this.#c(i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(i)}get#d(){let t=document.createElement("div");return t.className="divider",t}addAltText(t){return Be(this,null,function*(){let e=yield t.render();this.#c(e),this.#i.prepend(e,this.#d),this.#s=t})}addColorPicker(t){this.#t=t;let e=t.renderButton();this.#c(e),this.#i.prepend(e,this.#d)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},ky=class{#e=null;#t=null;#n;constructor(t){this.#n=t}#i(){let t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ss,{signal:this.#n._signal});let e=this.#e=document.createElement("div");return e.className="buttons",t.append(e),this.#r(),t}#s(t,e){let i=0,r=0;for(let s of t){let o=s.y+s.height;if(o<i)continue;let a=s.x+(e?s.width:0);if(o>i){r=a,i=o;continue}e?a>r&&(r=a):a<r&&(r=a)}return[e?1-r:r,i]}show(t,e,i){let[r,s]=this.#s(e,i),{style:o}=this.#t||=this.#i();t.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){let t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#n._signal;t.addEventListener("contextmenu",Ss,{signal:i}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(t)}};function ig(n,t,e){for(let i of e)t.addEventListener(i,n[i].bind(n))}var Ly=class{#e=0;get id(){return`${j3}${this.#e++}`}},Oy=class n{#e=K3();#t=0;#n=null;static get _isSVGFittingCanvas(){let t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;let s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Vt(this,"_isSVGFittingCanvas",s)}#i(t,e){return Be(this,null,function*(){this.#n||=new Map;let i=this.#n.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=yield Lg(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){let s=n._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=()=>Be(this,null,function*(){let d=i.svgUrl=o.result;a.src=(yield s)?`${d}#svgView(preserveAspectRatio(none))`:d}),a.onerror=o.onerror=u});o.readAsDataURL(r),yield l}else i.bitmap=yield createImageBitmap(r);i.refCounter=1}catch(r){Rt(r),i=null}return this.#n.set(t,i),i&&this.#n.set(i.id,i),i})}getFromFile(t){return Be(this,null,function*(){let{lastModified:e,name:i,size:r,type:s}=t;return this.#i(`${e}_${i}_${r}_${s}`,t)})}getFromUrl(t){return Be(this,null,function*(){return this.#i(t,t)})}getFromBlob(t,e){return Be(this,null,function*(){let i=yield e;return this.#i(t,i)})}getFromId(t){return Be(this,null,function*(){this.#n||=new Map;let e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){let{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)})}getFromCanvas(t,e){this.#n||=new Map;let i=this.#n.get(t);if(i?.bitmap)return i.refCounter+=1,i;let r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(t,i),this.#n.set(i.id,i),i}getSvgUrl(t){let e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;let e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;let{bitmap:i}=e;if(!e.url&&!e.file){let r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#e}_`)}},Fy=class{#e=[];#t=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&t(),this.#t)return;let l={cmd:t,undo:e,post:i,type:s};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(o&&this.#e[this.#i].type===s){a&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}let c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:t,post:e}=this.#e[this.#i];t(),e?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:t,post:e}=this.#e[this.#i];t(),e?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#e[e].type!==t){this.#e.splice(e+1,this.#i-e),this.#i=e;return}this.#e.length=0,this.#i=-1}}destroy(){this.#e=null}},Wl=class{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:e}=Ai.platform;for(let[i,r,s={}]of t)for(let o of i){let a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);let e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;let i=this.callbacks.get(this.#e(e));if(!i)return;let{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(t,e)||(r.bind(t,...o,e)(),s||Or(e))}},Ry=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let t=new Map([["CanvasText",null],["Canvas",null]]);return tL(t),Vt(this,"_colors",t)}convert(t){let e=Q1(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(let[i,r]of this._colors)if(r.every((s,o)=>s===e[o]))return n._colorsMapping.get(i);return e}getHexCode(t){let e=this._colors.get(t);return e?ot.makeHexColor(...e):t}},Qd=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#l=null;#a=new Fy;#u=null;#c=null;#h=0;#d=new Set;#f=null;#o=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#v=!1;#w=null;#y=null;#b=null;#x=null;#E=!1;#D=null;#M=new Ly;#C=!1;#I=!1;#S=null;#N=null;#L=null;#F=null;#A=Ft.NONE;#_=new Set;#k=null;#H=null;#U=null;#z={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#R=[0,0];#O=null;#j=null;#q=null;#P=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let e=n.prototype,i=a=>a.#j.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Vt(this,"_keyboardManager",new Wl([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#j.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#j.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}]]))}constructor(e,i,r,s,o,a,l,c,u,d,g,f,w){let b=this._signal=this.#e.signal;this.#j=e,this.#q=i,this.#s=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:b}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),s._on("setpreference",this.onSetPreference.bind(this),{signal:b}),s._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:b}),this.#te(),this.#se(),this.#Y(),this.#r=o.annotationStorage,this.#w=o.filterFactory,this.#H=a,this.#x=l||null,this.#m=c,this.#g=u,this.#v=d,this.#F=g||null,this.viewParameters={realScale:qa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=w!==!1}destroy(){this.#P?.resolve(),this.#P=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#_.clear(),this.#a.destroy(),this.#s?.destroy(),this.#D?.hide(),this.#D=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#F}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Vt(this,"hcmFilter",this.#H?this.#w.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return Vt(this,"direction",getComputedStyle(this.#j).direction)}get highlightColors(){return Vt(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Vt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,i=!1){this.#s?.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":this.#v=i;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#j.focus()}findParent(e,i){for(let r of this.#i.values()){let{x:s,y:o,width:a,height:l}=r.div.getBoundingClientRect();if(e>=s&&e<=s+a&&i>=o&&i<=o+l)return r}return null}disableUserSelect(e=!1){this.#q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*qa.PDF_TO_CSS_UNITS;for(let i of this.#p)i.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#B({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#G(e){let{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(let r of this.#i.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,l=i.toString(),u=this.#B(i).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;i.empty();let g=this.#G(u),f=this.#A===Ft.NONE,w=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Ft.HIGHLIGHT,w);return}w()}#J(){let e=document.getSelection();if(!e||e.isCollapsed)return;let r=this.#B(e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#D||=new ky(this),this.#D.show(r,s,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}#ee(){let e=document.getSelection();if(!e||e.isCollapsed){this.#k&&(this.#D?.hide(),this.#k=null,this.#T({hasSelectedText:!1}));return}let{anchorNode:i}=e;if(i===this.#k)return;let s=this.#B(e).closest(".textLayer");if(!s){this.#k&&(this.#D?.hide(),this.#k=null,this.#T({hasSelectedText:!1}));return}if(this.#D?.hide(),this.#k=i,this.#T({hasSelectedText:!0}),!(this.#A!==Ft.HIGHLIGHT&&this.#A!==Ft.NONE)&&(this.#A===Ft.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#E=this.isShiftKeyDown,!this.isShiftKeyDown)){let o=this.#A===Ft.HIGHLIGHT?this.#G(s):null;o?.toggleDrawing();let a=new AbortController,l=this.combinedSignal(a),c=u=>{u.type==="pointerup"&&u.button!==0||(a.abort(),o?.toggleDrawing(!0),u.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#W(e=""){this.#A===Ft.HIGHLIGHT?this.highlightSelection(e):this.#m&&this.#J()}#te(){document.addEventListener("selectionchange",this.#ee.bind(this),{signal:this._signal})}#ne(){if(this.#b)return;this.#b=new AbortController;let e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ie(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#W("main_toolbar")),!this.hasSelection)return;let{activeElement:e}=document;for(let i of this.#_)if(i.div.contains(e)){this.#N=[i,e],i._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;let[e,i]=this.#N;this.#N=null,i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#Y(){if(this.#S)return;this.#S=new AbortController;let e=this.combinedSignal(this.#S);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#re(){this.#S?.abort(),this.#S=null}#X(){if(this.#u)return;this.#u=new AbortController;let e=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#K(){this.#u?.abort(),this.#u=null}#se(){let e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Y(),this.#X()}removeEditListeners(){this.#re(),this.#K()}dragOver(e){for(let{type:i}of e.dataTransfer.items)for(let r of this.#o)if(r.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(let i of e.dataTransfer.items)for(let r of this.#o)if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let r of this.#_){let s=r.serialize(!0);s&&i.push(s)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}paste(e){return Be(this,null,function*(){e.preventDefault();let{clipboardData:i}=e;for(let o of i.items)for(let a of this.#o)if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){Rt(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();let s=this.currentLayer;try{let o=[];for(let c of r){let u=yield s.deserialize(c);if(!u)return;o.push(u)}let a=()=>{for(let c of o)this.#Z(c);this.#Q(o)},l=()=>{for(let c of o)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(o){Rt(`paste: "${o.message}".`)}})}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==Ft.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#T(e){Object.entries(e).some(([r,s])=>this.#z[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#z,e)}),this.#A===Ft.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#V([[Xt.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ne(),this.#X(),this.#T({isEditing:this.#A!==Ft.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ie(),this.#K(),this.#T({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#o){this.#o=e;for(let i of this.#o)this.#V(i.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}updateMode(e,i=null,r=!1){return Be(this,null,function*(){if(this.#A!==e&&!(this.#P&&(yield this.#P.promise,!this.#P))){if(this.#P=Promise.withResolvers(),this.#A=e,e===Ft.NONE){this.setEditingState(!1),this.#ae(),this._editorUndoBar?.hide(),this.#P.resolve();return}this.setEditingState(!0),yield this.#oe(),this.unselectAll();for(let s of this.#i.values())s.updateMode(e);if(!i){r&&this.addNewEditorFromKeyboard(),this.#P.resolve();return}for(let s of this.#n.values())s.annotationElementId===i?(this.setSelected(s),s.enterInEditMode()):s.unselect();this.#P.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){if(this.#o){switch(e){case Xt.CREATE:this.currentLayer.addNewEditor();return;case Xt.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(i);break;case Xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#U||=new Map).set(e,i),this.showAllEditors("highlight",i);break}for(let r of this.#_)r.updateParams(e,i);for(let r of this.#o)r.updateDefaultParams(e,i)}}showAllEditors(e,i,r=!1){for(let o of this.#n.values())o.editorType===e&&o.show(i);(this.#U?.get(Xt.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#V([[Xt.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(let i of this.#i.values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}#oe(){return Be(this,null,function*(){if(!this.#C){this.#C=!0;let e=[];for(let i of this.#i.values())e.push(i.enable());yield Promise.all(e);for(let i of this.#n.values())i.enable()}})}#ae(){if(this.unselectAll(),this.#C){this.#C=!1;for(let e of this.#i.values())e.disable();for(let e of this.#n.values())e.disable()}}getEditors(e){let i=[];for(let r of this.#n.values())r.pageIndex===e&&i.push(r);return i}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#d.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#d.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#d.has(e)}removeDeletedAnnotationElement(e){this.#d.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Z(e){let i=this.#i.get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#le(){let e=null;for(e of this.#_);return e}updateUI(e){this.#le===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#T({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}setSelected(e){this.#c?.commitOrRemove();for(let i of this.#_)i!==e&&i.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#T({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#T({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#T({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(e){this.#a.add(e),this.#T({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(e){this.#a.cleanType(e)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();let e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;let i=e?[e]:[...this.#_],r=()=>{this._editorUndoBar?.show(s,i.length===1?i[0].editorType:i.length);for(let o of i)o.remove()},s=()=>{for(let o of i)this.#Z(o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(e){for(let i of this.#_)i.unselect();this.#_.clear();for(let i of e)i.isEmpty()||(this.#_.add(i),i.select());this.#T({hasSelectedEditor:this.hasSelection})}selectAll(){for(let e of this.#_)e.commit();this.#Q(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==Ft.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(let e of this.#_)e.unselect();this.#_.clear(),this.#T({hasSelectedEditor:!1})}}translateSelectedEditors(e,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#R[0]+=e,this.#R[1]+=i;let[s,o]=this.#R,a=[...this.#_],l=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#R[0]=this.#R[1]=0,this.addCommands({cmd:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(s,o)},undo:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(-s,-o)},mustExec:!1})},l);for(let c of a)c.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(let e of this.#_)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);let e=this.#f;this.#f=null;let i=!1;for(let[{x:s,y:o,pageIndex:a},l]of e)l.newX=s,l.newY=o,l.newPageIndex=a,i||=s!==l.savedX||o!==l.savedY||a!==l.savedPageIndex;if(!i)return!1;let r=(s,o,a,l)=>{if(this.#n.has(s.id)){let c=this.#i.get(l);c?s._setParentAndPosition(c,o,a):(s.pageIndex=l,s.x=o,s.y=a)}};return this.addCommands({cmd:()=>{for(let[s,{newX:o,newY:a,newPageIndex:l}]of e)r(s,o,a,l)},undo:()=>{for(let[s,{savedX:o,savedY:a,savedPageIndex:l}]of e)r(s,o,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(this.#f)for(let r of this.#f.keys())r.drag(e,i)}rebuild(e){if(e.parent===null){let i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}get imageManager(){return Vt(this,"imageManager",new Oy)}getSelectionBoxes(e){if(!e)return null;let i=document.getSelection();for(let u=0,d=i.rangeCount;u<d;u++)if(!e.contains(i.getRangeAt(u).commonAncestorContainer))return null;let{x:r,y:s,width:o,height:a}=e.getBoundingClientRect(),l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,g,f)=>({x:(d-s)/a,y:1-(u+g-r)/o,width:f/a,height:g/o});break;case"180":l=(u,d,g,f)=>({x:1-(u+g-r)/o,y:1-(d+f-s)/a,width:g/o,height:f/a});break;case"270":l=(u,d,g,f)=>({x:1-(d+f-s)/a,y:(u-r)/o,width:f/a,height:g/o});break;default:l=(u,d,g,f)=>({x:(u-r)/o,y:(d-s)/a,width:g/o,height:f/a});break}let c=[];for(let u=0,d=i.rangeCount;u<d;u++){let g=i.getRangeAt(u);if(!g.collapsed)for(let{x:f,y:w,width:b,height:A}of g.getClientRects())b===0||A===0||c.push(l(f,w,b,A))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:i}){(this.#l||=new Map).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){let i=this.#l?.get(e.data.id);if(!i)return;let r=this.#r.getRawValue(i);r&&(this.#A===Ft.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}}return n})(),E5=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#l=!1;#a=null;#u=null;#c=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#u=e,this.#d=e._uiManager.useNewAltTextFlow,n.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){n._l10n??=e}render(){return Be(this,null,function*(){let e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";let i=this.#i=document.createElement("span");e.append(i),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",n.#f.missing),i.setAttribute("data-l10n-id",n.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let r=this.#u._uiManager._signal;e.addEventListener("contextmenu",Ss,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});let s=o=>{o.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#d&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#o}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(this.#l=!0,s(o))},{signal:r}),yield this.#p(),e})}get#o(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}setGuessedText(e){return Be(this,null,function*(){this.#e===null&&(this.#c=e,this.#h=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())})}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){let i=this.#a=document.createElement("div");i.className="noAltTextBadge",this.#u.div.append(i)}this.#a.classList.toggle("hidden",!e)}serialize(e){let i=this.#e;return!e&&this.#c===i&&(i=this.#h),{altText:i,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:i,guessedText:r,textWithDisclaimer:s,cancel:o=!1}){r&&(this.#c=r,this.#h=s),!(this.#e===e&&this.#t===i)&&(o||(this.#e=e,this.#t=i),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#a?.remove(),this.#a=null}#p(){return Be(this,null,function*(){let e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",n.#f[this.#o]),this.#i?.setAttribute("data-l10n-id",n.#f[`${this.#o}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=this.#s;if(!i){this.#s=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${this.#u.id}`;let s=100,o=this.#u._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:o})}this.#t?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=this.#e),i.parentNode||e.append(i),this.#u.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),rg=class n{#e;#t=!1;#n=null;#i;#s;#r;#l;#a;#u=null;#c;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){this.#e=t,this.#n=i,this.#i=e,this.#s=r,this.#r=s,this.#l=o,this.#c=new AbortController,this.#a=AbortSignal.any([a,this.#c.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#a})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Vt(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}#d(t){if(this.#i?.()||t.touches.length<2)return;if(!this.#h){this.#h=new AbortController;let r=AbortSignal.any([this.#a,this.#h.signal]),s=this.#e,o={signal:r,passive:!1};s.addEventListener("touchmove",this.#f.bind(this),o),s.addEventListener("touchend",this.#o.bind(this),o),s.addEventListener("touchcancel",this.#o.bind(this),o),this.#s?.()}if(Or(t),t.touches.length!==2||this.#n?.()){this.#u=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#u={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#f(t){if(!this.#u||t.touches.length!==2)return;let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);let{screenX:r,screenY:s}=e,{screenX:o,screenY:a}=i,l=this.#u,{touch0X:c,touch0Y:u,touch1X:d,touch1Y:g}=l,f=d-c,w=g-u,b=o-r,A=a-s,C=Math.hypot(b,A)||1,D=Math.hypot(f,w)||1;if(!this.#t&&Math.abs(D-C)<=n.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,t.preventDefault(),!this.#t){this.#t=!0;return}let P=[(r+o)/2,(s+a)/2];this.#r?.(P,D,C)}#o(t){this.#h.abort(),this.#h=null,this.#l?.(),this.#u&&(t.preventDefault(),this.#u=null,this.#t=!1)}destroy(){this.#c?.abort(),this.#c=null}},jn=class n{#e=null;#t=null;#n=null;#i=!1;#s=null;#r="";#l=!1;#a=null;#u=null;#c=null;#h=null;#d="";#f=!1;#o=null;#p=!1;#m=!1;#g=!1;#v=null;#w=0;#y=0;#b=null;#x=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#E=!1;#D=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new Ry;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let t=n.prototype._resizeWithKeyboard,e=Qd.TRANSLATE_SMALL,i=Qd.TRANSLATE_BIG;return Vt(this,"_resizerKeyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;let{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];let[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Vt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){let e=new jy({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(n._l10n??=t,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let i=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){wn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(t){this.#E=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){let[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#D}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#B(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){let[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/s,this.y=(e+r)/o,this.fixAndSetPosition()}#M([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#o||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){this.#o||=[this.x,this.y,this.width,this.height];let{div:i,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:d,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this,[l,c]=this.getBaseTranslation();o+=l,a+=c;let{style:u}=i;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#o&&(this.#o[0]!==this.x||this.#o[1]!==this.y)}get _hasBeenResized(){return!!this.#o&&(this.#o[2]!==this.width||this.#o[3]!==this.height)}getBaseTranslation(){let[t,e]=this.parentDimensions,{_borderLineWidth:i}=n,r=i/t,s=i/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){let{div:{style:e},pageDimensions:[i,r]}=this,{x:s,y:o,width:a,height:l}=this;if(a*=i,l*=r,s*=i,o*=r,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(i-a,s)),o=Math.max(0,Math.min(r-l,o));break;case 90:s=Math.max(0,Math.min(i-l,s)),o=Math.min(r,Math.max(a,o));break;case 180:s=Math.min(i,Math.max(a,s)),o=Math.min(r,Math.max(l,o));break;case 270:s=Math.min(i,Math.max(l,s)),o=Math.max(0,Math.min(r-a,o));break}this.x=s/=i,this.y=o/=r;let[c,u]=this.getBaseTranslation();s+=c,o+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#C(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return n.#C(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return n.#C(t,e,360-this.parentRotation)}#I(t){switch(t){case 90:{let[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{let[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){let[i,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/i).toFixed(2)}%`,this.#l||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){let{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),s=!this.#l&&e.endsWith("%");if(r&&s)return;let[o,a]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!this.#l&&!s&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#S(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");let t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(let i of t){let r=document.createElement("div");this.#a.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#N.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Ss,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#a)}#N(t,e){e.preventDefault();let{isMac:i}=Ai.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#n?.toggle(!1);let r=this._isDraggable;this._isDraggable=!1,this.#u=[e.screenX,e.screenY];let s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#A.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Or,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ss,{signal:o}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;let c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}#L(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e;let[s,o]=this.parentDimensions;this.setDims(s*i,o*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#c)return;let{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#c;this.#c=null;let s=this.x,o=this.y,a=this.width,l=this.height;s===t&&o===e&&a===i&&l===r||this.addCommands({cmd:this.#L.bind(this,s,o,a,l),undo:this.#L.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#A(t,e){let[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=n.MIN_SIZE/i,u=n.MIN_SIZE/r,d=this.#I(this.rotation),g=(Y,F)=>[d[0]*Y+d[2]*F,d[1]*Y+d[3]*F],f=this.#I(360-this.rotation),w=(Y,F)=>[f[0]*Y+f[2]*F,f[1]*Y+f[3]*F],b,A,C=!1,D=!1;switch(t){case"topLeft":C=!0,b=(Y,F)=>[0,0],A=(Y,F)=>[Y,F];break;case"topMiddle":b=(Y,F)=>[Y/2,0],A=(Y,F)=>[Y/2,F];break;case"topRight":C=!0,b=(Y,F)=>[Y,0],A=(Y,F)=>[0,F];break;case"middleRight":D=!0,b=(Y,F)=>[Y,F/2],A=(Y,F)=>[0,F/2];break;case"bottomRight":C=!0,b=(Y,F)=>[Y,F],A=(Y,F)=>[0,0];break;case"bottomMiddle":b=(Y,F)=>[Y/2,F],A=(Y,F)=>[Y/2,0];break;case"bottomLeft":C=!0,b=(Y,F)=>[0,F],A=(Y,F)=>[Y,0];break;case"middleLeft":D=!0,b=(Y,F)=>[0,F/2],A=(Y,F)=>[Y,F/2];break}let P=b(a,l),z=A(a,l),Z=g(...z),ae=n._round(s+Z[0]),X=n._round(o+Z[1]),q=1,se=1,ve,k;if(e.fromKeyboard)({deltaX:ve,deltaY:k}=e);else{let{screenX:Y,screenY:F}=e,[B,$]=this.#u;[ve,k]=this.screenToPageTranslation(Y-B,F-$),this.#u[0]=Y,this.#u[1]=F}if([ve,k]=w(ve/i,k/r),C){let Y=Math.hypot(a,l);q=se=Math.max(Math.min(Math.hypot(z[0]-P[0]-ve,z[1]-P[1]-k)/Y,1/a,1/l),c/a,u/l)}else D?q=Math.max(c,Math.min(1,Math.abs(z[0]-P[0]-ve)))/a:se=Math.max(u,Math.min(1,Math.abs(z[1]-P[1]-k)))/l;let L=n._round(a*q),te=n._round(l*se);Z=g(...A(L,te));let Q=ae-Z[0],Ce=X-Z[1];this.#o||=[this.x,this.y,this.width,this.height],this.width=L,this.height=te,this.x=Q,this.y=Ce,this.setDims(i*L,r*te),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}addEditToolbar(){return Be(this,null,function*(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Py(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){let e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return Be(this,null,function*(){this.#n||(E5.initialize(n._l10n),this.#n=new E5(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(t){return Be(this,null,function*(){yield this.#n?.setGuessedText(t)})}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#R();let[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);let[i,r]=this.getInitialTranslation();return this.translate(i,r),ig(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#x||=new rg({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#_.bind(this),onPinching:this.#k.bind(this),onPinchEnd:this.#H.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),this.div}#_(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#k(t,e,i){let s=.7*(i/e)+1-.7;if(s===1)return;let o=this.#I(this.rotation),a=(ae,X)=>[o[0]*ae+o[2]*X,o[1]*ae+o[3]*X],[l,c]=this.parentDimensions,u=this.x,d=this.y,g=this.width,f=this.height,w=n.MIN_SIZE/l,b=n.MIN_SIZE/c;s=Math.max(Math.min(s,1/g,1/f),w/g,b/f);let A=n._round(g*s),C=n._round(f*s);if(A===g&&C===f)return;this.#o||=[u,d,g,f];let D=a(g/2,f/2),P=n._round(u+D[0]),z=n._round(d+D[1]),Z=a(A/2,C/2);this.x=P-Z[0],this.y=z-Z[1],this.width=A,this.height=C,this.setDims(l*A,c*C),this.fixAndSetPosition(),this._onResizing()}#H(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){let{isMac:e}=Ai.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#z(t);return}this.#U(t)}get isSelected(){return this._uiManager.isSelected(this)}#U(t){let{isMac:e}=Ai.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){let{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1,r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},a=c=>{r.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#U(c),i&&this._onStopDragging()};e&&(this.#w=t.clientX,this.#y=t.clientY,this.#s=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",c=>{i||(i=!0,this._onStartDragging());let{clientX:u,clientY:d,pointerId:g}=c;if(g!==this.#s){Or(c);return}let[f,w]=this.screenToPageTranslation(u-this.#w,d-this.#y);this.#w=u,this.#y=d,this._uiManager.dragSelectedEditors(f,w)},o),window.addEventListener("touchmove",Or,o),window.addEventListener("pointerdown",c=>{c.pointerType===this.#r&&(this.#x||c.isPrimary)&&a(c),Or(c)},o));let l=c=>{if(!this.#s||this.#s===c.pointerId){a(c);return}Or(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){let r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/r,u=e/r,d=this.x*s,g=this.y*o,f=this.width*s,w=this.height*o;switch(i){case 0:return[d+c+a,o-g-u-w+l,d+c+f+a,o-g-u+l];case 90:return[d+u+a,o-g+c+l,d+u+w+a,o-g+c+f+l];case 180:return[d-c-f+a,o-g+u+l,d-c+a,o-g+u+w+l];case 270:return[d-u-w+a,o-g-c-f+l,d-u+a,o-g-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){let[i,r,s,o]=t,a=s-i,l=o-r;switch(this.rotation){case 0:return[i,e-o,a,l];case 90:return[i,e-r,l,a];case 180:return[s,e-r,a,l];case 270:return[s,e-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){let{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&r>0&&t<s&&i>0}#R(){if(this.#h||!this.div)return;this.#h=new AbortController;let t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#R()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){wn("An editor must be serializable")}static deserialize(t,e,i){return Be(this,null,function*(){let r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,r.#e=t.accessibilityData;let[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(t.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#b){for(let t of this.#b.values())clearTimeout(t);this.#b=null}this.parent=null,this.#x?.destroy(),this.#x=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#S(),this.#a.classList.remove("hidden"),ig(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let e=this.#a.children;if(!this.#t){this.#t=Array.from(e);let o=this.#O.bind(this),a=this.#j.bind(this),l=this._uiManager._signal;for(let c of this.#t){let u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#q.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",n._l10nResizer[u])}}let i=this.#t[0],r=0;for(let o of e){if(o===i)break;r++}let s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)this.#a.append(this.#a.firstChild);else if(s>r)for(let a=0;a<s-r;a++)this.#a.firstChild.before(this.#a.lastChild);let o=0;for(let a of e){let c=this.#t[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",n._l10nResizer[c])}}this.#P(0),this.#g=!0,this.#a.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#O(t){n._resizerKeyboardManager.exec(this,t)}#j(t){this.#g&&t.relatedTarget?.parentNode!==this.#a&&this.#B()}#q(t){this.#d=this.#g?t:""}#P(t){if(this.#t)for(let e of this.#t)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#A(this.#d,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#g=!1,this.#P(-1),this.#F()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;let i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#b||=new Map;let{action:i}=t,r=this.#b.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#b.delete(i),this.#b.size===0&&(this.#b=null)},n._telemetryTimeout),this.#b.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){let i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){let{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}},jy=class extends jn{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},S5=3285377520,is=4294901760,Zs=65535,sg=class{constructor(t){this.h1=t?t&4294967295:S5,this.h2=t?t&4294967295:S5}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let b=0,A=t.length;b<A;b++){let C=t.charCodeAt(b);C<=255?e[i++]=C:(e[i++]=C>>>8,e[i++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let r=i>>2,s=i-r*4,o=new Uint32Array(e.buffer,0,r),a=0,l=0,c=this.h1,u=this.h2,d=3432918353,g=461845907,f=d&Zs,w=g&Zs;for(let b=0;b<r;b++)b&1?(a=o[b],a=a*d&is|a*f&Zs,a=a<<15|a>>>17,a=a*g&is|a*w&Zs,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[b],l=l*d&is|l*f&Zs,l=l<<15|l>>>17,l=l*g&is|l*w&Zs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=e[r*4+2]<<16;case 2:a^=e[r*4+1]<<8;case 1:a^=e[r*4],a=a*d&is|a*f&Zs,a=a<<15|a>>>17,a=a*g&is|a*w&Zs,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&is|t*36045&Zs,e=e*4283543511&is|((e<<16|t>>>16)*2950163797&is)>>>16,t^=e>>>1,t=t*444984403&is|t*60499&Zs,e=e*3301882366&is|((e<<16|t>>>16)*3120437893&is)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}},By=Object.freeze({map:null,hash:"",transfer:void 0}),Jd=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){let i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let e of this.#n.values())if(e instanceof jn)return;this.onAnnotationEditor(null)}}setValue(t,e){let i=this.#n.get(t),r=!1;if(i!==void 0)for(let[s,o]of Object.entries(e))i[s]!==o&&(r=!0,i[s]=o);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof jn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}getAll(){return this.#n.size>0?X1(this.#n):null}setAll(t){for(let[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new og(this)}get serializable(){if(this.#n.size===0)return By;let t=new Map,e=new sg,i=[],r=Object.create(null),s=!1;for(let[o,a]of this.#n){let l=a instanceof jn?a.serialize(!1,r):a;l&&(t.set(o,l),e.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(let o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:By}get editorStats(){let t=null,e=new Map;for(let i of this.#n.values()){if(!(i instanceof jn))continue;let r=i.telemetryFinalData;if(!r)continue;let{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(i).constructor),t||=Object.create(null);let o=t[s]||=new Map;for(let[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));let u=c.get(l)??0;c.set(l,u+1)}}for(let[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let t=[];for(let e of this.#n.values())!(e instanceof jn)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#t={ids:new Set(t),hash:t.join(",")}}},og=class extends Jd{#e;constructor(t){super();let{map:e,hash:i,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){wn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Vt(this,"modifiedIds",{ids:new Set,hash:""})}},Vy=class{#e=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(let t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return Be(this,arguments,function*({systemFontInfo:t,_inspectFont:e}){if(!(!t||this.#e.has(t.loadedName))){if(ri(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:r,src:s,style:o}=t,a=new FontFace(r,s,o);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(r),e?.(t)}catch{Rt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}wn("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(t){return Be(this,null,function*(){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){yield this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){let i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(r){throw Rt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}let e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}})}get isFontLoadingAPISupported(){let t=!!this._document?.fonts;return Vt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Ni||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Vt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(ri(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){let s=i.shift();setTimeout(s.callback,0)}}let{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){let t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Vt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(z,Z){return z.charCodeAt(Z)<<24|z.charCodeAt(Z+1)<<16|z.charCodeAt(Z+2)<<8|z.charCodeAt(Z+3)&255}function r(z,Z,ae,X){let q=z.substring(0,Z),se=z.substring(Z+ae);return q+X+se}let s,o,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),c=0;function u(z,Z){if(++c>30){Rt("Load test font never loaded."),Z();return}if(l.font="30px "+z,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){Z();return}setTimeout(u.bind(null,z,Z))}let d=`lt${Date.now()}${this.loadTestFontId++}`,g=this._loadTestFont;g=r(g,976,d.length,d);let w=16,b=1482184792,A=i(g,w);for(s=0,o=d.length-3;s<o;s+=4)A=A-b+i(d,s)|0;s<d.length&&(A=A-b+i(d+"XXX",s)|0),g=r(g,w,4,$3(A));let C=`url(data:font/opentype;base64,${btoa(g)});`,D=`@font-face {font-family:"${d}";src:${C}}`;this.insertRule(D);let P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(let z of[t.loadedName,d]){let Z=this._document.createElement("span");Z.textContent="Hi",Z.style.fontFamily=z,P.append(Z)}this._document.body.append(P),u(d,()=>{P.remove(),e.complete()})}},Hy=class{constructor(t,{disableFontFace:e=!1,fontExtraProperties:i=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(let s in t)this[s]=t[s];this.disableFontFace=e===!0,this.fontExtraProperties=i===!0,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{let e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let t=`url(data:${this.mimetype};base64,${Z3(this.data)});`,e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i=this.loadedName+"_path_"+e,r;try{r=t.get(i)}catch(o){Rt(`getPathGenerator - ignoring character: "${o}".`)}let s=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=s}},Yp={DATA:1,ERROR:2},ii={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function D5(){}function gr(n){if(n instanceof Qs||n instanceof Yd||n instanceof ql||n instanceof eg||n instanceof fu||n instanceof Gd)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||wn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Qs(n.message);case"InvalidPDFException":return new Yd(n.message);case"MissingPDFException":return new ql(n.message);case"PasswordException":return new eg(n.message,n.code);case"UnexpectedResponseException":return new fu(n.message,n.status);case"UnknownErrorException":return new Gd(n.message,n.details)}return new Gd(n.message,n.toString())}var Ul=class{#e=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){let i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===Yp.DATA)r.resolve(t.data);else if(t.callback===Yp.ERROR)r.reject(gr(t.reason));else throw new Error("Unexpected callback case");return}let e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){let i=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:Yp.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:Yp.ERROR,callbackId:t.callbackId,reason:gr(o)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){let i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){let r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,i,r){let s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{let u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:s,data:e,desiredSize:c.desiredSize},r),u.promise},pull:c=>{let u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ii.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{ri(c instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ii.CANCEL,streamId:s,reason:gr(c)}),u.promise}},i)}#n(t){let e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;let g=this.desiredSize;this.desiredSize-=u,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:ii.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ii.CLOSE,streamId:e}),delete o.streamSinks[e])},error(c){ri(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:ii.ERROR,streamId:e,reason:gr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:ii.START_COMPLETE,streamId:e,reason:gr(c)})})}#i(t){let e=t.streamId,i=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case ii.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(gr(t.reason));break;case ii.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(gr(t.reason));break;case ii.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||D5).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:ii.PULL_COMPLETE,streamId:e,reason:gr(c)})});break;case ii.ENQUEUE:if(ri(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ii.CLOSE:if(ri(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,e);break;case ii.ERROR:ri(o,"error should have stream controller"),o.controller.error(gr(t.reason)),this.#s(o,e);break;case ii.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(gr(t.reason)),this.#s(o,e);break;case ii.CANCEL:if(!a)break;let l=gr(t.reason);Promise.try(a.onCancel||D5,l).then(function(){s.postMessage({sourceName:i,targetName:r,stream:ii.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:ii.CANCEL_COMPLETE,streamId:e,reason:gr(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#s(t,e){return Be(this,null,function*(){yield Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]})}destroy(){this.#e?.abort(),this.#e=null}},ag=class{#e=!1;constructor({enableHWA:t=!1}){this.#e=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){wn("Abstract method `_createCanvas` called.")}},Uy=class extends ag{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){let i=this._document.createElement("canvas");return i.width=t,i.height=e,i}},lg=class{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}fetch(e){return Be(this,arguments,function*({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");let i=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetch(t){return Be(this,null,function*(){wn("Abstract method `_fetch` called.")})}},cg=class extends lg{_fetch(t){return Be(this,null,function*(){let e=yield Lg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):kg(e)})}},ug=class{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,s){return"none"}destroy(t=!1){}},zy=class extends ug{#e;#t;#n;#i;#s;#r;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#s=e}get#a(){return this.#t||=new Map}get#u(){return this.#r||=new Map}get#c(){if(!this.#n){let t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;let i=this.#s.createElementNS(Ho,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(Ho,"defs"),t.append(i),i.append(this.#n),this.#s.body.append(t)}return this.#n}#h(t){if(t.length===1){let l=t[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;let u=c.join(",");return[u,u,u]}let[e,i,r]=t,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,o[l]=i[l]/255,a[l]=r[l]/255;return[s.join(","),o.join(","),a.join(",")]}#d(t){if(this.#e===void 0){this.#e="";let e=this.#s.URL;e!==this.#s.baseURI&&(Og(e)?Rt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=e.split("#",1)[0])}return`url(${this.#e}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;let[i,r,s]=this.#h(t),o=t.length===1?i:`${i}${r}${s}`;if(e=this.#a.get(o),e)return this.#a.set(t,e),e;let a=`g_${this.#i}_transfer_map_${this.#l++}`,l=this.#d(a);this.#a.set(t,l),this.#a.set(o,l);let c=this.#p(a);return this.#g(i,r,s,c),l}addHCMFilter(t,e){let i=`${t}-${e}`,r="base",s=this.#u.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#u.set(r,s)),!t||!e))return s.url;let o=this.#w(t);t=ot.makeHexColor(...o);let a=this.#w(e);if(e=ot.makeHexColor(...a),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;let l=new Array(256);for(let f=0;f<=255;f++){let w=f/255;l[f]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}let c=l.join(","),u=`g_${this.#i}_hcm_filter`,d=s.filter=this.#p(u);this.#g(c,c,c,d),this.#o(d);let g=(f,w)=>{let b=o[f]/255,A=a[f]/255,C=new Array(w+1);for(let D=0;D<=w;D++)C[D]=b+D/w*(A-b);return C.join(",")};return this.#g(g(0,5),g(1,5),g(2,5),d),s.url=this.#d(u),s.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;let[i]=this.#h([t]),r=`alpha_${i}`;if(e=this.#a.get(r),e)return this.#a.set(t,e),e;let s=`g_${this.#i}_alpha_map_${this.#l++}`,o=this.#d(s);this.#a.set(t,o),this.#a.set(r,o);let a=this.#p(s);return this.#v(i,a),o}addLuminosityFilter(t){let e=this.#a.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#h([t]),r=`luminosity_${i}`):r="luminosity",e=this.#a.get(r),e)return this.#a.set(t,e),e;let s=`g_${this.#i}_luminosity_map_${this.#l++}`,o=this.#d(s);this.#a.set(t,o),this.#a.set(r,o);let a=this.#p(s);return this.#f(a),t&&this.#v(i,a),o}addHighlightHCMFilter(t,e,i,r,s){let o=`${e}-${i}-${r}-${s}`,a=this.#u.get(t);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#u.set(t,a)),!e||!i))return a.url;let[l,c]=[e,i].map(this.#w.bind(this)),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,f]=[r,s].map(this.#w.bind(this));d<u&&([u,d,g,f]=[d,u,f,g]),this.#c.style.color="";let w=(C,D,P)=>{let z=new Array(256),Z=(d-u)/P,ae=C/255,X=(D-C)/(255*P),q=0;for(let se=0;se<=P;se++){let ve=Math.round(u+se*Z),k=ae+se*X;for(let L=q;L<=ve;L++)z[L]=k;q=ve+1}for(let se=q;se<256;se++)z[se]=z[q-1];return z.join(",")},b=`g_${this.#i}_hcm_${t}_filter`,A=a.filter=this.#p(b);return this.#o(A),this.#g(w(g[0],f[0],5),w(g[1],f[1],5),w(g[2],f[2],5),A),a.url=this.#d(b),a.url}destroy(t=!1){t&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#l=0)}#f(t){let e=this.#s.createElementNS(Ho,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#o(t){let e=this.#s.createElementNS(Ho,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){let e=this.#s.createElementNS(Ho,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,i){let r=this.#s.createElementNS(Ho,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#g(t,e,i,r){let s=this.#s.createElementNS(Ho,"feComponentTransfer");r.append(s),this.#m(s,"feFuncR",t),this.#m(s,"feFuncG",e),this.#m(s,"feFuncB",i)}#v(t,e){let i=this.#s.createElementNS(Ho,"feComponentTransfer");e.append(i),this.#m(i,"feFuncA",t)}#w(t){return this.#c.style.color=t,Q1(getComputedStyle(this.#c).getPropertyValue("color"))}},dg=class{constructor({baseUrl:t=null}){this.baseUrl=t}fetch(e){return Be(this,arguments,function*({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${t}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetch(t){return Be(this,null,function*(){wn("Abstract method `_fetch` called.")})}},hg=class extends dg{_fetch(t){return Be(this,null,function*(){let e=yield Lg(t,"arraybuffer");return new Uint8Array(e)})}};Ni&&Rt("Please use the `legacy` build in Node.js environments.");function H5(n){return Be(this,null,function*(){let e=yield process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)})}var qy=class extends ug{},$y=class extends ag{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}},Wy=class extends lg{_fetch(t){return Be(this,null,function*(){return H5(t)})}},Gy=class extends dg{_fetch(t){return Be(this,null,function*(){return H5(t)})}},Ti={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Yy(n,t){if(!t)return;let e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}var eh=class{getPattern(){wn("Abstract method `getPattern` called.")}},Xy=class extends eh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let s;if(r===Ti.STROKE||r===Ti.FILL){let o=e.current.getClippedPathBoundingBox(r,kn(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),i=ot.transform(i,[1,0,0,1,o[0],o[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Yy(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(c.canvas,"no-repeat");let d=new DOMMatrix(i);s.setTransform(d)}else Yy(t,this._bbox),s=this._createGradient(t);return s}};function Dy(n,t,e,i,r,s,o,a){let l=t.coords,c=t.colors,u=n.data,d=n.width*4,g;l[e+1]>l[i+1]&&(g=e,e=i,i=g,g=s,s=o,o=g),l[i+1]>l[r+1]&&(g=i,i=r,r=g,g=o,o=a,a=g),l[e+1]>l[i+1]&&(g=e,e=i,i=g,g=s,s=o,o=g);let f=(l[e]+t.offsetX)*t.scaleX,w=(l[e+1]+t.offsetY)*t.scaleY,b=(l[i]+t.offsetX)*t.scaleX,A=(l[i+1]+t.offsetY)*t.scaleY,C=(l[r]+t.offsetX)*t.scaleX,D=(l[r+1]+t.offsetY)*t.scaleY;if(w>=D)return;let P=c[s],z=c[s+1],Z=c[s+2],ae=c[o],X=c[o+1],q=c[o+2],se=c[a],ve=c[a+1],k=c[a+2],L=Math.round(w),te=Math.round(D),Q,Ce,Y,F,B,$,re,ye;for(let S=L;S<=te;S++){if(S<A){let ue=S<w?0:(w-S)/(w-A);Q=f-(f-b)*ue,Ce=P-(P-ae)*ue,Y=z-(z-X)*ue,F=Z-(Z-q)*ue}else{let ue;S>D?ue=1:A===D?ue=0:ue=(A-S)/(A-D),Q=b-(b-C)*ue,Ce=ae-(ae-se)*ue,Y=X-(X-ve)*ue,F=q-(q-k)*ue}let j;S<w?j=0:S>D?j=1:j=(w-S)/(w-D),B=f-(f-C)*j,$=P-(P-se)*j,re=z-(z-ve)*j,ye=Z-(Z-k)*j;let U=Math.round(Math.min(Q,B)),ne=Math.round(Math.max(Q,B)),oe=d*S+U*4;for(let ue=U;ue<=ne;ue++)j=(Q-ue)/(Q-B),j<0?j=0:j>1&&(j=1),u[oe++]=Ce-(Ce-$)*j|0,u[oe++]=Y-(Y-re)*j|0,u[oe++]=F-(F-ye)*j|0,u[oe++]=255}}function nL(n,t,e){let i=t.coords,r=t.colors,s,o;switch(t.type){case"lattice":let a=t.verticesPerRow,l=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)Dy(n,e,i[u],i[u+1],i[u+a],r[u],r[u+1],r[u+a]),Dy(n,e,i[u+a+1],i[u+1],i[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Dy(n,e,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}var Ky=class extends eh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),f=c/d,w=u/g,b={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/w},A=d+2*2,C=g+2*2,D=i.getCanvas("mesh",A,C),P=D.context,z=P.createImageData(d,g);if(e){let ae=z.data;for(let X=0,q=ae.length;X<q;X+=4)ae[X]=e[0],ae[X+1]=e[1],ae[X+2]=e[2],ae[X+3]=255}for(let ae of this._figures)nL(z,ae,b);return P.putImageData(z,2,2),{canvas:D.canvas,offsetX:a-2*f,offsetY:l-2*w,scaleX:f,scaleY:w}}getPattern(t,e,i,r){Yy(t,this._bbox);let s;if(r===Ti.SHADING)s=ot.singularValueDecompose2dScale(kn(t));else if(s=ot.singularValueDecompose2dScale(e.baseTransform),this.matrix){let a=ot.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}let o=this._createMeshCanvas(s,r===Ti.SHADING?null:this._background,e.cachedCanvases);return r!==Ti.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}},Zy=class extends eh{getPattern(){return"hotpink"}};function iL(n){switch(n[0]){case"RadialAxial":return new Xy(n);case"Mesh":return new Ky(n);case"Dummy":return new Zy}throw new Error(`Unknown IR type: ${n[0]}`)}var I5={COLORED:1,UNCOLORED:2},rL=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(e,i,r,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){let{bbox:i,operatorList:r,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:l}=this,{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),Pg("TilingType: "+o);let d=i[0],g=i[1],f=i[2],w=i[3],b=f-d,A=w-g,C=ot.singularValueDecompose2dScale(this.matrix),D=ot.singularValueDecompose2dScale(this.baseTransform),P=C[0]*D[0],z=C[1]*D[1],Z=b,ae=A,X=!1,q=!1,se=Math.ceil(c*P),ve=Math.ceil(u*z),k=Math.ceil(b*P),L=Math.ceil(A*z);se>=k?Z=c:X=!0,ve>=L?ae=u:q=!0;let te=this.getSizeAndScale(Z,this.ctx.canvas.width,P),Q=this.getSizeAndScale(ae,this.ctx.canvas.height,z),Ce=e.cachedCanvases.getCanvas("pattern",te.size,Q.size),Y=Ce.context,F=l.createCanvasGraphics(Y);if(F.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(F,s,a),Y.translate(-te.scale*d,-Q.scale*g),F.transform(te.scale,0,0,Q.scale,0,0),Y.save(),this.clipBbox(F,d,g,f,w),F.baseTransform=kn(F.ctx),F.executeOperatorList(r),F.endDrawing(),Y.restore(),X||q){let B=Ce.canvas;X&&(Z=c),q&&(ae=u);let $=this.getSizeAndScale(Z,this.ctx.canvas.width,P),re=this.getSizeAndScale(ae,this.ctx.canvas.height,z),ye=$.size,S=re.size,j=e.cachedCanvases.getCanvas("pattern-workaround",ye,S),U=j.context,ne=X?Math.floor(b/c):0,oe=q?Math.floor(A/u):0;for(let ue=0;ue<=ne;ue++)for(let ge=0;ge<=oe;ge++)U.drawImage(B,ye*ue,S*ge,ye,S,0,0,ye,S);return{canvas:j.canvas,scaleX:$.scale,scaleY:re.scale,offsetX:d,offsetY:g}}return{canvas:Ce.canvas,scaleX:te.scale,scaleY:Q.scale,offsetX:d,offsetY:g}}getSizeAndScale(e,i,r){let s=Math.max(n.MAX_PATTERN_SIZE,i),o=Math.ceil(e*r);return o>=s?o=s:r=o/e,{scale:r,size:o}}clipBbox(e,i,r,s,o){let a=s-i,l=o-r;e.ctx.rect(i,r,a,l),e.current.updateRectMinMax(kn(e.ctx),[i,r,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,r){let s=e.ctx,o=e.current;switch(i){case I5.COLORED:let a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case I5.UNCOLORED:let l=ot.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new Ny(`Unsupported paint type: ${i}`)}}getPattern(e,i,r,s){let o=r;s!==Ti.SHADING&&(o=ot.transform(o,i.baseTransform),this.matrix&&(o=ot.transform(o,this.matrix)));let a=this.createPatternCanvas(i),l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return n})();function sL({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){let a=Ai.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=i>>3,d=i&7,g=n.length;e=new Uint32Array(e.buffer);let f=0;for(let w=0;w<r;w++){for(let A=t+u;t<A;t++){let C=t<g?n[t]:255;e[f++]=C&128?c:l,e[f++]=C&64?c:l,e[f++]=C&32?c:l,e[f++]=C&16?c:l,e[f++]=C&8?c:l,e[f++]=C&4?c:l,e[f++]=C&2?c:l,e[f++]=C&1?c:l}if(d===0)continue;let b=t<g?n[t++]:255;for(let A=0;A<d;A++)e[f++]=b&1<<7-A?c:l}return{srcPos:t,destPos:f}}var M5=16,T5=100,oL=15,N5=10,P5=1e3,mr=16;function aL(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,o,a,l){t.transform(i,r,s,o,a,l),this.__originalTransform(i,r,s,o,a,l)},n.setTransform=function(i,r,s,o,a,l){t.setTransform(i,r,s,o,a,l),this.__originalSetTransform(i,r,s,o,a,l)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){t.rotate(i),this.__originalRotate(i)},n.clip=function(i){t.clip(i),this.__originalClip(i)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,s,o,a){t.bezierCurveTo(e,i,r,s,o,a),this.__originalBezierCurveTo(e,i,r,s,o,a)},n.rect=function(e,i,r,s){t.rect(e,i,r,s),this.__originalRect(e,i,r,s)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}var Qy=class{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(let t in this.cache){let e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}};function Xp(n,t,e,i,r,s,o,a,l,c){let[u,d,g,f,w,b]=kn(n);if(d===0&&g===0){let D=o*u+w,P=Math.round(D),z=a*f+b,Z=Math.round(z),ae=(o+l)*u+w,X=Math.abs(Math.round(ae)-P)||1,q=(a+c)*f+b,se=Math.abs(Math.round(q)-Z)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),P,Z),n.drawImage(t,e,i,r,s,0,0,X,se),n.setTransform(u,d,g,f,w,b),[X,se]}if(u===0&&f===0){let D=a*g+w,P=Math.round(D),z=o*d+b,Z=Math.round(z),ae=(a+c)*g+w,X=Math.abs(Math.round(ae)-P)||1,q=(o+l)*d+b,se=Math.abs(Math.round(q)-Z)||1;return n.setTransform(0,Math.sign(d),Math.sign(g),0,P,Z),n.drawImage(t,e,i,r,s,0,0,se,X),n.setTransform(u,d,g,f,w,b),[se,X]}n.drawImage(t,e,i,r,s,o,a,l,c);let A=Math.hypot(u,d),C=Math.hypot(g,f);return[A*l,C*c]}function lL(n){let{width:t,height:e}=n;if(t>P5||e>P5)return null;let i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1,o=new Uint8Array(s*(e+1)),a,l,c,u=t+7&-8,d=new Uint8Array(u*e),g=0;for(let C of n.data){let D=128;for(;D>0;)d[g++]=C&D?0:255,D>>=1}let f=0;for(g=0,d[g]!==0&&(o[0]=1,++f),l=1;l<t;l++)d[g]!==d[g+1]&&(o[l]=d[g]?2:1,++f),g++;for(d[g]!==0&&(o[l]=2,++f),a=1;a<e;a++){g=a*u,c=a*s,d[g-u]!==d[g]&&(o[c]=d[g]?1:8,++f);let C=(d[g]?4:0)+(d[g-u]?8:0);for(l=1;l<t;l++)C=(C>>2)+(d[g+1]?4:0)+(d[g-u+1]?8:0),r[C]&&(o[c+l]=r[C],++f),g++;if(d[g-u]!==d[g]&&(o[c+l]=d[g]?2:4,++f),f>i)return null}for(g=u*(e-1),c=a*s,d[g]!==0&&(o[c]=8,++f),l=1;l<t;l++)d[g]!==d[g+1]&&(o[c+l]=d[g]?4:8,++f),g++;if(d[g]!==0&&(o[c+l]=4,++f),f>i)return null;let w=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(a=0;f&&a<=e;a++){let C=a*s,D=C+t;for(;C<D&&!o[C];)C++;if(C===D)continue;b.moveTo(C%s,a);let P=C,z=o[C];do{let Z=w[z];do C+=Z;while(!o[C]);let ae=o[C];ae!==5&&ae!==10?(z=ae,o[C]=0):(z=ae&51*z>>4,o[C]&=z>>2|z<<2),b.lineTo(C%s,C/s|0),o[C]||--f}while(P!==C);--a}return d=null,o=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(b),C.beginPath(),C.restore()}}var fg=class{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B5,this.textMatrixScale=1,this.fontMatrix=Ty,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Mi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){let t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=ot.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){let i=ot.applyTransform(e,t),r=ot.applyTransform(e.slice(2),t),s=ot.applyTransform([e[0],e[3]],t),o=ot.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],o[1])}updateScalingPathMinMax(t,e){ot.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,s,o,a,l,c,u){let d=ot.bezierBoundingBox(e,i,r,s,o,a,l,c,u);u||this.updateRectMinMax(t,d)}getPathBoundingBox(t=Ti.FILL,e=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ti.STROKE){e||wn("Stroke bounding box must include transform.");let r=ot.singularValueDecompose2dScale(e),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=o,i[2]+=s,i[3]+=o}return i}updateClipFromPath(){let t=ot.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ti.FILL,e=null){return ot.intersect(this.clipBox,this.getPathBoundingBox(t,e))}};function k5(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}let e=t.height,i=t.width,r=e%mr,s=(e-r)/mr,o=r===0?s:s+1,a=n.createImageData(i,mr),l=0,c,u=t.data,d=a.data,g,f,w,b;if(t.kind===Jp.GRAYSCALE_1BPP){let A=u.byteLength,C=new Uint32Array(d.buffer,0,d.byteLength>>2),D=C.length,P=i+7>>3,z=4294967295,Z=Ai.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(w=g<s?mr:r,c=0,f=0;f<w;f++){let ae=A-l,X=0,q=ae>P?i:ae*8-7,se=q&-8,ve=0,k=0;for(;X<se;X+=8)k=u[l++],C[c++]=k&128?z:Z,C[c++]=k&64?z:Z,C[c++]=k&32?z:Z,C[c++]=k&16?z:Z,C[c++]=k&8?z:Z,C[c++]=k&4?z:Z,C[c++]=k&2?z:Z,C[c++]=k&1?z:Z;for(;X<q;X++)ve===0&&(k=u[l++],ve=128),C[c++]=k&ve?z:Z,ve>>=1}for(;c<D;)C[c++]=0;n.putImageData(a,0,g*mr)}}else if(t.kind===Jp.RGBA_32BPP){for(f=0,b=i*mr*4,g=0;g<s;g++)d.set(u.subarray(l,l+b)),l+=b,n.putImageData(a,0,f),f+=mr;g<o&&(b=i*r*4,d.set(u.subarray(l,l+b)),n.putImageData(a,0,f))}else if(t.kind===Jp.RGB_24BPP)for(w=mr,b=i*w,g=0;g<o;g++){for(g>=s&&(w=r,b=i*w),c=0,f=b;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,g*mr)}else throw new Error(`bad image kind: ${t.kind}`)}function L5(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}let e=t.height,i=t.width,r=e%mr,s=(e-r)/mr,o=r===0?s:s+1,a=n.createImageData(i,mr),l=0,c=t.data,u=a.data;for(let d=0;d<o;d++){let g=d<s?mr:r;({srcPos:l}=sL({src:c,srcPos:l,dest:u,width:i,height:g,nonBlackColor:0})),n.putImageData(a,0,d*mr)}}function Ud(n,t){let e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Kp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Ni){let{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function O5(n,t){if(t)return!0;let e=ot.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*qa.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}var cL=["butt","round","square"],uL=["miter","round","bevel"],dL={},F5={},du=class n{constructor(t,e,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=t,this.current=new fg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Qy(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){let s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){let l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...kn(this.compositeCtx))}this.ctx.save(),Kp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=kn(this.ctx)}executeOperatorList(t,e,i,r){let s=t.argsArray,o=t.fnArray,a=e||0,l=s.length;if(l===a)return a;let c=l-a>N5&&typeof i=="function",u=c?Date.now()+oL:0,d=0,g=this.commonObjs,f=this.objs,w;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(w=o[a],w!==Es.dependency)this[w].apply(this,s[a]);else for(let b of s[a]){let A=b.startsWith("g_")?g:f;if(!A.has(b))return A.get(b,i),a}if(a++,a===l)return a;if(c&&++d>N5){if(Date.now()>u)return i(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let t of this._cachedBitmapsMap.values()){for(let e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){let e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){let i=t.width??t.displayWidth,r=t.height??t.displayHeight,s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=i,l=r,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let g=a,f=l;s>2&&a>1&&(g=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/g),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,g,f),d=u.context,d.clearRect(0,0,g,f),d.drawImage(t,0,0,a,l,0,0,g,f),t=u.canvas,a=g,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){let e=this.ctx,{width:i,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,a=kn(e),l,c,u,d;if((t.bitmap||t.data)&&t.count>1){let q=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(q),l||(l=new Map,this._cachedBitmapsMap.set(q,l));let se=l.get(c);if(se&&!o){let ve=Math.round(Math.min(a[0],a[2])+a[4]),k=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:se,offsetX:ve,offsetY:k}}u=se}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,r),L5(d.context,t));let g=ot.transform(a,[1/i,0,0,-1/r,0,0]);g=ot.transform(g,[1,0,0,1,0,-r]);let[f,w,b,A]=ot.getAxialAlignedBoundingBox([0,0,i,r],g),C=Math.round(b-f)||1,D=Math.round(A-w)||1,P=this.cachedCanvases.getCanvas("fillCanvas",C,D),z=P.context,Z=f,ae=w;z.translate(-Z,-ae),z.transform(...g),u||(u=this._scaleImage(d.canvas,Ks(z)),u=u.img,l&&o&&l.set(c,u)),z.imageSmoothingEnabled=O5(kn(z),t.interpolate),Xp(z,u,0,0,u.width,u.height,0,0,i,r),z.globalCompositeOperation="source-in";let X=ot.transform(Ks(z),[1,0,0,1,-Z,-ae]);return z.fillStyle=o?s.getPattern(e,this,X,Ti.FILL):s,z.fillRect(0,0,i,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,P.canvas)),{canvas:P.canvas,offsetX:Math.round(Z),offsetY:Math.round(ae)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=cL[t]}setLineJoin(t){this.ctx.lineJoin=uL[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;let s=this.ctx;s.setTransform(...kn(this.suspendedCtx)),Ud(this.suspendedCtx,s),aL(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ud(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){let s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(e.context,i,a,l,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,s,o,a,l,c,u,d){let g=t.canvas,f=l-u,w=c-d;if(o){let A=ot.makeHexColor(...o);if(f<0||w<0||f+i>g.width||w+r>g.height){let C=this.cachedCanvases.getCanvas("maskExtension",i,r),D=C.context;D.drawImage(g,-f,-w),D.globalCompositeOperation="destination-atop",D.fillStyle=A,D.fillRect(0,0,i,r),D.globalCompositeOperation="source-over",g=C.canvas,f=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);let C=new Path2D;C.rect(f,w,i,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=A,t.fillRect(f,w,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));let b=new Path2D;b.rect(l,c,i,r),e.clip(b),e.globalCompositeOperation="destination-in",e.drawImage(g,f,w,i,r,l,c,i,r),e.restore()}save(){this.inSMaskMode?(Ud(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ud(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,s,o){this.ctx.transform(t,e,i,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let r=this.ctx,s=this.current,o=s.x,a=s.y,l,c,u=kn(r),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,g=d?i.slice(0):null;for(let f=0,w=0,b=t.length;f<b;f++)switch(t[f]|0){case Es.rectangle:o=e[w++],a=e[w++];let A=e[w++],C=e[w++],D=o+A,P=a+C;r.moveTo(o,a),A===0||C===0?r.lineTo(D,P):(r.lineTo(D,a),r.lineTo(D,P),r.lineTo(o,P)),d||s.updateRectMinMax(u,[o,a,D,P]),r.closePath();break;case Es.moveTo:o=e[w++],a=e[w++],r.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Es.lineTo:o=e[w++],a=e[w++],r.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Es.curveTo:l=o,c=a,o=e[w+4],a=e[w+5],r.bezierCurveTo(e[w],e[w+1],e[w+2],e[w+3],o,a),s.updateCurvePathMinMax(u,l,c,e[w],e[w+1],e[w+2],e[w+3],o,a,g),w+=6;break;case Es.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,e[w],e[w+1],e[w+2],e[w+3]),s.updateCurvePathMinMax(u,l,c,o,a,e[w],e[w+1],e[w+2],e[w+3],g),o=e[w+2],a=e[w+3],w+=4;break;case Es.curveTo3:l=o,c=a,o=e[w+2],a=e[w+3],r.bezierCurveTo(e[w],e[w+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,e[w],e[w+1],o,a,o,a,g),w+=4;break;case Es.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(u,g),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){let e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(e.save(),e.strokeStyle=i.getPattern(e,this,Ks(e),Ti.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){let e=this.ctx,i=this.current.fillColor,r=this.current.patternFill,s=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,Ks(e),Ti.FILL),s=!0);let o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dL}eoClip(){this.pendingClip=F5}beginText(){this.current.textMatrix=B5,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}let i=new Path2D,r=e.getTransform().invertSelf();for(let{transform:s,x:o,y:a,fontSize:l,path:c}of t)i.addPath(c,new DOMMatrix(s).preMultiplySelf(r).translate(o,a).scale(l,-l));e.clip(i),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){let i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Ty,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Rt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;let s=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`,a="normal";i.black?a="900":i.bold&&(a="bold");let l=i.italic?"italic":"normal",c=e;e<M5?c=M5:e>T5&&(c=T5),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,s,o){this.current.textMatrix=[t,e,i,r,s,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,i){let r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,s){let o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&Mi.FILL_STROKE_MASK,g=!!(c&Mi.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,w=a.patternStroke&&!l.missingFile,b;if((l.disableFontFace||g||f||w)&&(b=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||f||w){if(o.save(),o.translate(e,i),o.scale(u,-u),d===Mi.FILL||d===Mi.FILL_STROKE)if(r){let A=o.getTransform();o.setTransform(...r),o.fill(this.#n(b,A,r))}else o.fill(b);if(d===Mi.STROKE||d===Mi.FILL_STROKE)if(s){let A=o.getTransform();o.setTransform(...s),o.stroke(this.#n(b,A,s))}else o.lineWidth/=u,o.stroke(b);o.restore()}else(d===Mi.FILL||d===Mi.FILL_STROKE)&&o.fillText(t,e,i),(d===Mi.STROKE||d===Mi.FILL_STROKE)&&o.strokeText(t,e,i);g&&(this.pendingTextPaths||=[]).push({transform:kn(o),x:e,y:i,fontSize:u,path:b})}get isFontSubpixelAAEnabled(){let{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);let e=t.getImageData(0,0,10,10).data,i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Vt(this,"isFontSubpixelAAEnabled",i)}showText(t){let e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);let r=e.fontSize;if(r===0)return;let s=this.ctx,o=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,d=t.length,g=i.vertical,f=g?1:-1,w=i.defaultVMetrics,b=r*e.fontMatrix[0],A=e.textRenderingMode===Mi.FILL&&!i.disableFontFace&&!e.patternFill;s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),c>0?s.scale(u,-1):s.scale(u,1);let C,D;if(e.patternFill){s.save();let X=e.fillColor.getPattern(s,this,Ks(s),Ti.FILL);C=kn(s),s.restore(),s.fillStyle=X}if(e.patternStroke){s.save();let X=e.strokeColor.getPattern(s,this,Ks(s),Ti.STROKE);D=kn(s),s.restore(),s.strokeStyle=X}let P=e.lineWidth,z=e.textMatrixScale;if(z===0||P===0){let X=e.textRenderingMode&Mi.FILL_STROKE_MASK;(X===Mi.STROKE||X===Mi.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=z;if(o!==1&&(s.scale(o,o),P/=o),s.lineWidth=P,i.isInvalidPDFjsFont){let X=[],q=0;for(let se of t)X.push(se.unicode),q+=se.width;s.fillText(X.join(""),0,0),e.x+=q*b*u,s.restore(),this.compose();return}let Z=0,ae;for(ae=0;ae<d;++ae){let X=t[ae];if(typeof X=="number"){Z+=f*X*r/1e3;continue}let q=!1,se=(X.isSpace?l:0)+a,ve=X.fontChar,k=X.accent,L,te,Q=X.width;if(g){let Y=X.vmetric||w,F=-(X.vmetric?Y[1]:Q*.5)*b,B=Y[2]*b;Q=Y?-Y[0]:Q,L=F/o,te=(Z+B)/o}else L=Z/o,te=0;if(i.remeasure&&Q>0){let Y=s.measureText(ve).width*1e3/r*o;if(Q<Y&&this.isFontSubpixelAAEnabled){let F=Q/Y;q=!0,s.save(),s.scale(F,1),L/=F}else Q!==Y&&(L+=(Q-Y)/2e3*r/o)}if(this.contentVisible&&(X.isInFont||i.missingFile)){if(A&&!k)s.fillText(ve,L,te);else if(this.paintChar(ve,L,te,C,D),k){let Y=L+r*k.offset.x/o,F=te-r*k.offset.y/o;this.paintChar(k.fontChar,Y,F,C,D)}}let Ce=g?Q*b-se*c:Q*b+se*c;Z+=Ce,q&&s.restore()}g?e.y-=Z:e.x+=Z*u,s.restore(),this.compose()}showType3Text(t){let e=this.ctx,i=this.current,r=i.font,s=i.fontSize,o=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*o,d=i.fontMatrix||Ty,g=t.length,f=i.textRenderingMode===Mi.INVISIBLE,w,b,A,C;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(u,o),w=0;w<g;++w){if(b=t[w],typeof b=="number"){C=a*b*s/1e3,this.ctx.translate(C,0),i.x+=C*u;continue}let D=(b.isSpace?c:0)+l,P=r.charProcOperatorList[b.operatorListId];if(!P){Rt(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(P),this.restore()),A=ot.applyTransform([b.width,0],d)[0]*s+D,e.translate(A,0),i.x+=A*u}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,s,o){this.ctx.rect(i,r,s-i,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){let i=t[1],r=this.baseTransform||kn(this.ctx),s={createCanvasGraphics:o=>new n(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new rL(t,i,this.ctx,s,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=ot.makeHexColor(t,e,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=ot.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=iL(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;let e=this.ctx;this.save();let i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Ks(e),Ti.SHADING);let r=Ks(e);if(r){let{width:s,height:o}=e.canvas,[a,l,c,u]=ot.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){wn("Should not call beginInlineImage")}beginImageData(){wn("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=kn(this.ctx),e)){let i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(kn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let e=this.ctx;t.isolated||Pg("TODO: Support non-isolated groups."),t.knockout&&Rt("Knockout groups not supported.");let i=kn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ot.getAxialAlignedBoundingBox(t.bbox,kn(e)),s=[0,0,e.canvas.width,e.canvas.height];r=ot.intersect(r,s)||[0,0,0,0];let o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);let d=this.cachedCanvases.getCanvas(u,l,c),g=d.context;g.translate(-o,-a),g.transform(...i),t.smask?this.smaskStack.push({canvas:d.canvas,context:g,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),Ud(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;let e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let r=kn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);let s=ot.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,i,r,s){if(this.#e(),Kp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){let o=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a;let[l,c]=ot.singularValueDecompose2dScale(kn(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),g=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,g);let{canvas:f,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),Kp(this.ctx)}else Kp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new fg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;let e=t.count;t=this.getObject(t.data,t),t.count=e;let i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=lL(t)),r.compiled)){r.compiled(i);return}let s=this._createMaskCanvas(t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);let a=this.ctx;a.save();let l=kn(a);a.transform(e,i,r,s,0,0);let c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){let g=ot.transform(l,[e,i,r,s,o[u],o[u+1]]),[f,w]=ot.applyTransform([0,0],g);a.drawImage(c.canvas,f,w)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;let e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(let s of t){let{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();let g=this.getObject(o,s);L5(d,g),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,Ks(e),Ti.FILL):i,d.fillRect(0,0,a,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Xp(e,u.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;let e=this.getObject(t);if(!e){Rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;let s=this.getObject(t);if(!s){Rt("Dependent image isn't ready yet");return}let o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[e,0,0,i,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;let{bitmap:e,width:i,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;let e=t.width,i=t.height,r=this.ctx;if(this.save(),!Ni){let{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/e,-1/i);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{let l=this.cachedCanvases.getCanvas("inlineImage",e,i).context;k5(l,t),s=this.applyTransferMapsToCanvas(l)}let o=this._scaleImage(s,Ks(r));r.imageSmoothingEnabled=O5(kn(r),t.interpolate),Xp(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;let i=this.ctx,r;if(t.bitmap)r=t.bitmap;else{let s=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;k5(l,t),r=this.applyTransferMapsToCanvas(l)}for(let s of e)i.save(),i.transform(...s.transform),i.scale(1,-1),Xp(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){let e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);let i=this.ctx;this.pendingClip&&(e||(this.pendingClip===F5?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let t=kn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{let e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:t}=this.current,{a:e,b:i,c:r,d:s}=this.ctx.getTransform(),o,a;if(i===0&&r===0){let l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)o=a=1/l;else{let u=l*t;o=a=u<1?1/u:1}else if(t===0)o=1/l,a=1/c;else{let u=l*t,d=c*t;o=u<1?1/u:1,a=d<1?1/d:1}}else{let l=Math.abs(e*s-i*r),c=Math.hypot(e,i),u=Math.hypot(r,s);if(t===0)o=u/l,a=c/l;else{let d=t*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){let{ctx:e}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&s===1){e.stroke();return}let o=e.getLineDash();if(t&&e.save(),e.scale(r,s),o.length>0){let a=Math.max(r,s);e.setLineDash(o.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(let n in Es)du.prototype[n]!==void 0&&(du.prototype[Es[n]]=du.prototype[n]);var zl=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#e=t}static get workerSrc(){return this.#t}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#t=t}},Jy=class{#e;#t;constructor({parsedData:t,rawData:e}){this.#e=t,this.#t=e}getRaw(){return this.#t}get(t){return this.#e.get(t)??null}getAll(){return X1(this.#e)}has(t){return this.#e.has(t)}},uu=Symbol("INTERNAL"),e1=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:s}){this.#e=!!(t&Lr.DISPLAY),this.#t=!!(t&Lr.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:t,view:e}=this.usage;return this.#e?e?.viewState!=="OFF":this.#t?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==uu&&wn("Internal method `_setVisible` called."),this.#n=i,this.#i=e}},t1=class{#e=null;#t=new Map;#n=null;#i=null;constructor(t,e=Lr.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(let i of t.groups)this.#t.set(i.id,new e1(e,i));if(t.baseState==="OFF")for(let i of this.#t.values())i._setVisible(uu,!1);for(let i of t.on)this.#t.get(i)._setVisible(uu,!0);for(let i of t.off)this.#t.get(i)._setVisible(uu,!1);this.#n=this.getHash()}}#s(t){let e=t.length;if(e<2)return!0;let i=t[0];for(let r=1;r<e;r++){let s=t[r],o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return Rt(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"}isVisible(t){if(this.#t.size===0)return!0;if(!t)return Pg("Optional content group not defined."),!0;if(t.type==="OCG")return this.#t.has(t.id)?this.#t.get(t.id).visible:(Rt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(let e of t.ids){if(!this.#t.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(let e of t.ids){if(!this.#t.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(let e of t.ids){if(!this.#t.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(let e of t.ids){if(!this.#t.has(e))return Rt(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return Rt(`Unknown optional content policy ${t.policy}.`),!0}return Rt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){let r=this.#t.get(t);if(!r){Rt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(let s of r.rbGroups)for(let o of s)o!==t&&this.#t.get(o)?._setVisible(uu,!1,!0);r._setVisible(uu,!!e,!0),this.#e=null}setOCGState({state:t,preserveRB:e}){let i;for(let r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}let s=this.#t.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?X1(this.#t):null}getGroup(t){return this.#t.get(t)||null}getHash(){if(this.#e!==null)return this.#e;let t=new sg;for(let[e,i]of this.#t)t.update(`${e}:${i.visible}`);return this.#e=t.hexdigest()}},n1=class{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ri(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){let l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){let i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(i),!0)});ri(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){let e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ri(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let t=this._queuedChunks;return this._queuedChunks=null,new i1(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=new r1(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}},i1=class{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Z1(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(let s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return Be(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},r1=class{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return Be(this,null,function*(){if(this._queuedChunk){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function hL(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let u=a(e);return u=unescape(u),u=l(u),u=c(u),s(u)}if(e=o(n),e){let u=c(e);return s(u)}if(e=i("filename","i").exec(n),e){e=e[1];let u=a(e);return u=c(u),s(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{let g=new TextDecoder(u,{fatal:!0}),f=kg(d);d=g.decode(f),t=!1}catch{}}return d}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function o(u){let d=[],g,f=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=f.exec(u))!==null;){let[,b,A,C]=g;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[A,C]}let w=[];for(let b=0;b<d.length&&b in d;++b){let[A,C]=d[b];C=a(C),A&&(C=unescape(C),b===0&&(C=l(C))),w.push(C)}return w.join("")}function a(u){if(u.startsWith('"')){let d=u.slice(1).split('\\"');for(let g=0;g<d.length;++g){let f=d[g].indexOf('"');f!==-1&&(d[g]=d[g].slice(0,f),d.length=g+1),d[g]=d[g].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){let d=u.indexOf("'");if(d===-1)return u;let g=u.slice(0,d),w=u.slice(d+1).replace(/^[^']*'/,"");return r(g,w)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,g,f,w){if(f==="q"||f==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,A){return String.fromCharCode(parseInt(A,16))}),r(g,w);try{w=atob(w)}catch{}return r(g,w)})}return""}function U5(n,t){let e=new Headers;if(!n||!t||typeof t!="object")return e;for(let i in t){let r=t[i];r!==void 0&&e.append(i,r)}return e}function Fg(n){try{return new URL(n).origin}catch{}return null}function z5({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){let r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function q5(n){let t=n.get("Content-Disposition");if(t){let e=hL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Z1(e))return e}return null}function Rg(n,t){return n===404||n===0&&t.startsWith("file:")?new ql('Missing PDF "'+t+'".'):new fu(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function $5(n){return n===200||n===206}function W5(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function G5(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Rt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var pg=class{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=U5(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ri(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new s1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=new o1(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},s1=class{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;let e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;let i=new Headers(t.headers),r=e.url;fetch(r,W5(i,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=Fg(s.url),!$5(s.status))throw Rg(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();let o=s.headers,{allowRangeRequests:a,suggestedLength:l}=z5({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=q5(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Qs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Be(this,null,function*(){yield this._headersCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:G5(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},o1=class{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;let r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;let s=new Headers(t.headers);s.append("Range",`bytes=${e}-${i-1}`);let o=r.url;fetch(o,W5(s,this._withCredentials,this._abortController)).then(a=>{let l=Fg(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!$5(a.status))throw Rg(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return Be(this,null,function*(){yield this._readCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:G5(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},Iy=200,My=206;function fL(n){let t=n.response;return typeof t!="string"?t:kg(t).buffer}var a1=class{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=U5(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){let e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(let[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=My):r.expectedStatus=Iy,e.responseType="arraybuffer",ri(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){let i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){let i=this.pendingRequests[t];if(!i)return;let r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}let s=r.status||Iy;if(!(s===Iy&&i.expectedStatus===My)&&s!==i.expectedStatus){i.onError(r.status);return}let a=fL(r);if(s===My){let l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?i.onDone({begin:parseInt(c[1],10),chunk:a}):(Rt('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){let e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}},l1=class{constructor(t){this._source=t,this._manager=new a1(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){let e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ri(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c1(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){let i=new u1(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},c1=class{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Fg(e.responseURL);let i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{let[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=z5({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=q5(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Rg(t,this._url),this._headersCapability.reject(this._storedError);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return Be(this,null,function*(){if(yield this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0,this._headersCapability.reject(t);for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},u1=class{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){let t=Fg(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){let e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Rg(t,this._url);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}read(){return Be(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},pL=/^[a-z][a-z0-9\-+.]+:/i;function gL(n){if(pL.test(n))return new URL(n);let t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}var d1=class{constructor(t){this.source=t,this.url=gL(t.url),ri(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ri(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new h1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let i=new f1(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},h1=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;let e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();let i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new ql(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Be(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Qs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},f1=class{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let r=t.source;this._isStreamingSupported=!r.disableStream;let s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}read(){return Be(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},mL=1e5,pr=30,vL=.8,th=class n{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#l=0;#a=0;#u=null;#c=null;#h=0;#d=0;#f=Object.create(null);#o=[];#p=null;#m=[];#g=new WeakMap;#v=null;static#w=new Map;static#y=new Map;static#b=new WeakMap;static#x=null;static#E=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=e,this.#d=i.scale*(globalThis.devicePixelRatio||1),this.#h=i.rotation,this.#r={div:null,properties:null,ctx:null};let{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;this.#v=[1,0,0,-1,-o,a+s],this.#a=r,this.#l=s,n.#N(),$l(e,i),this.#e.promise.finally(()=>{n.#E.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:t,isFirefox:e}=Ai.platform;return Vt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){let t=()=>{this.#u.read().then(({value:e,done:i})=>{if(i){this.#e.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#D(e.items),t()},this.#e.reject)};return this.#u=this.#p.getReader(),n.#E.add(this),t(),this.#e.promise}update({viewport:t,onBefore:e=null}){let i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,$l(this.#c,{rotation:r})),i!==this.#d){e?.(),this.#d=i;let s={div:null,properties:null,ctx:n.#I(this.#s)};for(let o of this.#m)s.properties=this.#g.get(o),s.div=o,this.#C(s)}}cancel(){let t=new Qs("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#e.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#o}#D(t){if(this.#n)return;this.#r.ctx??=n.#I(this.#s);let e=this.#m,i=this.#o;for(let r of t){if(e.length>mL){Rt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){let s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#M(r)}}#M(t){let e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);let r=ot.transform(this.#v,t.transform),s=Math.atan2(r[1],r[0]),o=this.#f[t.fontName];o.vertical&&(s+=Math.PI/2);let a=this.#i&&o.fontSubstitution||o.fontFamily;a=n.fontFamilyMap.get(a)||a;let l=Math.hypot(r[2],r[3]),c=l*n.#L(a,this.#s),u,d;s===0?(u=r[4],d=r[5]-c):(u=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));let g="calc(var(--scale-factor)*",f=e.style;this.#t===this.#c?(f.left=`${(100*u/this.#a).toFixed(2)}%`,f.top=`${(100*d/this.#l).toFixed(2)}%`):(f.left=`${g}${u.toFixed(2)}px)`,f.top=`${g}${d.toFixed(2)}px)`),f.fontSize=`${g}${(n.#x*l).toFixed(2)}px)`,f.fontFamily=a,i.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(i.angle=s*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){let b=Math.abs(t.transform[0]),A=Math.abs(t.transform[3]);b!==A&&Math.max(b,A)/Math.min(b,A)>1.5&&(w=!0)}if(w&&(i.canvasWidth=o.vertical?t.height:t.width),this.#g.set(e,i),this.#r.div=e,this.#r.properties=i,this.#C(this.#r),i.hasText&&this.#t.append(e),i.hasEOL){let b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#C(t){let{div:e,properties:i,ctx:r}=t,{style:s}=e,o="";if(n.#x>1&&(o=`scale(${1/n.#x})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=i;n.#S(r,c*this.#d,a);let{width:u}=r.measureText(e.textContent);u>0&&(o=`scaleX(${l*this.#d/u}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#E.size>0)){this.#w.clear();for(let{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#I(t=null){let e=this.#y.get(t||="");if(!e){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#b.set(e,{size:0,family:""})}return e}static#S(t,e,i){let r=this.#b.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#N(){if(this.#x!==null)return;let t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#L(t,e){let i=this.#w.get(t);if(i)return i;let r=this.#I(e);r.canvas.width=r.canvas.height=pr,this.#S(r,pr,t);let s=r.measureText(""),o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){let u=o/(o+a);return this.#w.set(t,u),r.canvas.width=r.canvas.height=0,u}r.strokeStyle="red",r.clearRect(0,0,pr,pr),r.strokeText("g",0,0);let l=r.getImageData(0,0,pr,pr).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/pr);break}r.clearRect(0,0,pr,pr),r.strokeText("A",0,pr),l=r.getImageData(0,0,pr,pr).data,o=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){o=pr-Math.floor(u/4/pr);break}r.canvas.width=r.canvas.height=0;let c=o?o/(o+a):vL;return this.#w.set(t,c),c}},nh=class n{static textContent(t){let e=[],i={items:e,styles:Object.create(null)};function r(s){if(!s)return;let o=null,a=s.name;if(a==="#text")o=s.value;else if(n.shouldBuildText(a))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(let l of s.children)r(l)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}},yL=65536,_L=100,wL=5e3,bL=Ni?$y:Uy,CL=Ni?Wy:cg,xL=Ni?qy:zy,AL=Ni?Gy:hg;function EL(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let t=new p1,{docId:e}=t,i=n.url?SL(n.url):null,r=n.data?DL(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof gg?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:yL,u=n.worker instanceof hu?n.worker:null,d=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Og(n.docBaseUrl)?n.docBaseUrl:null,f=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,b=n.CMapReaderFactory||CL,A=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,C=n.StandardFontDataFactory||AL,D=n.stopAtErrors!==!0,P=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,z=n.isEvalSupported!==!1,Z=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ni,ae=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ni&&(Ai.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,q=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ni,se=n.fontExtraProperties===!0,ve=n.enableXfa===!0,k=n.ownerDocument||globalThis.document,L=n.disableRange===!0,te=n.disableStream===!0,Q=n.disableAutoFetch===!0,Ce=n.pdfBug===!0,Y=n.CanvasFactory||bL,F=n.FilterFactory||xL,B=n.enableHWA===!0,$=l?l.length:n.length??NaN,re=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ni&&!q,ye=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===cg&&C===hg&&f&&A&&$d(f,document.baseURI)&&$d(A,document.baseURI),S=null;H3(d);let j={canvasFactory:new Y({ownerDocument:k,enableHWA:B}),filterFactory:new F({docId:e,ownerDocument:k}),cMapReaderFactory:ye?null:new b({baseUrl:f,isCompressed:w}),standardFontDataFactory:ye?null:new C({baseUrl:A})};if(!u){let oe={verbosity:d,port:zl.workerPort};u=oe.port?hu.fromPort(oe):new hu(oe),t._worker=u}let U={docId:e,apiVersion:"4.10.38",data:r,password:a,disableAutoFetch:Q,rangeChunkSize:c,length:$,docBaseUrl:g,enableXfa:ve,evaluatorOptions:{maxImageSize:P,disableFontFace:q,ignoreErrors:D,isEvalSupported:z,isOffscreenCanvasSupported:Z,isImageDecoderSupported:ae,canvasMaxAreaInBytes:X,fontExtraProperties:se,useSystemFonts:re,cMapUrl:ye?f:null,standardFontDataUrl:ye?A:null}},ne={disableFontFace:q,fontExtraProperties:se,ownerDocument:k,pdfBug:Ce,styleElement:S,loadingParams:{disableAutoFetch:Q,enableXfa:ve}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let oe=u.messageHandler.sendWithPromise("GetDocRequest",U,r?[r.buffer]:null),ue;if(l)ue=new n1(l,{disableRange:L,disableStream:te});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let ge;if(Ni)if($d(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ge=pg}else ge=d1;else ge=$d(i)?pg:l1;ue=new ge({url:i,length:$,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:L,disableStream:te})}return oe.then(ge=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let _e=new Ul(e,ge,u.port),Re=new y1(_e,t,ue,ne,j);t._transport=Re,_e.send("Ready",null)})}).catch(t._capability.reject),t}function SL(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Ni&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function DL(n){if(Ni&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return kg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function R5(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var p1=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return Be(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null})}},gg=class{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(let i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){wn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},g1=class{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Vt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},m1=class{#e=null;#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new tg:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new mg,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Xd({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Vt(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return Be(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=Ua.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){this._stats?.time("Overall");let g=this._transport.getRenderingIntent(i,r,u,d),{renderingIntent:f,cacheKey:w}=g;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(f);let b=this._intentStates.get(w);b||(b=Object.create(null),this._intentStates.set(w,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);let A=!!(f&Lr.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));let C=z=>{b.renderTasks.delete(D),(this._maybeCleanupAfterRender||A)&&(this.#t=!0),this.#n(!A),z?(D.capability.reject(z),this._abortOperatorList({intentState:b,reason:z instanceof Error?z:new Error(z)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new w1({callback:C,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:c});(b.renderTasks||=new Set).add(D);let P=D.task;return Promise.all([b.displayReadyCapability.promise,a]).then(([z,Z])=>{if(this.destroyed){C();return}if(this._stats?.time("Rendering"),!(Z.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:z,optionalContentConfig:Z}),D.operatorListChanged()}).catch(C),P}getOperatorList({intent:t="display",annotationMode:e=Ua.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let o=this._transport.getRenderingIntent(t,e,i,r,!0),a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>nh.textContent(i));let e=this.streamTextContent(t);return new Promise(function(i,r){function s(){o.read().then(function({value:l,done:c}){if(c){i(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}let o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let t=[];for(let e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(let i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(t)}cleanup(t=!1){this.#t=!0;let e=this.#n(!1);return t&&e&&(this._stats&&=new tg),e}#n(t=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},wL),!1;for(let{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,e){let i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(let i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){let{map:s,transfer:o}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(e);c.streamReader=l;let u=()=>{l.read().then(({value:d,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let g of c.renderTasks)g.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Kd){let r=_L;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Qs(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},v1=class{#e=new Map;#t=Promise.resolve();postMessage(t,e){let i={data:structuredClone(t,e?{transfer:e}:null)};this.#t.then(()=>{for(let[r]of this.#e)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:s}=i;if(s.aborted){Rt("LoopbackPort - cannot use an `aborted` signal.");return}let o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(e,r)}removeEventListener(t,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(let[,t]of this.#e)t?.();this.#e.clear()}},hu=class n{static#e=0;static#t=!1;static#n;static{Ni&&(this.#t=!0,zl.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}let r=new URL(e,i);return i.origin===r.origin},this._createCDNWrapper=t=>{let e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}}constructor({name:t=null,port:e=null,verbosity:i=U3()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(n.#n?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(n.#n||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Ul("main","worker",t),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(n.#t||n.#s){this._setupFakeWorker();return}let{workerSrc:t}=n;try{n._isSameOrigin(window.location.href,t)||(t=n._createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t,{type:"module"}),i=new Ul("main","worker",e),r=()=>{s.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,this.#i()}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});let o=()=>{let a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{Pg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){n.#t||(Rt("Setting up fake worker."),n.#t=!0),n._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new v1;this._port=e;let i=`fake${n.#e++}`,r=new Ul(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new Ul(i,i+"_worker",e),this.#i()}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker?.terminate(),this._webWorker=null,n.#n?.delete(this._port),this._port=null,this._messageHandler?.destroy(),this._messageHandler=null}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#n?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new n(t)}static get workerSrc(){if(zl.workerSrc)return zl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#s(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Vt(this,"_setupFakeWorkerGlobal",Be(this,null,function*(){return this.#s?this.#s:(yield import(this.workerSrc)).WorkerMessageHandler}))}},y1=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,e,i,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new mg,this.fontLoader=new Vy({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(t,e=null){let i=this.#e.get(t);if(i)return i;let r=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,r),r}get annotationStorage(){return Vt(this,"annotationStorage",new Jd)}getRenderingIntent(t,e=Ua.ENABLE,i=null,r=!1,s=!1){let o=Lr.DISPLAY,a=By;switch(t){case"any":o=Lr.ANY;break;case"display":break;case"print":o=Lr.PRINT;break;default:Rt(`getRenderingIntent - invalid intent: ${t}`)}let l=o&Lr.PRINT&&i instanceof og?i:this.annotationStorage;switch(e){case Ua.DISABLE:o+=Lr.ANNOTATIONS_DISABLE;break;case Ua.ENABLE:break;case Ua.ENABLE_FORMS:o+=Lr.ANNOTATIONS_FORMS;break;case Ua.ENABLE_STORAGE:o+=Lr.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Rt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=Lr.IS_EDITING),s&&(o+=Lr.OPLIST);let{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];for(let i of this.#t.values())t.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),th.cleanup(),this._networkStream?.cancelAllRequests(new Qs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{ri(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}ri(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",i=>Be(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{e.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}})),t.on("GetRangeReader",(i,r)=>{ri(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}ri(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new g1(i,this))}),t.on("DocException",i=>{e._capability.reject(gr(i))}),t.on("PasswordRequest",i=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw gr(i);let r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,i.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":let{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){let g=s.error;Rt(`Error during font loading: ${g}`),this.commonObjs.resolve(i,g);break}let c=l&&globalThis.FontInspector?.enabled?(g,f)=>globalThis.FontInspector.fontAdded(g,f):null,u=new Hy(s,{disableFontFace:o,fontExtraProperties:a,inspectFont:c});this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":let{imageRef:d}=s;ri(d,"The imageRef must be defined.");for(let g of this.#t.values())for(let[,f]of g.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,s,o])=>{if(this.destroyed)return;let a=this.#t.get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":a.objs.resolve(i,o),o?.dataLen>F3&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",i=>Be(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)})),t.on("FetchStandardFontData",i=>Be(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let e=t-1,i=this.#n.get(e);if(i)return i;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,t);let o=new m1(e,s,this,this._params.pdfBug);return this.#t.set(e,o),o});return this.#n.set(e,r),r}getPageIndex(t){return R5(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new t1(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let t="GetMetadata",e=this.#e.get(t);if(e)return e;let i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new Jy(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){return Be(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let e of this.#t.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),th.cleanup()}})}cachedPageNumber(t){if(!R5(t))return null;let e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}},zd=Symbol("INITIAL_DATA"),mg=class{#e=Object.create(null);#t(t){return this.#e[t]||=Jt(yt({},Promise.withResolvers()),{data:zd})}get(t,e=null){if(e){let r=this.#t(t);return r.promise.then(()=>e(r.data)),null}let i=this.#e[t];if(!i||i.data===zd)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){let e=this.#e[t];return!!e&&e.data!==zd}delete(t){let e=this.#e[t];return!e||e.data===zd?!1:(delete this.#e[t],!0)}resolve(t,e=null){let i=this.#t(t);i.data=e,i.resolve()}clear(){for(let t in this.#e){let{data:e}=this.#e[t];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let t in this.#e){let{data:e}=this.#e[t];e!==zd&&(yield[t,e])}}},_1=class{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){let{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;let{annotationCanvasMap:e}=this.#e;return t.form||t.canvas&&e?.size>0}},w1=class n{#e=null;static#t=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:g=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _1(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:r,transform:s,background:o}=this.params;this.gfx=new du(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(t||new Kd(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return Be(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},IL="4.10.38",ML="f9bea397f";function j5(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function qd(n){return Math.max(0,Math.min(255,255*n))}var vg=class{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=qd(t),[t,t,t]}static G_HTML([t]){let e=j5(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(qd)}static RGB_HTML(t){return`#${t.map(j5).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[qd(1-Math.min(1,t+r)),qd(1-Math.min(1,i+r)),qd(1-Math.min(1,e+r))]}static CMYK_HTML(t){let e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){let r=1-t,s=1-e,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}},b1=class{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");let r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){wn("Abstract method `_createSVG` called.")}},ih=class extends b1{_createSVG(t){return document.createElementNS(Ho,t)}},yg=class{static setupStorage(t,e,i,r,s){let o=r.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",a=>{r.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(let a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{let l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:s}){let{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(let[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&s.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){let e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});let a=s!=="richText",l=t.div;if(l.append(o),t.viewport){let d=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");let c=[];if(r.children.length===0){if(r.value){let d=document.createTextNode(r.value);o.append(d),a&&nh.shouldBuildText(r.name)&&c.push(d)}return{textDivs:c}}let u=[[r,-1,o]];for(;u.length>0;){let[d,g,f]=u.at(-1);if(g+1===d.children.length){u.pop();continue}let w=d.children[++u.at(-1)[1]];if(w===null)continue;let{name:b}=w;if(b==="#text"){let C=document.createTextNode(w.value);c.push(C),f.append(C);continue}let A=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(f.append(A),w.attributes&&this.setAttributes({html:A,element:w,storage:e,intent:s,linkService:i}),w.children?.length>0)u.push([w,-1,A]);else if(w.value){let C=document.createTextNode(w.value);a&&nh.shouldBuildText(b)&&c.push(C),A.append(C)}}for(let d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){let e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}},lh=1e3,TL=9,Gl=new WeakSet;function za(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var C1=class{static create(t){switch(t.data.annotationType){case ui.LINK:return new _g(t);case ui.TEXT:return new x1(t);case ui.WIDGET:switch(t.data.fieldType){case"Tx":return new A1(t);case"Btn":return t.data.radioButton?new wg(t):t.data.checkBox?new S1(t):new D1(t);case"Ch":return new I1(t);case"Sig":return new E1(t)}return new Uo(t);case ui.POPUP:return new rh(t);case ui.FREETEXT:return new bg(t);case ui.LINE:return new T1(t);case ui.SQUARE:return new N1(t);case ui.CIRCLE:return new P1(t);case ui.POLYLINE:return new Cg(t);case ui.CARET:return new L1(t);case ui.INK:return new sh(t);case ui.POLYGON:return new k1(t);case ui.HIGHLIGHT:return new xg(t);case ui.UNDERLINE:return new O1(t);case ui.SQUIGGLY:return new F1(t);case ui.STRIKEOUT:return new R1(t);case ui.STAMP:return new Ag(t);case ui.FILEATTACHMENT:return new j1(t);default:return new Yn(t)}}},Yn=class n{#e=null;#t=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t?.str||e?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(t){let{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;i?.splice(0,4,...t);let{width:c,height:u}=za(t);e.left=`${100*(t[0]-a)/s}%`,e.top=`${100*(o-t[3]+l)/o}%`,r===0?(e.width=`${100*c/s}%`,e.height=`${100*u/o}%`):this.setRotation(r)}_createContainer(t){let{data:e,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Uo||(s.tabIndex=lh);let{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof rh){let{rotation:b}=e;return!e.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}let{width:a,height:l}=za(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;let b=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(b>0||A>0){let D=`calc(${b}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;o.borderRadius=D}else if(this instanceof wg){let D=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=D}switch(e.borderStyle.style){case Hd.SOLID:o.borderStyle="solid";break;case Hd.DASHED:o.borderStyle="dashed";break;case Hd.BEVELED:Rt("Unimplemented border style: beveled");break;case Hd.INSET:Rt("Unimplemented border style: inset");break;case Hd.UNDERLINE:o.borderBottomStyle="solid";break;default:break}let C=e.borderColor||null;C?(this.#t=!0,o.borderColor=ot.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):o.borderWidth=0}let c=ot.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:g,pageY:f}=r.rawDims;o.left=`${100*(c[0]-g)/u}%`,o.top=`${100*(c[1]-f)/d}%`;let{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(w,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=za(this.data.rect),a,l;t%180===0?(a=100*s/i,l=100*o/r):(a=100*o/i,l=100*s/r),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){let t=(e,i,r)=>{let s=r.detail[e],o=s[0],a=s.slice(1);r.target.style[i]=vg[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:vg[`${o}_rgb`](a)})};return Vt(this,"_commonActions",{display:e=>{let{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{let{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{let i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){let i=this._commonActions;for(let r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;let e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;let i=this._commonActions;for(let[r,s]of Object.entries(e)){let o=i[r];if(o){let a={detail:{[r]:s},target:t};o(a),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:t}=this.data;if(!t)return;let[e,i,r,s]=this.data.rect.map(b=>Math.fround(b));if(t.length===8){let[b,A,C,D]=t.subarray(2,6);if(r===b&&s===A&&e===C&&i===D)return}let{style:o}=this.container,a;if(this.#t){let{borderColor:b,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}let l=r-e,c=s-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);let g=u.createElement("defs");d.append(g);let f=u.createElement("clipPath"),w=`clippath_${this.data.id}`;f.setAttribute("id",w),f.setAttribute("clipPathUnits","objectBoundingBox"),g.append(f);for(let b=2,A=t.length;b<A;b+=8){let C=t[b],D=t[b+1],P=t[b+2],z=t[b+3],Z=u.createElement("rect"),ae=(P-e)/l,X=(s-D)/c,q=(C-P)/l,se=(D-z)/c;Z.setAttribute("x",ae),Z.setAttribute("y",X),Z.setAttribute("width",q),Z.setAttribute("height",se),f.append(Z),a?.push(`<rect vector-effect="non-scaling-stroke" x="${ae}" y="${X}" width="${q}" height="${se}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${w})`}_createPopup(){let{data:t}=this,e=this.#n=new rh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){wn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){let i=[];if(this._fieldObjects){let r=this._fieldObjects[t];if(r)for(let{page:s,id:o,exportValues:a}of r){if(s===-1||o===e)continue;let l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Gl.has(c)){Rt(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:l,domElement:c})}return i}for(let r of document.getElementsByName(t)){let{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&Gl.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(let e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}},_g=class extends Yn{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){let{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action),r=!0):t.attachment?(this.#t(i,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(i,t.setOCGState),r=!0):t.dest?(this._bindLink(i,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#e()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#e()}#t(t,e,i=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#e()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#e()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let r of Object.keys(e.actions)){let s=i.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#e()}_bindResetFormAction(t,e){let i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();let{fields:r,refs:s,include:o}=e,a=[];if(r.length!==0||s.length!==0){let u=new Set(s);for(let d of r){let g=this._fieldObjects[d]||[];for(let{id:f}of g)u.add(f)}for(let d of Object.values(this._fieldObjects))for(let g of d)u.has(g.id)===o&&a.push(g)}else for(let u of Object.values(this._fieldObjects))a.push(...u);let l=this.annotationStorage,c=[];for(let u of a){let{id:d}=u;switch(c.push(d),u.type){case"text":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{let f=u.defaultValue===u.exportValues;l.setValue(d,{value:f});break}case"combobox":case"listbox":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}default:continue}let g=document.querySelector(`[data-element-id="${d}"]`);if(g){if(!Gl.has(g)){Rt(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},x1=class extends Yn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}},Uo=class extends Yn{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ai.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,s){i.includes("mouse")?t.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(t,e,i,r){for(let[s,o]of i)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){let e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ot.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){let e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||TL,s=t.style,o,a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(Qp*r))||1,d=c/u;o=Math.min(r,l(d/Qp))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/Qp))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=ot.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}},A1=class extends Uo{constructor(t){let e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){let s=this.annotationStorage;for(let o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),s.setValue(o.id,{[r]:i})}render(){let t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let r=t.getValue(e,{value:this.data.fieldValue}),s=r.value||"",o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=r.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=a??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",a??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Gl.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=lh,this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",u=>{t.setValue(e,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),l.formattedValue=null}),i.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue??"";i.value=l.userValue=d,l.formattedValue=null});let c=u=>{let{formattedValue:d}=l;d!=null&&(u.target.value=d),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",d=>{if(l.focused)return;let{target:g}=d;l.userValue&&(g.value=l.userValue),l.lastCommittedValue=g.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),i.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);let g={value(f){l.userValue=f.detail.value??"",t.setValue(e,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){let{formattedValue:w}=f.detail;l.formattedValue=w,w!=null&&f.target!==document.activeElement&&(f.target.value=w),t.setValue(e,{formattedValue:w})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{let{charLimit:w}=f.detail,{target:b}=f;if(w===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",w);let A=l.userValue;!A||A.length<=w||(A=A.slice(0,w),b.value=l.userValue=A,t.setValue(e,{value:A}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(g,d)}),i.addEventListener("keydown",d=>{l.commitKey=1;let g=-1;if(d.key==="Escape"?g=0:d.key==="Enter"&&!this.data.multiLine?g=2:d.key==="Tab"&&(l.commitKey=3),g===-1)return;let{value:f}=d.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,willCommit:!0,commitKey:g,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});let u=c;c=null,i.addEventListener("blur",d=>{if(!l.focused||!d.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:g}=d.target;l.userValue=g,l.lastCommittedValue!==g&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}),u(d)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",d=>{l.lastCommittedValue=null;let{data:g,target:f}=d,{value:w,selectionStart:b,selectionEnd:A}=f,C=b,D=A;switch(d.inputType){case"deleteWordBackward":{let P=w.substring(0,b).match(/\w*[^\w]*$/);P&&(C-=P[0].length);break}case"deleteWordForward":{let P=w.substring(b).match(/^[^\w]*\w*/);P&&(D+=P[0].length);break}case"deleteContentBackward":b===A&&(C-=1);break;case"deleteContentForward":b===A&&(D+=1);break}d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,change:g||"",willCommit:!1,selStart:C,selEnd:D}})}),this._setEventListeners(i,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&i.addEventListener("blur",c),this.data.comb){let d=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},E1=class extends Uo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}},S1=class extends Uo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){let t=this.annotationStorage,e=this.data,i=e.id,r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let s=document.createElement("input");return Gl.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=lh,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,i)){let u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{let a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{let a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},wg=class extends Uo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let t=this.annotationStorage,e=this.data,i=e.id,r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(let o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});let s=document.createElement("input");if(Gl.add(s),s.setAttribute("data-element-id",i),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=lh,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,i))t.setValue(c.id,{value:!1});t.setValue(i,{value:l})}),s.addEventListener("resetform",o=>{let a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){let o=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{let l={value:c=>{let u=o===c.detail.value;for(let d of this._getElementsByName(c.target.name)){let g=u&&d.id===i;d.domElement&&(d.domElement.checked=g),t.setValue(d.id,{value:g})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},D1=class extends _g{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){let t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");let e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}},I1=class extends Uo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Gl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=lh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue;for(let g of r.options)g.selected=g.value===d});for(let u of this.data.options){let d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}let a=u=>{let d=u?"value":"textContent",{options:g,multiple:f}=r;return f?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[d]):g.selectedIndex===-1?null:g[g.selectedIndex][d]},l=a(!1),c=u=>{let d=u.target.options;return Array.prototype.map.call(d,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{let d={value(g){o?.();let f=g.detail.value,w=new Set(Array.isArray(f)?f:[f]);for(let b of r.options)b.selected=w.has(b.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(g){r.multiple=!0},remove(g){let f=r.options,w=g.detail.remove;f[w].selected=!1,r.remove(w),f.length>0&&Array.prototype.findIndex.call(f,A=>A.selected)===-1&&(f[0].selected=!0),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},clear(g){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(g){let{index:f,displayValue:w,exportValue:b}=g.detail.insert,A=r.children[f],C=document.createElement("option");C.textContent=w,C.value=b,A?A.before(C):r.append(C),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},items(g){let{items:f}=g.detail;for(;r.length!==0;)r.remove(0);for(let w of f){let{displayValue:b,exportValue:A}=w,C=document.createElement("option");C.textContent=b,C.value=A,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(!0),items:c(g)}),l=a(!1)},indices(g){let f=new Set(g.detail.indices);for(let w of g.target.options)w.selected=f.has(w.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(d,u)}),r.addEventListener("input",u=>{let d=a(!0),g=a(!1);t.setValue(e,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:g,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},rh=class extends Yn{constructor(t){let{data:e,elements:i}=t;super(t,{isRenderable:Yn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let t=this.popup=new M1({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(let i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${K1}${i}`).join(",")),this.container}},M1=class{#e=this.#D.bind(this);#t=this.#S.bind(this);#n=this.#I.bind(this);#i=this.#C.bind(this);#s=null;#r=null;#l=null;#a=null;#u=null;#c=null;#h=null;#d=!1;#f=null;#o=null;#p=null;#m=null;#g=null;#v=null;#w=!1;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#r=t,this.#g=r,this.#l=o,this.#m=a,this.#c=l,this.#s=e,this.#p=c,this.#h=u,this.#u=i,this.#a=ng.toDateObject(s),this.trigger=i.flatMap(g=>g.getElementsToTriggerPopup());for(let g of this.trigger)g.addEventListener("click",this.#i),g.addEventListener("mouseenter",this.#n),g.addEventListener("mouseleave",this.#t),g.classList.add("popupTriggerArea");for(let g of i)g.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,d&&this.#C()}render(){if(this.#f)return;let t=this.#f=document.createElement("div");if(t.className="popup",this.#s){let s=t.style.outlineColor=ot.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=ot.makeHexColor(...this.#s.map(a=>Math.floor(.7*(255-a)+a)))}let e=document.createElement("span");e.className="header";let i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=this.#g,t.append(e),this.#a){let s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),e.append(s)}let r=this.#y;if(r)yg.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{let s=this._formatContents(this.#l);t.append(s)}this.#r.append(t)}get#y(){let t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#b(){return this.#y?.attributes?.style?.fontSize||0}get#x(){return this.#y?.attributes?.style?.color||null}#E(t){let e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#x,fontSize:this.#b?`calc(${this.#b}px * var(--scale-factor))`:""}};for(let s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return i}_formatContents({str:t,dir:e}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;let r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){let a=r[s];i.append(document.createTextNode(a)),s<o-1&&i.append(document.createElement("br"))}return i}#D(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#C()}updateEdited({rect:t,popupContent:e}){this.#v||={contentsObj:this.#l,richText:this.#m},t&&(this.#o=null),e&&(this.#m=this.#E(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#l,richText:this.#m}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#o=null)}#M(){if(this.#o!==null)return;let{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:s}}}=this.#c,o=!!this.#h,a=o?this.#h:this.#p;for(let w of this.#u)if(!a||ot.intersect(w.data.rect,a)!==null){a=w.data.rect,o=!0;break}let l=ot.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,g=l[1];this.#o=[100*(d-r)/e,100*(g-s)/i];let{style:f}=this.#r;f.left=`${this.#o[0]}%`,f.top=`${this.#o[1]}%`}#C(){this.#d=!this.#d,this.#d?(this.#I(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#S(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#I(){this.#f||this.render(),this.isVisible?this.#d&&this.#r.classList.add("focused"):(this.#M(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#S(){this.#r.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#w=this.isVisible,this.#w&&(this.#r.hidden=!0)}maybeShow(){this.#w&&(this.#f||this.#I(),this.#w=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}},bg=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ft.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(let e of this.textContent){let i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},T1=class extends Yn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let t=this.data,{width:e,height:i}=za(t.rect),r=this.svgFactory.create(e,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},N1=class extends Yn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let t=this.data,{width:e,height:i}=za(t.rect),r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",e-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},P1=class extends Yn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let t=this.data,{width:e,height:i}=za(t.rect),r=this.svgFactory.create(e,i,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",i/2),o.setAttribute("rx",e/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Cg=class extends Yn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,vertices:e,borderStyle:i,popupRef:r}}=this;if(!e)return this.container;let{width:s,height:o}=za(t),a=this.svgFactory.create(s,o,!0),l=[];for(let u=0,d=e.length;u<d;u+=2){let g=e[u]-t[0],f=t[3]-e[u+1];l.push(`${g},${f}`)}l=l.join(" ");let c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},k1=class extends Cg{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},L1=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},sh=class extends Yn{#e=null;#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ft.HIGHLIGHT:Ft.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:o,width:a,height:l}=this.#n(e,t),c=this.svgFactory.create(a,l,!0),u=this.#e=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let d=0,g=i.length;d<g;d++){let f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",i[d].join(",")),u.append(f)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);let{thickness:e,points:i,rect:r}=t,s=this.#e;if(e>=0&&s.setAttribute("stroke-width",e||1),i)for(let o=0,a=this.#t.length;o<a;o++)this.#t[o].setAttribute("points",i[o].join(","));if(r){let{transform:o,width:a,height:l}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${a} ${l}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},xg=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ft.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},O1=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},F1=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},R1=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},Ag=class extends Yn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ft.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},j1=class extends Yn{#e=null;constructor(t){super(t,{isRenderable:!0});let{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",yt({source:this},e))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:t,data:e}=this,i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:r}=Ai.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},B1=class{#e=null;#t=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a}){this.div=t,this.#e=e,this.#t=i,this.#i=a||null,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#s(t,e){return Be(this,null,function*(){let i=t.firstChild||t,r=i.id=`${K1}${e}`,s=yield this.#i?.getAriaAttributes(r);if(s)for(let[o,a]of s)i.setAttribute(o,a);this.div.append(t),this.#e?.moveElementInDOM(this.div,t,i,!1)})}render(t){return Be(this,null,function*(){let{annotations:e}=t,i=this.div;$l(i,this.viewport);let r=new Map,s={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new ih,annotationStorage:t.annotationStorage||new Jd,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(let o of e){if(o.noHTML)continue;let a=o.annotationType===ui.POPUP;if(a){let u=r.get(o.id);if(!u)continue;s.elements=u}else{let{width:u,height:d}=za(o.rect);if(u<=0||d<=0)continue}s.data=o;let l=C1.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){let u=r.get(o.popupRef);u?u.push(l):r.set(o.popupRef,[l])}let c=l.render();o.hidden&&(c.style.visibility="hidden"),yield this.#s(c,o.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()})}update({viewport:t}){let e=this.div;this.viewport=t,$l(e,{rotation:t.rotation}),this.#r(),e.hidden=!1}#r(){if(!this.#t)return;let t=this.div;for(let[e,i]of this.#t){let r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";let{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}},Zp=/\r\n?|\n/g,V1=class n extends jn{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let t=n.prototype,e=s=>s.isEmpty(),i=Qd.TRANSLATE_SMALL,r=Qd.TRANSLATE_BIG;return Vt(this,"_keyboardManager",new Wl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Ft.FREETEXT;constructor(t){super(Jt(yt({},t),{name:"freeTextEditor"})),this.#e=t.color||n._defaultColor||jn._defaultLineColor,this.#s=t.fontSize||n._defaultFontSize}static initialize(t,e){jn.initialize(t,e);let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Xt.FREETEXT_SIZE:n._defaultFontSize=e;break;case Xt.FREETEXT_COLOR:n._defaultColor=e;break}}updateParams(t,e){switch(t){case Xt.FREETEXT_SIZE:this.#r(e);break;case Xt.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[Xt.FREETEXT_SIZE,n._defaultFontSize],[Xt.FREETEXT_COLOR,n._defaultColor||jn._defaultLineColor]]}get propertiesToUpdate(){return[[Xt.FREETEXT_SIZE,this.#s],[Xt.FREETEXT_COLOR,this.#e]]}#r(t){let e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#u()},i=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){let e=r=>{this.#e=this.editorDiv.style.color=r},i=this.#e;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){let t=this.parentScale;return[-n._internalPadding*t,-(n._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ft.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let t=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){let t=[];this.editorDiv.normalize();let e=null;for(let i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(n.#c(i)),e=i);return t.join(`
`)}#u(){let[t,e]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:r,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;let i=r=>{if(this.#t=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){n._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ig(this,this.div,["dblclick","keydown"]),this.width){let[r,s]=this.parentDimensions;if(this.annotationElementId){let{position:o}=this._initialData,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[c,u]=this.pageDimensions,[d,g]=this.pageTranslation,f,w;switch(this.rotation){case 0:f=t+(o[0]-d)/c,w=e+this.height-(o[1]-g)/u;break;case 90:f=t+(o[0]-d)/c,w=e-(o[1]-g)/u,[a,l]=[l,-a];break;case 180:f=t-this.width+(o[0]-d)/c,w=e-(o[1]-g)/u,[a,l]=[-a,-l];break;case 270:f=t+(o[0]-d-this.height*u)/c,w=e+(o[1]-g-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(f*r,w*s,a,l)}else this.setAt(t*r,e*s,this.width*r,this.height*s);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Zp,"")}editorDivPaste(t){let e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();let r=n.#f(e.getData("text")||"").replaceAll(Zp,`
`);if(!r)return;let s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();let o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}let{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){let f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(Zp,"")),f!==this.editorDiv){let w=c;for(let b of this.editorDiv.childNodes){if(b===f){w=u;continue}w.push(n.#c(b))}}c.push(a.nodeValue.slice(0,l).replaceAll(Zp,""))}else if(a===this.editorDiv){let f=c,w=0;for(let b of this.editorDiv.childNodes)w++===l&&(f=u),f.push(n.#c(b))}this.#t=`${c.join(`
`)}${r}${u.join(`
`)}`,this.#h();let d=new Range,g=c.reduce((f,w)=>f+w.length,0);for(let{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){let w=f.nodeValue.length;if(g<=w){d.setStart(f,g),d.setEnd(f,g);break}g-=w}s.removeAllRanges(),s.addRange(d)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let t of this.#t.split(`
`)){let e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll("\xA0"," ")}static#f(t){return t.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(t,e,i){return Be(this,null,function*(){let r=null;if(t instanceof bg){let{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u,popupRef:d},textContent:g,textPosition:f,parent:{page:{pageNumber:w}}}=t;if(!g||g.length===0)return null;r=t={annotationType:Ft.FREETEXT,color:Array.from(a),fontSize:o,value:g.join(`
`),position:f,pageIndex:w-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:d}}let s=yield Al(n,this,"deserialize").call(this,t,e,i);return s.#s=t.fontSize,s.#e=ot.makeHexColor(...t.color),s.#t=n.#f(t.value),s.annotationElementId=t.id||null,s._initialData=r,s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let e=n._internalPadding*this.parentScale,i=this.getRect(e,e),r=jn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:Ft.FREETEXT,color:r,fontSize:this.#s,value:this.#d(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!this.#o(s)?null:(s.id=this.annotationElementId,s)}#o(t){let{value:e,fontSize:i,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((o,a)=>o!==r[a])||t.pageIndex!==s}renderAnnotationElement(t){let e=super.renderAnnotationElement(t);if(this.deleted)return e;let{style:i}=e;i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,e.replaceChildren();for(let s of this.#t.split(`
`)){let o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}let r=n._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}},et=(()=>{class n{static PRECISION=1e-4;toSVGPath(){wn("Abstract method `toSVGPath` must be implemented.")}get box(){wn("Abstract getter `box` must be implemented.")}serialize(e,i){wn("Abstract method `serialize` must be implemented.")}static _rescale(e,i,r,s,o,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=i+e[l]*s,a[l+1]=r+e[l+1]*o;return a}static _rescaleAndSwap(e,i,r,s,o,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=i+e[l+1]*s,a[l+1]=r+e[l]*o;return a}static _translate(e,i,r,s){s||=new Float32Array(e.length);for(let o=0,a=e.length;o<a;o+=2)s[o]=i+e[o],s[o+1]=r+e[o+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,i,r,s,o){switch(o){case 90:return[1-i/r,e/s];case 180:return[1-e/r,1-i/s];case 270:return[i/r,1-e/s];default:return[e/r,i/s]}}static _normalizePagePoint(e,i,r){switch(r){case 90:return[1-i,e];case 180:return[1-e,1-i];case 270:return[i,1-e];default:return[e,i]}}static createBezierPoints(e,i,r,s,o,a){return[(e+5*r)/6,(i+5*s)/6,(5*r+o)/6,(5*s+a)/6,(r+o)/2,(s+a)/2]}}return n})(),Eg=class n{#e;#t=[];#n;#i;#s=[];#r=new Float32Array(18);#l;#a;#u;#c;#h;#d;#f=[];static#o=8;static#p=2;static#m=n.#o+n.#p;constructor({x:t,y:e},i,r,s,o,a=0){this.#e=i,this.#d=s*r,this.#i=o,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=a,this.#c=n.#o*r,this.#u=n.#m*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#g(){let t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[i,r,s,o]=this.#e;return[(this.#l+(t[0]-e[0])/2-i)/s,(this.#a+(t[1]-e[1])/2-r)/o,(this.#l+(e[0]-t[0])/2-i)/s,(this.#a+(e[1]-t[1])/2-r)/o]}add({x:t,y:e}){this.#l=t,this.#a=e;let[i,r,s,o]=this.#e,[a,l,c,u]=this.#r.subarray(8,12),d=t-c,g=e-u,f=Math.hypot(d,g);if(f<this.#u)return!1;let w=f-this.#c,b=w/f,A=b*d,C=b*g,D=a,P=l;a=c,l=u,c+=A,u+=C,this.#f?.push(t,e);let z=-C/w,Z=A/w,ae=z*this.#d,X=Z*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([c+ae,u+X],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([c-ae,u-X],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([a+ae,l+X],2),this.#s.push(NaN,NaN,NaN,NaN,(a+ae-i)/s,(l+X-r)/o),this.#r.set([a-ae,l-X],14),this.#t.push(NaN,NaN,NaN,NaN,(a-ae-i)/s,(l-X-r)/o)),this.#r.set([D,P,a,l,c,u],6),!this.isEmpty()):(this.#r.set([D,P,a,l,c,u],6),Math.abs(Math.atan2(P-l,D-a)-Math.atan2(C,A))<Math.PI/2?([a,l,c,u]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((l+u)/2-r)/o),[a,l,D,P]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((D+a)/2-i)/s,((P+l)/2-r)/o),!0):([D,P,a,l,c,u]=this.#r.subarray(0,6),this.#s.push(((D+5*a)/6-i)/s,((P+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),[c,u,a,l,D,P]=this.#r.subarray(12,18),this.#t.push(((D+5*a)/6-i)/s,((P+5*l)/6-r)/o,((5*a+c)/6-i)/s,((5*l+u)/6-r)/o,((a+c)/2-i)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";let t=this.#s,e=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#v();let i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#w(i),i.join(" ")}#v(){let[t,e,i,r]=this.#e,[s,o,a,l]=this.#g();return`M${(this.#r[2]-t)/i} ${(this.#r[3]-e)/r} L${(this.#r[4]-t)/i} ${(this.#r[5]-e)/r} L${s} ${o} L${a} ${l} L${(this.#r[16]-t)/i} ${(this.#r[17]-e)/r} L${(this.#r[14]-t)/i} ${(this.#r[15]-e)/r} Z`}#w(t){let e=this.#t;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){let[e,i,r,s]=this.#e,o=this.#r.subarray(4,6),a=this.#r.subarray(16,18),[l,c,u,d]=this.#g();t.push(`L${(o[0]-e)/r} ${(o[1]-i)/s} L${l} ${c} L${u} ${d} L${(a[0]-e)/r} ${(a[1]-i)/s}`)}newFreeDrawOutline(t,e,i,r,s,o){return new Sg(t,e,i,r,s,o)}getOutlines(){let t=this.#s,e=this.#t,i=this.#r,[r,s,o,a]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,g=l.length-2;d<g;d+=2)l[d]=(this.#f[d]-r)/o,l[d+1]=(this.#f[d+1]-s)/a;if(l[l.length-2]=(this.#l-r)/o,l[l.length-1]=(this.#a-s)/a,isNaN(i[6])&&!this.isEmpty())return this.#b(l);let c=new Float32Array(this.#s.length+24+this.#t.length),u=t.length;for(let d=0;d<u;d+=2){if(isNaN(t[d])){c[d]=c[d+1]=NaN;continue}c[d]=t[d],c[d+1]=t[d+1]}u=this.#E(c,u);for(let d=e.length-6;d>=6;d-=6)for(let g=0;g<6;g+=2){if(isNaN(e[d+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[d+g],c[u+1]=e[d+g+1],u+=2}return this.#x(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#n,this.#i)}#b(t){let e=this.#r,[i,r,s,o]=this.#e,[a,l,c,u]=this.#g(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-i)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-i)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-i)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-i)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(d,t,this.#e,this.#h,this.#n,this.#i)}#x(t,e){let i=this.#t;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#E(t,e){let i=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,g]=this.#g();return t.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,g,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],e),e+=24}},Sg=class extends et{#e;#t=new Float32Array(4);#n;#i;#s;#r;#l;constructor(t,e,i,r,s,o){super(),this.#l=t,this.#s=e,this.#e=i,this.#r=r,this.#n=s,this.#i=o,this.lastPoint=[NaN,NaN],this.#a(o);let[a,l,c,u]=this.#t;for(let d=0,g=t.length;d<g;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u;for(let d=0,g=e.length;d<g;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u}toSVGPath(){let t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,i=this.#l.length;e<i;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],s){let o=i-t,a=r-e,l,c;switch(s){case 0:l=et._rescale(this.#l,t,r,o,-a),c=et._rescale(this.#s,t,r,o,-a);break;case 90:l=et._rescaleAndSwap(this.#l,t,e,o,a),c=et._rescaleAndSwap(this.#s,t,e,o,a);break;case 180:l=et._rescale(this.#l,i,e,-o,a),c=et._rescale(this.#s,i,e,-o,a);break;case 270:l=et._rescaleAndSwap(this.#l,i,r,-o,-a),c=et._rescaleAndSwap(this.#s,i,r,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#a(t){let e=this.#l,i=e[4],r=e[5],s=i,o=r,a=i,l=r,c=i,u=r,d=t?Math.max:Math.min;for(let f=6,w=e.length;f<w;f+=6){if(isNaN(e[f]))s=Math.min(s,e[f+4]),o=Math.min(o,e[f+5]),a=Math.max(a,e[f+4]),l=Math.max(l,e[f+5]),u<e[f+5]?(c=e[f+4],u=e[f+5]):u===e[f+5]&&(c=d(c,e[f+4]));else{let b=ot.bezierBoundingBox(i,r,...e.slice(f,f+6));s=Math.min(s,b[0]),o=Math.min(o,b[1]),a=Math.max(a,b[2]),l=Math.max(l,b[3]),u<b[3]?(c=b[2],u=b[3]):u===b[3]&&(c=d(c,b[2]))}i=e[f+4],r=e[f+5]}let g=this.#t;g[0]=s-this.#n,g[1]=o-this.#n,g[2]=a-s+2*this.#n,g[3]=l-o+2*this.#n,this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(t,e,i,r,s,o=0){return new Eg(t,e,i,r,s,o)}getNewOutline(t,e){let[i,r,s,o]=this.#t,[a,l,c,u]=this.#e,d=s*c,g=o*u,f=i*c+a,w=r*u+l,b=this.newOutliner({x:this.#s[0]*d+f,y:this.#s[1]*g+w},this.#e,this.#r,t,this.#i,e??this.#n);for(let A=2;A<this.#s.length;A+=2)b.add({x:this.#s[A]*d+f,y:this.#s[A+1]*g+w});return b.getOutlines()}},oh=class{#e;#t;#n=[];#i=[];constructor(t,e=0,i=0,r=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0,u=10**-4;for(let{x:C,y:D,width:P,height:z}of t){let Z=Math.floor((C-e)/u)*u,ae=Math.ceil((C+P+e)/u)*u,X=Math.floor((D-e)/u)*u,q=Math.ceil((D+z+e)/u)*u,se=[Z,X,q,!0],ve=[ae,X,q,!1];this.#n.push(se,ve),s=Math.min(s,Z),o=Math.max(o,ae),a=Math.min(a,X),l=Math.max(l,q)}let d=o-s+2*i,g=l-a+2*i,f=s-i,w=a-i,b=this.#n.at(r?-1:-2),A=[b[0],b[2]];for(let C of this.#n){let[D,P,z]=C;C[0]=(D-f)/d,C[1]=(P-w)/g,C[2]=(z-w)/g}this.#e=new Float32Array([f,w,d,g]),this.#t=A}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);let t=[];for(let e of this.#n)e[3]?(t.push(...this.#u(e)),this.#l(e)):(this.#a(e),t.push(...this.#u(e)));return this.#s(t)}#s(t){let e=[],i=new Set;for(let o of t){let[a,l,c]=o;e.push([a,l,o],[a,c,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){let l=e[o][2],c=e[o+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}let r=[],s;for(;i.size>0;){let o=i.values().next().value,[a,l,c,u,d]=o;i.delete(o);let g=a,f=l;for(s=[a,c],r.push(s);;){let w;if(i.has(u))w=u;else if(i.has(d))w=d;else break;i.delete(w),[a,l,c,u,d]=w,g!==a&&(s.push(g,f,a,f===l?l:c),g=a),f=f===l?c:l}s.push(g,f)}return new H1(r,this.#e,this.#t)}#r(t){let e=this.#i,i=0,r=e.length-1;for(;i<=r;){let s=i+r>>1,o=e[s][0];if(o===t)return s;o<t?i=s+1:r=s-1}return r+1}#l([,t,e]){let i=this.#r(t);this.#i.splice(i,0,[t,e])}#a([,t,e]){let i=this.#r(t);for(let r=i;r<this.#i.length;r++){let[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}for(let r=i-1;r>=0;r--){let[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}}#u(t){let[e,i,r]=t,s=[[e,i,r]],o=this.#r(r);for(let a=0;a<o;a++){let[l,c]=this.#i[a];for(let u=0,d=s.length;u<d;u++){let[,g,f]=s[u];if(!(c<=g||f<=l)){if(g>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([e,c,f])}}}return s}},H1=class extends et{#e;#t;constructor(t,e,i){super(),this.#t=t,this.#e=e,this.lastPoint=i}toSVGPath(){let t=[];for(let e of this.#t){let[i,r]=e;t.push(`M${i} ${r}`);for(let s=2;s<e.length;s+=2){let o=e[s],a=e[s+1];o===i?(t.push(`V${a}`),r=a):a===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],s){let o=[],a=i-t,l=r-e;for(let c of this.#t){let u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=t+c[d]*a,u[d+1]=r-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}},ah=class extends Eg{newFreeDrawOutline(t,e,i,r,s,o){return new U1(t,e,i,r,s,o)}},U1=class extends Sg{newOutliner(t,e,i,r,s,o=0){return new ah(t,e,i,r,s,o)}},Dg=class n{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#l=null;#a;#u=null;#c=null;#h;static#d=null;static get _keyboardManager(){return Vt(this,"_keyboardManager",new Wl([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#h=Xt.HIGHLIGHT_COLOR,this.#l=t):(this.#r=!0,this.#h=Xt.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#a=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",n.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let t=this.#e=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);let e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});let i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,t.append(i),t}renderMainDropdown(){let t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){let t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",Ss,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,r]of this.#c.highlightColors){let s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",n.#d[i]);let o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#n),s.addEventListener("click",this.#o.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#o(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#e){this.#m(t);return}let e=t.target.getAttribute("data-color");e&&this.#o(e,t)}_moveToNext(t){if(!this.#v){this.#m(t);return}if(t.target===this.#e){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#e){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){n._keyboardManager.exec(this,t)}#m(t){if(this.#v){this.hideDropdown();return}if(this.#s=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#u)})),this.#i){this.#i.classList.remove("hidden");return}let e=this.#i=this.#f();this.#e.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#v){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#t&&(this.#t.style.backgroundColor=t),!this.#i)return;let e=this.#c.highlightColors.values();for(let i of this.#i.children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}},Ig=class n extends jn{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#l=null;#a=0;#u=null;#c=null;#h=null;#d=!1;#f=null;#o;#p=null;#m="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ft.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let t=n.prototype;return Vt(this,"_keyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(Jt(yt({},t),{name:"highlightEditor"})),this.color=t.color||n._defaultColor,this.#g=t.thickness||n._defaultThickness,this.#o=t.opacity||n._defaultOpacity,this.#n=t.boxes||null,this.#v=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#d=!0,this.#y(t),this.#M()):this.#n&&(this.#e=t.anchorNode,this.#t=t.anchorOffset,this.#l=t.focusNode,this.#a=t.focusOffset,this.#w(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#w(){let t=new oh(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;let e=new oh(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();let{lastPoint:i}=this.#r;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#c=t;let r=1.5;if(this.#r=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#h=e,this.#i=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:n.#C(this.#c.box,(u-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:n.#C(this.#r.box,u),path:{d:this.#r.toSVGPath()}})}let[s,o,a,l]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{let[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{let[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}let{lastPoint:c}=this.#r;this.#f=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(t,e){jn.initialize(t,e),n._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Xt.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=e;break;case Xt.HIGHLIGHT_THICKNESS:n._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Xt.HIGHLIGHT_COLOR:this.#b(e);break;case Xt.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[Xt.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[Xt.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[Xt.HIGHLIGHT_COLOR,this.color||n._defaultColor],[Xt.HIGHLIGHT_THICKNESS,this.#g||n._defaultThickness],[Xt.HIGHLIGHT_FREE,this.#d]]}#b(t){let e=(s,o)=>{this.color=s,this.#o=o,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:s,"fill-opacity":o}}),this.#s?.updateColor(s)},i=this.color,r=this.#o;this.addCommands({cmd:e.bind(this,t,n._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#x(t){let e=this.#g,i=r=>{this.#g=r,this.#E(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}addEditToolbar(){return Be(this,null,function*(){let t=yield Al(n.prototype,this,"addEditToolbar").call(this);return t?(this._uiManager.highlightColors&&(this.#s=new Dg({editor:this}),t.addColorPicker(this.#s)),t):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#N())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#D(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#D():t&&(this.#M(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#E(t){if(!this.#d)return;this.#y({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();let[e,i]=this.parentDimensions;this.setDims(this.width*e,this.height*i)}#D(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#o},rootClass:{highlight:!0,free:this.#d},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#u&&(this.#u.style.clipPath=this.#i))}static#C([t,e,i,r],s){switch(s){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){let{drawLayer:e}=this.parent,i;this.#d?(t=(t-this.rotation+360)%360,i=n.#C(this.#c.box,t)):i=n.#C([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:n.#C(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;let t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#I.bind(this),{signal:this._uiManager._signal});let e=this.#u=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;let[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),ig(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#I(t){n._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#S(!0);break;case 1:case 3:this.#S(!1);break}}#S(t){if(!this.#e)return;let e=window.getSelection();t?e.setPosition(this.#e,this.#t):e.setPosition(this.#l,this.#a)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#S(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#N(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;let[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8),a=0;for(let{x:l,y:c,width:u,height:d}of s){let g=l*t+i,f=(1-c)*e+r;o[a]=o[a+4]=g,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=g+u*t,o[a+5]=o[a+7]=f-d*e,a+=8}return o}#F(t){return this.#c.serialize(t,this.#N())}static startHighlighting(t,e,{target:i,x:r,y:s}){let{x:o,y:a,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,d=t.combinedSignal(u),g=f=>{u.abort(),this.#_(t,f)};window.addEventListener("blur",g,{signal:d}),window.addEventListener("pointerup",g,{signal:d}),window.addEventListener("pointerdown",Or,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Ss,{signal:d}),i.addEventListener("pointermove",this.#A.bind(this,t),{signal:d}),this._freeHighlight=new ah({x:r,y:s},[o,a,l,c],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#A(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#_(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,i){return Be(this,null,function*(){let r=null;if(t instanceof xg){let{data:{quadPoints:w,rect:b,rotation:A,id:C,color:D,opacity:P,popupRef:z},parent:{page:{pageNumber:Z}}}=t;r=t={annotationType:Ft.HIGHLIGHT,color:Array.from(D),opacity:P,quadPoints:w,boxes:null,pageIndex:Z-1,rect:b.slice(0),rotation:A,id:C,deleted:!1,popupRef:z}}else if(t instanceof sh){let{data:{inkLists:w,rect:b,rotation:A,id:C,color:D,borderStyle:{rawWidth:P},popupRef:z},parent:{page:{pageNumber:Z}}}=t;r=t={annotationType:Ft.HIGHLIGHT,color:Array.from(D),thickness:P,inkLists:w,boxes:null,pageIndex:Z-1,rect:b.slice(0),rotation:A,id:C,deleted:!1,popupRef:z}}let{color:s,quadPoints:o,inkLists:a,opacity:l}=t,c=yield Al(n,this,"deserialize").call(this,t,e,i);c.color=ot.makeHexColor(...s),c.#o=l||1,a&&(c.#g=t.thickness),c.annotationElementId=t.id||null,c._initialData=r;let[u,d]=c.pageDimensions,[g,f]=c.pageTranslation;if(o){let w=c.#n=[];for(let b=0;b<o.length;b+=8)w.push({x:(o[b]-g)/u,y:1-(o[b+1]-f)/d,width:(o[b+2]-o[b])/u,height:(o[b+1]-o[b+5])/d});c.#w(),c.#M(),c.rotate(c.rotation)}else if(a){c.#d=!0;let w=a[0],b={x:w[0]-g,y:d-(w[1]-f)},A=new ah(b,[0,0,u,d],1,c.#g/2,!0,.001);for(let P=0,z=w.length;P<z;P+=2)b.x=w[P]-g,b.y=d-(w[P+1]-f),A.add(b);let{id:C,clipPathId:D}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);c.#y({highlightOutlines:A.getOutlines(),highlightId:C,clipPathId:D}),c.#M()}return c})}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();let e=this.getRect(0,0),i=jn._colorManager.convert(this.color),r={annotationType:Ft.HIGHLIGHT,color:i,opacity:this.#o,thickness:this.#g,quadPoints:this.#L(),outlines:this.#F(e),pageIndex:this.pageIndex,rect:e,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#k(r)?null:(r.id=this.annotationElementId,r)}#k(t){let{color:e}=this._initialData;return t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},z1=class{#e=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(let[e,i]of Object.entries(t))this.updateProperty(e,i)}updateSVGProperty(t,e){this.#e[t]=e}toSVGProperties(){let t=this.#e;return this.#e=Object.create(null),{root:t}}reset(){this.#e=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){wn("Not implemented")}},NL=(()=>{class n extends jn{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#l=null;static#a=null;static#u=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,e.drawOutlines&&(this.#c(e),this.#f())}#c({drawOutlines:e,drawId:i,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#m(e.box)}#h(e,i){let{id:r}=i.drawLayer.draw(n._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,i){let r=new Set(Object.keys(e));for(let[s,o]of Object.entries(i))r.has(s)?Object.assign(e[s],o):e[s]=o;return e}static getDefaultDrawingOptions(e){wn("Not implemented")}static get typesMap(){wn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){let r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(n.#n.updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){let r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,i)}static get defaultPropertiesToUpdate(){let e=[],i=this._defaultDrawingOptions;for(let[r,s]of this.typesMap)e.push([r,i[s]]);return e}get propertiesToUpdate(){let e=[],{_drawingOptions:i}=this;for(let[r,s]of this.constructor.typesMap)e.push([r,i[s]]);return e}_updateProperty(e,i,r){let s=this._drawingOptions,o=s[i],a=l=>{s.updateProperty(i,l);let c=this.#e.updateProperty(i,l);c&&this.#m(c),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,i){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g(e,i)})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),i=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),i&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#o([e,i,r,s]){let{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[i,1-e,r*(a/o),s*(o/a)];case 180:return[1-e,1-i,r,s];case 270:return[1-i,e,r*(a/o),s*(o/a)];default:return[e,i,r,s]}}#p(){let{x:e,y:i,width:r,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-i,e,r*(o/a),s*(a/o)];case 180:return[1-e,1-i,r,s];case 270:return[i,1-e,r*(o/a),s*(a/o)];default:return[e,i,r,s]}}#m(e){if([this.x,this.y,this.width,this.height]=this.#o(e),this.div){this.fixAndSetPosition();let[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()}#g(){let{x:e,y:i,width:r,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-i-s,e,s,r];case 2:return[1-e-r,1-i-s,r,s];case 3:return[i,1-e-r,s,r];case 4:return[e,i-r*(l/c),s*(c/l),r*(l/c)];case 5:return[1-i,e,r*(l/c),s*(c/l)];case 6:return[1-e-s*(c/l),1-i,s*(c/l),r*(l/c)];case 7:return[i-r*(l/c),1-e-s*(c/l),r*(l/c),s*(c/l)];case 8:return[e-r,i-s,r,s];case 9:return[1-i,e-r,s,r];case 10:return[1-e,1-i,r,s];case 11:return[i-s,1-e,s,r];case 12:return[e-s*(c/l),i,s*(c/l),r*(l/c)];case 13:return[1-i-r*(l/c),e-s*(c/l),r*(l/c),s*(c/l)];case 14:return[1-e,1-i-r*(l/c),s*(c/l),r*(l/c)];case 15:return[i,1-e,r*(l/c),s*(c/l)];default:return[e,i,r,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,n._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e=super.render();e.classList.add("draw");let i=document.createElement("div");e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";let[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,i,r,s,o){wn("Not implemented")}static startDrawing(e,i,r,s){let{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(n.#l&&n.#l!==u)return;let{viewport:{rotation:d}}=e,{width:g,height:f}=o.getBoundingClientRect(),w=n.#i=new AbortController,b=e.combinedSignal(w);if(n.#r||=c,n.#l??=u,window.addEventListener("pointerup",A=>{n.#r===A.pointerId?this._endDraw(A):n.#a?.delete(A.pointerId)},{signal:b}),window.addEventListener("pointercancel",A=>{n.#r===A.pointerId?this._currentParent.endDrawingSession():n.#a?.delete(A.pointerId)},{signal:b}),window.addEventListener("pointerdown",A=>{n.#l===A.pointerType&&((n.#a||=new Set).add(A.pointerId),n.#n.isCancellable()&&(n.#n.removeLastElement(),n.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Ss,{signal:b}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),o.addEventListener("touchmove",A=>{A.timeStamp===n.#u&&Or(A)},{signal:b}),e.toggleDrawing(),i._editorUndoBar?.hide(),n.#n){e.drawLayer.updateProperties(this._currentDrawId,n.#n.startNew(a,l,g,f,d));return}i.updateUIForDefaultProperties(this),n.#n=this.createDrawerInstance(a,l,g,f,d),n.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(n.#s.toSVGProperties(),n.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(n.#u=-1,!n.#n)return;let{offsetX:i,offsetY:r,pointerId:s}=e;if(n.#r===s){if(n.#a?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,n.#n.add(i,r)),n.#u=e.timeStamp,Or(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,n.#n=null,n.#s=null,n.#l=null,n.#u=NaN),n.#i&&(n.#i.abort(),n.#i=null,n.#r=NaN,n.#a=null)}static _endDraw(e){let i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),e&&i.drawLayer.updateProperties(this._currentDrawId,n.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){let r=n.#n,s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Xt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){let i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Xt.DRAW_STEP),!n.#n.isEmpty()){let{pageDimensions:[r,s],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:n.#n.getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:n.#s,mustBeCommitted:!e});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,r,s,o,a){wn("Not implemented")}static deserialize(e,i,r){return Be(this,null,function*(){let{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=i.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,e),u=yield Al(n,this,"deserialize").call(this,e,i,r);return u.createDrawingOptions(e),u.#c({drawOutlines:c}),u.#f(),u.onScaleChanging(),u.rotate(),u})}serializeDraw(e){let[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#e.serialize([i,r,s,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}return n})(),q1=class{#e=new Float64Array(6);#t;#n;#i;#s;#r;#l="";#a=0;#u=new Mg;#c;#h;constructor(t,e,i,r,s,o){this.#c=i,this.#h=r,this.#i=s,this.#s=o,[t,e]=this.#d(t,e);let a=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#n=[{line:a,points:this.#r}],this.#e.set(a,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#d(t,e){return et._normalizePoint(t,e,this.#c,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#d(t,e);let[i,r,s,o]=this.#e.subarray(2,6),a=t-s,l=e-o;return Math.hypot(this.#c*a,this.#h*l)<=2?null:(this.#r.push(t,e),isNaN(i)?(this.#e.set([s,o,t,e],2),this.#t.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,r,s,o,t,e],0),this.#t.push(...et.createBezierPoints(i,r,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){let i=this.add(t,e);return i||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,s){this.#c=i,this.#h=r,this.#i=s,[t,e]=this.#d(t,e);let o=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];let a=this.#n.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#n.push({line:o,points:this.#r}),this.#e.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#t=t.line,this.#r=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#u.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){let{line:i,points:r}=this.#n[t];this.#t=i,this.#r=r,this.#a=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){let t=et.svgRound(this.#t[4]),e=et.svgRound(this.#t[5]);if(this.#r.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#r.length<=6){let r=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,r)} M ${t} ${e}`,this.#a=6}if(this.#r.length===4){let r=et.svgRound(this.#t[10]),s=et.svgRound(this.#t[11]);return this.#l=`${this.#l} L ${r} ${s}`,this.#a=12,this.#l}let i=[];this.#a===0&&(i.push(`M ${t} ${e}`),this.#a=6);for(let r=this.#a,s=this.#t.length;r<s;r+=6){let[o,a,l,c,u,d]=this.#t.slice(r,r+6).map(et.svgRound);i.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return this.#l+=i.join(" "),this.#a=this.#t.length,this.#l}getOutlines(t,e,i,r){let s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#u.build(this.#n,t,e,i,this.#i,this.#s,r),this.#e=null,this.#t=null,this.#n=null,this.#l=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}},Mg=class n extends et{#e;#t=0;#n;#i;#s;#r;#l;#a;#u;build(t,e,i,r,s,o,a){this.#s=e,this.#r=i,this.#l=r,this.#a=s,this.#u=o,this.#n=a??0,this.#i=t,this.#d()}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){let t=[];for(let{line:e}of this.#i){if(t.push(`M${et.svgRound(e[4])} ${et.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12){t.push(`L${et.svgRound(e[10])} ${et.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){let[s,o,a,l,c,u]=e.subarray(i,i+6).map(et.svgRound);t.push(`C${s} ${o} ${a} ${l} ${c} ${u}`)}}return t.join("")}serialize([t,e,i,r],s){let o=[],a=[],[l,c,u,d]=this.#h(),g,f,w,b,A,C,D,P,z;switch(this.#a){case 0:z=et._rescale,g=t,f=e+r,w=i,b=-r,A=t+l*i,C=e+(1-c-d)*r,D=t+(l+u)*i,P=e+(1-c)*r;break;case 90:z=et._rescaleAndSwap,g=t,f=e,w=i,b=r,A=t+c*i,C=e+l*r,D=t+(c+d)*i,P=e+(l+u)*r;break;case 180:z=et._rescale,g=t+i,f=e,w=-i,b=r,A=t+(1-l-u)*i,C=e+c*r,D=t+(1-l)*i,P=e+(c+d)*r;break;case 270:z=et._rescaleAndSwap,g=t+i,f=e+r,w=-i,b=-r,A=t+(1-c-d)*i,C=e+(1-l-u)*r,D=t+(1-c)*i,P=e+(1-l)*r;break}for(let{line:Z,points:ae}of this.#i)o.push(z(Z,g,f,w,b,s?new Array(Z.length):null)),a.push(z(ae,g,f,w,b,s?new Array(ae.length):null));return{lines:o,points:a,rect:[A,C,D,P]}}static deserialize(t,e,i,r,s,{paths:{lines:o,points:a},rotation:l,thickness:c}){let u=[],d,g,f,w,b;switch(l){case 0:b=et._rescale,d=-t/i,g=e/r+1,f=1/i,w=-1/r;break;case 90:b=et._rescaleAndSwap,d=-e/r,g=-t/i,f=1/r,w=1/i;break;case 180:b=et._rescale,d=t/i+1,g=-e/r,f=-1/i,w=1/r;break;case 270:b=et._rescaleAndSwap,d=e/r+1,g=t/i+1,f=-1/r,w=-1/i;break}if(!o){o=[];for(let C of a){let D=C.length;if(D===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(D===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}let P=new Float32Array(3*(D-2));o.push(P);let[z,Z,ae,X]=C.subarray(0,4);P.set([NaN,NaN,NaN,NaN,z,Z],0);for(let q=4;q<D;q+=2){let se=C[q],ve=C[q+1];P.set(et.createBezierPoints(z,Z,ae,X,se,ve),(q-2)*3),[z,Z,ae,X]=[ae,X,se,ve]}}}for(let C=0,D=o.length;C<D;C++)u.push({line:b(o[C].map(P=>P??NaN),d,g,f,w),points:b(a[C].map(P=>P??NaN),d,g,f,w)});let A=new n;return A.build(u,i,r,1,l,c,s),A}#c(t=this.#u){let e=this.#n+t/2*this.#l;return this.#a%180===0?[e/this.#s,e/this.#r]:[e/this.#r,e/this.#s]}#h(){let[t,e,i,r]=this.#e,[s,o]=this.#c(0);return[t+s,e+o,i-2*s,r-2*o]}#d(){let t=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(let{line:r}of this.#i){if(r.length<=12){for(let a=4,l=r.length;a<l;a+=6){let[c,u]=r.subarray(a,a+2);t[0]=Math.min(t[0],c),t[1]=Math.min(t[1],u),t[2]=Math.max(t[2],c),t[3]=Math.max(t[3],u)}continue}let s=r[4],o=r[5];for(let a=6,l=r.length;a<l;a+=6){let[c,u,d,g,f,w]=r.subarray(a,a+6);ot.bezierBoundingBox(s,o,c,u,d,g,f,w,t),s=f,o=w}}let[e,i]=this.#c();t[0]=Math.min(1,Math.max(0,t[0]-e)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+e)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#e}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){let[e,i]=this.#c();this.#u=t;let[r,s]=this.#c(),[o,a]=[r-e,s-i],l=this.#e;return l[0]-=o,l[1]-=a,l[2]+=2*o,l[3]+=2*a,l}updateParentDimensions([t,e],i){let[r,s]=this.#c();this.#s=t,this.#r=e,this.#l=i;let[o,a]=this.#c(),l=o-r,c=a-s,u=this.#e;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return this.#t=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(et.svgRound).join(" ")}get defaultProperties(){let[t,e]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get rotationTransform(){let[,,t,e]=this.#e,i=0,r=0,s=0,o=0,a=0,l=0;switch(this.#t){case 90:r=e/t,s=-t/e,a=t;break;case 180:i=-1,o=-1,a=t,l=e;break;case 270:r=-e/t,s=t/e,l=e;break;default:return""}return`matrix(${i} ${r} ${s} ${o} ${et.svgRound(a)} ${et.svgRound(l)})`}getPathResizingSVGProperties([t,e,i,r]){let[s,o]=this.#c(),[a,l,c,u]=this.#e;if(Math.abs(c-s)<=et.PRECISION||Math.abs(u-o)<=et.PRECISION){let b=t+i/2-(a+c/2),A=e+r/2-(l+u/2);return{path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:`${this.rotationTransform} translate(${b} ${A})`}}}let d=(i-2*s)/(c-2*s),g=(r-2*o)/(u-2*o),f=c/i,w=u/r;return{path:{"transform-origin":`${et.svgRound(a)} ${et.svgRound(l)}`,transform:`${this.rotationTransform} scale(${f} ${w}) translate(${et.svgRound(s)} ${et.svgRound(o)}) scale(${d} ${g}) translate(${et.svgRound(-s)} ${et.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,i,r]){let[s,o]=this.#c(),a=this.#e,[l,c,u,d]=a;if(a[0]=t,a[1]=e,a[2]=i,a[3]=r,Math.abs(u-s)<=et.PRECISION||Math.abs(d-o)<=et.PRECISION){let A=t+i/2-(l+u/2),C=e+r/2-(c+d/2);for(let{line:D,points:P}of this.#i)et._translate(D,A,C,D),et._translate(P,A,C,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}let g=(i-2*s)/(u-2*s),f=(r-2*o)/(d-2*o),w=-g*(l+s)+t+s,b=-f*(c+o)+e+o;if(g!==1||f!==1||w!==0||b!==0)for(let{line:A,points:C}of this.#i)et._rescale(A,w,b,g,f,A),et._rescale(C,w,b,g,f,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){let[r,s]=i,o=this.#e,a=t-o[0],l=e-o[1];if(this.#s===r&&this.#r===s)for(let{line:c,points:u}of this.#i)et._translate(c,a,l,c),et._translate(u,a,l,u);else{let c=this.#s/r,u=this.#r/s;this.#s=r,this.#r=s;for(let{line:d,points:g}of this.#i)et._rescale(d,a,l,c,u,d),et._rescale(g,a,l,c,u,g);o[2]*=c,o[3]*=u}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get defaultSVGProperties(){let t=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t[0])} ${et.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}},$1=class n extends z1{#e;constructor(t){super(),this.#e=t,super.updateProperties({fill:"none",stroke:jn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this.#e.realScale),super.updateSVGProperty(t,e)}clone(){let t=new n(this.#e);return t.updateAll(this),t}},W1=class n extends NL{static _type="ink";static _editorType=Ft.INK;static _defaultDrawingOptions=null;constructor(t){super(Jt(yt({},t),{name:"inkEditor"})),this._willKeepAspectRatio=!0}static initialize(t,e){jn.initialize(t,e),this._defaultDrawingOptions=new $1(e.viewParameters)}static getDefaultDrawingOptions(t){let e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Vt(this,"typesMap",new Map([[Xt.INK_THICKNESS,"stroke-width"],[Xt.INK_COLOR,"stroke"],[Xt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,s){return new q1(t,e,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,s,o){return Mg.deserialize(t,e,i,r,s,o)}static deserialize(t,e,i){return Be(this,null,function*(){let r=null;if(t instanceof sh){let{data:{inkLists:o,rect:a,rotation:l,id:c,color:u,opacity:d,borderStyle:{rawWidth:g},popupRef:f},parent:{page:{pageNumber:w}}}=t;r=t={annotationType:Ft.INK,color:Array.from(u),thickness:g,opacity:d,paths:{points:o},boxes:null,pageIndex:w-1,rect:a.slice(0),rotation:l,id:c,deleted:!1,popupRef:f}}let s=yield Al(n,this,"deserialize").call(this,t,e,i);return s.annotationElementId=t.id||null,s._initialData=r,s})}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();let{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){let t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=n.getDefaultDrawingOptions({stroke:ot.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let{lines:e,points:i,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,l={annotationType:Ft.INK,color:jn._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:e,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(t){let{color:e,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,a)=>o!==e[a])||t.thickness!==i||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){let{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e}),null}},G1=class n extends jn{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#l=null;#a=null;#u=!1;#c=!1;static _type="stamp";static _editorType=Ft.STAMP;constructor(t){super(Jt(yt({},t),{name:"stampEditor"})),this.#i=t.bitmapUrl,this.#s=t.bitmapFile}static initialize(t,e){jn.initialize(t,e)}static get supportedTypes(){return Vt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return Vt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(Ft.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){let e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#e=t.bitmap,e||(this.#t=t.id,this.#u=t.isSvg),t.file&&(this.#r=t.file.name),this.#o()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(t=null,e=!0){return Be(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:r,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,a=yield i.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");let l=a.output;return yield this.setGuessedAltText(l),e&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#h(i,!0)).finally(()=>this.#d());return}if(this.#i){let i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#h(r)).finally(()=>this.#d());return}if(this.#s){let i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(r=>this.#h(r)).finally(()=>this.#d());return}let t=document.createElement("input");t.type="file",t.accept=n.supportedTypesStr;let e=this._uiManager._signal;this.#n=new Promise(i=>{t.addEventListener("change",()=>Be(this,null,function*(){if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let r=yield this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}i()}),{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#a&&(clearTimeout(this.#a),this.#a=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#o():this.#f(),this.width&&!this.annotationElementId){let[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#a!==null&&clearTimeout(this.#a);let t=200;this.#a=setTimeout(()=>{this.#a=null,this.#m()},t)}#o(){let{div:t}=this,{width:e,height:i}=this.#e,[r,s]=this.pageDimensions,o=.75;if(this.width)e=this.width*r,i=this.height*s;else if(e>o*r||i>o*s){let u=Math.min(o*r/e,o*s/i);e*=u,i*=u}let[a,l]=this.parentDimensions;this.setDims(e*a/r,i*l/s),this._uiManager.enableWaiting(!1);let c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=i/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#c||(this.parent.addUndoableEditor(this),this.#c=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&c.setAttribute("aria-label",this.#r)}copyCanvas(t,e,i=!1){t||(t=224);let{width:r,height:s}=this.#e,o=new Zd,a=this.#e,l=r,c=s,u=null;if(e){if(r>e||s>e){let ae=Math.min(e/r,e/s);l=Math.floor(r*ae),c=Math.floor(s*ae)}u=document.createElement("canvas");let g=u.width=Math.ceil(l*o.sx),f=u.height=Math.ceil(c*o.sy);this.#u||(a=this.#p(g,f));let w=u.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",A="#42414d");let C=15,D=C*o.sx,P=C*o.sy,z=new OffscreenCanvas(D*2,P*2),Z=z.getContext("2d");Z.fillStyle=b,Z.fillRect(0,0,D*2,P*2),Z.fillStyle=A,Z.fillRect(0,0,D,P),Z.fillRect(D,P,D,P),w.fillStyle=w.createPattern(z,"repeat"),w.fillRect(0,0,g,f),w.drawImage(a,0,0,a.width,a.height,0,0,g,f)}let d=null;if(i){let g,f;if(o.symmetric&&a.width<t&&a.height<t)g=a.width,f=a.height;else if(a=this.#e,r>t||s>t){let A=Math.min(t/r,t/s);g=Math.floor(r*A),f=Math.floor(s*A),this.#u||(a=this.#p(g,f))}let b=new OffscreenCanvas(g,f).getContext("2d",{willReadFrequently:!0});b.drawImage(a,0,0,a.width,a.height,0,0,g,f),d={width:g,height:f,data:b.getImageData(0,0,g,f).data}}return{canvas:u,width:l,height:c,imageData:d}}#p(t,e){let{width:i,height:r}=this.#e,s=i,o=r,a=this.#e;for(;s>2*t||o>2*e;){let l=s,c=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));let u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#m(){let[t,e]=this.parentDimensions,{width:i,height:r}=this,s=new Zd,o=Math.ceil(i*t*s.sx),a=Math.ceil(r*e*s.sy),l=this.#l;if(!l||l.width===o&&l.height===a)return;l.width=o,l.height=a;let c=this.#u?this.#e:this.#p(o,a),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,a)}getImageForAltText(){return this.#l}#g(t){if(t){if(this.#u){let r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}let e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#e,e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#u){let[e,i]=this.pageDimensions,r=Math.round(this.width*e*qa.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*qa.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static deserialize(t,e,i){return Be(this,null,function*(){let r=null;if(t instanceof Ag){let{data:{rect:w,rotation:b,id:A,structParent:C,popupRef:D},container:P,parent:{page:{pageNumber:z}}}=t,Z=P.querySelector("canvas"),ae=i.imageManager.getFromCanvas(P.id,Z);Z.remove();let X=(yield e._structTree.getAriaAttributes(`${K1}${A}`))?.get("aria-label")||"";r=t={annotationType:Ft.STAMP,bitmapId:ae.id,bitmap:ae.bitmap,pageIndex:z-1,rect:w.slice(0),rotation:b,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:C,popupRef:D}}let s=yield Al(n,this,"deserialize").call(this,t,e,i),{rect:o,bitmap:a,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:d}=t;c&&i.imageManager.isValidId(c)?(s.#t=c,a&&(s.#e=a)):s.#i=l,s.#u=u;let[g,f]=s.pageDimensions;return s.width=(o[2]-o[0])/g,s.height=(o[3]-o[1])/f,s.annotationElementId=t.id||null,d&&(s.altTextData=d),s._initialData=r,s.#c=!!r,s})}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let i={annotationType:Ft.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=this.#g(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){let a=this.#v(i);if(a.isSame)return null;a.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,e===null)return i;e.stamps||=new Map;let o=this.#u?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#t))e.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#g(!1);else if(this.#u){let a=e.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#g(!1))}return i}#v(t){let{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}},PL=(()=>{class n{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#l=!1;#a=!1;#u=!1;#c=null;#h=null;#d=null;#f=null;#o;static _initialized=!1;static#p=new Map([V1,W1,G1,Ig].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:i,div:r,structTreeLayer:s,accessibilityManager:o,annotationLayer:a,drawLayer:l,textLayer:c,viewport:u,l10n:d}){let g=[...n.#p.values()];if(!n._initialized){n._initialized=!0;for(let f of g)f.initialize(d,e)}e.registerEditorTypes(g),this.#o=e,this.pageIndex=i,this.div=r,this.#e=o,this.#n=a,this.viewport=u,this.#d=c,this.drawLayer=l,this._structTree=s,this.#o.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#o.getMode()===Ft.NONE}updateToolbar(e){this.#o.updateToolbar(e)}updateMode(e=this.#o.getMode()){switch(this.#y(),e){case Ft.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ft.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ft.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let r of n.#p.values())i.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#o.setEditingState(e)}addCommands(e){this.#o.addCommands(e)}cleanUndoStack(e){this.#o.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}enable(){return Be(this,null,function*(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);let e=new Set;for(let r of this.#r.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#o.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#n){this.#u=!1;return}let i=this.#n.getEditableAnnotations();for(let r of i){if(r.hide(),this.#o.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;let s=yield this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}this.#u=!1})}disable(){this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let e=new Map,i=new Map;for(let s of this.#r.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else i.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){let s=this.#n.getEditableAnnotations();for(let o of s){let{id:a}=o.data;if(this.#o.isDeletedAnnotationElement(a))continue;let l=i.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(this.#o.addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);let{classList:r}=this.div;for(let s of n.#p.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#o.getActive()!==e&&this.#o.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;let e=this.#o.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#m.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#m(e){this.#o.unselectAll();let{target:i}=e;if(i===this.#d.div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&this.#d.div.contains(i)){let{isMac:r}=Ai.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#o.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Ig.startHighlighting(this,this.#o.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let e=this.#o.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});let i=this.pointerup.bind(this);this.div.addEventListener("pointerup",i,{signal:e}),this.div.addEventListener("pointercancel",i,{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#r.set(e.id,e);let{annotationElementId:i}=e;i&&this.#o.isDeletedAnnotationElement(i)&&this.#o.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#o.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#o.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#o.addDeletedAnnotationElement(e.annotationElementId),jn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#o.addEditor(e),this.attach(e),!e.isAttachedToDOM){let i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#u),this.#o.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;let{activeElement:i}=document;e.div.contains(i)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),i.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){let i=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return this.#o.getId()}get#g(){return n.#p.get(this.#o.getMode())}combinedSignal(e){return this.#o.combinedSignal(e)}#v(e){let i=this.#g;return i?new i.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}pasteEditor(e,i){this.#o.updateToolbar(e),this.#o.updateMode(e);let{offsetX:r,offsetY:s}=this.#w(),o=this.getNextId(),a=this.#v(yt({parent:this,id:o,x:r,y:s,uiManager:this.#o,isCentered:!0},i));a&&this.add(a)}deserialize(e){return Be(this,null,function*(){return(yield n.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#o))||null})}createAndAddNewEditor(e,i,r={}){let s=this.getNextId(),o=this.#v(yt({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#o,isCentered:i},r));return o&&this.add(o),o}#w(){let{x:e,y:i,width:r,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),a=Math.max(0,i),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,i+s),u=(o+l)/2-e,d=(a+c)/2-i,[g,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:g,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#w(),!0)}setSelected(e){this.#o.setSelected(e)}toggleSelected(e){this.#o.toggleSelected(e)}unselect(e){this.#o.unselect(e)}pointerup(e){let{isMac:i}=Ai.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&this.#l&&(this.#l=!1,!(this.#g?.isDrawer&&this.#g.supportMultipleDrawings))){if(!this.#t){this.#t=!0;return}if(this.#o.getMode()===Ft.STAMP){this.#o.unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#o.getMode()===Ft.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}let{isMac:i}=Ai.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(e);return}let r=this.#o.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus(),this.#c){this.#g.startDrawing(this,this.#o,!1,e);return}this.#o.setCurrentDrawingSession(this),this.#c=new AbortController;let i=this.#o.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:i}),this.#g.startDrawing(this,this.#o,!1,e)}pause(e){if(e){let{activeElement:i}=document;this.div.contains(i)&&(this.#h=i);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#c?(this.#o.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#g.endDrawing(e)):null}findNewParent(e,i,r){let s=this.#o.findParent(i,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#o.removeLayer(this)}#y(){for(let e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,$l(this.div,e);for(let i of this.#o.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){this.#o.commitOrRemove(),this.#y();let i=this.viewport.rotation,r=e.rotation;if(this.viewport=e,$l(this.div,{rotation:r}),i!==r)for(let s of this.#r.values())s.rotate(r)}get pageDimensions(){let{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return this.#o.viewParameters.realScale}}return n})(),Y1=class n{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#e){this.#e=t;return}if(this.#e!==t){if(this.#n.size>0)for(let e of this.#n.values())e.remove(),t.append(e);this.#e=t}}static get _svgFactory(){return Vt(this,"_svgFactory",new ih)}static#s(t,[e,i,r,s]){let{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#r(){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){let i=n._svgFactory.createElement("clipPath");t.append(i);let r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");let s=n._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#a(t,e){for(let[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){let r=this.#t++,s=this.#r(),o=n._svgFactory.createElement("defs");s.append(o);let a=n._svgFactory.createElement("path");o.append(a);let l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,a);let c=i?this.#l(o,l):null,u=n._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,t),this.#n.set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(t,e){let i=this.#t++,r=this.#r(),s=n._svgFactory.createElement("defs");r.append(s);let o=n._svgFactory.createElement("path");s.append(o);let a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){let d=n._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");let g=n._svgFactory.createElement("rect");d.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");let f=n._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}let c=n._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);let u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#n.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;let{root:i,bbox:r,rootClass:s,path:o}=e,a=typeof t=="number"?this.#n.get(t):t;if(a){if(i&&this.#a(a,i),r&&n.#s(a,r),s){let{classList:l}=a;for(let[c,u]of Object.entries(s))l.toggle(c,u)}if(o){let c=a.firstChild.firstChild;this.#a(c,o)}}}updateParent(t,e){if(e===this)return;let i=this.#n.get(t);i&&(e.#e.append(i),this.#n.delete(t),e.#n.set(t,i))}remove(t){this.#i.delete(t),this.#e!==null&&(this.#n.get(t).remove(),this.#n.delete(t))}destroy(){this.#e=null;for(let t of this.#n.values())t.remove();this.#n.clear(),this.#i.clear()}};globalThis.pdfjsTestingUtils={HighlightOutliner:oh};var o9=Dt.AbortException,a9=Dt.AnnotationEditorLayer,l9=Dt.AnnotationEditorParamsType,c9=Dt.AnnotationEditorType,u9=Dt.AnnotationEditorUIManager,d9=Dt.AnnotationLayer,h9=Dt.AnnotationMode,f9=Dt.ColorPicker,p9=Dt.DOMSVGFactory,g9=Dt.DrawLayer,m9=Dt.FeatureTest,Y5=Dt.GlobalWorkerOptions,v9=Dt.ImageKind,y9=Dt.InvalidPDFException,_9=Dt.MissingPDFException,w9=Dt.OPS,b9=Dt.OutputScale,C9=Dt.PDFDataRangeTransport,x9=Dt.PDFDateString,A9=Dt.PDFWorker,E9=Dt.PasswordResponses,S9=Dt.PermissionFlag,D9=Dt.PixelsPerInch,I9=Dt.RenderingCancelledException,M9=Dt.TextLayer,T9=Dt.TouchManager,N9=Dt.UnexpectedResponseException,P9=Dt.Util,k9=Dt.VerbosityLevel,L9=Dt.XfaLayer,O9=Dt.build,F9=Dt.createValidAbsoluteUrl,R9=Dt.fetchData,X5=Dt.getDocument,j9=Dt.getFilenameFromUrl,B9=Dt.getPdfFilenameFromUrl,V9=Dt.getXfaPageViewport,H9=Dt.isDataScheme,U9=Dt.isPdfFile,z9=Dt.noContextMenu,q9=Dt.normalizeUnicode,$9=Dt.setLayerDimensions,W9=Dt.shadow,G9=Dt.stopEvent,Y9=Dt.version;var Pi=Uint8Array,Fr=Uint16Array,o_=Int32Array,jg=new Pi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bg=new Pi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n_=new Pi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J5=function(n,t){for(var e=new Fr(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var r=new o_(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},eA=J5(jg,2),tA=eA.b,i_=eA.r;tA[28]=258,i_[258]=28;var nA=J5(Bg,0),LL=nA.b,K5=nA.r,r_=new Fr(32768);for(cn=0;cn<32768;++cn)zo=(cn&43690)>>1|(cn&21845)<<1,zo=(zo&52428)>>2|(zo&13107)<<2,zo=(zo&61680)>>4|(zo&3855)<<4,r_[cn]=((zo&65280)>>8|(zo&255)<<8)>>1;var zo,cn,Js=function(n,t,e){for(var i=n.length,r=0,s=new Fr(t);r<i;++r)n[r]&&++s[n[r]-1];var o=new Fr(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(e){a=new Fr(1<<t);var l=15-t;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=t-n[r],d=o[n[r]-1]++<<u,g=d|(1<<u)-1;d<=g;++d)a[r_[d]>>l]=c}else for(a=new Fr(i),r=0;r<i;++r)n[r]&&(a[r]=r_[o[n[r]-1]++]>>15-n[r]);return a},Wa=new Pi(288);for(cn=0;cn<144;++cn)Wa[cn]=8;var cn;for(cn=144;cn<256;++cn)Wa[cn]=9;var cn;for(cn=256;cn<280;++cn)Wa[cn]=7;var cn;for(cn=280;cn<288;++cn)Wa[cn]=8;var cn,dh=new Pi(32);for(cn=0;cn<32;++cn)dh[cn]=5;var cn,OL=Js(Wa,9,0),FL=Js(Wa,9,1),RL=Js(dh,5,0),jL=Js(dh,5,1),J1=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},Ds=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},e_=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},a_=function(n){return(n+7)/8|0},iA=function(n,t,e){return(t==null||t<0)&&(t=0),(e==null||e>n.length)&&(e=n.length),new Pi(n.subarray(t,e))};var BL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Is=function(n,t,e){var i=new Error(t||BL[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Is),!e)throw i;return i},VL=function(n,t,e,i){var r=n.length,s=i?i.length:0;if(!r||t.f&&!t.l)return e||new Pi(0);var o=!e,a=o||t.i!=2,l=t.i;o&&(e=new Pi(r*3));var c=function(Fe){var Ue=e.length;if(Fe>Ue){var qe=new Pi(Math.max(Ue*2,Fe));qe.set(e),e=qe}},u=t.f||0,d=t.p||0,g=t.b||0,f=t.l,w=t.d,b=t.m,A=t.n,C=r*8;do{if(!f){u=Ds(n,d,1);var D=Ds(n,d+1,3);if(d+=3,D)if(D==1)f=FL,w=jL,b=9,A=5;else if(D==2){var ae=Ds(n,d,31)+257,X=Ds(n,d+10,15)+4,q=ae+Ds(n,d+5,31)+1;d+=14;for(var se=new Pi(q),ve=new Pi(19),k=0;k<X;++k)ve[n_[k]]=Ds(n,d+k*3,7);d+=X*3;for(var L=J1(ve),te=(1<<L)-1,Q=Js(ve,L,1),k=0;k<q;){var Ce=Q[Ds(n,d,te)];d+=Ce&15;var P=Ce>>4;if(P<16)se[k++]=P;else{var Y=0,F=0;for(P==16?(F=3+Ds(n,d,3),d+=2,Y=se[k-1]):P==17?(F=3+Ds(n,d,7),d+=3):P==18&&(F=11+Ds(n,d,127),d+=7);F--;)se[k++]=Y}}var B=se.subarray(0,ae),$=se.subarray(ae);b=J1(B),A=J1($),f=Js(B,b,1),w=Js($,A,1)}else Is(1);else{var P=a_(d)+4,z=n[P-4]|n[P-3]<<8,Z=P+z;if(Z>r){l&&Is(0);break}a&&c(g+z),e.set(n.subarray(P,Z),g),t.b=g+=z,t.p=d=Z*8,t.f=u;continue}if(d>C){l&&Is(0);break}}a&&c(g+131072);for(var re=(1<<b)-1,ye=(1<<A)-1,S=d;;S=d){var Y=f[e_(n,d)&re],j=Y>>4;if(d+=Y&15,d>C){l&&Is(0);break}if(Y||Is(2),j<256)e[g++]=j;else if(j==256){S=d,f=null;break}else{var U=j-254;if(j>264){var k=j-257,ne=jg[k];U=Ds(n,d,(1<<ne)-1)+tA[k],d+=ne}var oe=w[e_(n,d)&ye],ue=oe>>4;oe||Is(3),d+=oe&15;var $=LL[ue];if(ue>3){var ne=Bg[ue];$+=e_(n,d)&(1<<ne)-1,d+=ne}if(d>C){l&&Is(0);break}a&&c(g+131072);var ge=g+U;if(g<$){var _e=s-$,Re=Math.min($,ge);for(_e+g<0&&Is(3);g<Re;++g)e[g]=i[_e+g]}for(;g<ge;++g)e[g]=e[g-$]}}t.l=f,t.p=S,t.b=g,t.f=u,f&&(u=1,t.m=b,t.d=w,t.n=A)}while(!u);return g!=e.length&&o?iA(e,0,g):e.subarray(0,g)},qo=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},ch=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},t_=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:sA,l:0};if(r==1){var o=new Pi(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(Z,ae){return Z.f-ae.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,u=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=e[e[c].f<e[d].f?c++:d++],l=e[c!=u&&e[c].f<e[d].f?c++:d++],e[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,i=1;i<r;++i)s[i].s>g&&(g=s[i].s);var f=new Fr(g+1),w=s_(e[u-1],f,0);if(w>t){var i=0,b=0,A=w-t,C=1<<A;for(s.sort(function(ae,X){return f[X.s]-f[ae.s]||ae.f-X.f});i<r;++i){var D=s[i].s;if(f[D]>t)b+=C-(1<<w-f[D]),f[D]=t;else break}for(b>>=A;b>0;){var P=s[i].s;f[P]<t?b-=1<<t-f[P]++-1:++i}for(;i>=0&&b;--i){var z=s[i].s;f[z]==t&&(--f[z],++b)}w=t}return{t:new Pi(f),l:w}},s_=function(n,t,e){return n.s==-1?Math.max(s_(n.l,t,e+1),s_(n.r,t,e+1)):t[n.s]=e},Z5=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Fr(++t),i=0,r=n[0],s=1,o=function(l){e[i++]=l},a=1;a<=t;++a)if(n[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return{c:e.subarray(0,i),n:t}},uh=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},rA=function(n,t,e){var i=e.length,r=a_(t+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=e[s];return(r+4+i)*8},Q5=function(n,t,e,i,r,s,o,a,l,c,u){qo(t,u++,e),++r[256];for(var d=t_(r,15),g=d.t,f=d.l,w=t_(s,15),b=w.t,A=w.l,C=Z5(g),D=C.c,P=C.n,z=Z5(b),Z=z.c,ae=z.n,X=new Fr(19),q=0;q<D.length;++q)++X[D[q]&31];for(var q=0;q<Z.length;++q)++X[Z[q]&31];for(var se=t_(X,7),ve=se.t,k=se.l,L=19;L>4&&!ve[n_[L-1]];--L);var te=c+5<<3,Q=uh(r,Wa)+uh(s,dh)+o,Ce=uh(r,g)+uh(s,b)+o+14+3*L+uh(X,ve)+2*X[16]+3*X[17]+7*X[18];if(l>=0&&te<=Q&&te<=Ce)return rA(t,u,n.subarray(l,l+c));var Y,F,B,$;if(qo(t,u,1+(Ce<Q)),u+=2,Ce<Q){Y=Js(g,f,0),F=g,B=Js(b,A,0),$=b;var re=Js(ve,k,0);qo(t,u,P-257),qo(t,u+5,ae-1),qo(t,u+10,L-4),u+=14;for(var q=0;q<L;++q)qo(t,u+3*q,ve[n_[q]]);u+=3*L;for(var ye=[D,Z],S=0;S<2;++S)for(var j=ye[S],q=0;q<j.length;++q){var U=j[q]&31;qo(t,u,re[U]),u+=ve[U],U>15&&(qo(t,u,j[q]>>5&127),u+=j[q]>>12)}}else Y=OL,F=Wa,B=RL,$=dh;for(var q=0;q<a;++q){var ne=i[q];if(ne>255){var U=ne>>18&31;ch(t,u,Y[U+257]),u+=F[U+257],U>7&&(qo(t,u,ne>>23&31),u+=jg[U]);var oe=ne&31;ch(t,u,B[oe]),u+=$[oe],oe>3&&(ch(t,u,ne>>5&8191),u+=Bg[oe])}else ch(t,u,Y[ne]),u+=F[ne]}return ch(t,u,Y[256]),u+F[256]},HL=new o_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sA=new Pi(0),UL=function(n,t,e,i,r,s){var o=s.z||n.length,a=new Pi(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=HL[t-1],g=d>>13,f=d&8191,w=(1<<e)-1,b=s.p||new Fr(32768),A=s.h||new Fr(w+1),C=Math.ceil(e/3),D=2*C,P=function(it){return(n[it]^n[it+1]<<C^n[it+2]<<D)&w},z=new o_(25e3),Z=new Fr(288),ae=new Fr(32),X=0,q=0,se=s.i||0,ve=0,k=s.w||0,L=0;se+2<o;++se){var te=P(se),Q=se&32767,Ce=A[te];if(b[Q]=Ce,A[te]=Q,k<=se){var Y=o-se;if((X>7e3||ve>24576)&&(Y>423||!c)){u=Q5(n,l,0,z,Z,ae,q,ve,L,se-L,u),ve=X=q=0,L=se;for(var F=0;F<286;++F)Z[F]=0;for(var F=0;F<30;++F)ae[F]=0}var B=2,$=0,re=f,ye=Q-Ce&32767;if(Y>2&&te==P(se-ye))for(var S=Math.min(g,Y)-1,j=Math.min(32767,se),U=Math.min(258,Y);ye<=j&&--re&&Q!=Ce;){if(n[se+B]==n[se+B-ye]){for(var ne=0;ne<U&&n[se+ne]==n[se+ne-ye];++ne);if(ne>B){if(B=ne,$=ye,ne>S)break;for(var oe=Math.min(ye,ne-2),ue=0,F=0;F<oe;++F){var ge=se-ye+F&32767,_e=b[ge],Re=ge-_e&32767;Re>ue&&(ue=Re,Ce=ge)}}}Q=Ce,Ce=b[Q],ye+=Q-Ce&32767}if($){z[ve++]=268435456|i_[B]<<18|K5[$];var Fe=i_[B]&31,Ue=K5[$]&31;q+=jg[Fe]+Bg[Ue],++Z[257+Fe],++ae[Ue],k=se+B,++X}else z[ve++]=n[se],++Z[n[se]]}}for(se=Math.max(se,k);se<o;++se)z[ve++]=n[se],++Z[n[se]];u=Q5(n,l,c,z,Z,ae,q,ve,L,se-L,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=A,s.p=b,s.i=se,s.w=k)}else{for(var se=s.w||0;se<o+c;se+=65535){var qe=se+65535;qe>=o&&(l[u/8|0]=c,qe=o),u=rA(l,u+1,n.subarray(se,qe))}s.i=o}return iA(a,0,i+a_(u)+r)};var oA=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=e.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=e[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,t=r},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},zL=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Pi(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return UL(n,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,r)};var aA=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8};var qL=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=oA();r.p(t.dictionary),aA(n,2,r.d())}},$L=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Is(6,"invalid zlib data"),(n[1]>>5&1)==+!t&&Is(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Vg(n,t){t||(t={});var e=oA();e.p(n);var i=zL(n,t,t.dictionary?6:2,4);return qL(i,t),aA(i,i.length-4,e.d()),i}function lA(n,t){return VL(n.subarray($L(n,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var WL=typeof TextDecoder<"u"&&new TextDecoder,GL=0;try{WL.decode(sA,{stream:!0}),GL=1}catch{}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function l_(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var bn={log:l_,warn:function(n){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):l_.call(null,arguments))},error:function(n){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):l_(n))}};function c_(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Yl(i.response,t,e)},i.onerror=function(){bn.error("could not download file")},i.send()}function cA(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Hg(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var hh,p_,Yl=bt.saveAs||((typeof window>"u"?"undefined":vn(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=bt.URL||bt.webkitURL,r=document.createElement("a");t=t||n.name||"download",r.download=t,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?cA(r.href)?c_(n,t,e):Hg(r,r.target="_blank"):Hg(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Hg(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(cA(n))c_(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Hg(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:vn(s)!=="object"&&(bn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return c_(n,t,e);var r=n.type==="application/octet-stream",s=/constructor/i.test(bt.HTMLElement)||bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":vn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(n)}else{var l=bt.URL||bt.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function SA(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var r=e[i].re,s=e[i].process,o=r.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function u_(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=ki(e,i,r,s,t[0],7,-680876936),s=ki(s,e,i,r,t[1],12,-389564586),r=ki(r,s,e,i,t[2],17,606105819),i=ki(i,r,s,e,t[3],22,-1044525330),e=ki(e,i,r,s,t[4],7,-176418897),s=ki(s,e,i,r,t[5],12,1200080426),r=ki(r,s,e,i,t[6],17,-1473231341),i=ki(i,r,s,e,t[7],22,-45705983),e=ki(e,i,r,s,t[8],7,1770035416),s=ki(s,e,i,r,t[9],12,-1958414417),r=ki(r,s,e,i,t[10],17,-42063),i=ki(i,r,s,e,t[11],22,-1990404162),e=ki(e,i,r,s,t[12],7,1804603682),s=ki(s,e,i,r,t[13],12,-40341101),r=ki(r,s,e,i,t[14],17,-1502002290),e=Li(e,i=ki(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Li(s,e,i,r,t[6],9,-1069501632),r=Li(r,s,e,i,t[11],14,643717713),i=Li(i,r,s,e,t[0],20,-373897302),e=Li(e,i,r,s,t[5],5,-701558691),s=Li(s,e,i,r,t[10],9,38016083),r=Li(r,s,e,i,t[15],14,-660478335),i=Li(i,r,s,e,t[4],20,-405537848),e=Li(e,i,r,s,t[9],5,568446438),s=Li(s,e,i,r,t[14],9,-1019803690),r=Li(r,s,e,i,t[3],14,-187363961),i=Li(i,r,s,e,t[8],20,1163531501),e=Li(e,i,r,s,t[13],5,-1444681467),s=Li(s,e,i,r,t[2],9,-51403784),r=Li(r,s,e,i,t[7],14,1735328473),e=Oi(e,i=Li(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Oi(s,e,i,r,t[8],11,-2022574463),r=Oi(r,s,e,i,t[11],16,1839030562),i=Oi(i,r,s,e,t[14],23,-35309556),e=Oi(e,i,r,s,t[1],4,-1530992060),s=Oi(s,e,i,r,t[4],11,1272893353),r=Oi(r,s,e,i,t[7],16,-155497632),i=Oi(i,r,s,e,t[10],23,-1094730640),e=Oi(e,i,r,s,t[13],4,681279174),s=Oi(s,e,i,r,t[0],11,-358537222),r=Oi(r,s,e,i,t[3],16,-722521979),i=Oi(i,r,s,e,t[6],23,76029189),e=Oi(e,i,r,s,t[9],4,-640364487),s=Oi(s,e,i,r,t[12],11,-421815835),r=Oi(r,s,e,i,t[15],16,530742520),e=Fi(e,i=Oi(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Fi(s,e,i,r,t[7],10,1126891415),r=Fi(r,s,e,i,t[14],15,-1416354905),i=Fi(i,r,s,e,t[5],21,-57434055),e=Fi(e,i,r,s,t[12],6,1700485571),s=Fi(s,e,i,r,t[3],10,-1894986606),r=Fi(r,s,e,i,t[10],15,-1051523),i=Fi(i,r,s,e,t[1],21,-2054922799),e=Fi(e,i,r,s,t[8],6,1873313359),s=Fi(s,e,i,r,t[15],10,-30611744),r=Fi(r,s,e,i,t[6],15,-1560198380),i=Fi(i,r,s,e,t[13],21,1309151649),e=Fi(e,i,r,s,t[4],6,-145523070),s=Fi(s,e,i,r,t[11],10,-1120210379),r=Fi(r,s,e,i,t[2],15,718787259),i=Fi(i,r,s,e,t[9],21,-343485551),n[0]=Ya(e,n[0]),n[1]=Ya(i,n[1]),n[2]=Ya(r,n[2]),n[3]=Ya(s,n[3])}function Zg(n,t,e,i,r,s){return t=Ya(Ya(t,n),Ya(i,s)),Ya(t<<r|t>>>32-r,e)}function ki(n,t,e,i,r,s,o){return Zg(t&e|~t&i,n,t,r,s,o)}function Li(n,t,e,i,r,s,o){return Zg(t&i|e&~i,n,t,r,s,o)}function Oi(n,t,e,i,r,s,o){return Zg(t^e^i,n,t,r,s,o)}function Fi(n,t,e,i,r,s,o){return Zg(e^(t|~i),n,t,r,s,o)}function DA(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)u_(i,YL(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(u_(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,u_(i,r),i}function YL(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}hh=bt.atob.bind(bt),p_=bt.btoa.bind(bt);var uA="0123456789abcdef".split("");function XL(n){for(var t="",e=0;e<4;e++)t+=uA[n>>8*e+4&15]+uA[n>>8*e&15];return t}function KL(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function g_(n){return DA(n).map(KL).join("")}var ZL=function(n){for(var t=0;t<n.length;t++)n[t]=XL(n[t]);return n.join("")}(DA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ya(n,t){if(ZL){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function m_(n,t){var e,i,r,s;if(n!==e){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}e=n,i=a}else a=i;var d=t.length,g=0,f=0,w="";for(l=0;l<d;l++)f=(f+(u=a[g=(g+1)%256]))%256,a[g]=a[f],a[f]=u,o=a[(a[g]+a[f])%256],w+=String.fromCharCode(t.charCodeAt(l)^o);return w}var dA={print:4,modify:8,copy:16,"annot-forms":32};function mu(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(dA.perm!==void 0)throw new Error("Invalid permission: "+a);r+=dA[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=g_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=m_(this.encryptionKey,this.padding)}function vu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=n[i]}return t}function hA(n){if(vn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,typeof e!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(a){bt.console&&bn.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Xg(n){if(!(this instanceof Xg))return new Xg(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function IA(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Xl(n,t,e,i,r){if(!(this instanceof Xl))return new Xl(n,t,e,i,r);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,IA.call(this,i,r)}function yu(n,t,e,i,r){if(!(this instanceof yu))return new yu(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,IA.call(this,i,r)}function wt(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;vn(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=hA;var w="1.3",b=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(v){w=v};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var C=f.__private__.getPageFormat=function(v){return A[v]};r=r||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},P=D.COMPAT;function z(){this.saveGraphicsState(),ee(new pt(Ge,0,0,-Ge,0,Fs()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),c="n",P=D.ADVANCED}function Z(){this.restoreGraphicsState(),c="S",P=D.COMPAT}var ae=f.__private__.combineFontStyleAndFontWeight=function(v,I){if(v=="bold"&&I=="normal"||v=="bold"&&I==400||v=="normal"&&I=="italic"||v=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(v=I==400||I==="normal"?v==="italic"?"italic":"normal":I!=700&&I!=="bold"||v!=="normal"?(I==700?"bold":I)+""+v:"bold"),v};f.advancedAPI=function(v){var I=P===D.COMPAT;return I&&z.call(this),typeof v!="function"||(v(this),I&&Z.call(this)),this},f.compatAPI=function(v){var I=P===D.ADVANCED;return I&&Z.call(this),typeof v!="function"||(v(this),I&&z.call(this)),this},f.isAdvancedAPI=function(){return P===D.ADVANCED};var X,q=function(v){if(P!==D.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=f.roundToPrecision=f.__private__.roundToPrecision=function(v,I){var K=t||I;if(isNaN(v)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(K).replace(/0+$/,"")};X=f.hpf=f.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return se(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return se(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return se(v,16)};var ve=f.f2=f.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return se(v,2)},k=f.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return se(v,3)},L=f.scale=f.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return P===D.COMPAT?v*Ge:P===D.ADVANCED?v:void 0},te=function(v){return P===D.COMPAT?Fs()-v:P===D.ADVANCED?v:void 0},Q=function(v){return L(te(v))};f.__private__.setPrecision=f.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var Ce,Y="00000000000000000000000000000000",F=f.__private__.getFileId=function(){return Y},B=f.__private__.setFileId=function(v){return Y=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ai=new mu(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};f.setFileId=function(v){return B(v),this},f.getFileId=function(){return F()};var $=f.__private__.convertDateToPDFDate=function(v){var I=v.getTimezoneOffset(),K=I<0?"+":"-",le=Math.floor(Math.abs(I/60)),me=Math.abs(I%60),Se=[K,U(le),"'",U(me),"'"].join("");return["D:",v.getFullYear(),U(v.getMonth()+1),U(v.getDate()),U(v.getHours()),U(v.getMinutes()),U(v.getSeconds()),Se].join("")},re=f.__private__.convertPDFDateToDate=function(v){var I=parseInt(v.substr(2,4),10),K=parseInt(v.substr(6,2),10)-1,le=parseInt(v.substr(8,2),10),me=parseInt(v.substr(10,2),10),Se=parseInt(v.substr(12,2),10),Oe=parseInt(v.substr(14,2),10);return new Date(I,K,le,me,Se,Oe,0)},ye=f.__private__.setCreationDate=function(v){var I;if(v===void 0&&(v=new Date),v instanceof Date)I=$(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=v}return Ce=I},S=f.__private__.getCreationDate=function(v){var I=Ce;return v==="jsDate"&&(I=re(Ce)),I};f.setCreationDate=function(v){return ye(v),this},f.getCreationDate=function(v){return S(v)};var j,U=f.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ne=f.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},oe=0,ue=[],ge=[],_e=0,Re=[],Fe=[],Ue=!1,qe=ge,it=function(){oe=0,_e=0,ge=[],ue=[],Re=[],os=Bn(),_r=Bn()};f.__private__.setCustomOutputDestination=function(v){Ue=!0,qe=v};var Ae=function(v){Ue||(qe=v)};f.__private__.resetCustomOutputDestination=function(){Ue=!1,qe=ge};var ee=f.__private__.out=function(v){return v=v.toString(),_e+=v.length+1,qe.push(v),qe},lt=f.__private__.write=function(v){return ee(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Qe=f.__private__.getArrayBuffer=function(v){for(var I=v.length,K=new ArrayBuffer(I),le=new Uint8Array(K);I--;)le[I]=v.charCodeAt(I);return K},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return je};var He=n.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(v){return He=P===D.ADVANCED?v/Ge:v,this};var ke,Ve=f.__private__.getFontSize=f.getFontSize=function(){return P===D.COMPAT?He:He*Ge},tt=n.R2L||!1;f.__private__.setR2L=f.setR2L=function(v){return tt=v,this},f.__private__.getR2L=f.getR2L=function(){return tt};var ht,st=f.__private__.setZoomMode=function(v){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))ke=v;else if(isNaN(v)){if(I.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');ke=v}else ke=parseInt(v,10)};f.__private__.getZoomMode=function(){return ke};var ct,Ut=f.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ht=v};f.__private__.getPageMode=function(){return ht};var sn=f.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ct=v};f.__private__.getLayoutMode=function(){return ct},f.__private__.setDisplayMode=f.setDisplayMode=function(v,I,K){return st(v),sn(I),Ut(K),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(v){if(Object.keys(dt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[v]},f.__private__.getDocumentProperties=function(){return dt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(v){for(var I in dt)dt.hasOwnProperty(I)&&v[I]&&(dt[I]=v[I]);return this},f.__private__.setDocumentProperty=function(v,I){if(Object.keys(dt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[v]=I};var ft,Ge,si,Yt,Ri,un={},Cn={},Br=[],rn={},ji={},Tn={},yr={},ss=null,Nn=0,At=[],Kt=new hA(f),ao=n.hotfixes||[],oi={},Vr={},Hr=[],pt=function v(I,K,le,me,Se,Oe){if(!(this instanceof v))return new v(I,K,le,me,Se,Oe);isNaN(I)&&(I=1),isNaN(K)&&(K=0),isNaN(le)&&(le=0),isNaN(me)&&(me=1),isNaN(Se)&&(Se=0),isNaN(Oe)&&(Oe=0),this._matrix=[I,K,le,me,Se,Oe]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(v)},pt.prototype.multiply=function(v){var I=v.sx*this.sx+v.shy*this.shx,K=v.sx*this.shy+v.shy*this.sy,le=v.shx*this.sx+v.sy*this.shx,me=v.shx*this.shy+v.sy*this.sy,Se=v.tx*this.sx+v.ty*this.shx+this.tx,Oe=v.tx*this.shy+v.ty*this.sy+this.ty;return new pt(I,K,le,me,Se,Oe)},pt.prototype.decompose=function(){var v=this.sx,I=this.shy,K=this.shx,le=this.sy,me=this.tx,Se=this.ty,Oe=Math.sqrt(v*v+I*I),Ye=(v/=Oe)*K+(I/=Oe)*le;K-=v*Ye,le-=I*Ye;var at=Math.sqrt(K*K+le*le);return Ye/=at,v*(le/=at)<I*(K/=at)&&(v=-v,I=-I,Ye=-Ye,Oe=-Oe),{scale:new pt(Oe,0,0,at,0,0),translate:new pt(1,0,0,1,me,Se),rotate:new pt(v,I,-I,v,0,0),skew:new pt(1,0,Ye,1,0,0)}},pt.prototype.toString=function(v){return this.join(" ")},pt.prototype.inversed=function(){var v=this.sx,I=this.shy,K=this.shx,le=this.sy,me=this.tx,Se=this.ty,Oe=1/(v*le-I*K),Ye=le*Oe,at=-I*Oe,Et=-K*Oe,xt=v*Oe;return new pt(Ye,at,Et,xt,-Ye*me-Et*Se,-at*me-xt*Se)},pt.prototype.applyToPoint=function(v){var I=v.x*this.sx+v.y*this.shx+this.tx,K=v.x*this.shy+v.y*this.sy+this.ty;return new na(I,K)},pt.prototype.applyToRectangle=function(v){var I=this.applyToPoint(v),K=this.applyToPoint(new na(v.x+v.w,v.y+v.h));return new cl(I.x,I.y,K.x-I.x,K.y-I.y)},pt.prototype.clone=function(){var v=this.sx,I=this.shy,K=this.shx,le=this.sy,me=this.tx,Se=this.ty;return new pt(v,I,K,le,me,Se)},f.Matrix=pt;var Bi=f.matrixMult=function(v,I){return I.multiply(v)},Ur=new pt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ur;var Ei=function(v,I){if(!ji[v]){var K=(I instanceof Xl?"Sh":"P")+(Object.keys(rn).length+1).toString(10);I.id=K,ji[v]=K,rn[K]=I,Kt.publish("addPattern",I)}};f.ShadingPattern=Xl,f.TilingPattern=yu,f.addShadingPattern=function(v,I){return q("addShadingPattern()"),Ei(v,I),this},f.beginTilingPattern=function(v){q("beginTilingPattern()"),_c(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},f.endTilingPattern=function(v,I){q("endTilingPattern()"),I.stream=Fe[j].join(`
`),Ei(v,I),Kt.publish("endTilingPattern",I),Hr.pop().restore()};var qn=f.__private__.newObject=function(){var v=Bn();return Vi(v,!0),v},Bn=f.__private__.newObjectDeferred=function(){return oe++,ue[oe]=function(){return _e},oe},Vi=function(v,I){return I=typeof I=="boolean"&&I,ue[v]=_e,I&&ee(v+" 0 obj"),v},Zt=f.__private__.newAdditionalObject=function(){var v={objId:Bn(),content:""};return Re.push(v),v},os=Bn(),_r=Bn(),wr=f.__private__.decodeColorString=function(v){var I=v.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var K=parseFloat(I[0]);I=[K,K,K,"r"]}for(var le="#",me=0;me<3;me++)le+=("0"+Math.floor(255*parseFloat(I[me])).toString(16)).slice(-2);return le},br=f.__private__.encodeColorString=function(v){var I;typeof v=="string"&&(v={ch1:v});var K=v.ch1,le=v.ch2,me=v.ch3,Se=v.ch4,Oe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Ye=new SA(K);if(Ye.ok)K=Ye.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var at=parseInt(K.substr(1),16);K=at>>16&255,le=at>>8&255,me=255&at}if(le===void 0||Se===void 0&&K===le&&le===me)if(typeof K=="string")I=K+" "+Oe[0];else switch(v.precision){case 2:I=ve(K/255)+" "+Oe[0];break;case 3:default:I=k(K/255)+" "+Oe[0]}else if(Se===void 0||vn(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return I=["1.","1.","1.",Oe[1]].join(" ");if(typeof K=="string")I=[K,le,me,Oe[1]].join(" ");else switch(v.precision){case 2:I=[ve(K/255),ve(le/255),ve(me/255),Oe[1]].join(" ");break;default:case 3:I=[k(K/255),k(le/255),k(me/255),Oe[1]].join(" ")}}else if(typeof K=="string")I=[K,le,me,Se,Oe[2]].join(" ");else switch(v.precision){case 2:I=[ve(K),ve(le),ve(me),ve(Se),Oe[2]].join(" ");break;case 3:default:I=[k(K),k(le),k(me),k(Se),Oe[2]].join(" ")}return I},zr=f.__private__.getFilters=function(){return o},Ki=f.__private__.putStream=function(v){var I=(v=v||{}).data||"",K=v.filters||zr(),le=v.alreadyAppliedFilters||[],me=v.addLength1||!1,Se=I.length,Oe=v.objectId,Ye=function(li){return li};if(u!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ye=ai.encryptor(Oe,0));var at={};K===!0&&(K=["FlateEncode"]);var Et=v.additionalKeyValues||[],xt=(at=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(I,K):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(at.data.length!==0&&(Et.push({key:"Length",value:at.data.length}),me===!0&&Et.push({key:"Length1",value:Se})),xt.length!=0)if(xt.split("/").length-1==1)Et.push({key:"Filter",value:xt});else{Et.push({key:"Filter",value:"["+xt+"]"});for(var zt=0;zt<Et.length;zt+=1)if(Et[zt].key==="DecodeParms"){for(var xn=[],En=0;En<at.reverseChain.split("/").length-1;En+=1)xn.push("null");xn.push(Et[zt].value),Et[zt].value="["+xn.join(" ")+"]"}}ee("<<");for(var Ln=0;Ln<Et.length;Ln++)ee("/"+Et[Ln].key+" "+Et[Ln].value);ee(">>"),at.data.length!==0&&(ee("stream"),ee(Ye(at.data)),ee("endstream"))},Zi=f.__private__.putPage=function(v){var I=v.number,K=v.data,le=v.objId,me=v.contentsObjId;Vi(le,!0),ee("<</Type /Page"),ee("/Parent "+v.rootDictionaryObjId+" 0 R"),ee("/Resources "+v.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(X(v.mediaBox.bottomLeftX))+" "+parseFloat(X(v.mediaBox.bottomLeftY))+" "+X(v.mediaBox.topRightX)+" "+X(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ee("/CropBox ["+X(v.cropBox.bottomLeftX)+" "+X(v.cropBox.bottomLeftY)+" "+X(v.cropBox.topRightX)+" "+X(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ee("/BleedBox ["+X(v.bleedBox.bottomLeftX)+" "+X(v.bleedBox.bottomLeftY)+" "+X(v.bleedBox.topRightX)+" "+X(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ee("/TrimBox ["+X(v.trimBox.bottomLeftX)+" "+X(v.trimBox.bottomLeftY)+" "+X(v.trimBox.topRightX)+" "+X(v.trimBox.topRightY)+"]"),v.artBox!==null&&ee("/ArtBox ["+X(v.artBox.bottomLeftX)+" "+X(v.artBox.bottomLeftY)+" "+X(v.artBox.topRightX)+" "+X(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ee("/UserUnit "+v.userUnit),Kt.publish("putPage",{objId:le,pageContext:At[I],pageNumber:I,page:K}),ee("/Contents "+me+" 0 R"),ee(">>"),ee("endobj");var Se=K.join(`
`);return P===D.ADVANCED&&(Se+=`
Q`),Vi(me,!0),Ki({data:Se,filters:zr(),objectId:me}),ee("endobj"),le},Cr=f.__private__.putPages=function(){var v,I,K=[];for(v=1;v<=Nn;v++)At[v].objId=Bn(),At[v].contentsObjId=Bn();for(v=1;v<=Nn;v++)K.push(Zi({number:v,data:Fe[v],objId:At[v].objId,contentsObjId:At[v].contentsObjId,mediaBox:At[v].mediaBox,cropBox:At[v].cropBox,bleedBox:At[v].bleedBox,trimBox:At[v].trimBox,artBox:At[v].artBox,userUnit:At[v].userUnit,rootDictionaryObjId:os,resourceDictionaryObjId:_r}));Vi(os,!0),ee("<</Type /Pages");var le="/Kids [";for(I=0;I<Nn;I++)le+=K[I]+" 0 R ";ee(le+"]"),ee("/Count "+Nn),ee(">>"),ee("endobj"),Kt.publish("postPutPages")},lo=function(v){Kt.publish("putFont",{font:v,out:ee,newObject:qn,putStream:Ki}),v.isAlreadyPutted!==!0&&(v.objectNumber=qn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+vu(v.postScriptName)),ee("/Subtype /Type1"),typeof v.encoding=="string"&&ee("/Encoding /"+v.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},as=function(){for(var v in un)un.hasOwnProperty(v)&&(d===!1||d===!0&&g.hasOwnProperty(v))&&lo(un[v])},fn=function(v){v.objectNumber=qn();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[X(v.x),X(v.y),X(v.x+v.width),X(v.y+v.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var K=v.pages[1].join(`
`);Ki({data:K,additionalKeyValues:I,objectId:v.objectNumber}),ee("endobj")},Wo=function(){for(var v in oi)oi.hasOwnProperty(v)&&fn(oi[v])},rc=function(v,I){var K,le=[],me=1/(I-1);for(K=0;K<1;K+=me)le.push(K);if(le.push(1),v[0].offset!=0){var Se={offset:0,color:v[0].color};v.unshift(Se)}if(v[v.length-1].offset!=1){var Oe={offset:1,color:v[v.length-1].color};v.push(Oe)}for(var Ye="",at=0,Et=0;Et<le.length;Et++){for(K=le[Et];K>v[at+1].offset;)at++;var xt=v[at].offset,zt=(K-xt)/(v[at+1].offset-xt),xn=v[at].color,En=v[at+1].color;Ye+=ne(Math.round((1-zt)*xn[0]+zt*En[0]).toString(16))+ne(Math.round((1-zt)*xn[1]+zt*En[1]).toString(16))+ne(Math.round((1-zt)*xn[2]+zt*En[2]).toString(16))}return Ye.trim()},Su=function(v,I){I||(I=21);var K=qn(),le=rc(v.colors,I),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+I+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ki({data:le,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),ee("endobj"),v.objectNumber=qn(),ee("<< /ShadingType "+v.type),ee("/ColorSpace /DeviceRGB");var Se="/Coords ["+X(parseFloat(v.coords[0]))+" "+X(parseFloat(v.coords[1]))+" ";v.type===2?Se+=X(parseFloat(v.coords[2]))+" "+X(parseFloat(v.coords[3])):Se+=X(parseFloat(v.coords[2]))+" "+X(parseFloat(v.coords[3]))+" "+X(parseFloat(v.coords[4]))+" "+X(parseFloat(v.coords[5])),ee(Se+="]"),v.matrix&&ee("/Matrix ["+v.matrix.toString()+"]"),ee("/Function "+K+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},sc=function(v,I){var K=Bn(),le=qn();I.push({resourcesOid:K,objectOid:le}),v.objectNumber=le;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+v.boundingBox.map(X).join(" ")+"]"}),me.push({key:"XStep",value:X(v.xStep)}),me.push({key:"YStep",value:X(v.yStep)}),me.push({key:"Resources",value:K+" 0 R"}),v.matrix&&me.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Ki({data:v.stream,additionalKeyValues:me,objectId:v.objectNumber}),ee("endobj")},Go=function(v){var I;for(I in rn)rn.hasOwnProperty(I)&&(rn[I]instanceof Xl?Su(rn[I]):rn[I]instanceof yu&&sc(rn[I],v))},oc=function(v){for(var I in v.objectNumber=qn(),ee("<<"),v)switch(I){case"opacity":ee("/ca "+ve(v[I]));break;case"stroke-opacity":ee("/CA "+ve(v[I]))}ee(">>"),ee("endobj")},Du=function(){var v;for(v in Tn)Tn.hasOwnProperty(v)&&oc(Tn[v])},Yo=function(){for(var v in ee("/XObject <<"),oi)oi.hasOwnProperty(v)&&oi[v].objectNumber>=0&&ee("/"+v+" "+oi[v].objectNumber+" 0 R");Kt.publish("putXobjectDict"),ee(">>")},Iu=function(){ai.oid=qn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+ai.v),ee("/R "+ai.r),ee("/U <"+ai.toHexString(ai.U)+">"),ee("/O <"+ai.toHexString(ai.O)+">"),ee("/P "+ai.P),ee(">>"),ee("endobj")},Qa=function(){for(var v in ee("/Font <<"),un)un.hasOwnProperty(v)&&(d===!1||d===!0&&g.hasOwnProperty(v))&&ee("/"+v+" "+un[v].objectNumber+" 0 R");ee(">>")},Mu=function(){if(Object.keys(rn).length>0){for(var v in ee("/Shading <<"),rn)rn.hasOwnProperty(v)&&rn[v]instanceof Xl&&rn[v].objectNumber>=0&&ee("/"+v+" "+rn[v].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),ee(">>")}},ks=function(v){if(Object.keys(rn).length>0){for(var I in ee("/Pattern <<"),rn)rn.hasOwnProperty(I)&&rn[I]instanceof f.TilingPattern&&rn[I].objectNumber>=0&&rn[I].objectNumber<v&&ee("/"+I+" "+rn[I].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),ee(">>")}},ac=function(){if(Object.keys(Tn).length>0){var v;for(v in ee("/ExtGState <<"),Tn)Tn.hasOwnProperty(v)&&Tn[v].objectNumber>=0&&ee("/"+v+" "+Tn[v].objectNumber+" 0 R");Kt.publish("putGStateDict"),ee(">>")}},Pn=function(v){Vi(v.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qa(),Mu(),ks(v.objectOid),ac(),Yo(),ee(">>"),ee("endobj")},Ja=function(){var v=[];as(),Du(),Wo(),Go(v),Kt.publish("putResources"),v.forEach(Pn),Pn({resourcesOid:_r,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources")},el=function(){Kt.publish("putAdditionalObjects");for(var v=0;v<Re.length;v++){var I=Re[v];Vi(I.objId,!0),ee(I.content),ee("endobj")}Kt.publish("postPutAdditionalObjects")},lc=function(v){Cn[v.fontName]=Cn[v.fontName]||{},Cn[v.fontName][v.fontStyle]=v.id},tl=function(v,I,K,le,me){var Se={id:"F"+(Object.keys(un).length+1).toString(10),postScriptName:v,fontName:I,fontStyle:K,encoding:le,isStandardFont:me||!1,metadata:{}};return Kt.publish("addFont",{font:Se,instance:this}),un[Se.id]=Se,lc(Se),Se.id},Xo=function(v){for(var I=0,K=je.length;I<K;I++){var le=tl.call(this,v[I][0],v[I][1],v[I][2],je[I][3],!0);d===!1&&(g[le]=!0);var me=v[I][0].split("-");lc({id:le,fontName:me[0],fontStyle:me[1]||""})}Kt.publish("addFonts",{fonts:un,dictionary:Cn})},Si=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(le){var I=le.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var K="Error in function "+I.split(`
`)[0].split("<")[0]+": "+le.message;if(!bt.console)throw new Error(K);bt.console.error(K,le),bt.alert&&alert(K)}},v.foo.bar=v,v.foo},ls=function(v,I){var K,le,me,Se,Oe,Ye,at,Et,xt;if(me=(I=I||{}).sourceEncoding||"Unicode",Oe=I.outputEncoding,(I.autoencode||Oe)&&un[ft].metadata&&un[ft].metadata[me]&&un[ft].metadata[me].encoding&&(Se=un[ft].metadata[me].encoding,!Oe&&un[ft].encoding&&(Oe=un[ft].encoding),!Oe&&Se.codePages&&(Oe=Se.codePages[0]),typeof Oe=="string"&&(Oe=Se[Oe]),Oe)){for(at=!1,Ye=[],K=0,le=v.length;K<le;K++)(Et=Oe[v.charCodeAt(K)])?Ye.push(String.fromCharCode(Et)):Ye.push(v[K]),Ye[K].charCodeAt(0)>>8&&(at=!0);v=Ye.join("")}for(K=v.length;at===void 0&&K!==0;)v.charCodeAt(K-1)>>8&&(at=!0),K--;if(!at)return v;for(Ye=I.noBOM?[]:[254,255],K=0,le=v.length;K<le;K++){if((xt=(Et=v.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(xt),Ye.push(Et-(xt<<8))}return String.fromCharCode.apply(void 0,Ye)},mi=f.__private__.pdfEscape=f.pdfEscape=function(v,I){return ls(v,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nl=f.__private__.beginPage=function(v){Fe[++Nn]=[],At[Nn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},uc(Nn),Ae(Fe[j])},cc=function(v,I){var K,le,me;switch(e=I||e,typeof v=="string"&&(K=C(v.toLowerCase()),Array.isArray(K)&&(le=K[0],me=K[1])),Array.isArray(v)&&(le=v[0]*Ge,me=v[1]*Ge),isNaN(le)&&(le=r[0],me=r[1]),(le>14400||me>14400)&&(bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),me=Math.min(14400,me)),r=[le,me],e.substr(0,1)){case"l":me>le&&(r=[me,le]);break;case"p":le>me&&(r=[me,le])}nl(r),ol(sl),ee(Er),al!==0&&ee(al+" J"),ll!==0&&ee(ll+" j"),Kt.publish("addPage",{pageNumber:Nn})},Tu=function(v){v>0&&v<=Nn&&(Fe.splice(v,1),At.splice(v,1),Nn--,j>Nn&&(j=Nn),this.setPage(j))},uc=function(v){v>0&&v<=Nn&&(j=v)},Nu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Fe.length-1},dc=function(v,I,K){var le,me=void 0;return K=K||{},v=v!==void 0?v:un[ft].fontName,I=I!==void 0?I:un[ft].fontStyle,le=v.toLowerCase(),Cn[le]!==void 0&&Cn[le][I]!==void 0?me=Cn[le][I]:Cn[v]!==void 0&&Cn[v][I]!==void 0?me=Cn[v][I]:K.disableWarning===!1&&bn.warn("Unable to look up font label for font '"+v+"', '"+I+"'. Refer to getFontList() for available fonts."),me||K.noFallback||(me=Cn.times[I])==null&&(me=Cn.times.normal),me},hc=f.__private__.putInfo=function(){var v=qn(),I=function(le){return le};for(var K in u!==null&&(I=ai.encryptor(v,0)),ee("<<"),ee("/Producer ("+mi(I("jsPDF "+wt.version))+")"),dt)dt.hasOwnProperty(K)&&dt[K]&&ee("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+mi(I(dt[K]))+")");ee("/CreationDate ("+mi(I(Ce))+")"),ee(">>"),ee("endobj")},il=f.__private__.putCatalog=function(v){var I=(v=v||{}).rootDictionaryObjId||os;switch(qn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+I+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+ke;K.substr(K.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+ve(ke)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}ht&&ee("/PageMode /"+ht),Kt.publish("putCatalog"),ee(">>"),ee("endobj")},fc=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(oe+1)),ee("/Root "+oe+" 0 R"),ee("/Info "+(oe-1)+" 0 R"),u!==null&&ee("/Encrypt "+ai.oid+" 0 R"),ee("/ID [ <"+Y+"> <"+Y+"> ]"),ee(">>")},Pu=f.__private__.putHeader=function(){ee("%PDF-"+w),ee("%\xBA\xDF\xAC\xE0")},ku=f.__private__.putXRef=function(){var v="0000000000";ee("xref"),ee("0 "+(oe+1)),ee("0000000000 65535 f ");for(var I=1;I<=oe;I++)typeof ue[I]=="function"?ee((v+ue[I]()).slice(-10)+" 00000 n "):ue[I]!==void 0?ee((v+ue[I]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Di=f.__private__.buildDocument=function(){it(),Ae(ge),Kt.publish("buildDocument"),Pu(),Cr(),el(),Ja(),u!==null&&Iu(),hc(),il();var v=_e;return ku(),fc(),ee("startxref"),ee(""+v),ee("%%EOF"),Ae(Fe[j]),ge.join(`
`)},co=f.__private__.getBlob=function(v){return new Blob([Qe(v)],{type:"application/pdf"})},Ko=f.output=f.__private__.output=Si(function(v,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",v){case void 0:return Di();case"save":f.save(I.filename);break;case"arraybuffer":return Qe(Di());case"blob":return co(Di());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(co(Di()))||void 0;bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",le=Di();try{K=p_(le)}catch{K=p_(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+I.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(me=I.pdfObjectUrl,Se="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",Ye=bt.open();return Ye!==null&&Ye.document.write(Oe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',Et=bt.open();if(Et!==null){Et.document.write(at);var xt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=I.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',xn=bt.open();if(xn!==null&&(xn.document.write(zt),xn.document.title=I.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",I);default:return null}}),Zo=function(v){return Array.isArray(ao)===!0&&ao.indexOf(v)>-1};switch(i){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Zo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ge=i}var ai=null;ye(),B();var Lu=function(v){return u!==null?ai.encryptor(v,0):function(I){return I}},pc=f.__private__.getPageInfo=f.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[v].objId,pageNumber:v,pageContext:At[v]}},Ct=f.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in At)if(At[I].objId===v)break;return pc(I)},Ou=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:At[j].objId,pageNumber:j,pageContext:At[j]}};f.addPage=function(){return cc.apply(this,arguments),this},f.setPage=function(){return uc.apply(this,arguments),Ae.call(this,Fe[j]),this},f.insertPage=function(v){return this.addPage(),this.movePage(j,v),this},f.movePage=function(v,I){var K,le;if(v>I){K=Fe[v],le=At[v];for(var me=v;me>I;me--)Fe[me]=Fe[me-1],At[me]=At[me-1];Fe[I]=K,At[I]=le,this.setPage(I)}else if(v<I){K=Fe[v],le=At[v];for(var Se=v;Se<I;Se++)Fe[Se]=Fe[Se+1],At[Se]=At[Se+1];Fe[I]=K,At[I]=le,this.setPage(I)}return this},f.deletePage=function(){return Tu.apply(this,arguments),this},f.__private__.text=f.text=function(v,I,K,le,me){var Se,Oe,Ye,at,Et,xt,zt,xn,En,Ln=(le=le||{}).scope||this;if(typeof v=="number"&&typeof I=="number"&&(typeof K=="string"||Array.isArray(K))){var li=K;K=I,I=v,v=li}if(arguments[3]instanceof pt?(q("The transform parameter of text() with a Matrix value"),En=me):(Ye=arguments[4],at=arguments[5],vn(zt=arguments[3])==="object"&&zt!==null||(typeof Ye=="string"&&(at=Ye,Ye=null),typeof zt=="string"&&(at=zt,zt=null),typeof zt=="number"&&(Ye=zt,zt=null),le={flags:zt,angle:Ye,align:at})),isNaN(I)||isNaN(K)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Ln;var Sn="",Sr=!1,Ui=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Qi,$r=Ln.internal.scaleFactor;function hl(pn){return pn=pn.split("	").join(Array(le.TabLen||9).join(" ")),mi(pn,zt)}function sa(pn){for(var gn,Fn=pn.concat(),$n=[],ps=Fn.length;ps--;)typeof(gn=Fn.shift())=="string"?$n.push(gn):Array.isArray(pn)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?$n.push(gn[0]):$n.push([gn[0],gn[1],gn[2]]);return $n}function oa(pn,gn){var Fn;if(typeof pn=="string")Fn=gn(pn)[0];else if(Array.isArray(pn)){for(var $n,ps,_l=pn.concat(),ir=[],wl=_l.length;wl--;)typeof($n=_l.shift())=="string"?ir.push(gn($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&(ps=gn($n[0],$n[1],$n[2]),ir.push([ps[0],ps[1],ps[2]]));Fn=ir}return Fn}var aa=!1,fl=!0;if(typeof v=="string")aa=!0;else if(Array.isArray(v)){var pl=v.concat();Oe=[];for(var la,Qn=pl.length;Qn--;)(typeof(la=pl.shift())!="string"||Array.isArray(la)&&typeof la[0]!="string")&&(fl=!1);aa=fl}if(aa===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ca=He/Ln.internal.scaleFactor,go=ca*(Ui-1);switch(le.baseline){case"bottom":K-=go;break;case"top":K+=ca-go;break;case"hanging":K+=ca-2*go;break;case"middle":K+=ca/2-go}if((xt=le.maxWidth||0)>0&&(typeof v=="string"?v=Ln.splitTextToSize(v,xt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(pn,gn){return pn.concat(Ln.splitTextToSize(gn,xt))},[]))),Se={text:v,x:I,y:K,options:le,mutex:{pdfEscape:mi,activeFontKey:ft,fonts:un,activeFontSize:He}},Kt.publish("preProcessText",Se),v=Se.text,Ye=(le=Se.options).angle,!(En instanceof pt)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,le.rotationDirection===0&&(Ye=-Ye),P===D.ADVANCED&&(Ye=-Ye);var ua=Math.cos(Ye),da=Math.sin(Ye);En=new pt(ua,da,-da,ua,0,0)}else Ye&&Ye instanceof pt&&(En=Ye);P!==D.ADVANCED||En||(En=Ur),(Et=le.charSpace||ta)!==void 0&&(Sn+=X(L(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=le.horizontalScale)!==void 0&&(Sn+=X(100*xn)+` Tz
`),le.lang;var di=-1,qu=le.renderingMode!==void 0?le.renderingMode:le.stroke,gl=Ln.internal.getCurrentPageInfo().pageContext;switch(qu){case 0:case!1:case"fill":di=0;break;case 1:case!0:case"stroke":di=1;break;case 2:case"fillThenStroke":di=2;break;case 3:case"invisible":di=3;break;case 4:case"fillAndAddForClipping":di=4;break;case 5:case"strokeAndAddPathForClipping":di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":di=6;break;case 7:case"addToPathForClipping":di=7}var wc=gl.usedRenderingMode!==void 0?gl.usedRenderingMode:-1;di!==-1?Sn+=di+` Tr
`:wc!==-1&&(Sn+=`0 Tr
`),di!==-1&&(gl.usedRenderingMode=di),at=le.align||"left";var er,us=He*Ui,bc=Ln.internal.pageSize.getWidth(),Cc=un[ft];Et=le.charSpace||ta,xt=le.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Rs=[],mo=function(pn){return Ln.getStringUnitWidth(pn,{font:Cc,charSpace:Et,fontSize:He,doKerning:!1})*He/$r};if(Object.prototype.toString.call(v)==="[object Array]"){var vi;Oe=sa(v),at!=="left"&&(er=Oe.map(mo));var yi,js=0;if(at==="right"){I-=er[0],v=[],Qn=Oe.length;for(var ds=0;ds<Qn;ds++)ds===0?(yi=Ar(I),vi=Hi(K)):(yi=L(js-er[ds]),vi=-us),v.push([Oe[ds],yi,vi]),js=er[ds]}else if(at==="center"){I-=er[0]/2,v=[],Qn=Oe.length;for(var hs=0;hs<Qn;hs++)hs===0?(yi=Ar(I),vi=Hi(K)):(yi=L((js-er[hs])/2),vi=-us),v.push([Oe[hs],yi,vi]),js=er[hs]}else if(at==="left"){v=[],Qn=Oe.length;for(var vo=0;vo<Qn;vo++)v.push(Oe[vo])}else if(at==="justify"&&Cc.encoding==="Identity-H"){v=[],Qn=Oe.length,xt=xt!==0?xt:bc;for(var Wr=0,On=0;On<Qn;On++)if(vi=On===0?Hi(K):-us,yi=On===0?Ar(I):Wr,On<Qn-1){var ml=L((xt-er[On])/(Oe[On].split(" ").length-1)),_i=Oe[On].split(" ");v.push([_i[0]+" ",yi,vi]),Wr=0;for(var zi=1;zi<_i.length;zi++){var Bs=(mo(_i[zi-1]+" "+_i[zi])-mo(_i[zi]))*$r+ml;zi==_i.length-1?v.push([_i[zi],Bs,0]):v.push([_i[zi]+" ",Bs,0]),Wr-=Bs}}else v.push([Oe[On],yi,vi]);v.push(["",Wr,0])}else{if(at!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],Qn=Oe.length,xt=xt!==0?xt:bc,On=0;On<Qn;On++)vi=On===0?Hi(K):-us,yi=On===0?Ar(I):0,On<Qn-1?Rs.push(X(L((xt-er[On])/(Oe[On].split(" ").length-1)))):Rs.push(0),v.push([Oe[On],yi,vi])}}var xc=typeof le.R2L=="boolean"?le.R2L:tt;xc===!0&&(v=oa(v,function(pn,gn,Fn){return[pn.split("").reverse().join(""),gn,Fn]})),Se={text:v,x:I,y:K,options:le,mutex:{pdfEscape:mi,activeFontKey:ft,fonts:un,activeFontSize:He}},Kt.publish("postProcessText",Se),v=Se.text,Sr=Se.mutex.isHex||!1;var vl=un[ft].encoding;vl!=="WinAnsiEncoding"&&vl!=="StandardEncoding"||(v=oa(v,function(pn,gn,Fn){return[hl(pn),gn,Fn]})),Oe=sa(v),v=[];for(var yo,ha,_o,fa=0,pa=1,wo=Array.isArray(Oe[0])?pa:fa,fs="",yl=function(pn,gn,Fn){var $n="";return Fn instanceof pt?(Fn=typeof le.angle=="number"?Bi(Fn,new pt(1,0,0,1,pn,gn)):Bi(new pt(1,0,0,1,pn,gn),Fn),P===D.ADVANCED&&(Fn=Bi(new pt(1,0,0,-1,0,0),Fn)),$n=Fn.join(" ")+` Tm
`):$n=X(pn)+" "+X(gn)+` Td
`,$n},tr=0;tr<Oe.length;tr++){switch(fs="",wo){case pa:_o=(Sr?"<":"(")+Oe[tr][0]+(Sr?">":")"),yo=parseFloat(Oe[tr][1]),ha=parseFloat(Oe[tr][2]);break;case fa:_o=(Sr?"<":"(")+Oe[tr]+(Sr?">":")"),yo=Ar(I),ha=Hi(K)}Rs!==void 0&&Rs[tr]!==void 0&&(fs=Rs[tr]+` Tw
`),tr===0?v.push(fs+yl(yo,ha,En)+_o):wo===fa?v.push(fs+_o):wo===pa&&v.push(fs+yl(yo,ha,En)+_o)}v=wo===fa?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var nr=`BT
/`;return nr+=ft+" "+He+` Tf
`,nr+=X(He*Ui)+` TL
`,nr+=Ji+`
`,nr+=Sn,nr+=v,ee(nr+="ET"),g[ft]=!0,Ln};var Fu=f.__private__.clip=f.clip=function(v){return ee(v==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Fu("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var qr=f.__private__.isValidStyle=function(v){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(I=!0),I};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(v){return qr(v)&&(c=v),this};var cs=f.__private__.getStyle=f.getStyle=function(v){var I=c;switch(v){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=v}return I},gc=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(v){return uo("f",v),this},f.fillEvenOdd=function(v){return uo("f*",v),this},f.fillStroke=function(v){return uo("B",v),this},f.fillStrokeEvenOdd=function(v){return uo("B*",v),this};var uo=function(v,I){vn(I)==="object"?ju(I,v):ee(v)},Qo=function(v){v===null||P===D.ADVANCED&&v===void 0||(v=cs(v),ee(v))};function Ru(v,I,K,le,me){var Se=new yu(I||this.boundingBox,K||this.xStep,le||this.yStep,this.gState,me||this.matrix);Se.stream=this.stream;var Oe=v+"$$"+this.cloneIndex+++"$$";return Ei(Oe,Se),Se}var ju=function(v,I){var K=ji[v.key],le=rn[K];if(le instanceof Xl)ee("q"),ee(Bu(I)),le.gState&&f.setGState(le.gState),ee(v.matrix.toString()+" cm"),ee("/"+K+" sh"),ee("Q");else if(le instanceof yu){var me=new pt(1,0,0,-1,0,Fs());v.matrix&&(me=me.multiply(v.matrix||Ur),K=Ru.call(le,v.key,v.boundingBox,v.xStep,v.yStep,me).id),ee("q"),ee("/Pattern cs"),ee("/"+K+" scn"),le.gState&&f.setGState(le.gState),ee(I),ee("Q")}},Bu=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rl=f.moveTo=function(v,I){return ee(X(L(v))+" "+X(Q(I))+" m"),this},ho=f.lineTo=function(v,I){return ee(X(L(v))+" "+X(Q(I))+" l"),this},Ls=f.curveTo=function(v,I,K,le,me,Se){return ee([X(L(v)),X(Q(I)),X(L(K)),X(Q(le)),X(L(me)),X(Q(Se)),"c"].join(" ")),this};f.__private__.line=f.line=function(v,I,K,le,me){if(isNaN(v)||isNaN(I)||isNaN(K)||isNaN(le)||!qr(me))throw new Error("Invalid arguments passed to jsPDF.line");return P===D.COMPAT?this.lines([[K-v,le-I]],v,I,[1,1],me||"S"):this.lines([[K-v,le-I]],v,I,[1,1]).stroke()},f.__private__.lines=f.lines=function(v,I,K,le,me,Se){var Oe,Ye,at,Et,xt,zt,xn,En,Ln,li,Sn,Sr;if(typeof v=="number"&&(Sr=K,K=I,I=v,v=Sr),le=le||[1,1],Se=Se||!1,isNaN(I)||isNaN(K)||!Array.isArray(v)||!Array.isArray(le)||!qr(me)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rl(I,K),Oe=le[0],Ye=le[1],Et=v.length,li=I,Sn=K,at=0;at<Et;at++)(xt=v[at]).length===2?(li=xt[0]*Oe+li,Sn=xt[1]*Ye+Sn,ho(li,Sn)):(zt=xt[0]*Oe+li,xn=xt[1]*Ye+Sn,En=xt[2]*Oe+li,Ln=xt[3]*Ye+Sn,li=xt[4]*Oe+li,Sn=xt[5]*Ye+Sn,Ls(zt,xn,En,Ln,li,Sn));return Se&&gc(),Qo(me),this},f.path=function(v){for(var I=0;I<v.length;I++){var K=v[I],le=K.c;switch(K.op){case"m":rl(le[0],le[1]);break;case"l":ho(le[0],le[1]);break;case"c":Ls.apply(this,le);break;case"h":gc()}}return this},f.__private__.rect=f.rect=function(v,I,K,le,me){if(isNaN(v)||isNaN(I)||isNaN(K)||isNaN(le)||!qr(me))throw new Error("Invalid arguments passed to jsPDF.rect");return P===D.COMPAT&&(le=-le),ee([X(L(v)),X(Q(I)),X(L(K)),X(L(le)),"re"].join(" ")),Qo(me),this},f.__private__.triangle=f.triangle=function(v,I,K,le,me,Se,Oe){if(isNaN(v)||isNaN(I)||isNaN(K)||isNaN(le)||isNaN(me)||isNaN(Se)||!qr(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-v,le-I],[me-K,Se-le],[v-me,I-Se]],v,I,[1,1],Oe,!0),this},f.__private__.roundedRect=f.roundedRect=function(v,I,K,le,me,Se,Oe){if(isNaN(v)||isNaN(I)||isNaN(K)||isNaN(le)||isNaN(me)||isNaN(Se)||!qr(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*K),Se=Math.min(Se,.5*le),this.lines([[K-2*me,0],[me*Ye,0,me,Se-Se*Ye,me,Se],[0,le-2*Se],[0,Se*Ye,-me*Ye,Se,-me,Se],[2*me-K,0],[-me*Ye,0,-me,-Se*Ye,-me,-Se],[0,2*Se-le],[0,-Se*Ye,me*Ye,-Se,me,-Se]],v+me,I,[1,1],Oe,!0),this},f.__private__.ellipse=f.ellipse=function(v,I,K,le,me){if(isNaN(v)||isNaN(I)||isNaN(K)||isNaN(le)||!qr(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*K,Oe=4/3*(Math.SQRT2-1)*le;return rl(v+K,I),Ls(v+K,I-Oe,v+Se,I-le,v,I-le),Ls(v-Se,I-le,v-K,I-Oe,v-K,I),Ls(v-K,I+Oe,v-Se,I+le,v,I+le),Ls(v+Se,I+le,v+K,I+Oe,v+K,I),Qo(me),this},f.__private__.circle=f.circle=function(v,I,K,le){if(isNaN(v)||isNaN(I)||isNaN(K)||!qr(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,I,K,K,le)},f.setFont=function(v,I,K){return K&&(I=ae(I,K)),ft=dc(v,I,{disableWarning:!1}),this};var Vu=f.__private__.getFont=f.getFont=function(){return un[dc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var v,I,K={};for(v in Cn)if(Cn.hasOwnProperty(v))for(I in K[v]=[],Cn[v])Cn[v].hasOwnProperty(I)&&K[v].push(I);return K},f.addFont=function(v,I,K,le,me){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(K=ae(K,le)),me=me||"Identity-H",tl.call(this,v,I,K,me)};var Qi,sl=n.lineWidth||.200025,Jo=f.__private__.getLineWidth=f.getLineWidth=function(){return sl},ol=f.__private__.setLineWidth=f.setLineWidth=function(v){return sl=v,ee(X(L(v))+" w"),this};f.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(v,I){if(v=v||[],I=I||0,isNaN(I)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(K){return X(L(K))}).join(" "),I=X(L(I)),ee("["+v+"] "+I+" d"),this};var mc=f.__private__.getLineHeight=f.getLineHeight=function(){return He*Qi};f.__private__.getLineHeight=f.getLineHeight=function(){return He*Qi};var xr=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Qi=v),this},vc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Qi};xr(n.lineHeight);var Ar=f.__private__.getHorizontalCoordinate=function(v){return L(v)},Hi=f.__private__.getVerticalCoordinate=function(v){return P===D.ADVANCED?v:At[j].mediaBox.topRightY-At[j].mediaBox.bottomLeftY-L(v)},Hu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(v){return X(Ar(v))},Os=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(v){return X(Hi(v))},Er=n.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return wr(Er)},f.__private__.setStrokeColor=f.setDrawColor=function(v,I,K,le){return Er=br({ch1:v,ch2:I,ch3:K,ch4:le,pdfColorType:"draw",precision:2}),ee(Er),this};var ea=n.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return wr(ea)},f.__private__.setFillColor=f.setFillColor=function(v,I,K,le){return ea=br({ch1:v,ch2:I,ch3:K,ch4:le,pdfColorType:"fill",precision:2}),ee(ea),this};var Ji=n.textColor||"0 g",Uu=f.__private__.getTextColor=f.getTextColor=function(){return wr(Ji)};f.__private__.setTextColor=f.setTextColor=function(v,I,K,le){return Ji=br({ch1:v,ch2:I,ch3:K,ch4:le,pdfColorType:"text",precision:3}),this};var ta=n.charSpace,zu=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ta||0)};f.__private__.setCharSpace=f.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ta=v,this};var al=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(v){var I=f.CapJoinStyles[v];if(I===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=I,ee(I+" J"),this};var ll=0;f.__private__.setLineJoin=f.setLineJoin=function(v){var I=f.CapJoinStyles[v];if(I===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=I,ee(I+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(X(L(v))+" M"),this},f.GState=Xg,f.setGState=function(v){(v=typeof v=="string"?Tn[yr[v]]:yc(null,v)).equals(ss)||(ee("/"+v.id+" gs"),ss=v)};var yc=function(v,I){if(!v||!yr[v]){var K=!1;for(var le in Tn)if(Tn.hasOwnProperty(le)&&Tn[le].equals(I)){K=!0;break}if(K)I=Tn[le];else{var me="GS"+(Object.keys(Tn).length+1).toString(10);Tn[me]=I,I.id=me}return v&&(yr[v]=I.id),Kt.publish("addGState",I),I}};f.addGState=function(v,I){return yc(v,I),this},f.saveGraphicsState=function(){return ee("q"),Br.push({key:ft,size:He,color:Ji}),this},f.restoreGraphicsState=function(){ee("Q");var v=Br.pop();return ft=v.key,He=v.size,Ji=v.color,ss=null,this},f.setCurrentTransformationMatrix=function(v){return ee(v.toString()+" cm"),this},f.comment=function(v){return ee("#"+v),this};var na=function(v,I){var K=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(Se){isNaN(Se)||(K=parseFloat(Se))}});var le=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Se){isNaN(Se)||(le=parseFloat(Se))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Se){me=Se.toString()}}),this},cl=function(v,I,K,le){na.call(this,v,I),this.type="rect";var me=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Oe){isNaN(Oe)||(me=parseFloat(Oe))}});var Se=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Oe){isNaN(Oe)||(Se=parseFloat(Oe))}}),this},ul=function(){this.page=Nn,this.currentPage=j,this.pages=Fe.slice(0),this.pagesContext=At.slice(0),this.x=si,this.y=Yt,this.matrix=Ri,this.width=po(j),this.height=Fs(j),this.outputDestination=qe,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){Nn=this.page,j=this.currentPage,At=this.pagesContext,Fe=this.pages,si=this.x,Yt=this.y,Ri=this.matrix,dl(j,this.width),ra(j,this.height),qe=this.outputDestination};var _c=function(v,I,K,le,me){Hr.push(new ul),Nn=j=0,Fe=[],si=v,Yt=I,Ri=me,nl([K,le])},ia=function(v){if(Vr[v])Hr.pop().restore();else{var I=new ul,K="Xo"+(Object.keys(oi).length+1).toString(10);I.id=K,Vr[v]=K,oi[K]=I,Kt.publish("addFormObject",I),Hr.pop().restore()}};for(var fo in f.beginFormObject=function(v,I,K,le,me){return _c(v,I,K,le,me),this},f.endFormObject=function(v){return ia(v),this},f.doFormObject=function(v,I){var K=oi[Vr[v]];return ee("q"),ee(I.toString()+" cm"),ee("/"+K.id+" Do"),ee("Q"),this},f.getFormObject=function(v){var I=oi[Vr[v]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},f.save=function(v,I){return v=v||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(Yl(co(Di()),v),typeof Yl.unload=="function"&&bt.setTimeout&&setTimeout(Yl.unload,911),this):new Promise(function(K,le){try{var me=Yl(co(Di()),v);typeof Yl.unload=="function"&&bt.setTimeout&&setTimeout(Yl.unload,911),K(me)}catch(Se){le(Se.message)}})},wt.API)wt.API.hasOwnProperty(fo)&&(fo==="events"&&wt.API.events.length?function(v,I){var K,le,me;for(me=I.length-1;me!==-1;me--)K=I[me][0],le=I[me][1],v.subscribe.apply(v,[K].concat(typeof le=="function"?[le]:le))}(Kt,wt.API.events):f[fo]=wt.API[fo]);var po=f.getPageWidth=function(v){return(At[v=v||j].mediaBox.topRightX-At[v].mediaBox.bottomLeftX)/Ge},dl=f.setPageWidth=function(v,I){At[v].mediaBox.topRightX=I*Ge+At[v].mediaBox.bottomLeftX},Fs=f.getPageHeight=function(v){return(At[v=v||j].mediaBox.topRightY-At[v].mediaBox.bottomLeftY)/Ge},ra=f.setPageHeight=function(v,I){At[v].mediaBox.topRightY=I*Ge+At[v].mediaBox.bottomLeftY};return f.internal={pdfEscape:mi,getStyle:cs,getFont:Vu,getFontSize:Ve,getCharSpace:zu,getTextColor:Uu,getLineHeight:mc,getLineHeightFactor:vc,getLineWidth:Jo,write:lt,getHorizontalCoordinate:Ar,getVerticalCoordinate:Hi,getCoordinateString:Hu,getVerticalCoordinateString:Os,collections:{},newObject:qn,newAdditionalObject:Zt,newObjectDeferred:Bn,newObjectDeferredBegin:Vi,getFilters:zr,putStream:Ki,events:Kt,scaleFactor:Ge,pageSize:{getWidth:function(){return po(j)},setWidth:function(v){dl(j,v)},getHeight:function(){return Fs(j)},setHeight:function(v){ra(j,v)}},encryptionOptions:u,encryption:ai,getEncryptor:Lu,output:Ko,getNumberOfPages:Nu,pages:Fe,out:ee,f2:ve,f3:k,getPageInfo:pc,getPageInfoByObjId:Ct,getCurrentPageInfo:Ou,getPDFVersion:b,Point:na,Rectangle:cl,Matrix:pt,hasHotfix:Zo},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return po(j)},set:function(v){dl(j,v)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Fs(j)},set:function(v){ra(j,v)},enumerable:!0,configurable:!0}),Xo.call(f,je),ft="F1",cc(r,e),Kt.publish("initialized"),f}mu.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},mu.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mu.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},mu.prototype.processOwnerPassword=function(n,t){return m_(g_(t).substr(0,5),n)},mu.prototype.encryptor=function(n,t){var e=g_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return m_(e,i)}},Xg.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||vn(n)!==vn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},wt.API={events:[]},wt.version="2.5.2";var zn=wt.API,w_=1,Zl=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(n){return n.toFixed(2)},Ga=function(n){return n.toFixed(5)};zn.__acroform__={};var vr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},fA=function(n){return n*w_},eo=function(n){var t=new TA,e=nt.internal.getHeight(n)||0,i=nt.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Tt(i)),Number(Tt(e))],t},QL=zn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},JL=zn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},eO=zn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Xn=zn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eO(n,t-1)},Kn=zn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QL(n,t-1)},Zn=zn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JL(n,t-1)},tO=zn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=e(r+o)||0,l.upperRight_Y=i(s)||0,[Number(Tt(l.lowerLeft_X)),Number(Tt(l.lowerLeft_Y)),Number(Tt(l.upperRight_X)),Number(Tt(l.upperRight_Y))]},nO=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=v_(n,e),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+Tt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=eo(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},v_=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=n.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var s=e,o=nt.internal.getHeight(n)||0;o=o<0?-o:o;var a=nt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(k,L,te){if(k+1<r.length){var Q=L+" "+r[k+1][0];return Ug(Q,n,te).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=Ug("3",n,s).height,g=n.multiline?o-s:(o-d)/2,f=g+=2,w=0,b=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ug(t,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var C="",D=0,P=0;P<r.length;P++)if(r.hasOwnProperty(P)){var z=!1;if(r[P].length!==1&&A!==r[P].length-1){if((d+2)*(D+2)+2>o)continue e;C+=r[P][A],z=!0,b=P,P--}else{C=(C+=r[P][A]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var Z=parseInt(P),ae=l(Z,C,s),X=P>=r.length-1;if(ae&&!X){C+=" ",A=0;continue}if(ae||X){if(X)b=Z;else if(n.multiline&&(d+2)*(D+2)+2>o)continue e}else{if(!n.multiline||(d+2)*(D+2)+2>o)continue e;b=Z}}for(var q="",se=w;se<=b;se++){var ve=r[se];if(n.multiline){if(se===b){q+=ve[A]+" ",A=(A+1)%ve.length;continue}if(se===w){q+=ve[ve.length-1]+" ";continue}}q+=ve[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,u=Ug(q,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}t+=Tt(c)+" "+Tt(f)+` Td
`,t+="("+Zl(q)+`) Tj
`,t+=-Tt(c)+` 0 Td
`,f=-(s+2),u=0,w=z?b:b+1,D++,C=""}break}return i.text=t,i.fontSize=s,i},Ug=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},iO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rO=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},sO=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),vn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},oO=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ts.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(iO)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");w_=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new NA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&rO(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tO(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=nt.createDefaultAppearanceStream(a),vn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=nO(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var f=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var w=f[o];typeof w=="function"&&(w=w.call(r,a)),d+="/"+o+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(r,a)),d+="/"+o+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&sO(r.internal.acroformPlugin.xForms,r)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},MA=zn.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),vn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),r+="("+Zl(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d_=function(n,t,e){var i=function(r){return r};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Zl(i(n))+")"},to=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};to.prototype.toString=function(){return this.objId+" 0 R"},to.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},to.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:MA(r,this.objId,this.scope)}):r instanceof to?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var TA=function(){to.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};vr(TA,to);var NA=function(){to.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Zl(e(n))+")"}},set:function(e){n=e}})};vr(NA,to);var Ts=function n(){to.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xn(t,3)},set:function(C){C?this.F=Kn(t,3):this.F=Zn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');e=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Kg)return;s="FieldObject"+n.FieldNum++}var C=function(D){return D};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Zl(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/w_:c},set:function(C){c=C}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Kg||this instanceof Kl))return d_(d,this.objId,this.scope)},set:function(C){C=C.toString(),d=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof gi?g:d_(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=this instanceof gi?C:C.substr(0,1)==="("?pu(C.substr(1,C.length-2)):pu(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi?pu(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof gi?"/"+C:C}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof gi?f:d_(f,this.objId,this.scope)},set:function(C){C=C.toString(),f=this instanceof gi?C:C.substr(0,1)==="("?pu(C.substr(1,C.length-2)):pu(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi?pu(f.substr(1,f.length-1)):f},set:function(C){C=C.toString(),f=this instanceof gi?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(C){C=!!C,b=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,1)},set:function(C){C?this.Ff=Kn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,2)},set:function(C){C?this.Ff=Kn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,3)},set:function(C){C?this.Ff=Kn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');A=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(A){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};vr(Ts,to);var _u=function(){Ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return MA(t,this.objId,this.scope)},set:function(e){var i,r;r=[],typeof(i=e)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,18)},set:function(e){e?this.Ff=Kn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Kn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,20)},set:function(e){e?(this.Ff=Kn(this.Ff,20),t.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,22)},set:function(e){e?this.Ff=Kn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,27)},set:function(e){e?this.Ff=Kn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};vr(_u,Ts);var wu=function(){_u.call(this),this.fontName="helvetica",this.combo=!1};vr(wu,_u);var bu=function(){wu.call(this),this.combo=!0};vr(bu,wu);var $g=function(){bu.call(this),this.edit=!0};vr($g,bu);var gi=function(){Ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,15)},set:function(e){e?this.Ff=Kn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,16)},set:function(e){e?this.Ff=Kn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,17)},set:function(e){e?this.Ff=Kn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Zl(e(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){vn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};vr(gi,Ts);var Wg=function(){gi.call(this),this.pushButton=!0};vr(Wg,gi);var Cu=function(){gi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};vr(Cu,gi);var Kg=function(){var n,t;Ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Zl(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){vn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vr(Kg,Ts),Cu.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Cu.prototype.createOption=function(n){var t=new Kg;return t.Parent=this,t.optionName=n,this.Kids.push(t),aO.call(this.scope,t),t};var Gg=function(){gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};vr(Gg,gi);var Kl=function(){Ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,13)},set:function(t){t?this.Ff=Kn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,21)},set:function(t){t?this.Ff=Kn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,24)},set:function(t){t?this.Ff=Kn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,25)},set:function(t){t?this.Ff=Kn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vr(Kl,Ts);var Yg=function(){Kl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xn(this.Ff,14)},set:function(n){n?this.Ff=Kn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};vr(Yg,Kl);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=v_(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Tt(nt.internal.getWidth(n))+" "+Tt(nt.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Tt(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=eo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=nt.internal.getHeight(n),o=nt.internal.getWidth(n),a=v_(n,n.caption);return r.push("1 g"),r.push("0 0 "+Tt(o)+" "+Tt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Tt(o-1)+" "+Tt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Tt(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Tt(nt.internal.getWidth(n))+" "+Tt(nt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=nt.RadioButton.Circle.YesNormal,t.D[n]=nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=eo(n);t.scope=n.scope;var e=[],i=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=nt.internal.Bezier_C,s=Number((i*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ga(nt.internal.getWidth(n)/2)+" "+Ga(nt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=[],i=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*nt.internal.Bezier_C).toFixed(5)),o=Number((i*nt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ga(nt.internal.getWidth(n)/2)+" "+Ga(nt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ga(nt.internal.getWidth(n)/2)+" "+Ga(nt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=[],i=nt.internal.getWidth(n)<=nt.internal.getHeight(n)?nt.internal.getWidth(n)/4:nt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*nt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ga(nt.internal.getWidth(n)/2)+" "+Ga(nt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=nt.RadioButton.Cross.YesNormal,t.D[n]=nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=eo(n);t.scope=n.scope;var e=[],i=nt.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Tt(nt.internal.getWidth(n)-2)+" "+Tt(nt.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Tt(i.x1.x)+" "+Tt(i.x1.y)+" m"),e.push(Tt(i.x2.x)+" "+Tt(i.x2.y)+" l"),e.push(Tt(i.x4.x)+" "+Tt(i.x4.y)+" m"),e.push(Tt(i.x3.x)+" "+Tt(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=nt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Tt(nt.internal.getWidth(n))+" "+Tt(nt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Tt(nt.internal.getWidth(n)-2)+" "+Tt(nt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Tt(e.x1.x)+" "+Tt(e.x1.y)+" m"),i.push(Tt(e.x2.x)+" "+Tt(e.x2.y)+" l"),i.push(Tt(e.x4.x)+" "+Tt(e.x4.y)+" m"),i.push(Tt(e.x3.x)+" "+Tt(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=eo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Tt(nt.internal.getWidth(n))+" "+Tt(nt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};nt.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=nt.internal.getWidth(n),e=nt.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},nt.internal.getWidth=function(n){var t=0;return vn(n)==="object"&&(t=fA(n.Rect[2])),t},nt.internal.getHeight=function(n){var t=0;return vn(n)==="object"&&(t=fA(n.Rect[3])),t};var aO=zn.addField=function(n){if(oO(this,n),!(n instanceof Ts))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=_u,zn.AcroFormListBox=wu,zn.AcroFormComboBox=bu,zn.AcroFormEditBox=$g,zn.AcroFormButton=gi,zn.AcroFormPushButton=Wg,zn.AcroFormRadioButton=Cu,zn.AcroFormCheckBox=Gg,zn.AcroFormTextField=Kl,zn.AcroFormPasswordField=Yg,zn.AcroFormAppearance=nt,zn.AcroForm={ChoiceField:_u,ListBox:wu,ComboBox:bu,EditBox:$g,Button:gi,PushButton:Wg,RadioButton:Cu,CheckBox:Gg,TextField:Kl,PasswordField:Yg,Appearance:nt},wt.AcroForm={ChoiceField:_u,ListBox:wu,ComboBox:bu,EditBox:$g,Button:gi,PushButton:Wg,RadioButton:Cu,CheckBox:Gg,TextField:Kl,PasswordField:Yg,Appearance:nt};var J9=wt.AcroForm;function PA(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(k,L){var te,Q,Ce,Y,F,B=t;if((L=L||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ae(k))for(F in e)for(Ce=e[F],te=0;te<Ce.length;te+=1){for(Y=!0,Q=0;Q<Ce[te].length;Q+=1)if(Ce[te][Q]!==void 0&&Ce[te][Q]!==k[Q]){Y=!1;break}if(Y===!0){B=F;break}}else for(F in e)for(Ce=e[F],te=0;te<Ce.length;te+=1){for(Y=!0,Q=0;Q<Ce[te].length;Q+=1)if(Ce[te][Q]!==void 0&&Ce[te][Q]!==k.charCodeAt(Q)){Y=!1;break}if(Y===!0){B=F;break}}return B===t&&L!==t&&(B=L),B},r=function k(L){for(var te=this.internal.write,Q=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:L.width}),Y.push({key:"Height",value:L.height}),L.colorSpace===A.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===A.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var F="",B=0,$=L.transparency.length;B<$;B++)F+=L.transparency[B]+" "+L.transparency[B]+" ";Y.push({key:"Mask",value:"["+F+"]"})}L.sMask!==void 0&&Y.push({key:"SMask",value:L.objectId+1+" 0 R"});var re=L.filter!==void 0?["/"+L.filter]:void 0;if(Q({data:L.data,additionalKeyValues:Y,alreadyAppliedFilters:re,objectId:L.objectId}),te("endobj"),"sMask"in L&&L.sMask!==void 0){var ye="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,S={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ye,data:L.sMask};"filter"in L&&(S.filter=L.filter),k.call(this,S)}if(L.colorSpace===A.INDEXED){var j=this.internal.newObject();Q({data:q(new Uint8Array(L.palette)),objectId:j}),te("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var L in k)r.call(this,k[L])},o=function(){var k,L=this.internal.collections.addImage_images,te=this.internal.write;for(var Q in L)te("/I"+(k=L[Q]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof n["process"+k.toUpperCase()]=="function"},d=function(k){return vn(k)==="object"&&k.nodeType===1},g=function(k,L){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var te=""+k.getAttribute("src");if(te.indexOf("data:image/")===0)return hh(unescape(te).split("base64,").pop());var Q=n.loadFile(te,!0);if(Q!==void 0)return Q}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var Ce;switch(L){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;case"JPEG":case"JPG":default:Ce="image/jpeg"}return hh(k.toDataURL(Ce,1).split("base64,").pop())}},f=function(k){var L=this.internal.collections.addImage_images;if(L){for(var te in L)if(k===L[te].alias)return L[te]}},w=function(k,L,te){return k||L||(k=-96,L=-96),k<0&&(k=-1*te.width*72/k/this.internal.scaleFactor),L<0&&(L=-1*te.height*72/L/this.internal.scaleFactor),k===0&&(k=L*te.width/te.height),L===0&&(L=k*te.height/te.width),[k,L]},b=function(k,L,te,Q,Ce,Y){var F=w.call(this,te,Q,Ce),B=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,re=l.call(this);if(te=F[0],Q=F[1],re[Ce.index]=Ce,Y){Y*=Math.PI/180;var ye=Math.cos(Y),S=Math.sin(Y),j=function(ne){return ne.toFixed(4)},U=[j(ye),j(S),j(-1*S),j(ye),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,B(k),$(L+Q),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([B(te),"0","0",B(Q),"0","0","cm"].join(" "))):this.internal.write([B(te),"0","0",B(Q),B(k),$(L+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(k){var L,te,Q=0;if(typeof k=="string")for(te=k.length,L=0;L<te;L++)Q=(Q<<5)-Q+k.charCodeAt(L),Q|=0;else if(ae(k))for(te=k.byteLength/2,L=0;L<te;L++)Q=(Q<<5)-Q+k[L],Q|=0;return Q},P=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var L=!0;return k.length===0&&(L=!1),k.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(L=!1),L},z=n.__addimage__.extractImageFromDataUrl=function(k){var L=(k=k||"").split("base64,"),te=null;if(L.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(Q)&&(te={mimeType:Q[1],charset:Q[2],data:L[1]})}return te},Z=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return Z()&&k instanceof ArrayBuffer};var ae=n.__addimage__.isArrayBufferView=function(k){return Z()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},X=n.__addimage__.binaryStringToUint8Array=function(k){for(var L=k.length,te=new Uint8Array(L),Q=0;Q<L;Q++)te[Q]=k.charCodeAt(Q);return te},q=n.__addimage__.arrayBufferToBinaryString=function(k){for(var L="",te=ae(k)?k:new Uint8Array(k),Q=0;Q<te.length;Q+=8192)L+=String.fromCharCode.apply(null,te.subarray(Q,Q+8192));return L};n.addImage=function(){var k,L,te,Q,Ce,Y,F,B,$;if(typeof arguments[1]=="number"?(L=t,te=arguments[1],Q=arguments[2],Ce=arguments[3],Y=arguments[4],F=arguments[5],B=arguments[6],$=arguments[7]):(L=arguments[1],te=arguments[2],Q=arguments[3],Ce=arguments[4],Y=arguments[5],F=arguments[6],B=arguments[7],$=arguments[8]),vn(k=arguments[0])==="object"&&!d(k)&&"imageData"in k){var re=k;k=re.imageData,L=re.format||L||t,te=re.x||te||0,Q=re.y||Q||0,Ce=re.w||re.width||Ce,Y=re.h||re.height||Y,F=re.alias||F,B=re.compression||B,$=re.rotation||re.angle||$}var ye=this.internal.getFilters();if(B===void 0&&ye.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(te)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var S=se.call(this,k,L,F,B);return b.call(this,te,Q,Ce,Y,S,$),this};var se=function(k,L,te,Q){var Ce,Y,F;if(typeof k=="string"&&i(k)===t){k=unescape(k);var B=ve(k,!1);(B!==""||(B=n.loadFile(k,!0))!==void 0)&&(k=B)}if(d(k)&&(k=g(k,L)),L=i(k,L),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((F=te)==null||F.length===0)&&(te=function($){return typeof $=="string"||ae($)?D($):ae($.data)?D($.data):null}(k)),(Ce=f.call(this,te))||(Z()&&(k instanceof Uint8Array||L==="RGBA"||(Y=k,k=X(k))),Ce=this["process"+L.toUpperCase()](k,c.call(this),te,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in n.image_compression?$:C.NONE}(Q),Y)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},ve=n.__addimage__.convertBase64ToBinaryString=function(k,L){var te;L=typeof L!="boolean"||L;var Q,Ce="";if(typeof k=="string"){Q=(te=z(k))!==null?te.data:k;try{Ce=hh(Q)}catch(Y){if(L)throw P(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ce};n.getImageProperties=function(k){var L,te,Q="";if(d(k)&&(k=g(k)),typeof k=="string"&&i(k)===t&&((Q=ve(k,!1))===""&&(Q=n.loadFile(k)||""),k=Q),te=i(k),!u(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(!Z()||k instanceof Uint8Array||(k=X(k)),!(L=this["process"+te.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=te,L}})(wt.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};wt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){i=c[g];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(b.objId),D=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(C(i.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(C(D))+") >>",b.content=s;var P=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+P,i.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var z=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(w(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var Z=this.annotations._nameMap[i.options.name];i.options.pageNumber=Z.page,i.options.top=Z.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ae=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+ae+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(e,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(e,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,a,o,s),l},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(wt.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=n.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&r.indexOf(b.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&t[b.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(b){var A=0,C=e,D="",P=0;for(A=0;A<b.length;A+=1)C[b.charCodeAt(A)]!==void 0?(P++,typeof(C=C[b.charCodeAt(A)])=="number"&&(D+=String.fromCharCode(C),C=e,P=0),A===b.length-1&&(C=e,D+=b.charAt(A-(P-1)),A-=P-1,P=0)):(C=e,D+=b.charAt(A-P),A-=P,P=0);return D};n.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var g=n.__arabicParser__.getCorrectForm=function(b,A,C){return o(b)?s(b)===!1?-1:!c(b)||!o(A)&&!o(C)||!o(C)&&a(A)||a(b)&&!o(A)||a(b)&&l(A)||a(b)&&a(A)?0:u(b)&&o(A)&&!a(A)&&o(C)&&c(C)?3:a(b)||!o(C)?1:2:-1},f=function(b){var A=0,C=0,D=0,P="",z="",Z="",ae=(b=b||"").split("\\s+"),X=[];for(A=0;A<ae.length;A+=1){for(X.push(""),C=0;C<ae[A].length;C+=1)P=ae[A][C],z=ae[A][C-1],Z=ae[A][C+1],o(P)?(D=g(P,z,Z),X[A]+=D!==-1?String.fromCharCode(t[P.charCodeAt(0)][D]):P):X[A]+=P;X[A]=d(X[A])}return X.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(A)){var D=0;for(C=[],D=0;D<A.length;D+=1)Array.isArray(A[D])?C.push([f(A[D][0]),A[D][1],A[D][2]]):C.push([f(A[D])]);b=C}else b=f(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};n.events.push(["preProcessText",w])}(wt.API),wt.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if((e=e||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,f=0,w=0,b=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var C=c.maxWidth;C>0?typeof l=="string"?l=this.splitTextToSize(l,C):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,z){return P.concat(A.splitTextToSize(z,C))},[])):l=Array.isArray(l)?l:[l];for(var D=0;D<l.length;D++)f<(b=this.getStringUnitWidth(l[D],{font:d})*u)&&(f=b);return f!==0&&(w=l.length),{w:f/=g,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,g){if(i.call(this),!u)throw new Error("No data for PDF table.");var f,w,b,A,C=[],D=[],P=[],z={},Z={},ae=[],X=[],q=(g=g||{}).autoSize||!1,se=g.printHeaders!==!1,ve=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,k=g.margins||Object.assign({width:this.getPageWidth()},t),L=typeof g.padding=="number"?g.padding:3,te=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=se,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=ve,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=Q,this.setFontSize(ve),d==null)D=C=Object.keys(u[0]),P=C.map(function(){return"left"});else if(Array.isArray(d)&&vn(d[0])==="object")for(C=d.map(function(re){return re.name}),D=d.map(function(re){return re.prompt||re.name||""}),P=d.map(function(re){return re.align||"left"}),f=0;f<d.length;f+=1)Z[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(D=C=d,P=C.map(function(){return"left"}));if(q||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<C.length;f+=1){for(z[A=C[f]]=u.map(function(re){return re[A]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(D[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=z[A],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)ae.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[A]=Math.max.apply(null,ae)+L+L,ae=[]}if(se){var Ce={};for(f=0;f<C.length;f+=1)Ce[C[f]]={},Ce[C[f]].text=D[f],Ce[C[f]].align=P[f];var Y=a.call(this,Ce,Z);X=C.map(function(re){return new s(l,c,Z[re],Y,Ce[re].text,void 0,Ce[re].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var F=d.reduce(function(re,ye){return re[ye.name]=ye.align,re},{});for(f=0;f<u.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:u[f]},this);var B=a.call(this,u[f],Z);for(b=0;b<C.length;b+=1){var $=u[f][C[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:b,data:$},this),o.call(this,new s(l,c,Z[C[b]],B,$,f+2,F[C[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/g+u+u},this).reduce(function(f,w){return Math.max(f,w)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}}(wt.API);var kA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],y_=PA(LA),OA=[100,200,300,400,500,600,700,800,900],lO=PA(OA);function __(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return kA[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof y_[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function pA(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var cO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uO(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},cO,e.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(r[(s=__(t[a])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+mA(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=y_[l],d=u<=y_.normal?-1:1,g=pA(c,LA,u,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=kA[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=lO[l],d=pA(c,OA,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+mA(s)+"'.");return o}function vA(n){return n.trimLeft()}function dO(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function hO(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var zg,yA,_A,h_=["times"];(function(n){var t,e,i,r,s,o,a,l,c,u=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new l,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new o,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new o,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=S;Object.defineProperty(this,"pdf",{get:function(){return j}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Ae){U=!!Ae}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ae){ne=!!Ae}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=Ae)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var ee;typeof Ae=="number"?ee=[Ae,Ae,Ae,Ae]:((ee=new Array(4))[0]=Ae[0],ee[1]=Ae.length>=2?Ae[1]:ee[0],ee[2]=Ae.length>=3?Ae[2]:ee[0],ee[3]=Ae.length>=4?Ae[3]:ee[1]),c.margin=ee}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(Ae){ge=Ae}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Ae){_e=Ae}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(Ae){Re=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof u&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Ae){Fe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ee;ee=g(Ae),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ee=g(Ae);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ue=null;function qe(Ae,ee){if(Ue===null){var lt=function(Qe){var je=[];return Object.keys(Qe).forEach(function(He){Qe[He].forEach(function(ke){var Ve=null;switch(ke){case"bold":Ve={family:He,weight:"bold"};break;case"italic":Ve={family:He,style:"italic"};break;case"bolditalic":Ve={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:He}}Ve!==null&&(Ve.ref={name:He,style:ke},je.push(Ve))})}),je}(Ae.getFontList());Ue=function(Qe){for(var je={},He=0;He<Qe.length;++He){var ke=__(Qe[He]),Ve=ke.family,tt=ke.stretch,ht=ke.style,st=ke.weight;je[Ve]=je[Ve]||{},je[Ve][tt]=je[Ve][tt]||{},je[Ve][tt][ht]=je[Ve][tt][ht]||{},je[Ve][tt][ht][st]=ke}return je}(lt.concat(ee))}return Ue}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(Ae){Ue=null,it=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ee;if(this.ctx.font=Ae,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var lt=ee[1],Qe=(ee[2],ee[3]),je=ee[4],He=(ee[5],ee[6]),ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(ke==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ve=function(dt){var ft,Ge,si=[],Yt=dt.trim();if(Yt==="")return h_;if(Yt in gA)return[gA[Yt]];for(;Yt!=="";){switch(Ge=null,ft=(Yt=vA(Yt)).charAt(0)){case'"':case"'":Ge=dO(Yt.substring(1),ft);break;default:Ge=hO(Yt)}if(Ge===null||(si.push(Ge[0]),(Yt=vA(Ge[1]))!==""&&Yt.charAt(0)!==","))return h_;Yt=Yt.replace(/^,/,"")}return si}(He);if(this.fontFaces){var tt=uO(qe(this.pdf,this.fontFaces),Ve.map(function(dt){return{family:dt,stretch:"normal",weight:Qe,style:lt}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var ht="";(Qe==="bold"||parseInt(Qe,10)>=700||lt==="bold")&&(ht="bold"),lt==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var st="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<Ve.length;Ut++){if(this.pdf.internal.getFont(Ve[Ut],ht,{noFallback:!0,disableWarning:!0})!==void 0){st=Ve[Ut];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(Ve[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ve[Ut],ht="bold";else if(this.pdf.internal.getFont(Ve[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ve[Ut],ht="normal";break}}if(st===""){for(var sn=0;sn<Ve.length;sn++)if(ct[Ve[sn]]){st=ct[Ve[sn]];break}}st=st===""?"Times":st,this.pdf.setFont(st,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(S){this.lineDash=S},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){z.call(this,"fill",!1)},d.prototype.stroke=function(){z.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(S,j){if(isNaN(S)||isNaN(j))throw bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new o(S,j));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(S,j)},d.prototype.closePath=function(){var S=new o(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&vn(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){S=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(S.x,S.y)},d.prototype.lineTo=function(S,j){if(isNaN(S)||isNaN(j))throw bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new o(S,j));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},d.prototype.quadraticCurveTo=function(S,j,U,ne){if(isNaN(U)||isNaN(ne)||isNaN(S)||isNaN(j))throw bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(U,ne)),ue=this.ctx.transform.applyToPoint(new o(S,j));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},d.prototype.bezierCurveTo=function(S,j,U,ne,oe,ue){if(isNaN(oe)||isNaN(ue)||isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne))throw bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(oe,ue)),_e=this.ctx.transform.applyToPoint(new o(S,j)),Re=this.ctx.transform.applyToPoint(new o(U,ne));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Re.x,y2:Re.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},d.prototype.arc=function(S,j,U,ne,oe,ue){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne)||isNaN(oe))throw bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(S,j));S=ge.x,j=ge.y;var _e=this.ctx.transform.applyToPoint(new o(0,U)),Re=this.ctx.transform.applyToPoint(new o(0,0));U=Math.sqrt(Math.pow(_e.x-Re.x,2)+Math.pow(_e.y-Re.y,2))}Math.abs(oe-ne)>=2*Math.PI&&(ne=0,oe=2*Math.PI),this.path.push({type:"arc",x:S,y:j,radius:U,startAngle:ne,endAngle:oe,counterclockwise:ue})},d.prototype.arcTo=function(S,j,U,ne,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(S,j,U,ne){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne))throw bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,j),this.lineTo(S+U,j),this.lineTo(S+U,j+ne),this.lineTo(S,j+ne),this.lineTo(S,j),this.lineTo(S+U,j),this.lineTo(S,j)},d.prototype.fillRect=function(S,j,U,ne){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne))throw bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,j,U,ne),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(S,j,U,ne){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne))throw bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(S,j,U,ne),this.stroke())},d.prototype.clearRect=function(S,j,U,ne){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne))throw bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,j,U,ne))},d.prototype.save=function(S){S=typeof S!="boolean"||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(j),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(S){var j,U,ne,oe;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))j=0,U=0,ne=0,oe=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(ue!==null)j=parseInt(ue[1]),U=parseInt(ue[2]),ne=parseInt(ue[3]),oe=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)j=parseInt(ue[1]),U=parseInt(ue[2]),ne=parseInt(ue[3]),oe=parseFloat(ue[4]);else{if(oe=1,typeof S=="string"&&S.charAt(0)!=="#"){var ge=new SA(S);S=ge.ok?ge.toHex():"#000000"}S.length===4?(j=S.substring(1,2),j+=j,U=S.substring(2,3),U+=U,ne=S.substring(3,4),ne+=ne):(j=S.substring(1,3),U=S.substring(3,5),ne=S.substring(5,7)),j=parseInt(j,16),U=parseInt(U,16),ne=parseInt(ne,16)}}return{r:j,g:U,b:ne,a:oe,style:S}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(S,j,U,ne){if(isNaN(j)||isNaN(U)||typeof S!="string")throw bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!f.call(this)){var oe=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:S,x:j,y:U,scale:ue,angle:oe,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(S,j,U,ne){if(isNaN(j)||isNaN(U)||typeof S!="string")throw bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ne=isNaN(ne)?void 0:ne;var oe=B(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;L.call(this,{text:S,x:j,y:U,scale:ue,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(S){if(typeof S!="string")throw bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,U=this.pdf.internal.scaleFactor,ne=j.internal.getFontSize(),oe=j.getStringUnitWidth(S)*ne/j.internal.scaleFactor,ue=function(ge){var _e=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new ue({width:oe*=Math.round(96*U/72*1e4)/1e4})},d.prototype.scale=function(S,j){if(isNaN(S)||isNaN(j))throw bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(S,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},d.prototype.rotate=function(S){if(isNaN(S))throw bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},d.prototype.translate=function(S,j){if(isNaN(S)||isNaN(j))throw bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,S,j);this.ctx.transform=this.ctx.transform.multiply(U)},d.prototype.transform=function(S,j,U,ne,oe,ue){if(isNaN(S)||isNaN(j)||isNaN(U)||isNaN(ne)||isNaN(oe)||isNaN(ue))throw bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(S,j,U,ne,oe,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},d.prototype.setTransform=function(S,j,U,ne,oe,ue){S=isNaN(S)?1:S,j=isNaN(j)?0:j,U=isNaN(U)?0:U,ne=isNaN(ne)?1:ne,oe=isNaN(oe)?0:oe,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(S,j,U,ne,oe,ue)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(S,j,U,ne,oe,ue,ge,_e,Re){var Fe=this.pdf.getImageProperties(S),Ue=1,qe=1,it=1,Ae=1;ne!==void 0&&_e!==void 0&&(it=_e/ne,Ae=Re/oe,Ue=Fe.width/ne*_e/ne,qe=Fe.height/oe*Re/oe),ue===void 0&&(ue=j,ge=U,j=0,U=0),ne!==void 0&&_e===void 0&&(_e=ne,Re=oe),ne===void 0&&_e===void 0&&(_e=Fe.width,Re=Fe.height);for(var ee,lt=this.ctx.transform.decompose(),Qe=B(lt.rotate.shx),je=new l,He=(je=(je=(je=je.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new a(ue-j*it,ge-U*Ae,ne*Ue,oe*qe)),ke=A.call(this,He),Ve=[],tt=0;tt<ke.length;tt+=1)Ve.indexOf(ke[tt])===-1&&Ve.push(ke[tt]);if(P(Ve),this.autoPaging)for(var ht=Ve[0],st=Ve[Ve.length-1],ct=ht;ct<st+1;ct++){this.pdf.setPage(ct);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],sn=ct===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=ct===1?0:dt+(ct-2)*ft;if(this.ctx.clip_path.length!==0){var si=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ee,this.posX+this.margin[3],-Ge+sn+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=si}var Yt=JSON.parse(JSON.stringify(He));Yt=D([Yt],this.posX+this.margin[3],-Ge+sn+this.ctx.prevPageLastElemOffset)[0];var Ri=(ct>ht||ct<st)&&b.call(this);Ri&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,ft,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Qe),Ri&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",He.x,He.y,He.w,He.h,null,null,Qe)};var A=function(S,j,U){var ne=[];j=j||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":ne.push(Math.floor((S.y+oe)/U)+1);break;case"arc":ne.push(Math.floor((S.y+oe-S.radius)/U)+1),ne.push(Math.floor((S.y+oe+S.radius)/U)+1);break;case"qct":var ue=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);ne.push(Math.floor((ue.y+oe)/U)+1),ne.push(Math.floor((ue.y+ue.h+oe)/U)+1);break;case"bct":var ge=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);ne.push(Math.floor((ge.y+oe)/U)+1),ne.push(Math.floor((ge.y+ge.h+oe)/U)+1);break;case"rect":ne.push(Math.floor((S.y+oe)/U)+1),ne.push(Math.floor((S.y+S.h+oe)/U)+1)}for(var _e=0;_e<ne.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ne[_e];)C.call(this);return ne},C=function(){var S=this.fillStyle,j=this.strokeStyle,U=this.font,ne=this.lineCap,oe=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=j,this.font=U,this.lineCap=ne,this.lineWidth=oe,this.lineJoin=ue},D=function(S,j,U){for(var ne=0;ne<S.length;ne++)switch(S[ne].type){case"bct":S[ne].x2+=j,S[ne].y2+=U;case"qct":S[ne].x1+=j,S[ne].y1+=U;case"mt":case"lt":case"arc":default:S[ne].x+=j,S[ne].y+=U}return S},P=function(S){return S.sort(function(j,U){return j-U})},z=function(S,j){for(var U,ne,oe=this.fillStyle,ue=this.strokeStyle,ge=this.lineCap,_e=this.lineWidth,Re=Math.abs(_e*this.ctx.transform.scaleX),Fe=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),it=[],Ae=0;Ae<qe.length;Ae++)if(qe[Ae].x!==void 0)for(var ee=A.call(this,qe[Ae]),lt=0;lt<ee.length;lt+=1)it.indexOf(ee[lt])===-1&&it.push(ee[lt]);for(var Qe=0;Qe<it.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<it[Qe];)C.call(this);if(P(it),this.autoPaging)for(var je=it[0],He=it[it.length-1],ke=je;ke<He+1;ke++){this.pdf.setPage(ke),this.fillStyle=oe,this.strokeStyle=ue,this.lineCap=ge,this.lineWidth=Re,this.lineJoin=Fe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=ke===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=ke===1?0:ht+(ke-2)*st;if(this.ctx.clip_path.length!==0){var Ut=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(U,this.posX+this.margin[3],-ct+tt+this.ctx.prevPageLastElemOffset),Z.call(this,S,!0),this.path=Ut}if(ne=JSON.parse(JSON.stringify(Ue)),this.path=D(ne,this.posX+this.margin[3],-ct+tt+this.ctx.prevPageLastElemOffset),j===!1||ke===0){var sn=(ke>je||ke<He)&&b.call(this);sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,st,null).clip().discardPath()),Z.call(this,S,j),sn&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Re,Z.call(this,S,j),this.lineWidth=_e;this.path=Ue},Z=function(S,j){if((S!=="stroke"||j||!w.call(this))&&(S==="stroke"||j||!f.call(this))){for(var U,ne,oe=[],ue=this.path,ge=0;ge<ue.length;ge++){var _e=ue[ge];switch(_e.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:_e,deltas:[],abs:[]});break;case"lt":var Re=oe.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(U=[_e.x-ue[ge-1].x,_e.y-ue[ge-1].y],Re>0)){for(;Re>=0;Re--)if(oe[Re-1].close!==!0&&oe[Re-1].begin!==!0){oe[Re-1].deltas.push(U),oe[Re-1].abs.push(_e);break}}break;case"bct":U=[_e.x1-ue[ge-1].x,_e.y1-ue[ge-1].y,_e.x2-ue[ge-1].x,_e.y2-ue[ge-1].y,_e.x-ue[ge-1].x,_e.y-ue[ge-1].y],oe[oe.length-1].deltas.push(U);break;case"qct":var Fe=ue[ge-1].x+2/3*(_e.x1-ue[ge-1].x),Ue=ue[ge-1].y+2/3*(_e.y1-ue[ge-1].y),qe=_e.x+2/3*(_e.x1-_e.x),it=_e.y+2/3*(_e.y1-_e.y),Ae=_e.x,ee=_e.y;U=[Fe-ue[ge-1].x,Ue-ue[ge-1].y,qe-ue[ge-1].x,it-ue[ge-1].y,Ae-ue[ge-1].x,ee-ue[ge-1].y],oe[oe.length-1].deltas.push(U);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(_e)}}ne=j?null:S==="stroke"?"stroke":"fill";for(var lt=!1,Qe=0;Qe<oe.length;Qe++)if(oe[Qe].arc)for(var je=oe[Qe].abs,He=0;He<je.length;He++){var ke=je[He];ke.type==="arc"?q.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,j,!lt):te.call(this,ke.x,ke.y),lt=!0}else if(oe[Qe].close===!0)this.pdf.internal.out("h"),lt=!1;else if(oe[Qe].begin!==!0){var Ve=oe[Qe].start.x,tt=oe[Qe].start.y;Q.call(this,oe[Qe].deltas,Ve,tt),lt=!0}ne&&se.call(this,ne),j&&ve.call(this)}},ae=function(S){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-U;case"top":return S+j-U;case"hanging":return S+j-2*U;case"middle":return S+j/2-U;case"ideographic":return S;case"alphabetic":default:return S}},X=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(j,U){this.colorStops.push([j,U])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(S,j,U,ne,oe,ue,ge,_e,Re){for(var Fe=Y.call(this,U,ne,oe,ue),Ue=0;Ue<Fe.length;Ue++){var qe=Fe[Ue];Ue===0&&(Re?k.call(this,qe.x1+S,qe.y1+j):te.call(this,qe.x1+S,qe.y1+j)),Ce.call(this,S,j,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}_e?ve.call(this):se.call(this,ge)},se=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ve=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(S,j){this.pdf.internal.out(e(S)+" "+i(j)+" m")},L=function(S){var j;switch(S.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var U=this.pdf.getTextDimensions(S.text),ne=ae.call(this,S.y),oe=X.call(this,ne)-U.h,ue=this.ctx.transform.applyToPoint(new o(S.x,ne)),ge=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Re,Fe,Ue,qe=this.ctx.transform.applyToRectangle(new a(S.x,ne,U.w,U.h)),it=_e.applyToRectangle(new a(S.x,oe,U.w,U.h)),Ae=A.call(this,it),ee=[],lt=0;lt<Ae.length;lt+=1)ee.indexOf(Ae[lt])===-1&&ee.push(Ae[lt]);if(P(ee),this.autoPaging)for(var Qe=ee[0],je=ee[ee.length-1],He=Qe;He<je+1;He++){this.pdf.setPage(He);var ke=He===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],ht=tt-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],ct=st-this.margin[3],Ut=He===1?0:Ve+(He-2)*ht;if(this.ctx.clip_path.length!==0){var sn=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Re,this.posX+this.margin[3],-1*Ut+ke),Z.call(this,"fill",!0),this.path=sn}var dt=D([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Ut+ke+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*S.scale),Ue=this.lineWidth,this.lineWidth=Ue*S.scale);var ft=this.autoPaging!=="text";if(ft||dt.y+dt.h<=tt){if(ft||dt.y>=ke&&dt.x<=st){var Ge=ft?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||st-dt.x)[0],si=D([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Ut+ke+this.ctx.prevPageLastElemOffset)[0],Yt=ft&&(He>Qe||He<je)&&b.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ht,null).clip().discardPath()),this.pdf.text(Ge,si.x,si.y,{angle:S.angle,align:j,renderingMode:S.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else dt.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-dt.y);S.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Ue)}else S.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*S.scale),Ue=this.lineWidth,this.lineWidth=Ue*S.scale),this.pdf.text(S.text,ue.x+this.posX,ue.y+this.posY,{angle:S.angle,align:j,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Ue)},te=function(S,j,U,ne){U=U||0,ne=ne||0,this.pdf.internal.out(e(S+U)+" "+i(j+ne)+" l")},Q=function(S,j,U){return this.pdf.lines(S,j,U,null,null)},Ce=function(S,j,U,ne,oe,ue,ge,_e){this.pdf.internal.out([t(r(U+S)),t(s(ne+j)),t(r(oe+S)),t(s(ue+j)),t(r(ge+S)),t(s(_e+j)),"c"].join(" "))},Y=function(S,j,U,ne){for(var oe=2*Math.PI,ue=Math.PI/2;j>U;)j-=oe;var ge=Math.abs(U-j);ge<oe&&ne&&(ge=oe-ge);for(var _e=[],Re=ne?-1:1,Fe=j;ge>1e-5;){var Ue=Fe+Re*Math.min(ge,ue);_e.push(F.call(this,S,Fe,Ue)),ge-=Math.abs(Ue-Fe),Fe=Ue}return _e},F=function(S,j,U){var ne=(U-j)/2,oe=S*Math.cos(ne),ue=S*Math.sin(ne),ge=oe,_e=-ue,Re=ge*ge+_e*_e,Fe=Re+ge*oe+_e*ue,Ue=4/3*(Math.sqrt(2*Re*Fe)-Fe)/(ge*ue-_e*oe),qe=ge-Ue*_e,it=_e+Ue*ge,Ae=qe,ee=-it,lt=ne+j,Qe=Math.cos(lt),je=Math.sin(lt);return{x1:S*Math.cos(j),y1:S*Math.sin(j),x2:qe*Qe-it*je,y2:qe*je+it*Qe,x3:Ae*Qe-ee*je,y3:Ae*je+ee*Qe,x4:S*Math.cos(U),y4:S*Math.sin(U)}},B=function(S){return 180*S/Math.PI},$=function(S,j,U,ne,oe,ue){var ge=S+.5*(U-S),_e=j+.5*(ne-j),Re=oe+.5*(U-oe),Fe=ue+.5*(ne-ue),Ue=Math.min(S,oe,ge,Re),qe=Math.max(S,oe,ge,Re),it=Math.min(j,ue,_e,Fe),Ae=Math.max(j,ue,_e,Fe);return new a(Ue,it,qe-Ue,Ae-it)},re=function(S,j,U,ne,oe,ue,ge,_e){var Re,Fe,Ue,qe,it,Ae,ee,lt,Qe,je,He,ke,Ve,tt,ht=U-S,st=ne-j,ct=oe-U,Ut=ue-ne,sn=ge-oe,dt=_e-ue;for(Fe=0;Fe<41;Fe++)Qe=(ee=(Ue=S+(Re=Fe/40)*ht)+Re*((it=U+Re*ct)-Ue))+Re*(it+Re*(oe+Re*sn-it)-ee),je=(lt=(qe=j+Re*st)+Re*((Ae=ne+Re*Ut)-qe))+Re*(Ae+Re*(ue+Re*dt-Ae)-lt),Fe==0?(He=Qe,ke=je,Ve=Qe,tt=je):(He=Math.min(He,Qe),ke=Math.min(ke,je),Ve=Math.max(Ve,Qe),tt=Math.max(tt,je));return new a(Math.round(He),Math.round(ke),Math.round(Ve-He),Math.round(tt-ke))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,j,U=(S=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:j}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(wt.API),function(n){var t=function(s){var o,a,l,c,u,d,g,f,w,b;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(b=u%85))/85)-(w=u%85))/85)-(f=u%85))/85)-(g=u%85))/85)%85,a.push(d+33,g+33,f+33,w+33,b+33)):a.push(122);return function(A,C){for(var D=C;D>0;D--)A.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},e=function(s){var o,a,l,c,u,d=String,g="length",f=255,w="charCodeAt",b="slice",A="replace";for(s[b](-2),s=s[b](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[b](s[g]%5||5))[g];u>c;c+=5)a=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(C,D){for(var P=D;P>0;P--)C.pop()}(l,o[g]),d.fromCharCode.apply(d,l)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Vg(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(wt.API),function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,g=0,f=function(w){var b=w.length,A=[],C=String.fromCharCode;for(g=0;g<b;g+=1)A.push(C(255&w.charCodeAt(g)));return A.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(r,s,o)}catch{}return a}(t,e,i)},n.loadImageFile=n.loadFile}(wt.API),function(n){function t(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):import("./chunk-DF4PZERS.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):import("./chunk-EQGKKR3Q.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=vn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var f=c[g],w=f.src.find(function(b){return b.format==="truetype"});w&&l.addFont(w.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,wt.getPageSize=function(o,a,l){if(vn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,w=0,b=0;if(g.hasOwnProperty(d))w=g[d][1]/u,b=g[d][0]/u;else try{w=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>w&&(f=b,b=w,w=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>b&&(f=b,b=w,w=f)}return{width:b,height:w,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(__):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(wt.API),wt.API.addJS=function(n){return _A=n,this.internal.events.subscribe("postPutResources",function(){zg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(zg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),yA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_A+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){zg!==void 0&&yA!==void 0&&this.internal.out("/Names <</JavaScript "+zg+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=e.internal.newObject();u.push(d);var g=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(wt.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(d){for(var g,f=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,b={width:0,height:0,numcomponents:1},A=4;A<w;A+=2){if(A+=f,t.indexOf(d.charCodeAt(A+1))!==-1){g=256*d.charCodeAt(A+5)+d.charCodeAt(A+6),b={width:256*d.charCodeAt(A+7)+d.charCodeAt(A+8),height:g,numcomponents:d.charCodeAt(A+9)};break}f=256*d.charCodeAt(A+2)+d.charCodeAt(A+3)}return b}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}}(wt.API);var gu,qg,wA,bA,CA,fO=function(){var n,t,e;function i(s){var o,a,l,c,u,d,g,f,w,b,A,C,D,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),w=function(){var z,Z;for(Z=[],z=0;z<4;++z)Z.push(String.fromCharCode(this.data[this.pos++]));return Z}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=d?.data||this.imgData,C=0;0<=o?C<o:C>o;0<=o?++C:--C)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(D=0;0<=b?D<b:D>b;0<=b?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(A=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,A.slice(0,g)),this.text[f]=String.fromCharCode.apply(String,A.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,g,f,w){var b,A,C,D,P,z,Z,ae,X,q,se,ve,k,L,te,Q,Ce,Y,F,B,$,re=Math.ceil((c.width-d)/f),ye=Math.ceil((c.height-g)/w),S=c.width==re&&c.height==ye;for(L=o*re,ve=S?a:new Uint8Array(L*ye),z=s.length,k=0,A=0;k<ye&&l<z;){switch(s[l++]){case 0:for(D=Ce=0;Ce<L;D=Ce+=1)ve[A++]=s[l++];break;case 1:for(D=Y=0;Y<L;D=Y+=1)b=s[l++],P=D<o?0:ve[A-o],ve[A++]=(b+P)%256;break;case 2:for(D=F=0;F<L;D=F+=1)b=s[l++],C=(D-D%o)/o,te=k&&ve[(k-1)*L+C*o+D%o],ve[A++]=(te+b)%256;break;case 3:for(D=B=0;B<L;D=B+=1)b=s[l++],C=(D-D%o)/o,P=D<o?0:ve[A-o],te=k&&ve[(k-1)*L+C*o+D%o],ve[A++]=(b+Math.floor((P+te)/2))%256;break;case 4:for(D=$=0;$<L;D=$+=1)b=s[l++],C=(D-D%o)/o,P=D<o?0:ve[A-o],k===0?te=Q=0:(te=ve[(k-1)*L+C*o+D%o],Q=C&&ve[(k-1)*L+(C-1)*o+D%o]),Z=P+te-Q,ae=Math.abs(Z-P),q=Math.abs(Z-te),se=Math.abs(Z-Q),X=ae<=q&&ae<=se?P:q<=se?te:Q,ve[A++]=(b+X)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!S){var j=((g+k*w)*c.width+d)*o,U=k*L;for(D=0;D<re;D+=1){for(var ne=0;ne<o;ne+=1)a[j++]=ve[U++];j+=(f-1)*o}}k++}}return s=lA(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,l,c,u,d,g,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,g=a.length;d<g;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},i.prototype.copyToImageData=function(s,o){var a,l,c,u,d,g,f,w,b,A,C;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),l=4,a=!0),w=(c=s.data||s).length,d=b||o,u=g=0,l===1)for(;u<w;)f=b?4*o[u/4]:g,A=d[f++],c[u++]=A,c[u++]=A,c[u++]=A,c[u++]=a?d[f++]:255,g=f;else for(;u<w;)f=b?4*o[u/4]:g,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,g=f},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(bt)==="[object Window]"){try{t=bt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,l,c,u,d,g,f;if(this.animation){for(f=[],a=u=0,d=(g=this.animation.frames).length;u<d;a=++u)o=g[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=n(l));return f}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),c?.disposeOp===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,l,c,u,d,g=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,w;if(f=a++%c,w=l[f],g.renderFrame(s,f),c>1&&a/c<u)return g.animation._timeout=setTimeout(o,w.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();function pO(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],s=r>>7,o=1<<(7&r)+1;n[t++],n[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,g=null,f=0,w=null;for(this.width=e,this.height=i;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,w=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=n[t++];d=n[t++]|n[t++]<<8,g=n[t++],!(1&b)&&(g=null),f=b>>2&7,t++;break;case 254:for(;;){if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var A=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,D=n[t++]|n[t++]<<8,P=n[t++]|n[t++]<<8,z=n[t++],Z=z>>6&1,ae=1<<(7&z)+1,X=a,q=l,se=!1;z>>7&&(se=!0,X=t,q=ae,t+=3*ae);var ve=t;for(t++;;){var k;if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:A,y:C,width:D,height:P,has_local_palette:se,palette_offset:X,palette_size:q,data_offset:ve,data_length:t-ve,transparent_index:g,interlaced:!!Z,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(L){if(L<0||L>=u.length)throw new Error("Frame index out of range.");return u[L]},this.decodeAndBlitFrameBGRA=function(L,te){var Q=this.frameInfo(L),Ce=Q.width*Q.height,Y=new Uint8Array(Ce);xA(n,Q.data_offset,Y,Ce);var F=Q.palette_offset,B=Q.transparent_index;B===null&&(B=256);var $=Q.width,re=e-$,ye=$,S=4*(Q.y*e+Q.x),j=4*((Q.y+Q.height)*e+Q.x),U=S,ne=4*re;Q.interlaced===!0&&(ne+=4*e*7);for(var oe=8,ue=0,ge=Y.length;ue<ge;++ue){var _e=Y[ue];if(ye===0&&(ye=$,(U+=ne)>=j&&(ne=4*re+4*e*(oe-1),U=S+($+re)*(oe<<1),oe>>=1)),_e===B)U+=4;else{var Re=n[F+3*_e],Fe=n[F+3*_e+1],Ue=n[F+3*_e+2];te[U++]=Ue,te[U++]=Fe,te[U++]=Re,te[U++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(L,te){var Q=this.frameInfo(L),Ce=Q.width*Q.height,Y=new Uint8Array(Ce);xA(n,Q.data_offset,Y,Ce);var F=Q.palette_offset,B=Q.transparent_index;B===null&&(B=256);var $=Q.width,re=e-$,ye=$,S=4*(Q.y*e+Q.x),j=4*((Q.y+Q.height)*e+Q.x),U=S,ne=4*re;Q.interlaced===!0&&(ne+=4*e*7);for(var oe=8,ue=0,ge=Y.length;ue<ge;++ue){var _e=Y[ue];if(ye===0&&(ye=$,(U+=ne)>=j&&(ne=4*re+4*e*(oe-1),U=S+($+re)*(oe<<1),oe>>=1)),_e===B)U+=4;else{var Re=n[F+3*_e],Fe=n[F+3*_e+1],Ue=n[F+3*_e+2];te[U++]=Re,te[U++]=Fe,te[U++]=Ue,te[U++]=255}--ye}}}function xA(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,d=0,g=0,f=n[t++],w=new Int32Array(4096),b=null;;){for(;u<16&&f!==0;)d|=n[t++]<<u,u+=8,f===1?f=n[t++]:--f;if(u<l)break;var A=d&c;if(d>>=l,u-=l,A!==s){if(A===o)break;for(var C=A<a?A:b,D=0,P=C;P>s;)P=w[P]>>8,++D;var z=P;if(g+D+(C!==A?1:0)>i)return void bn.log("Warning, gif stream longer than expected.");e[g++]=z;var Z=g+=D;for(C!==A&&(e[g++]=z),P=C;D--;)P=w[P],e[--Z]=255&P,P>>=8;b!==null&&a<4096&&(w[a++]=b<<8|z,a>=c+1&&l<12&&(++l,c=c<<1|1)),b=A}else a=o+1,c=(1<<(l=r+1))-1,b=null}return g!==i&&bn.log("Warning, gif stream shorter than expected."),e}function f_(n){var t,e,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),g=new Array(65535),f=new Array(64),w=new Array(64),b=[],A=0,C=7,D=new Array(64),P=new Array(64),z=new Array(64),Z=new Array(256),ae=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(S,j){for(var U=0,ne=0,oe=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=S[ue];ge++)oe[j[ne]]=[],oe[j[ne]][0]=U,oe[j[ne]][1]=ue,ne++,U++;U*=2}return oe}function F(S){for(var j=S[0],U=S[1]-1;U>=0;)j&1<<U&&(A|=1<<C),U--,--C<0&&(A==255?(B(255),B(0)):B(A),C=7,A=0)}function B(S){b.push(S)}function $(S){B(S>>8&255),B(255&S)}function re(S,j,U,ne,oe){for(var ue,ge=oe[0],_e=oe[240],Re=function(je,He){var ke,Ve,tt,ht,st,ct,Ut,sn,dt,ft,Ge=0;for(dt=0;dt<8;++dt){ke=je[Ge],Ve=je[Ge+1],tt=je[Ge+2],ht=je[Ge+3],st=je[Ge+4],ct=je[Ge+5],Ut=je[Ge+6];var si=ke+(sn=je[Ge+7]),Yt=ke-sn,Ri=Ve+Ut,un=Ve-Ut,Cn=tt+ct,Br=tt-ct,rn=ht+st,ji=ht-st,Tn=si+rn,yr=si-rn,ss=Ri+Cn,Nn=Ri-Cn;je[Ge]=Tn+ss,je[Ge+4]=Tn-ss;var At=.707106781*(Nn+yr);je[Ge+2]=yr+At,je[Ge+6]=yr-At;var Kt=.382683433*((Tn=ji+Br)-(Nn=un+Yt)),ao=.5411961*Tn+Kt,oi=1.306562965*Nn+Kt,Vr=.707106781*(ss=Br+un),Hr=Yt+Vr,pt=Yt-Vr;je[Ge+5]=pt+ao,je[Ge+3]=pt-ao,je[Ge+1]=Hr+oi,je[Ge+7]=Hr-oi,Ge+=8}for(Ge=0,dt=0;dt<8;++dt){ke=je[Ge],Ve=je[Ge+8],tt=je[Ge+16],ht=je[Ge+24],st=je[Ge+32],ct=je[Ge+40],Ut=je[Ge+48];var Bi=ke+(sn=je[Ge+56]),Ur=ke-sn,Ei=Ve+Ut,qn=Ve-Ut,Bn=tt+ct,Vi=tt-ct,Zt=ht+st,os=ht-st,_r=Bi+Zt,wr=Bi-Zt,br=Ei+Bn,zr=Ei-Bn;je[Ge]=_r+br,je[Ge+32]=_r-br;var Ki=.707106781*(zr+wr);je[Ge+16]=wr+Ki,je[Ge+48]=wr-Ki;var Zi=.382683433*((_r=os+Vi)-(zr=qn+Ur)),Cr=.5411961*_r+Zi,lo=1.306562965*zr+Zi,as=.707106781*(br=Vi+qn),fn=Ur+as,Wo=Ur-as;je[Ge+40]=Wo+Cr,je[Ge+24]=Wo-Cr,je[Ge+8]=fn+lo,je[Ge+56]=fn-lo,Ge++}for(dt=0;dt<64;++dt)ft=je[dt]*He[dt],f[dt]=ft>0?ft+.5|0:ft-.5|0;return f}(S,j),Fe=0;Fe<64;++Fe)w[X[Fe]]=Re[Fe];var Ue=w[0]-U;U=w[0],Ue==0?F(ne[0]):(F(ne[g[ue=32767+Ue]]),F(d[ue]));for(var qe=63;qe>0&&w[qe]==0;)qe--;if(qe==0)return F(ge),U;for(var it,Ae=1;Ae<=qe;){for(var ee=Ae;w[Ae]==0&&Ae<=qe;)++Ae;var lt=Ae-ee;if(lt>=16){it=lt>>4;for(var Qe=1;Qe<=it;++Qe)F(_e);lt&=15}ue=32767+w[Ae],F(oe[(lt<<4)+g[ue]]),F(d[ue]),Ae++}return qe!=63&&F(ge),U}function ye(S){S=Math.min(Math.max(S,1),100),s!=S&&(function(j){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var oe=o((U[ne]*j+50)/100);oe=Math.min(Math.max(oe,1),255),a[X[ne]]=oe}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var _e=o((ue[ge]*j+50)/100);_e=Math.min(Math.max(_e,1),255),l[X[ge]]=_e}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ue=0;Ue<8;Ue++)for(var qe=0;qe<8;qe++)c[Fe]=1/(a[X[Fe]]*Re[Ue]*Re[qe]*8),u[Fe]=1/(l[X[Fe]]*Re[Ue]*Re[qe]*8),Fe++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),s=S)}this.encode=function(S,j){j&&ye(j),b=new Array,A=0,C=7,$(65496),$(65504),$(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),$(1),$(1),B(0),B(0),function(){$(65499),$(132),B(0);for(var Ve=0;Ve<64;Ve++)B(a[Ve]);B(1);for(var tt=0;tt<64;tt++)B(l[tt])}(),function(Ve,tt){$(65472),$(17),B(8),$(tt),$(Ve),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(S.width,S.height),function(){$(65476),$(418),B(0);for(var Ve=0;Ve<16;Ve++)B(q[Ve+1]);for(var tt=0;tt<=11;tt++)B(se[tt]);B(16);for(var ht=0;ht<16;ht++)B(ve[ht+1]);for(var st=0;st<=161;st++)B(k[st]);B(1);for(var ct=0;ct<16;ct++)B(L[ct+1]);for(var Ut=0;Ut<=11;Ut++)B(te[Ut]);B(17);for(var sn=0;sn<16;sn++)B(Q[sn+1]);for(var dt=0;dt<=161;dt++)B(Ce[dt])}(),$(65498),$(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var U=0,ne=0,oe=0;A=0,C=7,this.encode.displayName="_encode_";for(var ue,ge,_e,Re,Fe,Ue,qe,it,Ae,ee=S.data,lt=S.width,Qe=S.height,je=4*lt,He=0;He<Qe;){for(ue=0;ue<je;){for(Fe=je*He+ue,qe=-1,it=0,Ae=0;Ae<64;Ae++)Ue=Fe+(it=Ae>>3)*je+(qe=4*(7&Ae)),He+it>=Qe&&(Ue-=je*(He+1+it-Qe)),ue+qe>=je&&(Ue-=ue+qe-je+4),ge=ee[Ue++],_e=ee[Ue++],Re=ee[Ue++],D[Ae]=(ae[ge]+ae[_e+256>>0]+ae[Re+512>>0]>>16)-128,P[Ae]=(ae[ge+768>>0]+ae[_e+1024>>0]+ae[Re+1280>>0]>>16)-128,z[Ae]=(ae[ge+1280>>0]+ae[_e+1536>>0]+ae[Re+1792>>0]>>16)-128;U=re(D,c,U,t,i),ne=re(P,u,ne,e,r),oe=re(z,u,oe,e,r),ue+=32}He+=8}if(C>=0){var ke=[];ke[1]=C+1,ke[0]=(1<<C+1)-1,F(ke)}return $(65497),new Uint8Array(b)},n=n||50,function(){for(var S=String.fromCharCode,j=0;j<256;j++)Z[j]=S(j)}(),t=Y(q,se),e=Y(L,te),i=Y(ve,k),r=Y(Q,Ce),function(){for(var S=1,j=2,U=1;U<=15;U++){for(var ne=S;ne<j;ne++)g[32767+ne]=U,d[32767+ne]=[],d[32767+ne][1]=U,d[32767+ne][0]=ne;for(var oe=-(j-1);oe<=-S;oe++)g[32767+oe]=U,d[32767+oe]=[],d[32767+oe][1]=U,d[32767+oe][0]=j-1+oe;S<<=1,j<<=1}}(),function(){for(var S=0;S<256;S++)ae[S]=19595*S,ae[S+256>>0]=38470*S,ae[S+512>>0]=7471*S+32768,ae[S+768>>0]=-11059*S,ae[S+1024>>0]=-21709*S,ae[S+1280>>0]=32768*S+8421375,ae[S+1536>>0]=-27439*S,ae[S+1792>>0]=-5329*S}(),ye(n)}function Ms(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AA(n){function t(q){if(!q)throw Error("assert :P")}function e(q,se,ve){for(var k=0;4>k;k++)if(q[se+k]!=ve.charCodeAt(k))return!0;return!1}function i(q,se,ve,k,L){for(var te=0;te<L;te++)q[se+te]=ve[k+te]}function r(q,se,ve,k){for(var L=0;L<k;L++)q[se+L]=ve}function s(q){return new Int32Array(q)}function o(q,se){for(var ve=[],k=0;k<q;k++)ve.push(new se);return ve}function a(q,se){var ve=[];return function k(L,te,Q){for(var Ce=Q[te],Y=0;Y<Ce&&(L.push(Q.length>te+1?[]:new se),!(Q.length<te+1));Y++)k(L[Y],te+1,Q)}(ve,0,q),ve}var l=function(){var q=this;function se(h,p){for(var y=1<<p-1>>>0;h&y;)y>>>=1;return y?(h&y-1)+y:h}function ve(h,p,y,x,M){t(!(x%y));do h[p+(x-=y)]=M;while(0<x)}function k(h,p,y,x,M){if(t(2328>=M),512>=M)var T=s(512);else if((T=s(M))==null)return 0;return function(N,O,R,W,de,we){var be,pe,Te=O,Ee=1<<R,he=s(16),fe=s(16);for(t(de!=0),t(W!=null),t(N!=null),t(0<R),pe=0;pe<de;++pe){if(15<W[pe])return 0;++he[W[pe]]}if(he[0]==de)return 0;for(fe[1]=0,be=1;15>be;++be){if(he[be]>1<<be)return 0;fe[be+1]=fe[be]+he[be]}for(pe=0;pe<de;++pe)be=W[pe],0<W[pe]&&(we[fe[be]++]=pe);if(fe[15]==1)return(W=new L).g=0,W.value=we[0],ve(N,Te,1,Ee,W),Ee;var Ie,Le=-1,Me=Ee-1,Ke=0,ze=1,gt=1,$e=1<<R;for(pe=0,be=1,de=2;be<=R;++be,de<<=1){if(ze+=gt<<=1,0>(gt-=he[be]))return 0;for(;0<he[be];--he[be])(W=new L).g=be,W.value=we[pe++],ve(N,Te+Ke,de,$e,W),Ke=se(Ke,be)}for(be=R+1,de=2;15>=be;++be,de<<=1){if(ze+=gt<<=1,0>(gt-=he[be]))return 0;for(;0<he[be];--he[be]){if(W=new L,(Ke&Me)!=Le){for(Te+=$e,Ie=1<<(Le=be)-R;15>Le&&!(0>=(Ie-=he[Le]));)++Le,Ie<<=1;Ee+=$e=1<<(Ie=Le-R),N[O+(Le=Ke&Me)].g=Ie+R,N[O+Le].value=Te-O-Le}W.g=be-R,W.value=we[pe++],ve(N,Te+(Ke>>R),de,$e,W),Ke=se(Ke,be)}}return ze!=2*fe[15]-1?0:Ee}(h,p,y,x,M,T)}function L(){this.value=this.g=0}function te(){this.value=this.g=0}function Q(){this.G=o(5,L),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qn,te)}function Ce(h,p,y,x){t(h!=null),t(p!=null),t(2147483648>x),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=y,h.Jd=p,h.Yc=y+x,h.Zc=4<=x?y+x-4+1:y,ue(h)}function Y(h,p){for(var y=0;0<p--;)y|=_e(h,128)<<p;return y}function F(h,p){var y=Y(h,p);return ge(h)?-y:y}function B(h,p,y,x){var M,T=0;for(t(h!=null),t(p!=null),t(4294967288>x),h.Sb=x,h.Ra=0,h.u=0,h.h=0,4<x&&(x=4),M=0;M<x;++M)T+=p[y+M]<<8*M;h.Ra=T,h.bb=x,h.oa=p,h.pa=y}function $(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ua-8>>>0,++h.bb,h.u-=8;U(h)&&(h.h=1,h.u=0)}function re(h,p){if(t(0<=p),!h.h&&p<=go){var y=j(h)&ca[p];return h.u+=p,$(h),y}return h.h=1,h.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function S(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(h){return h.Ra>>>(h.u&ua-1)>>>0}function U(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ua}function ne(h,p){h.u=p,h.h=U(h)}function oe(h){h.u>=da&&(t(h.u>=da),$(h))}function ue(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ge(h){return Y(h,1)}function _e(h,p){var y=h.Ca;0>h.b&&ue(h);var x=h.b,M=y*p>>>8,T=(h.I>>>x>M)+0;for(T?(y-=M,h.I-=M+1<<x>>>0):y=M+1,x=y,M=0;256<=x;)M+=8,x>>=8;return x=7^M+di[x],h.b-=x,h.Ca=(y<<x)-1,T}function Re(h,p,y){h[p+0]=y>>24&255,h[p+1]=y>>16&255,h[p+2]=y>>8&255,h[p+3]=y>>0&255}function Fe(h,p){return h[p+0]<<0|h[p+1]<<8}function Ue(h,p){return Fe(h,p)|h[p+2]<<16}function qe(h,p){return Fe(h,p)|Fe(h,p+2)<<16}function it(h,p){var y=1<<p;return t(h!=null),t(0<p),h.X=s(y),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function Ae(h,p){t(h!=null),t(p!=null),t(h.Xa==p.Xa),i(p.X,0,h.X,0,1<<p.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function lt(h,p,y,x){t(y!=null),t(x!=null);var M=y[0],T=x[0];return M==0&&(M=(h*T+p/2)/p),T==0&&(T=(p*M+h/2)/h),0>=M||0>=T?0:(y[0]=M,x[0]=T,1)}function Qe(h,p){return h+(1<<p)-1>>>p}function je(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function He(h,p){q[p]=function(y,x,M,T,N,O,R){var W;for(W=0;W<N;++W){var de=q[h](O[R+W-1],M,T+W);O[R+W]=je(y[x+W],de)}}}function ke(){this.ud=this.hd=this.jd=0}function Ve(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function tt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function ht(h,p){return tt(h+(h-p+.5>>1))}function st(h,p,y){return Math.abs(p-y)-Math.abs(h-y)}function ct(h,p,y,x,M,T,N){for(x=T[N-1],y=0;y<M;++y)T[N+y]=x=je(h[p+y],x)}function Ut(h,p,y,x,M){var T;for(T=0;T<y;++T){var N=h[p+T],O=N>>8&255,R=16711935&(R=(R=16711935&N)+((O<<16)+O));x[M+T]=(4278255360&N)+R>>>0}}function sn(h,p){p.jd=h>>0&255,p.hd=h>>8&255,p.ud=h>>16&255}function dt(h,p,y,x,M,T){var N;for(N=0;N<x;++N){var O=p[y+N],R=O>>>8,W=O,de=255&(de=(de=O>>>16)+((h.jd<<24>>24)*(R<<24>>24)>>>5));W=255&(W=(W=W+((h.hd<<24>>24)*(R<<24>>24)>>>5))+((h.ud<<24>>24)*(de<<24>>24)>>>5)),M[T+N]=(4278255360&O)+(de<<16)+W}}function ft(h,p,y,x,M){q[p]=function(T,N,O,R,W,de,we,be,pe){for(R=we;R<be;++R)for(we=0;we<pe;++we)W[de++]=M(O[x(T[N++])])},q[h]=function(T,N,O,R,W,de,we){var be=8>>T.b,pe=T.Ea,Te=T.K[0],Ee=T.w;if(8>be)for(T=(1<<T.b)-1,Ee=(1<<be)-1;N<O;++N){var he,fe=0;for(he=0;he<pe;++he)he&T||(fe=x(R[W++])),de[we++]=M(Te[fe&Ee]),fe>>=be}else q["VP8LMapColor"+y](R,W,Te,Ee,de,we,N,O,pe)}}function Ge(h,p,y,x,M){for(y=p+y;p<y;){var T=h[p++];x[M++]=T>>16&255,x[M++]=T>>8&255,x[M++]=T>>0&255}}function si(h,p,y,x,M){for(y=p+y;p<y;){var T=h[p++];x[M++]=T>>16&255,x[M++]=T>>8&255,x[M++]=T>>0&255,x[M++]=T>>24&255}}function Yt(h,p,y,x,M){for(y=p+y;p<y;){var T=(N=h[p++])>>16&240|N>>12&15,N=N>>0&240|N>>28&15;x[M++]=T,x[M++]=N}}function Ri(h,p,y,x,M){for(y=p+y;p<y;){var T=(N=h[p++])>>16&248|N>>13&7,N=N>>5&224|N>>3&31;x[M++]=T,x[M++]=N}}function un(h,p,y,x,M){for(y=p+y;p<y;){var T=h[p++];x[M++]=T>>0&255,x[M++]=T>>8&255,x[M++]=T>>16&255}}function Cn(h,p,y,x,M,T){if(T==0)for(y=p+y;p<y;)Re(x,((T=h[p++])[0]>>24|T[1]>>8&65280|T[2]<<8&16711680|T[3]<<24)>>>0),M+=32;else i(x,M,h,p,y)}function Br(h,p){q[p][0]=q[h+"0"],q[p][1]=q[h+"1"],q[p][2]=q[h+"2"],q[p][3]=q[h+"3"],q[p][4]=q[h+"4"],q[p][5]=q[h+"5"],q[p][6]=q[h+"6"],q[p][7]=q[h+"7"],q[p][8]=q[h+"8"],q[p][9]=q[h+"9"],q[p][10]=q[h+"10"],q[p][11]=q[h+"11"],q[p][12]=q[h+"12"],q[p][13]=q[h+"13"],q[p][14]=q[h+"0"],q[p][15]=q[h+"0"]}function rn(h){return h==Dn||h==Wu||h==Dc||h==Gu}function ji(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ji,this.f.kb=new Tn,this.sd=null}function ss(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Kt(h,p){var y=h.T,x=p.ba.f.RGBA,M=x.eb,T=x.fb+h.ka*x.A,N=Gr[p.ba.S],O=h.y,R=h.O,W=h.f,de=h.N,we=h.ea,be=h.W,pe=p.cc,Te=p.dc,Ee=p.Mc,he=p.Nc,fe=h.ka,Ie=h.ka+h.T,Le=h.U,Me=Le+1>>1;for(fe==0?N(O,R,null,null,W,de,we,be,W,de,we,be,M,T,null,null,Le):(N(p.ec,p.fc,O,R,pe,Te,Ee,he,W,de,we,be,M,T-x.A,M,T,Le),++y);fe+2<Ie;fe+=2)pe=W,Te=de,Ee=we,he=be,de+=h.Rc,be+=h.Rc,T+=2*x.A,N(O,(R+=2*h.fa)-h.fa,O,R,pe,Te,Ee,he,W,de,we,be,M,T-x.A,M,T,Le);return R+=h.fa,h.j+Ie<h.o?(i(p.ec,p.fc,O,R,Le),i(p.cc,p.dc,W,de,Me),i(p.Mc,p.Nc,we,be,Me),y--):1&Ie||N(O,R,null,null,W,de,we,be,W,de,we,be,M,T+x.A,null,null,Le),y}function ao(h,p,y){var x=h.F,M=[h.J];if(x!=null){var T=h.U,N=p.ba.S,O=N==Sc||N==Dc;p=p.ba.f.RGBA;var R=[0],W=h.ka;R[0]=h.T,h.Kb&&(W==0?--R[0]:(--W,M[0]-=h.width),h.j+h.ka+h.T==h.o&&(R[0]=h.o-h.j-W));var de=p.eb;W=p.fb+W*p.A,h=gn(x,M[0],h.width,T,R,de,W+(O?0:3),p.A),t(y==R),h&&rn(N)&&nr(de,W,O,T,R,p.A)}return 0}function oi(h){var p=h.ma,y=p.ba.S,x=11>y,M=y==bl||y==Ec||y==Sc||y==sr||y==12||rn(y);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!fl(p.Oa,h,M?11:12))return 0;if(M&&rn(y)&&Oe(),h.da)alert("todo:use_scaling");else{if(x){if(p.Ib=At,h.Kb){if(y=h.U+1>>1,p.memory=s(h.U+2*y),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+y,p.Ib=Kt,Oe()}}else alert("todo:EmitYUV");M&&(p.Jb=ao,x&&me())}if(x&&!pw){for(h=0;256>h;++h)vS[h]=89858*(h-128)+Sh>>Eh,wS[h]=-22014*(h-128)+Sh,_S[h]=-45773*(h-128),yS[h]=113618*(h-128)+Sh>>Eh;for(h=Xu;h<Cm;++h)p=76283*(h-16)+Sh>>Eh,bS[h-Xu]=Ui(p,255),CS[h-Xu]=Ui(p+8>>4,15);pw=1}return 1}function Vr(h){var p=h.ma,y=h.U,x=h.T;return t(!(1&h.ka)),0>=y||0>=x?0:(y=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,y),p.Dc+=y,1)}function Hr(h){h.ma.memory=null}function pt(h,p,y,x){return re(h,8)!=47?0:(p[0]=re(h,14)+1,y[0]=re(h,14)+1,x[0]=re(h,1),re(h,3)!=0?0:!h.h)}function Bi(h,p){if(4>h)return h+1;var y=h-2>>1;return(2+(1&h)<<y)+re(p,y)+1}function Ur(h,p){return 120<p?p-120:1<=(y=((y=Ic[p-1])>>4)*h+(8-(15&y)))?y:1;var y}function Ei(h,p,y){var x=j(y),M=h[p+=255&x].g-8;return 0<M&&(ne(y,y.u+8),x=j(y),p+=h[p].value,p+=x&(1<<M)-1),ne(y,y.u+h[p].g),h[p].value}function qn(h,p,y){return y.g+=h.g,y.value+=h.value<<p>>>0,t(8>=y.g),h.g}function Bn(h,p,y){var x=h.xc;return t((p=x==0?0:h.vc[h.md*(y>>x)+(p>>x)])<h.Wb),h.Ya[p]}function Vi(h,p,y,x){var M=h.ab,T=h.c*p,N=h.C;p=N+p;var O=y,R=x;for(x=h.Ta,y=h.Ua;0<M--;){var W=h.gc[M],de=N,we=p,be=O,pe=R,Te=(R=x,O=y,W.Ea);switch(t(de<we),t(we<=W.nc),W.hc){case 2:wc(be,pe,(we-de)*Te,R,O);break;case 0:var Ee=de,he=we,fe=R,Ie=O,Le=($e=W).Ea;Ee==0&&(qu(be,pe,null,null,1,fe,Ie),ct(be,pe+1,0,0,Le-1,fe,Ie+1),pe+=Le,Ie+=Le,++Ee);for(var Me=1<<$e.b,Ke=Me-1,ze=Qe(Le,$e.b),gt=$e.K,$e=$e.w+(Ee>>$e.b)*ze;Ee<he;){var on=gt,dn=$e,Qt=1;for(gl(be,pe,fe,Ie-Le,1,fe,Ie);Qt<Le;){var $t=(Qt&~Ke)+Me;$t>Le&&($t=Le),(0,Rs[on[dn++]>>8&15])(be,pe+ +Qt,fe,Ie+Qt-Le,$t-Qt,fe,Ie+Qt),Qt=$t}pe+=Le,Ie+=Le,++Ee&Ke||($e+=ze)}we!=W.nc&&i(R,O-Te,R,O+(we-de-1)*Te,Te);break;case 1:for(Te=be,he=pe,Le=(be=W.Ea)-(Ie=be&~(fe=(pe=1<<W.b)-1)),Ee=Qe(be,W.b),Me=W.K,W=W.w+(de>>W.b)*Ee;de<we;){for(Ke=Me,ze=W,gt=new ke,$e=he+Ie,on=he+be;he<$e;)sn(Ke[ze++],gt),mo(gt,Te,he,pe,R,O),he+=pe,O+=pe;he<on&&(sn(Ke[ze++],gt),mo(gt,Te,he,Le,R,O),he+=Le,O+=Le),++de&fe||(W+=Ee)}break;case 3:if(be==R&&pe==O&&0<W.b){for(he=R,be=Te=O+(we-de)*Te-(Ie=(we-de)*Qe(W.Ea,W.b)),pe=R,fe=O,Ee=[],Ie=(Le=Ie)-1;0<=Ie;--Ie)Ee[Ie]=pe[fe+Ie];for(Ie=Le-1;0<=Ie;--Ie)he[be+Ie]=Ee[Ie];er(W,de,we,R,Te,R,O)}else er(W,de,we,be,pe,R,O)}O=x,R=y}R!=y&&i(x,y,O,R,T)}function Zt(h,p){var y=h.V,x=h.Ba+h.c*h.C,M=p-h.C;if(t(p<=h.l.o),t(16>=M),0<M){var T=h.l,N=h.Ta,O=h.Ua,R=T.width;if(Vi(h,M,y,x),M=O=[O],t((y=h.C)<(x=p)),t(T.v<T.va),x>T.o&&(x=T.o),y<T.j){var W=T.j-y;y=T.j,M[0]+=W*R}if(y>=x?y=0:(M[0]+=4*T.v,T.ka=y-T.j,T.U=T.va-T.v,T.T=x-y,y=1),y){if(O=O[0],11>(y=h.ca).S){var de=y.f.RGBA,we=(x=y.S,M=T.U,T=T.T,W=de.eb,de.A),be=T;for(de=de.fb+h.Ma*de.A;0<be--;){var pe=N,Te=O,Ee=M,he=W,fe=de;switch(x){case Ac:vi(pe,Te,Ee,he,fe);break;case bl:yi(pe,Te,Ee,he,fe);break;case Dn:yi(pe,Te,Ee,he,fe),nr(he,fe,0,Ee,1,0);break;case xh:hs(pe,Te,Ee,he,fe);break;case Ec:Cn(pe,Te,Ee,he,fe,1);break;case Wu:Cn(pe,Te,Ee,he,fe,1),nr(he,fe,0,Ee,1,0);break;case Sc:Cn(pe,Te,Ee,he,fe,0);break;case Dc:Cn(pe,Te,Ee,he,fe,0),nr(he,fe,1,Ee,1,0);break;case sr:js(pe,Te,Ee,he,fe);break;case Gu:js(pe,Te,Ee,he,fe),pn(he,fe,Ee,1,0);break;case Cl:ds(pe,Te,Ee,he,fe);break;default:t(0)}O+=R,de+=we}h.Ma+=T}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=y.height)}}h.C=p,t(h.C<=h.i)}function os(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var y=h.Ya[p].G,x=h.Ya[p].H;if(0<y[1][x[1]+0].g||0<y[2][x[2]+0].g||0<y[3][x[3]+0].g)return 0}return 1}function _r(h,p,y,x,M,T){if(h.Z!=0){var N=h.qd,O=h.rd;for(t(va[h.Z]!=null);p<y;++p)va[h.Z](N,O,x,M,x,M,T),N=x,O=M,M+=T;h.qd=N,h.rd=O}}function wr(h,p){var y=h.l.ma,x=y.Z==0||y.Z==1?h.l.j:h.C;if(x=h.C<x?x:h.C,t(p<=h.l.o),p>x){var M=h.l.width,T=y.ca,N=y.tb+M*x,O=h.V,R=h.Ba+h.c*x,W=h.gc;t(h.ab==1),t(W[0].hc==3),bc(W[0],x,p,O,R,T,N),_r(y,x,p,T,N,M)}h.C=h.Ma=p}function br(h,p,y,x,M,T,N){var O=h.$/x,R=h.$%x,W=h.m,de=h.s,we=y+h.$,be=we;M=y+x*M;var pe=y+x*T,Te=280+de.ua,Ee=h.Pb?O:16777216,he=0<de.ua?de.Wa:null,fe=de.wc,Ie=we<pe?Bn(de,R,O):null;t(h.C<T),t(pe<=M);var Le=!1;e:for(;;){for(;Le||we<pe;){var Me=0;if(O>=Ee){var Ke=we-y;t((Ee=h).Pb),Ee.wd=Ee.m,Ee.xd=Ke,0<Ee.s.ua&&Ae(Ee.s.Wa,Ee.s.vb),Ee=O+_}if(R&fe||(Ie=Bn(de,R,O)),t(Ie!=null),Ie.Qb&&(p[we]=Ie.qb,Le=!0),!Le)if(oe(W),Ie.jc){Me=W,Ke=p;var ze=we,gt=Ie.pd[j(Me)&Qn-1];t(Ie.jc),256>gt.g?(ne(Me,Me.u+gt.g),Ke[ze]=gt.value,Me=0):(ne(Me,Me.u+gt.g-256),t(256<=gt.value),Me=gt.value),Me==0&&(Le=!0)}else Me=Ei(Ie.G[0],Ie.H[0],W);if(W.h)break;if(Le||256>Me){if(!Le)if(Ie.nd)p[we]=(Ie.qb|Me<<8)>>>0;else{if(oe(W),Le=Ei(Ie.G[1],Ie.H[1],W),oe(W),Ke=Ei(Ie.G[2],Ie.H[2],W),ze=Ei(Ie.G[3],Ie.H[3],W),W.h)break;p[we]=(ze<<24|Le<<16|Me<<8|Ke)>>>0}if(Le=!1,++we,++R>=x&&(R=0,++O,N!=null&&O<=T&&!(O%16)&&N(h,O),he!=null))for(;be<we;)Me=p[be++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me}else if(280>Me){if(Me=Bi(Me-256,W),Ke=Ei(Ie.G[4],Ie.H[4],W),oe(W),Ke=Ur(x,Ke=Bi(Ke,W)),W.h)break;if(we-y<Ke||M-we<Me)break e;for(ze=0;ze<Me;++ze)p[we+ze]=p[we+ze-Ke];for(we+=Me,R+=Me;R>=x;)R-=x,++O,N!=null&&O<=T&&!(O%16)&&N(h,O);if(t(we<=M),R&fe&&(Ie=Bn(de,R,O)),he!=null)for(;be<we;)Me=p[be++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me}else{if(!(Me<Te))break e;for(Le=Me-280,t(he!=null);be<we;)Me=p[be++],he.X[(506832829*Me&4294967295)>>>he.Mb]=Me;Me=we,t(!(Le>>>(Ke=he).Xa)),p[Me]=Ke.X[Le],Le=!0}Le||t(W.h==U(W))}if(h.Pb&&W.h&&we<M)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ae(h.s.vb,h.s.Wa);else{if(W.h)break e;N?.(h,O>T?T:O),h.a=0,h.$=we-y}return 1}return h.a=3,0}function zr(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,t(h!=null)}function Ki(){var h=new ia;return h==null?null:(h.a=0,h.xb=lw,Br("Predictor","VP8LPredictors"),Br("Predictor","VP8LPredictors_C"),Br("PredictorAdd","VP8LPredictorsAdd"),Br("PredictorAdd","VP8LPredictorsAdd_C"),wc=Ut,mo=dt,vi=Ge,yi=si,js=Yt,ds=Ri,hs=un,q.VP8LMapColor32b=us,q.VP8LMapColor8b=Cc,h)}function Zi(h,p,y,x,M){var T=1,N=[h],O=[p],R=x.m,W=x.s,de=null,we=0;e:for(;;){if(y)for(;T&&re(R,1);){var be=N,pe=O,Te=x,Ee=1,he=Te.m,fe=Te.gc[Te.ab],Ie=re(he,2);if(Te.Oc&1<<Ie)T=0;else{switch(Te.Oc|=1<<Ie,fe.hc=Ie,fe.Ea=be[0],fe.nc=pe[0],fe.K=[null],++Te.ab,t(4>=Te.ab),Ie){case 0:case 1:fe.b=re(he,3)+2,Ee=Zi(Qe(fe.Ea,fe.b),Qe(fe.nc,fe.b),0,Te,fe.K),fe.K=fe.K[0];break;case 3:var Le,Me=re(he,8)+1,Ke=16<Me?0:4<Me?1:2<Me?2:3;if(be[0]=Qe(fe.Ea,Ke),fe.b=Ke,Le=Ee=Zi(Me,1,0,Te,fe.K)){var ze,gt=Me,$e=fe,on=1<<(8>>$e.b),dn=s(on);if(dn==null)Le=0;else{var Qt=$e.K[0],$t=$e.w;for(dn[0]=$e.K[0][0],ze=1;ze<1*gt;++ze)dn[ze]=je(Qt[$t+ze],dn[ze-1]);for(;ze<4*on;++ze)dn[ze]=0;$e.K[0]=null,$e.K[0]=dn,Le=1}}Ee=Le;break;case 2:break;default:t(0)}T=Ee}}if(N=N[0],O=O[0],T&&re(R,1)&&!(T=1<=(we=re(R,4))&&11>=we)){x.a=3;break e}var yn;if(yn=T)t:{var mn,Lt,Jn,or=x,ei=N,ar=O,hn=we,Dr=y,Ir=or.m,hi=or.s,wi=[null],$i=1,Yr=0,Vs=m[hn];n:for(;;){if(Dr&&re(Ir,1)){var fi=re(Ir,3)+2,xo=Qe(ei,fi),xl=Qe(ar,fi),Mc=xo*xl;if(!Zi(xo,xl,0,or,wi))break n;for(wi=wi[0],hi.xc=fi,mn=0;mn<Mc;++mn){var ya=wi[mn]>>8&65535;wi[mn]=ya,ya>=$i&&($i=ya+1)}}if(Ir.h)break n;for(Lt=0;5>Lt;++Lt){var Vn=Ah[Lt];!Lt&&0<hn&&(Vn+=1<<hn),Yr<Vn&&(Yr=Vn)}var xm=o($i*Vs,L),vw=$i,yw=o(vw,Q);if(yw==null)var Ih=null;else t(65536>=vw),Ih=yw;var Ku=s(Yr);if(Ih==null||Ku==null||xm==null){or.a=1;break n}var Mh=xm;for(mn=Jn=0;mn<$i;++mn){var ms=Ih[mn],Tc=ms.G,Nc=ms.H,_w=0,Th=1,ww=0;for(Lt=0;5>Lt;++Lt){Vn=Ah[Lt],Tc[Lt]=Mh,Nc[Lt]=Jn,!Lt&&0<hn&&(Vn+=1<<hn);r:{var Nh,Am=Vn,Ph=or,Zu=Ku,ES=Mh,SS=Jn,Em=0,_a=Ph.m,DS=re(_a,1);if(r(Zu,0,0,Am),DS){var IS=re(_a,1)+1,MS=re(_a,1),bw=re(_a,MS==0?1:8);Zu[bw]=1,IS==2&&(Zu[bw=re(_a,8)]=1);var kh=1}else{var Cw=s(19),xw=re(_a,4)+4;if(19<xw){Ph.a=3;var Lh=0;break r}for(Nh=0;Nh<xw;++Nh)Cw[bm[Nh]]=re(_a,3);var Sm=void 0,Qu=void 0,Aw=Ph,TS=Cw,Oh=Am,Ew=Zu,Dm=0,wa=Aw.m,Sw=8,Dw=o(128,L);i:for(;k(Dw,0,7,TS,19);){if(re(wa,1)){var NS=2+2*re(wa,3);if((Sm=2+re(wa,NS))>Oh)break i}else Sm=Oh;for(Qu=0;Qu<Oh&&Sm--;){oe(wa);var Iw=Dw[0+(127&j(wa))];ne(wa,wa.u+Iw.g);var Pc=Iw.value;if(16>Pc)Ew[Qu++]=Pc,Pc!=0&&(Sw=Pc);else{var PS=Pc==16,Mw=Pc-16,kS=_m[Mw],Tw=re(wa,ym[Mw])+kS;if(Qu+Tw>Oh)break i;for(var LS=PS?Sw:0;0<Tw--;)Ew[Qu++]=LS}}Dm=1;break i}Dm||(Aw.a=3),kh=Dm}(kh=kh&&!_a.h)&&(Em=k(ES,SS,8,Zu,Am)),kh&&Em!=0?Lh=Em:(Ph.a=3,Lh=0)}if(Lh==0)break n;if(Th&&wm[Lt]==1&&(Th=Mh[Jn].g==0),_w+=Mh[Jn].g,Jn+=Lh,3>=Lt){var Ju,Im=Ku[0];for(Ju=1;Ju<Vn;++Ju)Ku[Ju]>Im&&(Im=Ku[Ju]);ww+=Im}}if(ms.nd=Th,ms.Qb=0,Th&&(ms.qb=(Tc[3][Nc[3]+0].value<<24|Tc[1][Nc[1]+0].value<<16|Tc[2][Nc[2]+0].value)>>>0,_w==0&&256>Tc[0][Nc[0]+0].value&&(ms.Qb=1,ms.qb+=Tc[0][Nc[0]+0].value<<8)),ms.jc=!ms.Qb&&6>ww,ms.jc){var Fh,Ao=ms;for(Fh=0;Fh<Qn;++Fh){var ba=Fh,Ca=Ao.pd[ba],Rh=Ao.G[0][Ao.H[0]+ba];256<=Rh.value?(Ca.g=Rh.g+256,Ca.value=Rh.value):(Ca.g=0,Ca.value=0,ba>>=qn(Rh,8,Ca),ba>>=qn(Ao.G[1][Ao.H[1]+ba],16,Ca),ba>>=qn(Ao.G[2][Ao.H[2]+ba],0,Ca),qn(Ao.G[3][Ao.H[3]+ba],24,Ca))}}}hi.vc=wi,hi.Wb=$i,hi.Ya=Ih,hi.yc=xm,yn=1;break t}yn=0}if(!(T=yn)){x.a=3;break e}if(0<we){if(W.ua=1<<we,!it(W.Wa,we)){x.a=1,T=0;break e}}else W.ua=0;var Mm=x,Nw=N,OS=O,Tm=Mm.s,Nm=Tm.xc;if(Mm.c=Nw,Mm.i=OS,Tm.md=Qe(Nw,Nm),Tm.wc=Nm==0?-1:(1<<Nm)-1,y){x.xb=hS;break e}if((de=s(N*O))==null){x.a=1,T=0;break e}T=(T=br(x,de,0,N,O,O,null))&&!R.h;break e}return T?(M!=null?M[0]=de:(t(de==null),t(y)),x.$=0,y||zr(W)):zr(W),T}function Cr(h,p){var y=h.c*h.i,x=y+p+16*p;return t(h.c<=p),h.V=s(x),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+y+p,1)}function lo(h,p){var y=h.C,x=p-y,M=h.V,T=h.Ba+h.c*y;for(t(p<=h.l.o);0<x;){var N=16<x?16:x,O=h.l.ma,R=h.l.width,W=R*N,de=O.ca,we=O.tb+R*y,be=h.Ta,pe=h.Ua;Vi(h,N,M,T),Fn(be,pe,de,we,W),_r(O,y,y+N,de,we,R),x-=N,M+=N*h.c,y+=N}t(y==p),h.C=h.Ma=p}function as(){this.ub=this.yd=this.td=this.Rb=0}function fn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function rc(){this.Yb=function(){var h=[];return function p(y,x,M){for(var T=M[x],N=0;N<T&&(y.push(M.length>x+1?[]:0),!(M.length<x+1));N++)p(y[N],x+1,M)}(h,0,[3,11]),h}()}function Su(){this.jb=s(3),this.Wc=a([4,8],rc),this.Xc=a([4,17],rc)}function sc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Go(){this.ld=this.La=this.dd=this.tc=0}function oc(){this.Na=this.la=0}function Du(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Iu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Go),this.Y=0,this.ya=Array(new Yo),this.aa=0,this.l=new ks}function Qa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Mu(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new as,this.Kc=new fn,this.ed=new sc,this.Qa=new Wo,this.Ic=this.$c=this.Aa=0,this.D=new Iu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ye),this.ia=0,this.pb=o(4,Du),this.Pa=new Su,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qa),this.Hd=0,this.rb=Array(new oc),this.sb=0,this.wa=Array(new Go),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yo),this.L=this.aa=0,this.gd=a([4,2],Go),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ac(){var h=new Mu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,xe||(xe=lc)),h}function Pn(h,p,y){return h.a==0&&(h.a=p,h.sc=y,h.cb=0),0}function Ja(h,p,y){return 3<=y&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function el(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return Pn(h,2,"null VP8Io passed to VP8GetHeaders()");var y=p.data,x=p.w,M=p.ha;if(4>M)return Pn(h,7,"Truncated header.");var T=y[x+0]|y[x+1]<<8|y[x+2]<<16,N=h.Od;if(N.Rb=!(1&T),N.td=T>>1&7,N.yd=T>>4&1,N.ub=T>>5,3<N.td)return Pn(h,3,"Incorrect keyframe parameters.");if(!N.yd)return Pn(h,4,"Frame not displayable.");x+=3,M-=3;var O=h.Kc;if(N.Rb){if(7>M)return Pn(h,7,"cannot parse picture header");if(!Ja(y,x,M))return Pn(h,3,"Bad code word");O.c=16383&(y[x+4]<<8|y[x+3]),O.Td=y[x+4]>>6,O.i=16383&(y[x+6]<<8|y[x+5]),O.Ud=y[x+6]>>6,x+=7,M-=7,h.za=O.c+15>>4,h.Ub=O.i+15>>4,p.width=O.c,p.height=O.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,r((T=h.Pa).jb,0,255,T.jb.length),t((T=h.Qa)!=null),T.Cb=0,T.Bb=0,T.Fb=1,r(T.Zb,0,0,T.Zb.length),r(T.Lb,0,0,T.Lb)}if(N.ub>M)return Pn(h,7,"bad partition length");Ce(T=h.m,y,x,N.ub),x+=N.ub,M-=N.ub,N.Rb&&(O.Ld=ge(T),O.Kd=ge(T)),O=h.Qa;var R,W=h.Pa;if(t(T!=null),t(O!=null),O.Cb=ge(T),O.Cb){if(O.Bb=ge(T),ge(T)){for(O.Fb=ge(T),R=0;4>R;++R)O.Zb[R]=ge(T)?F(T,7):0;for(R=0;4>R;++R)O.Lb[R]=ge(T)?F(T,6):0}if(O.Bb)for(R=0;3>R;++R)W.jb[R]=ge(T)?Y(T,8):255}else O.Bb=0;if(T.Ka)return Pn(h,3,"cannot parse segment header");if((O=h.ed).zd=ge(T),O.Tb=Y(T,6),O.wb=Y(T,3),O.Pc=ge(T),O.Pc&&ge(T)){for(W=0;4>W;++W)ge(T)&&(O.vd[W]=F(T,6));for(W=0;4>W;++W)ge(T)&&(O.od[W]=F(T,6))}if(h.L=O.Tb==0?0:O.zd?1:2,T.Ka)return Pn(h,3,"cannot parse filter header");var de=M;if(M=R=x,x=R+de,O=de,h.Xb=(1<<Y(h.m,2))-1,de<3*(W=h.Xb))y=7;else{for(R+=3*W,O-=3*W,de=0;de<W;++de){var we=y[M+0]|y[M+1]<<8|y[M+2]<<16;we>O&&(we=O),Ce(h.Jc[+de],y,R,we),R+=we,O-=we,M+=3}Ce(h.Jc[+W],y,R,O),y=R<x?0:5}if(y!=0)return Pn(h,y,"cannot parse partitions");for(y=Y(R=h.m,7),M=ge(R)?F(R,4):0,x=ge(R)?F(R,4):0,O=ge(R)?F(R,4):0,W=ge(R)?F(R,4):0,R=ge(R)?F(R,4):0,de=h.Qa,we=0;4>we;++we){if(de.Cb){var be=de.Zb[we];de.Fb||(be+=y)}else{if(0<we){h.pb[we]=h.pb[0];continue}be=y}var pe=h.pb[we];pe.Sc[0]=E[Ui(be+M,127)],pe.Sc[1]=G[Ui(be+0,127)],pe.Eb[0]=2*E[Ui(be+x,127)],pe.Eb[1]=101581*G[Ui(be+O,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=E[Ui(be+W,117)],pe.Qc[1]=G[Ui(be+R,127)],pe.lc=be+R}if(!N.Rb)return Pn(h,4,"Not a key frame.");for(ge(T),N=h.Pa,y=0;4>y;++y){for(M=0;8>M;++M)for(x=0;3>x;++x)for(O=0;11>O;++O)W=_e(T,Yu[y][M][x][O])?Y(T,8):In[y][M][x][O],N.Wc[y][M].Yb[x][O]=W;for(M=0;17>M;++M)N.Xc[y][M]=N.Wc[y][dS[M]]}return h.kc=ge(T),h.kc&&(h.Bd=Y(T,8)),h.cb=1}function lc(h,p,y,x,M,T,N){var O=p[M].Yb[y];for(y=0;16>M;++M){if(!_e(h,O[y+0]))return M;for(;!_e(h,O[y+1]);)if(O=p[++M].Yb[0],y=0,M==16)return 16;var R=p[M+1].Yb;if(_e(h,O[y+2])){var W=h,de=0;if(_e(W,(be=O)[(we=y)+3]))if(_e(W,be[we+6])){for(O=0,we=2*(de=_e(W,be[we+8]))+(be=_e(W,be[we+9+de])),de=0,be=We[we];be[O];++O)de+=de+_e(W,be[O]);de+=3+(8<<we)}else _e(W,be[we+7])?(de=7+2*_e(W,165),de+=_e(W,145)):de=5+_e(W,159);else de=_e(W,be[we+4])?3+_e(W,be[we+5]):2;O=R[2]}else de=1,O=R[1];R=N+kt[M],0>(W=h).b&&ue(W);var we,be=W.b,pe=(we=W.Ca>>1)-(W.I>>be)>>31;--W.b,W.Ca+=pe,W.Ca|=1,W.I-=(we+1&pe)<<be,T[R]=((de^pe)-pe)*x[(0<M)+0]}return 16}function tl(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,r(h.zc,0,0,h.zc.length),h.ja=0}function Xo(h,p){if(h==null)return 0;if(p==null)return Pn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!el(h,p))return 0;if(t(h.cb),p.ac==null||p.ac(p)){p.ob&&(h.L=0);var y=Dh[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=p.v-y>>4,h.zb=p.j-y>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=p.o+15+y>>4,h.Hb=p.va+15+y>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var x=h.ed;for(y=0;4>y;++y){var M;if(h.Qa.Cb){var T=h.Qa.Lb[y];h.Qa.Fb||(T+=x.Tb)}else T=x.Tb;for(M=0;1>=M;++M){var N=h.gd[y][M],O=T;if(x.Pc&&(O+=x.vd[0],M&&(O+=x.od[0])),0<(O=0>O?0:63<O?63:O)){var R=O;0<x.wb&&(R=4<x.wb?R>>2:R>>1)>9-x.wb&&(R=9-x.wb),1>R&&(R=1),N.dd=R,N.tc=2*O+R,N.ld=40<=O?2:15<=O?1:0}else N.tc=0;N.La=M}}}y=0}else Pn(h,6,"Frame setup failed"),y=h.a;if(y=y==0){if(y){h.$c=0,0<h.Aa||(h.Ic=AS);e:{y=h.Ic,x=4*(R=h.za);var W=32*R,de=R+1,we=0<h.L?R*(0<h.Aa?2:1):0,be=(h.Aa==2?2:1)*R;if((N=x+832+(M=3*(16*y+Dh[h.L])/2*W)+(T=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=N)y=0;else{if(N>h.Vb){if(h.Vb=0,h.Ec=s(N),h.Fc=0,h.Ec==null){y=Pn(h,1,"no memory during frame initialization.");break e}h.Vb=N}N=h.Ec,O=h.Fc,h.Ac=N,h.Bc=O,O+=x,h.Gd=o(W,Qa),h.Hd=0,h.rb=o(de+1,oc),h.sb=1,h.wa=we?o(we,Go):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=R),t(!0),h.oc=N,h.pc=O,O+=832,h.ya=o(be,Yo),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=R),h.R=16*R,h.B=8*R,R=(W=Dh[h.L])*h.R,W=W/2*h.B,h.sa=N,h.ta=O+R,h.qa=h.sa,h.ra=h.ta+16*y*h.R+W,h.Ha=h.qa,h.Ia=h.ra+8*y*h.B+W,h.$c=0,O+=M,h.mb=T?N:null,h.nb=T?O:null,t(O+T<=h.Fc+h.Vb),tl(h),r(h.Ac,h.Bc,0,x),y=1}}if(y){if(p.ka=0,p.y=h.sa,p.O=h.ta,p.f=h.qa,p.N=h.ra,p.ea=h.Ha,p.Vd=h.Ia,p.fa=h.R,p.Rc=h.B,p.F=null,p.J=0,!wl){for(y=-255;255>=y;++y)$n[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)ps[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)_l[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)ir[255+y]=0>y?0:255<y?255:y;wl=1}vo=hc,Wr=Tu,ml=uc,_i=Nu,zi=dc,On=cc,Bs=ea,xc=Ji,vl=zu,yo=al,ha=Uu,_o=ta,fa=ll,pa=yc,wo=vc,fs=Ar,yl=Hi,tr=Hu,gs[0]=qr,gs[1]=fc,gs[2]=Ou,gs[3]=Fu,gs[4]=cs,gs[5]=uo,gs[6]=gc,gs[7]=Qo,gs[8]=ju,gs[9]=Ru,ma[0]=Zo,ma[1]=ku,ma[2]=Di,ma[3]=co,ma[4]=ai,ma[5]=Lu,ma[6]=pc,Co[0]=Ls,Co[1]=Pu,Co[2]=Bu,Co[3]=rl,Co[4]=Qi,Co[5]=Vu,Co[6]=sl,y=1}else y=0}y&&(y=function(pe,Te){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ee,he=pe.Jc[pe.M&pe.Xb],fe=pe.m,Ie=pe;for(Ee=0;Ee<Ie.za;++Ee){var Le=fe,Me=Ie,Ke=Me.Ac,ze=Me.Bc+4*Ee,gt=Me.zc,$e=Me.ya[Me.aa+Ee];if(Me.Qa.Bb?$e.$b=_e(Le,Me.Pa.jb[0])?2+_e(Le,Me.Pa.jb[2]):_e(Le,Me.Pa.jb[1]):$e.$b=0,Me.kc&&($e.Ad=_e(Le,Me.Bd)),$e.Za=!_e(Le,145)+0,$e.Za){var on=$e.Ob,dn=0;for(Me=0;4>Me;++Me){var Qt,$t=gt[0+Me];for(Qt=0;4>Qt;++Qt){$t=ga[Ke[ze+Qt]][$t];for(var yn=qt[_e(Le,$t[0])];0<yn;)yn=qt[2*yn+_e(Le,$t[yn])];$t=-yn,Ke[ze+Qt]=$t}i(on,dn,Ke,ze,4),dn+=4,gt[0+Me]=$t}}else $t=_e(Le,156)?_e(Le,128)?1:3:_e(Le,163)?2:0,$e.Ob[0]=$t,r(Ke,ze,$t,4),r(gt,0,$t,4);$e.Dd=_e(Le,142)?_e(Le,114)?_e(Le,183)?1:3:2:0}if(Ie.m.Ka)return Pn(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Ie=he,Le=(fe=pe).rb[fe.sb-1],Ke=fe.rb[fe.sb+fe.ja],Ee=fe.ya[fe.aa+fe.ja],ze=fe.kc?Ee.Ad:0)Le.la=Ke.la=0,Ee.Za||(Le.Na=Ke.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var mn,Lt;if(Le=Ke,Ke=Ie,ze=fe.Pa.Xc,gt=fe.ya[fe.aa+fe.ja],$e=fe.pb[gt.$b],Me=gt.ad,on=0,dn=fe.rb[fe.sb-1],$t=Qt=0,r(Me,on,0,384),gt.Za)var Jn=0,or=ze[3];else{yn=s(16);var ei=Le.Na+dn.Na;if(ei=xe(Ke,ze[1],ei,$e.Eb,0,yn,0),Le.Na=dn.Na=(0<ei)+0,1<ei)vo(yn,0,Me,on);else{var ar=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Me[on+yn]=ar}Jn=1,or=ze[0]}var hn=15&Le.la,Dr=15&dn.la;for(yn=0;4>yn;++yn){var Ir=1&Dr;for(ar=Lt=0;4>ar;++ar)hn=hn>>1|(Ir=(ei=xe(Ke,or,ei=Ir+(1&hn),$e.Sc,Jn,Me,on))>Jn)<<7,Lt=Lt<<2|(3<ei?3:1<ei?2:Me[on+0]!=0),on+=16;hn>>=4,Dr=Dr>>1|Ir<<7,Qt=(Qt<<8|Lt)>>>0}for(or=hn,Jn=Dr>>4,mn=0;4>mn;mn+=2){for(Lt=0,hn=Le.la>>4+mn,Dr=dn.la>>4+mn,yn=0;2>yn;++yn){for(Ir=1&Dr,ar=0;2>ar;++ar)ei=Ir+(1&hn),hn=hn>>1|(Ir=0<(ei=xe(Ke,ze[2],ei,$e.Qc,0,Me,on)))<<3,Lt=Lt<<2|(3<ei?3:1<ei?2:Me[on+0]!=0),on+=16;hn>>=2,Dr=Dr>>1|Ir<<5}$t|=Lt<<4*mn,or|=hn<<4<<mn,Jn|=(240&Dr)<<mn}Le.la=or,dn.la=Jn,gt.Hc=Qt,gt.Gc=$t,gt.ia=43690&$t?0:$e.ia,ze=!(Qt|$t)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Ee.$b][Ee.Za],fe.wa[fe.Y+fe.ja].La|=!ze),Ie.Ka)return Pn(pe,7,"Premature end-of-file encountered.")}if(tl(pe),fe=Te,Ie=1,Ee=(he=pe).D,Le=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ee.M=he.M,Ee.uc=Le,oa(he,Ee),Ie=1,Ee=(Lt=he.D).Nb,Le=($t=Dh[he.L])*he.R,Ke=$t/2*he.B,yn=16*Ee*he.R,ar=8*Ee*he.B,ze=he.sa,gt=he.ta-Le+yn,$e=he.qa,Me=he.ra-Ke+ar,on=he.Ha,dn=he.Ia-Ke+ar,Dr=(hn=Lt.M)==0,Qt=hn>=he.Va-1,he.Aa==2&&oa(he,Lt),Lt.uc)for(Ir=(ei=he).D.M,t(ei.D.uc),Lt=ei.yb;Lt<ei.Hb;++Lt){Jn=Lt,or=Ir;var hi=(wi=(Vn=ei).D).Nb;mn=Vn.R;var wi=wi.wa[wi.Y+Jn],$i=Vn.sa,Yr=Vn.ta+16*hi*mn+16*Jn,Vs=wi.dd,fi=wi.tc;if(fi!=0)if(t(3<=fi),Vn.L==1)0<Jn&&fs($i,Yr,mn,fi+4),wi.La&&tr($i,Yr,mn,fi),0<or&&wo($i,Yr,mn,fi+4),wi.La&&yl($i,Yr,mn,fi);else{var xo=Vn.B,xl=Vn.qa,Mc=Vn.ra+8*hi*xo+8*Jn,ya=Vn.Ha,Vn=Vn.Ia+8*hi*xo+8*Jn;hi=wi.ld,0<Jn&&(xc($i,Yr,mn,fi+4,Vs,hi),yo(xl,Mc,ya,Vn,xo,fi+4,Vs,hi)),wi.La&&(_o($i,Yr,mn,fi,Vs,hi),pa(xl,Mc,ya,Vn,xo,fi,Vs,hi)),0<or&&(Bs($i,Yr,mn,fi+4,Vs,hi),vl(xl,Mc,ya,Vn,xo,fi+4,Vs,hi)),wi.La&&(ha($i,Yr,mn,fi,Vs,hi),fa(xl,Mc,ya,Vn,xo,fi,Vs,hi))}}if(he.ia&&alert("todo:DitherRow"),fe.put!=null){if(Lt=16*hn,hn=16*(hn+1),Dr?(fe.y=he.sa,fe.O=he.ta+yn,fe.f=he.qa,fe.N=he.ra+ar,fe.ea=he.Ha,fe.W=he.Ia+ar):(Lt-=$t,fe.y=ze,fe.O=gt,fe.f=$e,fe.N=Me,fe.ea=on,fe.W=dn),Qt||(hn-=$t),hn>fe.o&&(hn=fe.o),fe.F=null,fe.J=null,he.Fa!=null&&0<he.Fa.length&&Lt<hn&&(fe.J=ra(he,fe,Lt,hn-Lt),fe.F=he.mb,fe.F==null&&fe.F.length==0)){Ie=Pn(he,3,"Could not decode alpha data.");break e}Lt<fe.j&&($t=fe.j-Lt,Lt=fe.j,t(!(1&$t)),fe.O+=he.R*$t,fe.N+=he.B*($t>>1),fe.W+=he.B*($t>>1),fe.F!=null&&(fe.J+=fe.width*$t)),Lt<hn&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Lt-fe.j,fe.U=fe.va-fe.v,fe.T=hn-Lt,Ie=fe.put(fe))}Ee+1!=he.Ic||Qt||(i(he.sa,he.ta-Le,ze,gt+16*he.R,Le),i(he.qa,he.ra-Ke,$e,Me+8*he.B,Ke),i(he.Ha,he.Ia-Ke,on,dn+8*he.B,Ke))}if(!Ie)return Pn(pe,6,"Output aborted.")}return 1}(h,p)),p.bc!=null&&p.bc(p),y&=1}return y?(h.cb=0,y):0}function Si(h,p,y,x,M){M=h[p+y+32*x]+(M>>3),h[p+y+32*x]=-256&M?0>M?0:255:M}function ls(h,p,y,x,M,T){Si(h,p,0,y,x+M),Si(h,p,1,y,x+T),Si(h,p,2,y,x-T),Si(h,p,3,y,x-M)}function mi(h){return(20091*h>>16)+h}function nl(h,p,y,x){var M,T=0,N=s(16);for(M=0;4>M;++M){var O=h[p+0]+h[p+8],R=h[p+0]-h[p+8],W=(35468*h[p+4]>>16)-mi(h[p+12]),de=mi(h[p+4])+(35468*h[p+12]>>16);N[T+0]=O+de,N[T+1]=R+W,N[T+2]=R-W,N[T+3]=O-de,T+=4,p++}for(M=T=0;4>M;++M)O=(h=N[T+0]+4)+N[T+8],R=h-N[T+8],W=(35468*N[T+4]>>16)-mi(N[T+12]),Si(y,x,0,0,O+(de=mi(N[T+4])+(35468*N[T+12]>>16))),Si(y,x,1,0,R+W),Si(y,x,2,0,R-W),Si(y,x,3,0,O-de),T++,x+=32}function cc(h,p,y,x){var M=h[p+0]+4,T=35468*h[p+4]>>16,N=mi(h[p+4]),O=35468*h[p+1]>>16;ls(y,x,0,M+N,h=mi(h[p+1]),O),ls(y,x,1,M+T,h,O),ls(y,x,2,M-T,h,O),ls(y,x,3,M-N,h,O)}function Tu(h,p,y,x,M){nl(h,p,y,x),M&&nl(h,p+16,y,x+4)}function uc(h,p,y,x){Wr(h,p+0,y,x,1),Wr(h,p+32,y,x+128,1)}function Nu(h,p,y,x){var M;for(h=h[p+0]+4,M=0;4>M;++M)for(p=0;4>p;++p)Si(y,x,p,M,h)}function dc(h,p,y,x){h[p+0]&&_i(h,p+0,y,x),h[p+16]&&_i(h,p+16,y,x+4),h[p+32]&&_i(h,p+32,y,x+128),h[p+48]&&_i(h,p+48,y,x+128+4)}function hc(h,p,y,x){var M,T=s(16);for(M=0;4>M;++M){var N=h[p+0+M]+h[p+12+M],O=h[p+4+M]+h[p+8+M],R=h[p+4+M]-h[p+8+M],W=h[p+0+M]-h[p+12+M];T[0+M]=N+O,T[8+M]=N-O,T[4+M]=W+R,T[12+M]=W-R}for(M=0;4>M;++M)N=(h=T[0+4*M]+3)+T[3+4*M],O=T[1+4*M]+T[2+4*M],R=T[1+4*M]-T[2+4*M],W=h-T[3+4*M],y[x+0]=N+O>>3,y[x+16]=W+R>>3,y[x+32]=N-O>>3,y[x+48]=W-R>>3,x+=64}function il(h,p,y){var x,M=p-32,T=qi,N=255-h[M-1];for(x=0;x<y;++x){var O,R=T,W=N+h[p-1];for(O=0;O<y;++O)h[p+O]=R[W+h[M+O]];p+=32}}function fc(h,p){il(h,p,4)}function Pu(h,p){il(h,p,8)}function ku(h,p){il(h,p,16)}function Di(h,p){var y;for(y=0;16>y;++y)i(h,p+32*y,h,p-32,16)}function co(h,p){var y;for(y=16;0<y;--y)r(h,p,h[p-1],16),p+=32}function Ko(h,p,y){var x;for(x=0;16>x;++x)r(p,y+32*x,h,16)}function Zo(h,p){var y,x=16;for(y=0;16>y;++y)x+=h[p-1+32*y]+h[p+y-32];Ko(x>>5,h,p)}function ai(h,p){var y,x=8;for(y=0;16>y;++y)x+=h[p-1+32*y];Ko(x>>4,h,p)}function Lu(h,p){var y,x=8;for(y=0;16>y;++y)x+=h[p+y-32];Ko(x>>4,h,p)}function pc(h,p){Ko(128,h,p)}function Ct(h,p,y){return h+2*p+y+2>>2}function Ou(h,p){var y,x=p-32;for(x=new Uint8Array([Ct(h[x-1],h[x+0],h[x+1]),Ct(h[x+0],h[x+1],h[x+2]),Ct(h[x+1],h[x+2],h[x+3]),Ct(h[x+2],h[x+3],h[x+4])]),y=0;4>y;++y)i(h,p+32*y,x,0,x.length)}function Fu(h,p){var y=h[p-1],x=h[p-1+32],M=h[p-1+64],T=h[p-1+96];Re(h,p+0,16843009*Ct(h[p-1-32],y,x)),Re(h,p+32,16843009*Ct(y,x,M)),Re(h,p+64,16843009*Ct(x,M,T)),Re(h,p+96,16843009*Ct(M,T,T))}function qr(h,p){var y,x=4;for(y=0;4>y;++y)x+=h[p+y-32]+h[p-1+32*y];for(x>>=3,y=0;4>y;++y)r(h,p+32*y,x,4)}function cs(h,p){var y=h[p-1+0],x=h[p-1+32],M=h[p-1+64],T=h[p-1-32],N=h[p+0-32],O=h[p+1-32],R=h[p+2-32],W=h[p+3-32];h[p+0+96]=Ct(x,M,h[p-1+96]),h[p+1+96]=h[p+0+64]=Ct(y,x,M),h[p+2+96]=h[p+1+64]=h[p+0+32]=Ct(T,y,x),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=Ct(N,T,y),h[p+3+64]=h[p+2+32]=h[p+1+0]=Ct(O,N,T),h[p+3+32]=h[p+2+0]=Ct(R,O,N),h[p+3+0]=Ct(W,R,O)}function gc(h,p){var y=h[p+1-32],x=h[p+2-32],M=h[p+3-32],T=h[p+4-32],N=h[p+5-32],O=h[p+6-32],R=h[p+7-32];h[p+0+0]=Ct(h[p+0-32],y,x),h[p+1+0]=h[p+0+32]=Ct(y,x,M),h[p+2+0]=h[p+1+32]=h[p+0+64]=Ct(x,M,T),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=Ct(M,T,N),h[p+3+32]=h[p+2+64]=h[p+1+96]=Ct(T,N,O),h[p+3+64]=h[p+2+96]=Ct(N,O,R),h[p+3+96]=Ct(O,R,R)}function uo(h,p){var y=h[p-1+0],x=h[p-1+32],M=h[p-1+64],T=h[p-1-32],N=h[p+0-32],O=h[p+1-32],R=h[p+2-32],W=h[p+3-32];h[p+0+0]=h[p+1+64]=T+N+1>>1,h[p+1+0]=h[p+2+64]=N+O+1>>1,h[p+2+0]=h[p+3+64]=O+R+1>>1,h[p+3+0]=R+W+1>>1,h[p+0+96]=Ct(M,x,y),h[p+0+64]=Ct(x,y,T),h[p+0+32]=h[p+1+96]=Ct(y,T,N),h[p+1+32]=h[p+2+96]=Ct(T,N,O),h[p+2+32]=h[p+3+96]=Ct(N,O,R),h[p+3+32]=Ct(O,R,W)}function Qo(h,p){var y=h[p+0-32],x=h[p+1-32],M=h[p+2-32],T=h[p+3-32],N=h[p+4-32],O=h[p+5-32],R=h[p+6-32],W=h[p+7-32];h[p+0+0]=y+x+1>>1,h[p+1+0]=h[p+0+64]=x+M+1>>1,h[p+2+0]=h[p+1+64]=M+T+1>>1,h[p+3+0]=h[p+2+64]=T+N+1>>1,h[p+0+32]=Ct(y,x,M),h[p+1+32]=h[p+0+96]=Ct(x,M,T),h[p+2+32]=h[p+1+96]=Ct(M,T,N),h[p+3+32]=h[p+2+96]=Ct(T,N,O),h[p+3+64]=Ct(N,O,R),h[p+3+96]=Ct(O,R,W)}function Ru(h,p){var y=h[p-1+0],x=h[p-1+32],M=h[p-1+64],T=h[p-1+96];h[p+0+0]=y+x+1>>1,h[p+2+0]=h[p+0+32]=x+M+1>>1,h[p+2+32]=h[p+0+64]=M+T+1>>1,h[p+1+0]=Ct(y,x,M),h[p+3+0]=h[p+1+32]=Ct(x,M,T),h[p+3+32]=h[p+1+64]=Ct(M,T,T),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=T}function ju(h,p){var y=h[p-1+0],x=h[p-1+32],M=h[p-1+64],T=h[p-1+96],N=h[p-1-32],O=h[p+0-32],R=h[p+1-32],W=h[p+2-32];h[p+0+0]=h[p+2+32]=y+N+1>>1,h[p+0+32]=h[p+2+64]=x+y+1>>1,h[p+0+64]=h[p+2+96]=M+x+1>>1,h[p+0+96]=T+M+1>>1,h[p+3+0]=Ct(O,R,W),h[p+2+0]=Ct(N,O,R),h[p+1+0]=h[p+3+32]=Ct(y,N,O),h[p+1+32]=h[p+3+64]=Ct(x,y,N),h[p+1+64]=h[p+3+96]=Ct(M,x,y),h[p+1+96]=Ct(T,M,x)}function Bu(h,p){var y;for(y=0;8>y;++y)i(h,p+32*y,h,p-32,8)}function rl(h,p){var y;for(y=0;8>y;++y)r(h,p,h[p-1],8),p+=32}function ho(h,p,y){var x;for(x=0;8>x;++x)r(p,y+32*x,h,8)}function Ls(h,p){var y,x=8;for(y=0;8>y;++y)x+=h[p+y-32]+h[p-1+32*y];ho(x>>4,h,p)}function Vu(h,p){var y,x=4;for(y=0;8>y;++y)x+=h[p+y-32];ho(x>>3,h,p)}function Qi(h,p){var y,x=4;for(y=0;8>y;++y)x+=h[p-1+32*y];ho(x>>3,h,p)}function sl(h,p){ho(128,h,p)}function Jo(h,p,y){var x=h[p-y],M=h[p+0],T=3*(M-x)+$u[1020+h[p-2*y]-h[p+y]],N=bo[112+(T+4>>3)];h[p-y]=qi[255+x+bo[112+(T+3>>3)]],h[p+0]=qi[255+M-N]}function ol(h,p,y,x){var M=h[p+0],T=h[p+y];return rr[255+h[p-2*y]-h[p-y]]>x||rr[255+T-M]>x}function mc(h,p,y,x){return 4*rr[255+h[p-y]-h[p+0]]+rr[255+h[p-2*y]-h[p+y]]<=x}function xr(h,p,y,x,M){var T=h[p-3*y],N=h[p-2*y],O=h[p-y],R=h[p+0],W=h[p+y],de=h[p+2*y],we=h[p+3*y];return 4*rr[255+O-R]+rr[255+N-W]>x?0:rr[255+h[p-4*y]-T]<=M&&rr[255+T-N]<=M&&rr[255+N-O]<=M&&rr[255+we-de]<=M&&rr[255+de-W]<=M&&rr[255+W-R]<=M}function vc(h,p,y,x){var M=2*x+1;for(x=0;16>x;++x)mc(h,p+x,y,M)&&Jo(h,p+x,y)}function Ar(h,p,y,x){var M=2*x+1;for(x=0;16>x;++x)mc(h,p+x*y,1,M)&&Jo(h,p+x*y,1)}function Hi(h,p,y,x){var M;for(M=3;0<M;--M)vc(h,p+=4*y,y,x)}function Hu(h,p,y,x){var M;for(M=3;0<M;--M)Ar(h,p+=4,y,x)}function Os(h,p,y,x,M,T,N,O){for(T=2*T+1;0<M--;){if(xr(h,p,y,T,N))if(ol(h,p,y,O))Jo(h,p,y);else{var R=h,W=p,de=y,we=R[W-2*de],be=R[W-de],pe=R[W+0],Te=R[W+de],Ee=R[W+2*de],he=27*(Ie=$u[1020+3*(pe-be)+$u[1020+we-Te]])+63>>7,fe=18*Ie+63>>7,Ie=9*Ie+63>>7;R[W-3*de]=qi[255+R[W-3*de]+Ie],R[W-2*de]=qi[255+we+fe],R[W-de]=qi[255+be+he],R[W+0]=qi[255+pe-he],R[W+de]=qi[255+Te-fe],R[W+2*de]=qi[255+Ee-Ie]}p+=x}}function Er(h,p,y,x,M,T,N,O){for(T=2*T+1;0<M--;){if(xr(h,p,y,T,N))if(ol(h,p,y,O))Jo(h,p,y);else{var R=h,W=p,de=y,we=R[W-de],be=R[W+0],pe=R[W+de],Te=bo[112+((Ee=3*(be-we))+4>>3)],Ee=bo[112+(Ee+3>>3)],he=Te+1>>1;R[W-2*de]=qi[255+R[W-2*de]+he],R[W-de]=qi[255+we+Ee],R[W+0]=qi[255+be-Te],R[W+de]=qi[255+pe-he]}p+=x}}function ea(h,p,y,x,M,T){Os(h,p,y,1,16,x,M,T)}function Ji(h,p,y,x,M,T){Os(h,p,1,y,16,x,M,T)}function Uu(h,p,y,x,M,T){var N;for(N=3;0<N;--N)Er(h,p+=4*y,y,1,16,x,M,T)}function ta(h,p,y,x,M,T){var N;for(N=3;0<N;--N)Er(h,p+=4,1,y,16,x,M,T)}function zu(h,p,y,x,M,T,N,O){Os(h,p,M,1,8,T,N,O),Os(y,x,M,1,8,T,N,O)}function al(h,p,y,x,M,T,N,O){Os(h,p,1,M,8,T,N,O),Os(y,x,1,M,8,T,N,O)}function ll(h,p,y,x,M,T,N,O){Er(h,p+4*M,M,1,8,T,N,O),Er(y,x+4*M,M,1,8,T,N,O)}function yc(h,p,y,x,M,T,N,O){Er(h,p+4,1,M,8,T,N,O),Er(y,x+4,1,M,8,T,N,O)}function na(){this.ba=new yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function cl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ul(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _c(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new L}function ia(){this.xb=this.a=0,this.l=new ks,this.ca=new yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new S,this.Pb=0,this.wd=new S,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _c,this.ab=0,this.gc=o(4,ul),this.Oc=0}function fo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function po(h,p,y,x,M,T,N){for(h=h==null?0:h[p+0],p=0;p<N;++p)M[T+p]=h+y[x+p]&255,h=M[T+p]}function dl(h,p,y,x,M,T,N){var O;if(h==null)po(null,null,y,x,M,T,N);else for(O=0;O<N;++O)M[T+O]=h[p+O]+y[x+O]&255}function Fs(h,p,y,x,M,T,N){if(h==null)po(null,null,y,x,M,T,N);else{var O,R=h[p+0],W=R,de=R;for(O=0;O<N;++O)W=de+(R=h[p+O])-W,de=y[x+O]+(-256&W?0>W?0:255:W)&255,W=R,M[T+O]=de}}function ra(h,p,y,x){var M=p.width,T=p.o;if(t(h!=null&&p!=null),0>y||0>=x||y+x>T)return null;if(!h.Cc){if(h.ga==null){var N;if(h.ga=new fo,(N=h.ga==null)||(N=p.width*p.o,t(h.Gb.length==0),h.Gb=s(N),h.Uc=0,h.Gb==null?N=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,N=1),N=!N),!N){N=h.ga;var O=h.Fa,R=h.P,W=h.qc,de=h.mb,we=h.nb,be=R+1,pe=W-1,Te=N.l;if(t(O!=null&&de!=null&&p!=null),va[0]=null,va[1]=po,va[2]=dl,va[3]=Fs,N.ca=de,N.tb=we,N.c=p.width,N.i=p.height,t(0<N.c&&0<N.i),1>=W)p=0;else if(N.$a=O[R+0]>>0&3,N.Z=O[R+0]>>2&3,N.Lc=O[R+0]>>4&3,R=O[R+0]>>6&3,0>N.$a||1<N.$a||4<=N.Z||1<N.Lc||R)p=0;else if(Te.put=Vr,Te.ac=oi,Te.bc=Hr,Te.ma=N,Te.width=p.width,Te.height=p.height,Te.Da=p.Da,Te.v=p.v,Te.va=p.va,Te.j=p.j,Te.o=p.o,N.$a)e:{t(N.$a==1),p=Ki();t:for(;;){if(p==null){p=0;break e}if(t(N!=null),N.mc=p,p.c=N.c,p.i=N.i,p.l=N.l,p.l.ma=N,p.l.width=N.c,p.l.height=N.i,p.a=0,B(p.m,O,be,pe),!Zi(N.c,N.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&os(p.s)?(N.ic=1,O=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(O),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(N.ic=0,p=Cr(p,N.c)),!p))break t;p=1;break e}N.mc=null,p=0}else p=pe>=N.c*N.i;N=!p}if(N)return null;h.ga.Lc!=1?h.Ga=0:x=T-y}t(h.ga!=null),t(y+x<=T);e:{if(p=(O=h.ga).c,T=O.l.o,O.$a==0){if(be=h.rc,pe=h.Vc,Te=h.Fa,R=h.P+1+y*p,W=h.mb,de=h.nb+y*p,t(R<=h.P+h.qc),O.Z!=0)for(t(va[O.Z]!=null),N=0;N<x;++N)va[O.Z](be,pe,Te,R,W,de,p),be=W,pe=de,de+=p,R+=p;else for(N=0;N<x;++N)i(W,de,Te,R,p),be=W,pe=de,de+=p,R+=p;h.rc=be,h.Vc=pe}else{if(t(O.mc!=null),p=y+x,t((N=O.mc)!=null),t(p<=N.i),N.C>=p)p=1;else if(O.ic||me(),O.ic){O=N.V,be=N.Ba,pe=N.c;var Ee=N.i,he=(Te=1,R=N.$/pe,W=N.$%pe,de=N.m,we=N.s,N.$),fe=pe*Ee,Ie=pe*p,Le=we.wc,Me=he<Ie?Bn(we,W,R):null;t(he<=fe),t(p<=Ee),t(os(we));t:for(;;){for(;!de.h&&he<Ie;){if(W&Le||(Me=Bn(we,W,R)),t(Me!=null),oe(de),256>(Ee=Ei(Me.G[0],Me.H[0],de)))O[be+he]=Ee,++he,++W>=pe&&(W=0,++R<=p&&!(R%16)&&wr(N,R));else{if(!(280>Ee)){Te=0;break t}Ee=Bi(Ee-256,de);var Ke,ze=Ei(Me.G[4],Me.H[4],de);if(oe(de),!(he>=(ze=Ur(pe,ze=Bi(ze,de)))&&fe-he>=Ee)){Te=0;break t}for(Ke=0;Ke<Ee;++Ke)O[be+he+Ke]=O[be+he+Ke-ze];for(he+=Ee,W+=Ee;W>=pe;)W-=pe,++R<=p&&!(R%16)&&wr(N,R);he<Ie&&W&Le&&(Me=Bn(we,W,R))}t(de.h==U(de))}wr(N,R>p?p:R);break t}!Te||de.h&&he<fe?(Te=0,N.a=de.h?5:3):N.$=he,p=Te}else p=br(N,N.V,N.Ba,N.c,N.i,p,lo);if(!p){x=0;break e}}y+x>=T&&(h.Cc=1),x=1}if(!x)return null;if(h.Cc&&((x=h.ga)!=null&&(x.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+y*M}function v(h,p,y,x,M,T){for(;0<M--;){var N,O=h,R=p+(y?1:0),W=h,de=p+(y?0:3);for(N=0;N<x;++N){var we=W[de+4*N];we!=255&&(we*=32897,O[R+4*N+0]=O[R+4*N+0]*we>>23,O[R+4*N+1]=O[R+4*N+1]*we>>23,O[R+4*N+2]=O[R+4*N+2]*we>>23)}p+=T}}function I(h,p,y,x,M){for(;0<x--;){var T;for(T=0;T<y;++T){var N=h[p+2*T+0],O=15&(W=h[p+2*T+1]),R=4369*O,W=(240&W|W>>4)*R>>16;h[p+2*T+0]=(240&N|N>>4)*R>>16&240|(15&N|N<<4)*R>>16>>4&15,h[p+2*T+1]=240&W|O}p+=M}}function K(h,p,y,x,M,T,N,O){var R,W,de=255;for(W=0;W<M;++W){for(R=0;R<x;++R){var we=h[p+R];T[N+4*R]=we,de&=we}p+=y,N+=O}return de!=255}function le(h,p,y,x,M){var T;for(T=0;T<M;++T)y[x+T]=h[p+T]>>8}function me(){nr=v,pn=I,gn=K,Fn=le}function Se(h,p,y){q[h]=function(x,M,T,N,O,R,W,de,we,be,pe,Te,Ee,he,fe,Ie,Le){var Me,Ke=Le-1>>1,ze=O[R+0]|W[de+0]<<16,gt=we[be+0]|pe[Te+0]<<16;t(x!=null);var $e=3*ze+gt+131074>>2;for(p(x[M+0],255&$e,$e>>16,Ee,he),T!=null&&($e=3*gt+ze+131074>>2,p(T[N+0],255&$e,$e>>16,fe,Ie)),Me=1;Me<=Ke;++Me){var on=O[R+Me]|W[de+Me]<<16,dn=we[be+Me]|pe[Te+Me]<<16,Qt=ze+on+gt+dn+524296,$t=Qt+2*(on+gt)>>3;$e=$t+ze>>1,ze=(Qt=Qt+2*(ze+dn)>>3)+on>>1,p(x[M+2*Me-1],255&$e,$e>>16,Ee,he+(2*Me-1)*y),p(x[M+2*Me-0],255&ze,ze>>16,Ee,he+(2*Me-0)*y),T!=null&&($e=Qt+gt>>1,ze=$t+dn>>1,p(T[N+2*Me-1],255&$e,$e>>16,fe,Ie+(2*Me-1)*y),p(T[N+2*Me+0],255&ze,ze>>16,fe,Ie+(2*Me+0)*y)),ze=on,gt=dn}1&Le||($e=3*ze+gt+131074>>2,p(x[M+Le-1],255&$e,$e>>16,Ee,he+(Le-1)*y),T!=null&&($e=3*gt+ze+131074>>2,p(T[N+Le-1],255&$e,$e>>16,fe,Ie+(Le-1)*y)))}}function Oe(){Gr[Ac]=fS,Gr[bl]=cw,Gr[xh]=pS,Gr[Ec]=uw,Gr[Sc]=dw,Gr[sr]=hw,Gr[Cl]=gS,Gr[Dn]=cw,Gr[Wu]=uw,Gr[Dc]=dw,Gr[Gu]=hw}function Ye(h){return h&~mS?0>h?0:255:h>>fw}function at(h,p){return Ye((19077*h>>8)+(26149*p>>8)-14234)}function Et(h,p,y){return Ye((19077*h>>8)-(6419*p>>8)-(13320*y>>8)+8708)}function xt(h,p){return Ye((19077*h>>8)+(33050*p>>8)-17685)}function zt(h,p,y,x,M){x[M+0]=at(h,y),x[M+1]=Et(h,p,y),x[M+2]=xt(h,p)}function xn(h,p,y,x,M){x[M+0]=xt(h,p),x[M+1]=Et(h,p,y),x[M+2]=at(h,y)}function En(h,p,y,x,M){var T=Et(h,p,y);p=T<<3&224|xt(h,p)>>3,x[M+0]=248&at(h,y)|T>>5,x[M+1]=p}function Ln(h,p,y,x,M){var T=240&xt(h,p)|15;x[M+0]=240&at(h,y)|Et(h,p,y)>>4,x[M+1]=T}function li(h,p,y,x,M){x[M+0]=255,zt(h,p,y,x,M+1)}function Sn(h,p,y,x,M){xn(h,p,y,x,M),x[M+3]=255}function Sr(h,p,y,x,M){zt(h,p,y,x,M),x[M+3]=255}function Ui(h,p){return 0>h?0:h>p?p:h}function $r(h,p,y){q[h]=function(x,M,T,N,O,R,W,de,we){for(var be=de+(-2&we)*y;de!=be;)p(x[M+0],T[N+0],O[R+0],W,de),p(x[M+1],T[N+0],O[R+0],W,de+y),M+=2,++N,++R,de+=2*y;1&we&&p(x[M+0],T[N+0],O[R+0],W,de)}}function hl(h,p,y){return y==0?h==0?p==0?6:5:p==0?4:0:y}function sa(h,p,y,x,M){switch(h>>>30){case 3:Wr(p,y,x,M,0);break;case 2:On(p,y,x,M);break;case 1:_i(p,y,x,M)}}function oa(h,p){var y,x,M=p.M,T=p.Nb,N=h.oc,O=h.pc+40,R=h.oc,W=h.pc+584,de=h.oc,we=h.pc+600;for(y=0;16>y;++y)N[O+32*y-1]=129;for(y=0;8>y;++y)R[W+32*y-1]=129,de[we+32*y-1]=129;for(0<M?N[O-1-32]=R[W-1-32]=de[we-1-32]=129:(r(N,O-32-1,127,21),r(R,W-32-1,127,9),r(de,we-32-1,127,9)),x=0;x<h.za;++x){var be=p.ya[p.aa+x];if(0<x){for(y=-1;16>y;++y)i(N,O+32*y-4,N,O+32*y+12,4);for(y=-1;8>y;++y)i(R,W+32*y-4,R,W+32*y+4,4),i(de,we+32*y-4,de,we+32*y+4,4)}var pe=h.Gd,Te=h.Hd+x,Ee=be.ad,he=be.Hc;if(0<M&&(i(N,O-32,pe[Te].y,0,16),i(R,W-32,pe[Te].f,0,8),i(de,we-32,pe[Te].ea,0,8)),be.Za){var fe=N,Ie=O-32+16;for(0<M&&(x>=h.za-1?r(fe,Ie,pe[Te].y[15],4):i(fe,Ie,pe[Te+1].y,0,4)),y=0;4>y;y++)fe[Ie+128+y]=fe[Ie+256+y]=fe[Ie+384+y]=fe[Ie+0+y];for(y=0;16>y;++y,he<<=2)fe=N,Ie=O+gw[y],gs[be.Ob[y]](fe,Ie),sa(he,Ee,16*+y,fe,Ie)}else if(fe=hl(x,M,be.Ob[0]),ma[fe](N,O),he!=0)for(y=0;16>y;++y,he<<=2)sa(he,Ee,16*+y,N,O+gw[y]);for(y=be.Gc,fe=hl(x,M,be.Dd),Co[fe](R,W),Co[fe](de,we),he=Ee,fe=R,Ie=W,255&(be=y>>0)&&(170&be?ml(he,256,fe,Ie):zi(he,256,fe,Ie)),be=de,he=we,255&(y>>=8)&&(170&y?ml(Ee,320,be,he):zi(Ee,320,be,he)),M<h.Ub-1&&(i(pe[Te].y,0,N,O+480,16),i(pe[Te].f,0,R,W+224,8),i(pe[Te].ea,0,de,we+224,8)),y=8*T*h.B,pe=h.sa,Te=h.ta+16*x+16*T*h.R,Ee=h.qa,be=h.ra+8*x+y,he=h.Ha,fe=h.Ia+8*x+y,y=0;16>y;++y)i(pe,Te+y*h.R,N,O+32*y,16);for(y=0;8>y;++y)i(Ee,be+y*h.B,R,W+32*y,8),i(he,fe+y*h.B,de,we+32*y,8)}}function aa(h,p,y,x,M,T,N,O,R){var W=[0],de=[0],we=0,be=R!=null?R.kd:0,pe=R??new cl;if(h==null||12>y)return 7;pe.data=h,pe.w=p,pe.ha=y,p=[p],y=[y],pe.gb=[pe.gb];e:{var Te=p,Ee=y,he=pe.gb;if(t(h!=null),t(Ee!=null),t(he!=null),he[0]=0,12<=Ee[0]&&!e(h,Te[0],"RIFF")){if(e(h,Te[0]+8,"WEBP")){he=3;break e}var fe=qe(h,Te[0]+4);if(12>fe||4294967286<fe){he=3;break e}if(be&&fe>Ee[0]-8){he=7;break e}he[0]=fe,Te[0]+=12,Ee[0]-=12}he=0}if(he!=0)return he;for(fe=0<pe.gb[0],y=y[0];;){e:{var Ie=h;Ee=p,he=y;var Le=W,Me=de,Ke=Te=[0];if(($e=we=[we])[0]=0,8>he[0])he=7;else{if(!e(Ie,Ee[0],"VP8X")){if(qe(Ie,Ee[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var ze=qe(Ie,Ee[0]+8),gt=1+Ue(Ie,Ee[0]+12);if(2147483648<=gt*(Ie=1+Ue(Ie,Ee[0]+15))){he=3;break e}Ke!=null&&(Ke[0]=ze),Le!=null&&(Le[0]=gt),Me!=null&&(Me[0]=Ie),Ee[0]+=18,he[0]-=18,$e[0]=1}he=0}}if(we=we[0],Te=Te[0],he!=0)return he;if(Ee=!!(2&Te),!fe&&we)return 3;if(T!=null&&(T[0]=!!(16&Te)),N!=null&&(N[0]=Ee),O!=null&&(O[0]=0),N=W[0],Te=de[0],we&&Ee&&R==null){he=0;break}if(4>y){he=7;break}if(fe&&we||!fe&&!we&&!e(h,p[0],"ALPH")){y=[y],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{ze=h,he=p,fe=y;var $e=pe.gb;Le=pe.na,Me=pe.P,Ke=pe.Sa,gt=22,t(ze!=null),t(fe!=null),Ie=he[0];var on=fe[0];for(t(Le!=null),t(Ke!=null),Le[0]=null,Me[0]=null,Ke[0]=0;;){if(he[0]=Ie,fe[0]=on,8>on){he=7;break e}var dn=qe(ze,Ie+4);if(4294967286<dn){he=3;break e}var Qt=8+dn+1&-2;if(gt+=Qt,0<$e&&gt>$e){he=3;break e}if(!e(ze,Ie,"VP8 ")||!e(ze,Ie,"VP8L")){he=0;break e}if(on[0]<Qt){he=7;break e}e(ze,Ie,"ALPH")||(Le[0]=ze,Me[0]=Ie+8,Ke[0]=dn),Ie+=Qt,on-=Qt}}if(y=y[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],he!=0)break}y=[y],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if($e=h,he=p,fe=y,Le=pe.gb[0],Me=pe.Ja,Ke=pe.xa,ze=he[0],Ie=!e($e,ze,"VP8 "),gt=!e($e,ze,"VP8L"),t($e!=null),t(fe!=null),t(Me!=null),t(Ke!=null),8>fe[0])he=7;else{if(Ie||gt){if($e=qe($e,ze+4),12<=Le&&$e>Le-12){he=3;break e}if(be&&$e>fe[0]-8){he=7;break e}Me[0]=$e,he[0]+=8,fe[0]-=8,Ke[0]=gt}else Ke[0]=5<=fe[0]&&$e[ze+0]==47&&!($e[ze+4]>>5),Me[0]=fe[0];he=0}if(y=y[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],p=p[0],he!=0)break;if(4294967286<pe.Ja)return 3;if(O==null||Ee||(O[0]=pe.xa?2:1),N=[N],Te=[Te],pe.xa){if(5>y){he=7;break}O=N,be=Te,Ee=T,h==null||5>y?h=0:5<=y&&h[p+0]==47&&!(h[p+4]>>5)?(fe=[0],$e=[0],Le=[0],B(Me=new S,h,p,y),pt(Me,fe,$e,Le)?(O!=null&&(O[0]=fe[0]),be!=null&&(be[0]=$e[0]),Ee!=null&&(Ee[0]=Le[0]),h=1):h=0):h=0}else{if(10>y){he=7;break}O=Te,h==null||10>y||!Ja(h,p+3,y-3)?h=0:(be=h[p+0]|h[p+1]<<8|h[p+2]<<16,Ee=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=pe.Ja||!Ee||!h?h=0:(N&&(N[0]=Ee),O&&(O[0]=h),h=1))}if(!h||(N=N[0],Te=Te[0],we&&(W[0]!=N||de[0]!=Te)))return 3;R!=null&&(R[0]=pe,R.offset=p-R.w,t(4294967286>p-R.w),t(R.offset==R.ha-y));break}return he==0||he==7&&we&&R==null?(T!=null&&(T[0]|=pe.na!=null&&0<pe.na.length),x!=null&&(x[0]=N),M!=null&&(M[0]=Te),0):he}function fl(h,p,y){var x=p.width,M=p.height,T=0,N=0,O=x,R=M;if(p.Da=h!=null&&0<h.Da,p.Da&&(O=h.cd,R=h.bd,T=h.v,N=h.j,11>y||(T&=-2,N&=-2),0>T||0>N||0>=O||0>=R||T+O>x||N+R>M))return 0;if(p.v=T,p.j=N,p.va=T+O,p.o=N+R,p.U=O,p.T=R,p.da=h!=null&&0<h.da,p.da){if(!lt(O,R,y=[h.ib],T=[h.hb]))return 0;p.ib=y[0],p.hb=T[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*x/4&&p.hb<3*M/4,p.Kb=0),1}function pl(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function la(h,p,y,x){if(x==null||0>=h||0>=p)return 2;if(y!=null){if(y.Da){var M=y.cd,T=y.bd,N=-2&y.v,O=-2&y.j;if(0>N||0>O||0>=M||0>=T||N+M>h||O+T>p)return 2;h=M,p=T}if(y.da){if(!lt(h,p,M=[y.ib],T=[y.hb]))return 2;h=M[0],p=T[0]}}x.width=h,x.height=p;e:{var R=x.width,W=x.height;if(h=x.S,0>=R||0>=W||!(h>=Ac&&13>h))h=2;else{if(0>=x.Rd&&x.sd==null){N=T=M=p=0;var de=(O=R*mw[h])*W;if(11>h||(T=(W+1)/2*(p=(R+1)/2),h==12&&(N=(M=R)*W)),(W=s(de+2*T+N))==null){h=1;break e}x.sd=W,11>h?((R=x.f.RGBA).eb=W,R.fb=0,R.A=O,R.size=de):((R=x.f.kb).y=W,R.O=0,R.fa=O,R.Fd=de,R.f=W,R.N=0+de,R.Ab=p,R.Cd=T,R.ea=W,R.W=0+de+T,R.Db=p,R.Ed=T,h==12&&(R.F=W,R.J=0+de+2*T),R.Tc=N,R.lb=M)}if(p=1,M=x.S,T=x.width,N=x.height,M>=Ac&&13>M)if(11>M)h=x.f.RGBA,p&=(O=Math.abs(h.A))*(N-1)+T<=h.size,p&=O>=T*mw[M],p&=h.eb!=null;else{h=x.f.kb,O=(T+1)/2,de=(N+1)/2,R=Math.abs(h.fa),W=Math.abs(h.Ab);var we=Math.abs(h.Db),be=Math.abs(h.lb),pe=be*(N-1)+T;p&=R*(N-1)+T<=h.Fd,p&=W*(de-1)+O<=h.Cd,p=(p&=we*(de-1)+O<=h.Ed)&R>=T&W>=O&we>=O,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,M==12&&(p&=be>=T,p&=pe<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||y!=null&&y.fd&&(h=pl(x)),h}var Qn=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],go=24,ua=32,da=8,di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(h){return h},q.Predictor2=function(h,p,y){return p[y+0]},q.Predictor3=function(h,p,y){return p[y+1]},q.Predictor4=function(h,p,y){return p[y-1]},q.Predictor5=function(h,p,y){return Ve(Ve(h,p[y+1]),p[y+0])},q.Predictor6=function(h,p,y){return Ve(h,p[y-1])},q.Predictor7=function(h,p,y){return Ve(h,p[y+0])},q.Predictor8=function(h,p,y){return Ve(p[y-1],p[y+0])},q.Predictor9=function(h,p,y){return Ve(p[y+0],p[y+1])},q.Predictor10=function(h,p,y){return Ve(Ve(h,p[y-1]),Ve(p[y+0],p[y+1]))},q.Predictor11=function(h,p,y){var x=p[y+0];return 0>=st(x>>24&255,h>>24&255,(p=p[y-1])>>24&255)+st(x>>16&255,h>>16&255,p>>16&255)+st(x>>8&255,h>>8&255,p>>8&255)+st(255&x,255&h,255&p)?x:h},q.Predictor12=function(h,p,y){var x=p[y+0];return(tt((h>>24&255)+(x>>24&255)-((p=p[y-1])>>24&255))<<24|tt((h>>16&255)+(x>>16&255)-(p>>16&255))<<16|tt((h>>8&255)+(x>>8&255)-(p>>8&255))<<8|tt((255&h)+(255&x)-(255&p)))>>>0},q.Predictor13=function(h,p,y){var x=p[y-1];return(ht((h=Ve(h,p[y+0]))>>24&255,x>>24&255)<<24|ht(h>>16&255,x>>16&255)<<16|ht(h>>8&255,x>>8&255)<<8|ht(h>>0&255,x>>0&255))>>>0};var qu=q.PredictorAdd0;q.PredictorAdd1=ct,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var gl=q.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var wc,er=q.ColorIndexInverseTransform,us=q.MapARGB,bc=q.VP8LColorIndexInverseTransformAlpha,Cc=q.MapAlpha,Rs=q.VP8LPredictorsAdd=[];Rs.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var mo,vi,yi,js,ds,hs,vo,Wr,On,ml,_i,zi,Bs,xc,vl,yo,ha,_o,fa,pa,wo,fs,yl,tr,nr,pn,gn,Fn,$n=s(511),ps=s(2041),_l=s(225),ir=s(767),wl=0,$u=ps,bo=_l,qi=ir,rr=$n,Ac=0,bl=1,xh=2,Ec=3,Sc=4,sr=5,Cl=6,Dn=7,Wu=8,Dc=9,Gu=10,ym=[2,3,7],_m=[3,3,11],Ah=[280,256,256,256,40],wm=[0,1,1,1,0],bm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ic=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],m=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_=8,E=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],G=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xe=null,We=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qt=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],In=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ga=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ma=[],gs=[],Co=[],hS=1,lw=2,va=[],Gr=[];Se("UpsampleRgbLinePair",zt,3),Se("UpsampleBgrLinePair",xn,3),Se("UpsampleRgbaLinePair",Sr,4),Se("UpsampleBgraLinePair",Sn,4),Se("UpsampleArgbLinePair",li,4),Se("UpsampleRgba4444LinePair",Ln,2),Se("UpsampleRgb565LinePair",En,2);var fS=q.UpsampleRgbLinePair,pS=q.UpsampleBgrLinePair,cw=q.UpsampleRgbaLinePair,uw=q.UpsampleBgraLinePair,dw=q.UpsampleArgbLinePair,hw=q.UpsampleRgba4444LinePair,gS=q.UpsampleRgb565LinePair,Eh=16,Sh=1<<Eh-1,Xu=-227,Cm=482,fw=6,mS=(256<<fw)-1,pw=0,vS=s(256),yS=s(256),_S=s(256),wS=s(256),bS=s(Cm-Xu),CS=s(Cm-Xu);$r("YuvToRgbRow",zt,3),$r("YuvToBgrRow",xn,3),$r("YuvToRgbaRow",Sr,4),$r("YuvToBgraRow",Sn,4),$r("YuvToArgbRow",li,4),$r("YuvToRgba4444Row",Ln,2),$r("YuvToRgb565Row",En,2);var gw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dh=[0,2,8],xS=[8,7,6,4,4,2,2,2,1,1,1,1],AS=1;this.WebPDecodeRGBA=function(h,p,y,x,M){var T=bl,N=new na,O=new yr;N.ba=O,O.S=T,O.width=[O.width],O.height=[O.height];var R=O.width,W=O.height,de=new ss;if(de==null||h==null)var we=2;else t(de!=null),we=aa(h,p,y,de.width,de.height,de.Pd,de.Qd,de.format,null);if(we!=0?R=0:(R!=null&&(R[0]=de.width[0]),W!=null&&(W[0]=de.height[0]),R=1),R){O.width=O.width[0],O.height=O.height[0],x!=null&&(x[0]=O.width),M!=null&&(M[0]=O.height);e:{if(x=new ks,(M=new cl).data=h,M.w=p,M.ha=y,M.kd=1,p=[0],t(M!=null),((h=aa(M.data,M.w,M.ha,null,null,null,p,null,M))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(t(N!=null),x.data=M.data,x.w=M.w+M.offset,x.ha=M.ha-M.offset,x.put=Vr,x.ac=oi,x.bc=Hr,x.ma=N,M.xa){if((h=Ki())==null){N=1;break e}if(function(be,pe){var Te=[0],Ee=[0],he=[0];t:for(;;){if(be==null)return 0;if(pe==null)return be.a=2,0;if(be.l=pe,be.a=0,B(be.m,pe.data,pe.w,pe.ha),!pt(be.m,Te,Ee,he)){be.a=3;break t}if(be.xb=lw,pe.width=Te[0],pe.height=Ee[0],!Zi(Te[0],Ee[0],1,be,null))break t;return 1}return t(be.a!=0),0}(h,x)){if(x=(p=la(x.width,x.height,N.Oa,N.ba))==0){t:{x=h;n:for(;;){if(x==null){x=0;break t}if(t(x.s.yc!=null),t(x.s.Ya!=null),t(0<x.s.Wb),t((y=x.l)!=null),t((M=y.ma)!=null),x.xb!=0){if(x.ca=M.ba,x.tb=M.tb,t(x.ca!=null),!fl(M.Oa,y,Ec)){x.a=2;break n}if(!Cr(x,y.width)||y.da)break n;if((y.da||rn(x.ca.S))&&me(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&me()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!it(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!br(x,x.V,x.Ba,x.c,x.i,y.o,Zt))break n;M.Dc=x.Ma,x=1;break t}t(x.a!=0),x=0}x=!x}x&&(p=h.a)}else p=h.a}else{if((h=new ac)==null){N=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,el(h,x)){if((p=la(x.width,x.height,N.Oa,N.ba))==0){if(h.Aa=0,y=N.Oa,t((M=h)!=null),y!=null){if(0<(R=0>(R=y.Md)?0:100<R?255:255*R/100)){for(W=de=0;4>W;++W)12>(we=M.pb[W]).lc&&(we.ia=R*xS[0>we.lc?0:we.lc]>>3),de|=we.ia;de&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=y.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}Xo(h,x)||(p=h.a)}}else p=h.a}p==0&&N.Oa!=null&&N.Oa.fd&&(p=pl(N.ba))}N=p}T=N!=0?null:11>T?O.f.RGBA.eb:O.f.kb.y}else T=null;return T};var mw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(q,se){for(var ve="",k=0;k<4;k++)ve+=String.fromCharCode(q[se++]);return ve}function u(q,se){return(q[se+0]<<0|q[se+1]<<8|q[se+2]<<16)>>>0}function d(q,se){return(q[se+0]<<0|q[se+1]<<8|q[se+2]<<16|q[se+3]<<24)>>>0}new l;var g=[0],f=[0],w=[],b=new l,A=n,C=function(q,se){var ve={},k=0,L=!1,te=0,Q=0;if(ve.frames=[],!function(j,U,ne,oe){for(var ue=0;ue<oe;ue++)if(j[U+ue]!=ne.charCodeAt(ue))return!0;return!1}(q,se,"RIFF",4)){var Ce,Y;for(d(q,se+=4),se+=8;se<q.length;){var F=c(q,se),B=d(q,se+=4);se+=4;var $=B+(1&B);switch(F){case"VP8 ":case"VP8L":ve.frames[k]===void 0&&(ve.frames[k]={}),(S=ve.frames[k]).src_off=L?Q:se-8,S.src_size=te+B+8,k++,L&&(L=!1,te=0,Q=0);break;case"VP8X":(S=ve.header={}).feature_flags=q[se];var re=se+4;S.canvas_width=1+u(q,re),re+=3,S.canvas_height=1+u(q,re),re+=3;break;case"ALPH":L=!0,te=$+8,Q=se-8;break;case"ANIM":(S=ve.header).bgcolor=d(q,se),re=se+4,S.loop_count=(Ce=q)[(Y=re)+0]<<0|Ce[Y+1]<<8,re+=2;break;case"ANMF":var ye,S;(S=ve.frames[k]={}).offset_x=2*u(q,se),se+=3,S.offset_y=2*u(q,se),se+=3,S.width=1+u(q,se),se+=3,S.height=1+u(q,se),se+=3,S.duration=u(q,se),se+=3,ye=q[se++],S.dispose=1&ye,S.blend=ye>>1&1}F!="ANMF"&&(se+=$)}return ve}}(A,0);C.response=A,C.rgbaoutput=!0,C.dataurl=!1;var D=C.header?C.header:null,P=C.frames?C.frames:null;if(D){D.loop_counter=D.loop_count,g=[D.canvas_height],f=[D.canvas_width];for(var z=0;z<P.length&&P[z].blend!=0;z++);}var Z=P[0],ae=b.WebPDecodeRGBA(A,Z.src_off,Z.src_size,f,g);Z.rgba=ae,Z.imgwidth=f[0],Z.imgheight=g[0];for(var X=0;X<f[0]*g[0]*4;X++)w[X]=ae[X];return this.width=f,this.height=g,this.data=w,this}(function(n){var t=function(){return typeof Vg=="function"},e=function(g,f,w,b){var A=4,C=o;switch(b){case n.image_compression.FAST:A=1,C=s;break;case n.image_compression.MEDIUM:A=6,C=a;break;case n.image_compression.SLOW:A=9,C=l}g=i(g,f,w,C);var D=Vg(g,{level:A});return n.__addimage__.arrayBufferToBinaryString(D)},i=function(g,f,w,b){for(var A,C,D,P=g.length/f,z=new Uint8Array(g.length+P),Z=u(),ae=0;ae<P;ae+=1){if(D=ae*f,A=g.subarray(D,D+f),b)z.set(b(A,w,C),D+ae);else{for(var X,q=Z.length,se=[];X<q;X+=1)se[X]=Z[X](A,w,C);var ve=d(se.concat());z.set(se[ve],D+ae)}C=A}return z},r=function(g){var f=Array.apply([],g);return f.unshift(0),f},s=function(g,f){var w,b=[],A=g.length;b[0]=1;for(var C=0;C<A;C+=1)w=g[C-f]||0,b[C+1]=g[C]-w+256&255;return b},o=function(g,f,w){var b,A=[],C=g.length;A[0]=2;for(var D=0;D<C;D+=1)b=w&&w[D]||0,A[D+1]=g[D]-b+256&255;return A},a=function(g,f,w){var b,A,C=[],D=g.length;C[0]=3;for(var P=0;P<D;P+=1)b=g[P-f]||0,A=w&&w[P]||0,C[P+1]=g[P]+256-(b+A>>>1)&255;return C},l=function(g,f,w){var b,A,C,D,P=[],z=g.length;P[0]=4;for(var Z=0;Z<z;Z+=1)b=g[Z-f]||0,A=w&&w[Z]||0,C=w&&w[Z-f]||0,D=c(b,A,C),P[Z+1]=g[Z]-D+256&255;return P},c=function(g,f,w){if(g===f&&f===w)return g;var b=Math.abs(f-w),A=Math.abs(g-w),C=Math.abs(g+f-w-w);return b<=A&&b<=C?g:A<=C?f:w},u=function(){return[r,s,o,a,l]},d=function(g){var f=g.map(function(w){return w.reduce(function(b,A){return b+Math.abs(A)},0)});return f.indexOf(Math.min.apply(null,f))};n.processPNG=function(g,f,w,b){var A,C,D,P,z,Z,ae,X,q,se,ve,k,L,te,Q,Ce=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(D=new fO(g)).imgData,C=D.bits,A=D.colorSpace,z=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){q=(X=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,ve=new Uint8Array(q*D.colors),se=new Uint8Array(q);var F,B=D.pixelBitlength-D.bits;for(te=0,Q=0;te<q;te++){for(L=X[te],F=0;F<B;)ve[Q++]=L>>>F&255,F+=D.bits;se[te]=L>>>F&255}}if(D.bits===16){q=(X=new Uint32Array(D.decodePixels().buffer)).length,ve=new Uint8Array(q*(32/D.pixelBitlength)*D.colors),se=new Uint8Array(q*(32/D.pixelBitlength)),k=D.colors>1,te=0,Q=0;for(var $=0;te<q;)L=X[te++],ve[Q++]=L>>>0&255,k&&(ve[Q++]=L>>>16&255,L=X[te++],ve[Q++]=L>>>0&255),se[$++]=L>>>16&255;C=8}b!==n.image_compression.NONE&&t()?(g=e(ve,D.width*D.colors,D.colors,b),ae=e(se,D.width,1,b)):(g=ve,ae=se,Ce=void 0)}if(D.colorType===3&&(A=this.color_spaces.INDEXED,Z=D.palette,D.transparency.indexed)){var re=D.transparency.indexed,ye=0;for(te=0,q=re.length;te<q;++te)ye+=re[te];if((ye/=255)===q-1&&re.indexOf(0)!==-1)P=[re.indexOf(0)];else if(ye!==q){for(X=D.decodePixels(),se=new Uint8Array(X.length),te=0,q=X.length;te<q;te++)se[te]=re[X[te]];ae=e(se,D.width,1)}}var S=function(j){var U;switch(j){case n.image_compression.FAST:U=11;break;case n.image_compression.MEDIUM:U=13;break;case n.image_compression.SLOW:U=14;break;default:U=12}return U}(b);return Ce===this.decode.FLATE_DECODE&&(Y="/Predictor "+S+" "),Y+="/Colors "+z+" /BitsPerComponent "+C+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:w,data:g,index:f,filter:Ce,decodeParameters:Y,transparency:P,palette:Z,sMask:ae,predictor:S,width:D.width,height:D.height,bitsPerComponent:C,colorSpace:A}}}})(wt.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new pO(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new f_(100).encode(c,100);return n.processJPEG.call(this,u,e,i,r)},n.processGIF87A=n.processGIF89A}(wt.API),Ms.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ms.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){bn.log("bit decode error:"+e)}},Ms.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}e!==0&&(this.pos+=4-e)}},Ms.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ms.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Ms.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},Ms.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,c=(o>>11)/t*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Ms.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Ms.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},Ms.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,r){var s=new Ms(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new f_(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}}(wt.API),AA.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,r){var s=new AA(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new f_(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}}(wt.API),wt.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],d=i[c+1],g=i[c+2],f=i[c+3];s[a++]=u,s[a++]=d,s[a++]=g,o[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},wt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gu=wt.API,qg=gu.getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,g=0,f=n.length,w=0,b=a[0]||l,A=[];for(e=0;e<f;e++)i=n.charCodeAt(e),typeof r.metadata.widthOfString=="function"?A.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(g=d&&vn(c[i])==="object"&&!isNaN(parseInt(c[i][w],10))?c[i][w]/u:0,A.push((a[i]||b)/l+g)),w=i;return A},wA=gu.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return gu.processArabic&&(n=gu.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,r)/e:qg.apply(this,arguments).reduce(function(s,o){return s+o},0)},bA=function(n,t,e,i){for(var r=[],s=0,o=n.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;r.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(n.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(n.slice(l,s)),r},CA=function(n,t,e){e||(e={});var i,r,s,o,a,l,c,u=[],d=[u],g=e.textIndent||0,f=0,w=0,b=n.split(" "),A=qg.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?b[0].length+2:e.lineIndent||0){var C=Array(l).join(" "),D=[];b.map(function(z){(z=z.split(/\s*\n/)).length>1?D=D.concat(z.map(function(Z,ae){return(ae&&Z.length?`
`:"")+Z})):D.push(z[0])}),b=D,l=wA.apply(this,[C,e])}for(s=0,o=b.length;s<o;s++){var P=0;if(i=b[s],l&&i[0]==`
`&&(i=i.substr(1),P=1),g+f+(w=(r=qg.apply(this,[i,e])).reduce(function(z,Z){return z+Z},0))>t||P){if(w>t){for(a=bA.apply(this,[i,r,t-(g+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);w=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(z,Z){return z+Z},0)}else u=[i];d.push(u),g=w+l,f=A}else u.push(i),g+=f+w,f=A}return c=l?function(z,Z){return(Z?C:"")+z.join(" ")}:function(z){return z.join(" ")},d.map(c)},gu.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(CA.apply(this,[i[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var g,f,w,b,A=["{"];for(var C in d){if(g=d[C],isNaN(parseInt(C,10))?f="'"+C+"'":(C=parseInt(C,10),f=(f=s(C).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof g=="number")g<0?(w=s(g).slice(3),b="-"):(w=s(g).slice(2),b=""),w=b+w.slice(0,-1)+i[w.slice(-1)];else{if(vn(g)!=="object")throw new Error("Don't know what to do with value type "+vn(g)+".");w=o(g)}A.push(f+w)}return A.push("}"),A.join("")},a=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,f,w,b,A={},C=1,D=A,P=[],z="",Z="",ae=d.length-1,X=1;X<ae;X+=1)(b=d[X])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(P.push([D,w]),D={},w=void 0):b=="}"?((f=P.pop())[0][f[1]]=D,w=void 0,D=f[0]):b=="-"?C=-1:w===void 0?e.hasOwnProperty(b)?(z+=e[b],w=parseInt(z,16)*C,C=1,z=""):z+=b:e.hasOwnProperty(b)?(Z+=e[b],D[w]=parseInt(Z,16)*C,C=1,w=void 0,Z=""):Z+=b;return A},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var g=d.font,f=u.Unicode[g.postScriptName];f&&(g.metadata.Unicode={},g.metadata.Unicode.widths=f.widths,g.metadata.Unicode.kerning=f.kerning);var w=c.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])}(wt.API),function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(hh(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(wt),function(n){function t(){return(bt.canvg?Promise.resolve(bt.canvg):import("./chunk-4D6S3KPJ.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}wt.API.addSvgAsImage=function(e,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(w){return w.fromString(d,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(g)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),i,r,s,o,l,c)})}}(),wt.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},wt.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function g(w,b){var A,C=!1;for(A=0;A<w.length;A+=1)w[A]===b&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)e[a[d]].value=e[a[d]].defaultValue,e[a[d]].explicitSet=!1}if(vn(n)==="object"){for(r in n)if(s=n[r],g(a,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&g(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in e)e[w].explicitSet===!0&&(e[w].type==="name"?b.push("/"+w+" /"+e[w].value):b.push("/"+w+" "+e[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(s){var o,a,l,c,u,d,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(f,w){return f-w})).length;d<g;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",w=0;w<g.length;w++)f+=String.fromCharCode(g[w]);var b=c();u({data:f,addLength1:!0,objectId:b}),l("endobj");var A=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var C=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+vu(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var D=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+vu(a.fontName)),l("/FontDescriptor "+C+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+vu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+D+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",f=0;f<d.length;f++)g+=String.fromCharCode(d[f]);var w=c();u({data:g,addLength1:!0,objectId:w}),l("endobj");var b=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var A=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+vu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var C=0;C<a.metadata.hmtx.widths.length;C++)a.metadata.hmtx.widths[C]=parseInt(a.metadata.hmtx.widths[C]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+vu(a.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},g=d.pdfEscape,f=d.activeFontKey,w=d.fonts,b=f,A="",C=0,D="",P=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(D=a,b=f,Array.isArray(a)&&(D=a[0]),C=0;C<D.length;C+=1)w[b].metadata.hasOwnProperty("cmap")&&(o=w[b].metadata.cmap.unicode.codeMap[D[C].charCodeAt(0)]),o||D[C].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?A+=D[C]:A+="";var z="";return parseInt(b.slice(1))<14||P==="WinAnsiEncoding"?z=g(A,b).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(z=e(A,w[b])),d.isHex=!0,{text:z,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(wt),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(wt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,d=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,P=0;this.__bidiEngine__={};var z=function(k){var L=k.charCodeAt(),te=L>>8,Q=b[te];return Q!==void 0?d[256*Q+(255&L)]:te===252||te===253?"AL":C.test(te)?"L":te===8?"R":"N"},Z=function(k){for(var L,te=0;te<k.length;te++){if((L=z(k.charAt(te)))==="L")return!1;if(L==="R")return!0}return!1},ae=function(k,L,te,Q){var Ce,Y,F,B,$=L[Q];switch($){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&($="AN");break;case"AL":D=!0,$="R";break;case"WS":$="N";break;case"CS":Q<1||Q+1>=L.length||(Ce=te[Q-1])!=="EN"&&Ce!=="AN"||(Y=L[Q+1])!=="EN"&&Y!=="AN"?$="N":D&&(Y="AN"),$=Y===Ce?Y:"N";break;case"ES":$=(Ce=Q>0?te[Q-1]:"B")==="EN"&&Q+1<L.length&&L[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&te[Q-1]==="EN"){$="EN";break}if(D){$="N";break}for(F=Q+1,B=L.length;F<B&&L[F]==="ET";)F++;$=F<B&&L[F]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(B=L.length,F=Q+1;F<B&&L[F]==="NSM";)F++;if(F<B){var re=k[Q],ye=re>=1425&&re<=2303||re===64286;if(Ce=L[F],ye&&(Ce==="R"||Ce==="AL")){$="R";break}}}$=Q<1||(Ce=L[Q-1])==="B"?"N":te[Q-1];break;case"B":D=!1,r=!0,$=P;break;case"S":s=!0,$="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":$="N"}return $},X=function(k,L,te){var Q=k.split("");return te&&q(Q,te,{hiLevel:P}),Q.reverse(),L&&L.reverse(),Q.join("")},q=function(k,L,te){var Q,Ce,Y,F,B,$=-1,re=k.length,ye=0,S=[],j=P?f:g,U=[];for(D=!1,r=!1,s=!1,Ce=0;Ce<re;Ce++)U[Ce]=z(k[Ce]);for(Y=0;Y<re;Y++){if(B=ye,S[Y]=ae(k,U,S,Y),Q=240&(ye=j[B][w[S[Y]]]),ye&=15,L[Y]=F=j[ye][5],Q>0)if(Q===16){for(Ce=$;Ce<Y;Ce++)L[Ce]=1;$=-1}else $=-1;if(j[ye][6])$===-1&&($=Y);else if($>-1){for(Ce=$;Ce<Y;Ce++)L[Ce]=F;$=-1}U[Y]==="B"&&(L[Y]=0),te.hiLevel|=F}s&&function(ne,oe,ue){for(var ge=0;ge<ue;ge++)if(ne[ge]==="S"){oe[ge]=P;for(var _e=ge-1;_e>=0&&ne[_e]==="WS";_e--)oe[_e]=P}}(U,L,re)},se=function(k,L,te,Q,Ce){if(!(Ce.hiLevel<k)){if(k===1&&P===1&&!r)return L.reverse(),void(te&&te.reverse());for(var Y,F,B,$,re=L.length,ye=0;ye<re;){if(Q[ye]>=k){for(B=ye+1;B<re&&Q[B]>=k;)B++;for($=ye,F=B-1;$<F;$++,F--)Y=L[$],L[$]=L[F],L[F]=Y,te&&(Y=te[$],te[$]=te[F],te[F]=Y);ye=B}ye++}}},ve=function(k,L,te){var Q=k.split(""),Ce={hiLevel:P};return te||(te=[]),q(Q,te,Ce),function(Y,F,B){if(B.hiLevel!==0&&u)for(var $,re=0;re<Y.length;re++)F[re]===1&&($=A.indexOf(Y[re]))>=0&&(Y[re]=A[$+1])}(Q,te,Ce),se(2,Q,L,te,Ce),se(1,Q,L,te,Ce),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(k,L,te){if(function(Ce,Y){if(Y)for(var F=0;F<Ce.length;F++)Y[F]=F;a===void 0&&(a=Z(Ce)),c===void 0&&(c=Z(Ce))}(k,L),o||!l||c)if(o&&l&&a^c)P=a?1:0,k=X(k,L,te);else if(!o&&l&&c)P=a?1:0,k=ve(k,L,te),k=X(k,L);else if(!o||a||l||c){if(o&&!l&&a^c)k=X(k,L),a?(P=0,k=ve(k,L,te)):(P=1,k=ve(k,L,te),k=X(k,L));else if(o&&a&&!l&&c)P=1,k=ve(k,L,te),k=X(k,L);else if(!o&&!l&&a^c){var Q=u;a?(P=1,k=ve(k,L,te),P=0,u=!1,k=ve(k,L,te),u=Q):(P=0,k=ve(k,L,te),k=X(k,L),P=1,u=!1,k=ve(k,L,te),u=Q,k=X(k,L))}}else P=0,k=ve(k,L,te);else P=a?1:0,k=ve(k,L,te);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,s=(i.x,i.y,i.options||{}),o=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([e.doBidiReorder(r[a])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Xa(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new MO(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new gO(this.contents),this.head=new vO(this),this.name=new CO(this),this.cmap=new FA(this),this.toUnicode={},this.hhea=new yO(this),this.maxp=new xO(this),this.hmtx=new AO(this),this.post=new wO(this),this.os2=new _O(this),this.loca=new IO(this),this.glyf=new EO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var Ns,Xa=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,a,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)e=t[i],s.push(this.writeByte(e));return s},n}(),gO=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,s,o,a,l,c,u,d,g,f,w,b;for(b in f=Object.keys(e).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(r=new Xa).writeInt(this.scalarType),r.writeShort(f),r.writeShort(d),r.writeShort(o),r.writeShort(u),s=16*f,c=r.pos+s,a=null,w=[],e)for(g=e[b],r.writeString(b),r.writeInt(n(g)),r.writeInt(c),r.writeInt(g.length),w=w.concat(g),b==="head"&&(a=c),c+=g.length;c%4;)w.push(0),c++;return r.write(w),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=RA.call(e);e.length%4;)e.push(0);for(s=new Xa(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),mO={}.hasOwnProperty,no=function(n,t){for(var e in t)mO.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};Ns=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var vO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Xa).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),EA=function(){function n(t,e){var i,r,s,o,a,l,c,u,d,g,f,w,b,A,C,D,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),g=f/2,t.pos+=6,s=function(){var z,Z;for(Z=[],l=z=0;0<=g?z<g:z>g;l=0<=g?++z:--z)Z.push(t.readUInt16());return Z}(),t.pos+=2,b=function(){var z,Z;for(Z=[],l=z=0;0<=g?z<g:z>g;l=0<=g?++z:--z)Z.push(t.readUInt16());return Z}(),c=function(){var z,Z;for(Z=[],l=z=0;0<=g?z<g:z>g;l=0<=g?++z:--z)Z.push(t.readUInt16());return Z}(),u=function(){var z,Z;for(Z=[],l=z=0;0<=g?z<g:z>g;l=0<=g?++z:--z)Z.push(t.readUInt16());return Z}(),r=(this.length-t.pos+this.offset)/2,a=function(){var z,Z;for(Z=[],l=z=0;0<=r?z<r:z>r;l=0<=r?++z:--z)Z.push(t.readUInt16());return Z}(),l=C=0,P=s.length;C<P;l=++C)for(A=s[l],i=D=w=b[l];w<=A?D<=A:D>=A;i=w<=A?++D:--D)u[l]===0?o=i+c[l]:(o=a[u[l]/2+(i-w)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o}t.pos=d}return n.encode=function(t,e){var i,r,s,o,a,l,c,u,d,g,f,w,b,A,C,D,P,z,Z,ae,X,q,se,ve,k,L,te,Q,Ce,Y,F,B,$,re,ye,S,j,U,ne,oe,ue,ge,_e,Re,Fe,Ue;switch(Q=new Xa,o=Object.keys(t).sort(function(qe,it){return qe-it}),e){case"macroman":for(b=0,A=function(){var qe=[];for(w=0;w<256;++w)qe.push(0);return qe}(),D={0:0},s={},Ce=0,$=o.length;Ce<$;Ce++)D[_e=t[r=o[Ce]]]==null&&(D[_e]=++b),s[r]={old:t[r],new:D[t[r]]},A[r]=D[t[r]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(A),{charMap:s,subtable:Q.data,maxGlyphID:b+1};case"unicode":for(L=[],d=[],P=0,D={},i={},C=c=null,Y=0,re=o.length;Y<re;Y++)D[Z=t[r=o[Y]]]==null&&(D[Z]=++P),i[r]={old:Z,new:D[Z]},a=D[Z]-r,C!=null&&a===c||(C&&d.push(C),L.push(r),c=a),C=r;for(C&&d.push(C),d.push(65535),L.push(65535),ve=2*(se=L.length),q=2*Math.pow(Math.log(se)/Math.LN2,2),g=Math.log(q/2)/Math.LN2,X=2*se-q,l=[],ae=[],f=[],w=F=0,ye=L.length;F<ye;w=++F){if(k=L[w],u=d[w],k===65535){l.push(0),ae.push(0);break}if(k-(te=i[k].new)>=32768)for(l.push(0),ae.push(2*(f.length+se-w)),r=B=k;k<=u?B<=u:B>=u;r=k<=u?++B:--B)f.push(i[r].new);else l.push(te-k),ae.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*se+2*f.length),Q.writeUInt16(0),Q.writeUInt16(ve),Q.writeUInt16(q),Q.writeUInt16(g),Q.writeUInt16(X),ue=0,S=d.length;ue<S;ue++)r=d[ue],Q.writeUInt16(r);for(Q.writeUInt16(0),ge=0,j=L.length;ge<j;ge++)r=L[ge],Q.writeUInt16(r);for(Re=0,U=l.length;Re<U;Re++)a=l[Re],Q.writeUInt16(a);for(Fe=0,ne=ae.length;Fe<ne;Fe++)z=ae[Fe],Q.writeUInt16(z);for(Ue=0,oe=f.length;Ue<oe;Ue++)b=f[Ue],Q.writeUInt16(b);return{charMap:i,subtable:Q.data,maxGlyphID:P+1}}},n}(),FA=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new EA(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return i==null&&(i="macroman"),r=EA.encode(e,i),(s=new Xa).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),yO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),_O=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),wO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(e.readUInt32());return c}.call(this)}},t}(),bO=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},CO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,a,l,c,u,d,g,f;for(e.pos=this.offset,e.readShort(),i=e.readShort(),l=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},o=d=0,g=r.length;d<g;o=++d)s=r[o],e.pos=s.offset,u=e.readString(s.length),a=new bO(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),xO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),AO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,o,a,l,c;for(e.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=function(){var u,d,g,f;for(f=[],u=0,d=(g=this.metrics).length;u<d;u++)o=g[u],f.push(o.advance);return f}.call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),RA=[].slice,EO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,a,l,c,u,d,g;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+r,a=(l=new Xa(i.read(s))).readShort(),u=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=a===-1?new DO(l,u,g,c,d):new SO(l,a,u,g,c,d),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=e[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},t}(),SO=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),DO=function(){function n(t,e,i,r,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Xa(RA.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),IO=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,Ns),t.prototype.tag="loca",t.prototype.parse=function(e){var i,r;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),MO=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=r[i];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(i=r[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))i=l[s],r[s]=i;return r},n.prototype.encode=function(t,e){var i,r,s,o,a,l,c,u,d,g,f,w,b,A,C;for(r in i=FA.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},C=i.charMap)f[(l=C[r]).old]=l.new;for(w in g=i.maxGlyphID,o)w in f||(f[w]=g++);return u=function(D){var P,z;for(P in z={},D)z[D[P]]=P;return z}(f),d=Object.keys(u).sort(function(D,P){return D-P}),b=function(){var D,P,z;for(z=[],D=0,P=d.length;D<P;D++)a=d[D],z.push(u[a]);return z}(),s=this.font.glyf.encode(o,b,f),c=this.font.loca.encode(s.offsets,b),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},n}();wt.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,r,s,o;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)i=e[a],c.push(t.convert(i));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();var ME=Pm(FS());var DE=Pm(SE());var IE=(()=>{class n{constructor(){this.cloe=["Clo\xE9 Chaudron","Clo\xA2 Chaudron","Cloe Chaudron","126 Rue de la Cerisaie","84400 Gargas","06.68.64.44.02","cloe.chaudron@outlook.com"]}convertPdfToText(e){return Be(this,null,function*(){let i=new FileReader;return new Promise((r,s)=>{i.onload=()=>Be(this,null,function*(){try{let o=i.result,a=yield X5({data:o}).promise,l="";for(let c=1;c<=a.numPages;c++){let u=yield a.getPage(c),g=(yield this.renderPageToCanvas(u)).toDataURL("image/png"),f=yield this.performOcrOnImage(g);l+=f+`

`}r(l)}catch(o){s("Erreur lors de la conversion du PDF en texte: "+o.message)}}),i.onerror=()=>s("Erreur de lecture du fichier PDF"),i.readAsArrayBuffer(e)})})}renderPageToCanvas(e){return Be(this,null,function*(){let i=e.getViewport({scale:4}),r=document.createElement("canvas"),s=r.getContext("2d");if(!s)throw new Error("Impossible de r\xE9cup\xE9rer le contexte du canvas");return r.height=i.height,r.width=i.width,yield e.render({canvasContext:s,viewport:i}).promise,r})}performOcrOnImage(e){return Be(this,null,function*(){return new Promise((i,r)=>{DE.default.recognize(e,"eng+fra",{logger:s=>null}).then(({data:{text:s}})=>{i(s)}).catch(s=>{r("Erreur OCR: "+s.message)})})})}onFileSelected(e){return Be(this,null,function*(){let i=e.target;if(i.files&&i.files.length>0){let r=i.files[0];try{return this.extractedText=yield this.convertPdfToText(r),this.treat(this.extractedText.split(`
`))}catch(s){this.extractedText="Erreur lors de l'extraction du texte",console.error(s)}finally{}}})}treat(e){let i={};return e.forEach(r=>{if(r.startsWith("Date :"))i.date=r.replace(/[^0-9/]/g,"");else if(r.startsWith("DEVIS N\xB0"))r=r.replace(/[^0-9-]/g,""),i.devis=parseInt(r.substring(0,r.indexOf("-"))),i.annee=r.substring(r.indexOf("-")+1);else if(r.includes("\u20AC")){console.log(r);let s=r.match(/^([0-9]+ *(km|h)? *|[A] d[e]finir *)/g);if(s){let o=s[0],a={};a.qte=o.replace(/[^0-9]/g,""),o.includes("km")?a.qte=a.qte/2:a.qte==""&&(a.qte="?"),r=r.substring(s[0].length),s=r.match(/[0-9\.,/kmh]+/g)[0],a.prix=parseFloat(s.replace(/[^0-9,\.]/g,"")),a.nom=r.substring(0,r.indexOf(s)).replace(/ *$/g,""),s=r.substring(r.indexOf(s)+s.length).match(/[0-9\.,]+%/g),s&&(a.reduc=parseFloat(s[0].replace(/[^0-9\.,]/,""))),i.prestas||(i.prestas=[]),i.prestas.push(a)}else{let o=r.match(/[Ee]ch[e]ance *: */g);o&&(i.echeance=r.substring(o[0].length),i.echeance=i.echeance.substring(0,i.echeance.indexOf(" "))),o=r.match(/[Tt]otal */g),o&&(i.total=r.substring(r.indexOf(o[0])),i.total=parseFloat(i.total.replace(/[^0-9\.,]/g,""))),o=r.match(/Montant arrhes *: */g),o&&(i.arrhes=r.substring(o[0].length),i.arrhes=parseFloat(i.arrhes.replace(/[^0-9\.,]/g,"")))}}else r.startsWith("Prestation le : ")?(i.prestation=r.substring(r.indexOf(":")+2),i.prestation=i.prestation.substring(0,i.prestation.indexOf(" "))):this.cloe.forEach(s=>{r.startsWith(s+" ")&&(console.log("ok:"+s),r=r.substring((s+" ").length),r.includes("@")?i.mail=r:r.replace(/[^0-9]/g,"").match(/[0-9]{8,12}/g)?i.tel=r:r.match(/[a-zA-Z ]*[0-9\. ]{5,6}[a-zA-Z ]*/g)?i.codepostal=r:r.match(/[0-9]+/)?i.adresse=r:i.nom=r)})}),i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function a4(n,t){if(n&1&&(V(0,"p",46),ie(1),H()),n&2){let e=ce(3);J(),Gn(" ",e.mode=="devis"?"DEVIS":"FACTURE"," ")}}function l4(n,t){if(n&1&&(V(0,"p",46),ie(1),H()),n&2){let e=ce(3);J(),Gn(" ",e.mode=="devis"?"QUOTE":"INVOICE"," ")}}function c4(n,t){if(n&1&&(V(0,"p",49),ie(1),H()),n&2){let e=ce(3);J(),Ad(" ",e.lg=="Fran\xE7ais"?"DEVIS N\xB0":"QUOTE N\xB0"," ",e.values[1]<100?"0":"","",e.values[1]<10?"0":"","",e.values[1],"-",e.values[2]," ")}}function u4(n,t){if(n&1&&(V(0,"p",49),ie(1),H()),n&2){let e=ce(3);J(),Ad(" ",e.lg=="Fran\xE7ais"?"FACTURE N\xB0":"INVOICE N\xB0"," ",e.values[55]<100?"0":"","",e.values[55]<10?"0":"","",e.values[55],"-",e.values[56]," ")}}function d4(n,t){if(n&1&&(V(0,"p"),ie(1),H()),n&2){let e=ce(2).$implicit,i=ce(3);J(),Gn(" ",i.transform(i.calc(e)),"\u20AC ")}}function h4(n,t){n&1&&(V(0,"p",53),ie(1,"Offert"),H())}function f4(n,t){if(n&1&&(Cs(0),V(1,"p"),ie(2),H(),V(3,"p",51),ie(4),H(),V(5,"p"),ie(6),H(),V(7,"p"),ie(8),H(),Ze(9,d4,2,1,"p",38)(10,h4,2,0,"p",52),xs()),n&2){let e=ce().$implicit,i=ce(3);J(2),Ad(" ",e.qte=="?"?"\xC0 definir":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":""," "),J(2),Gn(" ",i.lg=="Anglais"&&e.en?e.en:e.nom," "),J(2),up(" ",i.transform(e.prix),"",e.kilorly?"/km":"","",e.hourly?"/h":"","\u20AC "),J(2),Oo("",e.reduc&&e.reduc!=0?e.reduc:"","",e.reduc&&e.reduc!=0?"%":"",""),J(),De("ngIf",i.calc(e)>0),J(),De("ngIf",i.calc(e)==0)}}function p4(n,t){if(n&1&&(V(0,"div",50),Ze(1,f4,11,13,"ng-container",38),H()),n&2){let e=t.$implicit;J(),De("ngIf",e.qte>0||e.qte=="?")}}function g4(n,t){if(n&1&&(V(0,"p",54),ie(1),H()),n&2){let e=ce(3);J(),Oo(" ",e.lg=="Fran\xE7ais"?"\xC9ch\xE9ance":"Due Date"," : ",e.mode=="devis"?e.values[13]:e.values[58]," ")}}function m4(n,t){if(n&1&&(V(0,"p",54),ie(1),H()),n&2){let e=ce(3);J(),Oo(" ",e.lg=="Fran\xE7ais"?"Prestation le":"Service"," : ",e.values[14]," ")}}function v4(n,t){if(n&1&&(V(0,"p"),ie(1),H()),n&2){let e=ce(3);J(),Oo(" ",e.lg=="Fran\xE7ais"?"Prestation le":"Service"," : ",e.values[14]," ")}}function y4(n,t){if(n&1&&(V(0,"p",55),ie(1),H()),n&2){let e=ce(3);J(),Oo(" ",e.lg=="Fran\xE7ais"?"Montant arrhes":"Deposit amount"," : ",e.transform(e.calcares()),"\u20AC ")}}function _4(n,t){n&1&&(V(0,"div",56)(1,"p"),ie(2," Ce devis concerne les prestations nomm\xE9es. Il est soumis aux conditions mentionn\xE9es ci-dessous : "),H(),V(3,"ul")(4,"li")(5,"p"),ie(6," 30% d'arrhes de la prestation mari\xE9e sont \xE0 verser afin de bloquer la date. "),H()(),V(7,"li")(8,"p"),ie(9,"Le solde est \xE0 verser au plus tard le jour du mariage."),H()(),V(10,"li")(11,"p"),ie(12," Les indemnit\xE9s kilom\xE9triques sont factur\xE9es au tarif de 0,40\u20AC/kilom\xE8tre. P\xE9ages en plus. "),H()(),V(13,"li")(14,"p"),ie(15," Les frais de d\xE9placements sont \xE0 verser au plus tard le jour du dit d\xE9placement. "),H()(),V(16,"li")(17,"p"),ie(18," Le pr\xE9sent devis est valable jusqu'\xE0 la fin des prestations mentionn\xE9es. Des prestations peuvent \xEAtre modifi\xE9es, ajout\xE9es mais en aucun cas supprim\xE9es "),H()()()())}function w4(n,t){n&1&&(V(0,"div",56)(1,"p"),ie(2," This quote concerns the named services. It is subject to the conditions listed below: "),H(),V(3,"ul")(4,"li")(5,"p"),ie(6," A deposit of 30% of the bridal services is required to secure the date. "),H()(),V(7,"li")(8,"p"),ie(9,"The remaining balance is due no later than the wedding day."),H()(),V(10,"li")(11,"p"),ie(12," Travel expenses are charged at the rate of 0.40\u20AC/kilometer. Tolls are additional. "),H()(),V(13,"li")(14,"p"),ie(15," Travel fees must be paid no later than the day of the said trip. "),H()(),V(16,"li")(17,"p"),ie(18," This quote is valid until the completion of the mentioned services. Services may be modified or added, but under no circumstances can they be removed. "),H()()()())}function b4(n,t){if(n&1&&(V(0,"p",57),ie(1),H()),n&2){let e=ce(3);J(),Gn(" ",e.lg=="Fran\xE7ais"?"Pour accepter ce devis, apposez votre signature ici et renvoyez-le":"To accept this quote, please sign here and return it"," : ")}}function C4(n,t){if(n&1&&(V(0,"p",60),ie(1),H()),n&2){let e=ce(4);J(),up(" ",e.lg=="Fran\xE7ais"?"D\xE9j\xE0 vers\xE9":"Already Paid"," : ",e.transform(e.values[15]),"\u20AC ",e.getDateArrhes()," ")}}function x4(n,t){if(n&1&&(V(0,"p",55),ie(1),H()),n&2){let e=ce(4);J(),Oo(" ",e.lg=="Fran\xE7ais"?"Solde":"Remaining balance"," : ",e.values[60]!=""?e.values[60]:e.transform(e.calcTot(!0)),"\u20AC ")}}function A4(n,t){if(n&1&&(V(0,"div",58),Ze(1,C4,2,3,"p",59)(2,x4,2,2,"p",40),V(3,"p",60),ie(4),H()()),n&2){let e=ce(3);J(),De("ngIf",e.values[15]!=""),J(),De("ngIf",e.values[15]!=""||e.values[60]!=""),J(2),Oo(" ",e.lg=="Fran\xE7ais"?"Mode de paiement":"Payment Method"," : ",e.values[16]," ")}}function E4(n,t){n&1&&(V(0,"div",61)(1,"p"),ie(2,"Coordonn\xE9es Bancaires"),H(),V(3,"p"),ie(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),H(),V(5,"p"),ie(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),H(),V(7,"p"),ie(8,"BIC : SOGEFRPP"),H(),V(9,"p"),ie(10,"SIRET : 883 822 801 00014"),H()())}function S4(n,t){n&1&&(V(0,"div",61)(1,"p"),ie(2,"Bank Details"),H(),V(3,"p"),ie(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),H(),V(5,"p"),ie(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),H(),V(7,"p"),ie(8,"BIC : SOGEFRPP"),H(),V(9,"p"),ie(10,"SIRET : 883 822 801 00014"),H()())}function D4(n,t){if(n&1&&(V(0,"div",21),pi(1,"img",22),Ze(2,a4,2,1,"p",23)(3,l4,2,1,"p",23),V(4,"p",24),ie(5),H(),pi(6,"div",12),V(7,"div",25),Ze(8,c4,2,5,"p",26)(9,u4,2,5,"p",26),V(10,"div",27)(11,"div",28)(12,"p"),ie(13),H(),V(14,"p"),ie(15),H(),V(16,"p"),ie(17),H(),V(18,"p"),ie(19),H(),V(20,"p",29),ie(21),H()(),V(22,"div",30)(23,"p"),ie(24),H(),V(25,"p"),ie(26),H(),V(27,"p"),ie(28),H(),V(29,"p"),ie(30),H(),V(31,"p",29),ie(32),H()()(),V(33,"div",31)(34,"p"),ie(35),H(),V(36,"p"),ie(37),H(),V(38,"p"),ie(39),H(),V(40,"p"),ie(41),H(),V(42,"p"),ie(43),H()(),pi(44,"div",32),Ze(45,p4,2,1,"div",33),pi(46,"div",32),V(47,"div",8),Ze(48,g4,2,2,"p",34)(49,m4,2,2,"p",34),V(50,"p",35),ie(51,"Total"),H(),V(52,"p",36),ie(53),H()(),V(54,"div",37),Ze(55,v4,2,2,"p",38),V(56,"p",39),ie(57),H()(),Ze(58,y4,2,2,"p",40)(59,_4,19,0,"div",41)(60,w4,19,0,"div",41)(61,b4,2,1,"p",42)(62,A4,5,4,"div",43),H(),pi(63,"div",44),V(64,"div",45)(65,"p",46),ie(66,"\xA0"),H(),V(67,"div",8),Ze(68,E4,11,0,"div",47)(69,S4,11,0,"div",47),V(70,"div",48)(71,"p"),ie(72,"THANK"),H(),V(73,"p"),ie(74,"YOU"),H()()()()()),n&2){let e=ce(2);J(2),De("ngIf",e.lg=="Fran\xE7ais"),J(),De("ngIf",e.lg=="Anglais"),J(2),Gn("Date : ",e.mode=="devis"?e.formatDate(e.values[0]):e.formatDate(e.values[57]),""),J(3),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture"),J(4),Je(e.values[3]),J(2),Je(e.values[5]),J(2),Je(e.values[7]),J(2),Je(e.values[9]),J(2),Je(e.values[11]),J(3),Je(e.values[4]),J(2),Je(e.values[6]),J(2),Je(e.values[8]),J(2),Je(e.values[10]),J(2),Je(e.values[12]),J(3),Je(e.lg==="Fran\xE7ais"?"Quantit\xE9":"Quantity"),J(2),Je((e.lg==="Fran\xE7ais","Description")),J(2),Je(e.lg==="Fran\xE7ais"?"Prix Unitaire":"Unit Price"),J(2),Je(e.lg==="Fran\xE7ais"?"Reduction":"Discount"),J(2),Je((e.lg==="Fran\xE7ais","Total")),J(2),De("ngForOf",e.prestas),J(3),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture"),J(4),Gn(" ",e.transform(e.calcTot()),"\u20AC "),J(2),De("ngIf",e.mode=="devis"),J(2),Gn(" ",e.lg=="Fran\xE7ais"?"TVA Non Applicable - article 293 B du CGI":"VAT Not Applicable - Article 293 B of the French General Tax Code (CGI)"," "),J(),De("ngIf",e.mode=="devis"&&e.calcares()>0),J(),De("ngIf",e.mode=="devis"&&e.lg=="Fran\xE7ais"),J(),De("ngIf",e.mode=="devis"&&e.lg=="Anglais"),J(),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture"),J(6),De("ngIf",e.lg=="Fran\xE7ais"),J(),De("ngIf",e.lg=="Anglais")}}function I4(n,t){if(n&1&&(V(0,"p",46),ie(1),H()),n&2){let e=ce(3);J(),Gn(" ",e.values[50]," ")}}function M4(n,t){n&1&&(V(0,"div",72),pi(1,"div",73),V(2,"p"),ie(3,"\xA0"),H()())}function T4(n,t){if(n&1&&(V(0,"div",74)(1,"p"),ie(2),H()()),n&2){let e=t.$implicit;J(2),Je(e.fr)}}function N4(n,t){if(n&1&&(V(0,"td",78),ie(1),H()),n&2){let e=ce(),i=e.$implicit,r=e.index,s=ce().index,o=ce(2).index,a=ce(3);nn("none",a.checkDisplay(s,r,o))("odd",s%2!=0),xd("rowspan",a.checkRow(s,r,o))("colspan",a.checkCol(s,r,o)),J(),Je(i)}}function P4(n,t){if(n&1&&(Cs(0),Ze(1,N4,2,7,"td",80),xs()),n&2){let e=t.index;J(),De("ngIf",e>0&&e<9)}}function k4(n,t){if(n&1&&(V(0,"tr",74)(1,"p",77),ie(2),H(),V(3,"td",79),ie(4,"\xA0"),H(),Ze(5,P4,2,1,"ng-container",67),H()),n&2){let e=t.$implicit,i=t.index,r=ce(2).index,s=ce(3);J(),nn("onlyonerow",s.getInvitees(r).length==1),J(),Je(s.typeinvitee[e[0]]+" "+(e[0]==0?s.getNbInvitee(r,i,e[0]):"")),J(),nn("odd",i%2!=0),J(2),De("ngForOf",e)}}function L4(n,t){if(n&1&&(V(0,"table")(1,"tr",76)(2,"p",77),ie(3,"\xA0"),H(),V(4,"td",78),ie(5,"\xA0"),H(),V(6,"td",78),ie(7,"\xA0"),H(),V(8,"td",78),ie(9,"\xA0"),H(),V(10,"td",78),ie(11,"\xA0"),H(),V(12,"td",78),ie(13,"\xA0"),H(),V(14,"td",78),ie(15,"\xA0"),H(),V(16,"td",78),ie(17,"\xA0"),H(),V(18,"td",78),ie(19,"\xA0"),H(),V(20,"td",78),ie(21,"\xA0"),H()(),Ze(22,k4,6,6,"tr",66),H()),n&2){let e=ce().index,i=ce(3);J(22),De("ngForOf",i.getInvitees(e))}}function O4(n,t){if(n&1&&(V(0,"p",81),ie(1),H()),n&2){let e=ce().$implicit;J(),Gn("Artiste : ",e[0]+" "+e[1],"")}}function F4(n,t){if(n&1&&(Cs(0),Ze(1,L4,23,1,"table",38)(2,O4,2,1,"p",75),xs()),n&2){let e=t.index,i=ce(3);J(),De("ngIf",i.getInvitees(e).length>0),J(),De("ngIf",i.getInvitees(0).length!=i.invitees.length)}}function R4(n,t){n&1&&(V(0,"div",61)(1,"p"),ie(2,"Coordonn\xE9es Bancaires"),H(),V(3,"p"),ie(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),H(),V(5,"p"),ie(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),H(),V(7,"p"),ie(8,"BIC : SOGEFRPP"),H(),V(9,"p"),ie(10,"SIRET : 883 822 801 00014"),H()())}function j4(n,t){n&1&&(V(0,"div",61)(1,"p"),ie(2,"Bank Details"),H(),V(3,"p"),ie(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),H(),V(5,"p"),ie(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),H(),V(7,"p"),ie(8,"BIC : SOGEFRPP"),H(),V(9,"p"),ie(10,"SIRET : 883 822 801 00014"),H()())}function B4(n,t){if(n&1&&(V(0,"div",45)(1,"p",46),ie(2,"\xA0"),H(),V(3,"div",8),Ze(4,R4,11,0,"div",47)(5,j4,11,0,"div",47),V(6,"div",48)(7,"p"),ie(8,"THANK"),H(),V(9,"p"),ie(10,"YOU"),H()()()()),n&2){let e=ce(3);J(4),De("ngIf",e.lg=="Fran\xE7ais"),J(),De("ngIf",e.lg=="Anglais")}}function V4(n,t){if(n&1&&(V(0,"div")(1,"p"),ie(2),H(),V(3,"p"),ie(4),H(),V(5,"p"),ie(6),H()()),n&2){let e=t.$implicit;J(2),Je(e[0]+" "+e[1]),J(2),Je(e[2]),J(2),Je(e[3])}}function H4(n,t){if(n&1&&(V(0,"div",62),pi(1,"img",22),Ze(2,I4,2,1,"p",23),V(3,"p",24),ie(4),H(),pi(5,"div",12),V(6,"div",25)(7,"div",63),Ze(8,M4,4,0,"div",64),V(9,"div",65),Ze(10,T4,3,1,"div",66),H()(),Ze(11,F4,3,2,"ng-container",67),H(),Ze(12,B4,11,2,"div",68),V(13,"div",69)(14,"p",46),ie(15,"\xA0"),H(),V(16,"div",70)(17,"p"),ie(18),H(),V(19,"p"),ie(20),H(),V(21,"p"),ie(22),H()(),V(23,"p",71),ie(24,"CONTACT"),H(),V(25,"div",27),Ze(26,V4,7,3,"div",67),H()()()),n&2){let e=ce(2);J(2),De("ngIf",e.lg=="Fran\xE7ais"),J(2),Gn("Date : ",e.formatDate(e.values[51]),""),J(4),De("ngForOf",e.planningtop),J(2),De("ngForOf",e.planningtop),J(),De("ngForOf",e.getCollegues()),J(),De("ngIf",e.mode!="planning"),J(6),Je(e.values[52]==""?"Domaine":e.values[52]),J(2),Je(e.values[53]==""?"Adresse":e.values[53]),J(2),Je(e.values[54]==""?"Code postal + Ville":e.values[54]),J(4),De("ngForOf",e.getCollegues())}}function U4(n,t){if(n&1){let e=ut();V(0,"div",82)(1,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.mode="devis")}),ie(2,"Devis"),H(),V(3,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.mode="facture")}),ie(4,"Facture"),H(),V(5,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.mode="planning")}),ie(6,"Planning"),H()()}}function z4(n,t){if(n&1){let e=ut();V(0,"input",83),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[0],r)||(s.values[0]=r),Pe(r)}),rt("input",function(){Ne(e);let r=ce(2);return Pe(r.values[0]=r.onInput(r.values[0],!0))}),H()}if(n&2){let e=ce(2);mt("ngModel",e.values[0])}}function q4(n,t){if(n&1){let e=ut();V(0,"input",83),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[57],r)||(s.values[57]=r),Pe(r)}),rt("input",function(){Ne(e);let r=ce(2);return Pe(r.values[57]=r.onInput(r.values[57],!0))}),H()}if(n&2){let e=ce(2);mt("ngModel",e.values[57])}}function $4(n,t){if(n&1){let e=ut();V(0,"input",83),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[51],r)||(s.values[51]=r),Pe(r)}),rt("input",function(){Ne(e);let r=ce(2);return Pe(r.values[51]=r.onInput(r.values[51],!0))}),H()}if(n&2){let e=ce(2);mt("ngModel",e.values[51])}}function W4(n,t){if(n&1){let e=ut();V(0,"input",88),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.values[1],r)||(s.values[1]=r),Pe(r)}),H()}if(n&2){let e=ce(3);mt("ngModel",e.values[1])}}function G4(n,t){if(n&1){let e=ut();V(0,"input",89),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.values[55],r)||(s.values[55]=r),Pe(r)}),H()}if(n&2){let e=ce(3);mt("ngModel",e.values[55])}}function Y4(n,t){if(n&1){let e=ut();V(0,"input",90),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.values[2],r)||(s.values[2]=r),Pe(r)}),H()}if(n&2){let e=ce(3);mt("ngModel",e.values[2])}}function X4(n,t){if(n&1){let e=ut();V(0,"input",90),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.values[56],r)||(s.values[56]=r),Pe(r)}),H()}if(n&2){let e=ce(3);mt("ngModel",e.values[56])}}function K4(n,t){if(n&1&&(V(0,"div",84)(1,"p"),ie(2),H(),Ze(3,W4,1,1,"input",85)(4,G4,1,1,"input",86),V(5,"p"),ie(6,"-"),H(),Ze(7,Y4,1,1,"input",87)(8,X4,1,1,"input",87),H()),n&2){let e=ce(2);J(2),Je(e.mode=="devis"?"Devis N\xB0":"Facture N\xB0"),J(),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture"),J(3),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture")}}function Z4(n,t){if(n&1){let e=ut();V(0,"div",27)(1,"div",91)(2,"input",92),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[3],r)||(s.values[3]=r),Pe(r)}),H()(),V(3,"div",93)(4,"input",94),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[4],r)||(s.values[4]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(2),mt("ngModel",e.values[3]),J(2),mt("ngModel",e.values[4])}}function Q4(n,t){if(n&1){let e=ut();V(0,"div",27)(1,"div",91)(2,"input",95),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[5],r)||(s.values[5]=r),Pe(r)}),H()(),V(3,"div",93)(4,"input",96),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[6],r)||(s.values[6]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(2),mt("ngModel",e.values[5]),J(2),mt("ngModel",e.values[6])}}function J4(n,t){if(n&1){let e=ut();V(0,"div",27)(1,"div",91)(2,"input",97),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[7],r)||(s.values[7]=r),Pe(r)}),H()(),V(3,"div",93)(4,"input",98),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[8],r)||(s.values[8]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(2),mt("ngModel",e.values[7]),J(2),mt("ngModel",e.values[8])}}function eF(n,t){if(n&1){let e=ut();V(0,"div",27)(1,"div",91)(2,"input",99),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[9],r)||(s.values[9]=r),Pe(r)}),H()(),V(3,"div",93)(4,"input",100),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[10],r)||(s.values[10]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(2),mt("ngModel",e.values[9]),J(2),mt("ngModel",e.values[10])}}function tF(n,t){if(n&1){let e=ut();V(0,"div",27)(1,"div",91)(2,"input",101),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[11],r)||(s.values[11]=r),Pe(r)}),H()(),V(3,"div",93)(4,"input",102),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[12],r)||(s.values[12]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(2),mt("ngModel",e.values[11]),J(2),mt("ngModel",e.values[12])}}function nF(n,t){if(n&1){let e=ut();V(0,"button",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.addPrestas())}),ie(1,"Add prestas"),H()}}function iF(n,t){if(n&1){let e=ut();Cs(0),V(1,"div",107)(2,"p",108),rt("click",function(){Ne(e);let r=ce().$implicit;return Pe(r.qte>0?r.qte=r.qte-1:void 0)}),ie(3," - "),H(),V(4,"input",109),vt("ngModelChange",function(r){Ne(e);let s=ce().$implicit;return _t(s.qte,r)||(s.qte=r),Pe(r)}),H(),V(5,"p",108),rt("click",function(){Ne(e);let r=ce().$implicit;return Pe(r.qte=r.qte+1)}),ie(6," + "),H()(),V(7,"input",110),vt("ngModelChange",function(r){Ne(e);let s=ce().$implicit;return _t(s.nom,r)||(s.nom=r),Pe(r)}),H(),V(8,"input",111),vt("ngModelChange",function(r){Ne(e);let s=ce().$implicit;return _t(s.prix,r)||(s.prix=r),Pe(r)}),H(),V(9,"input",112),vt("ngModelChange",function(r){Ne(e);let s=ce().$implicit;return _t(s.reduc,r)||(s.reduc=r),Pe(r)}),H(),xs()}if(n&2){let e=ce().$implicit;J(2),nn("disabled",e.qte<1),J(2),mt("ngModel",e.qte),J(),nn("disabled",e.qte>0&&e.onlyOne),J(2),mt("ngModel",e.nom),J(),mt("ngModel",e.prix),J(),mt("ngModel",e.reduc)}}function rF(n,t){if(n&1&&(V(0,"p"),ie(1),H()),n&2){let e=ce().$implicit;J(),Je(e.nom)}}function sF(n,t){if(n&1&&(V(0,"div",27),Ze(1,iF,10,8,"ng-container",106)(2,rF,2,1,"ng-template",null,0,fx),H()),n&2){let e=t.$implicit,i=ux(3);nn("title",e.titre),J(),De("ngIf",!e.titre)("ngIfElse",i)}}function oF(n,t){if(n&1){let e=ut();V(0,"div",103)(1,"div",8)(2,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.deleteAll())}),ie(3,"Delete all"),H(),Ze(4,nF,2,0,"button",104),H(),Ze(5,sF,4,4,"div",105),V(6,"div",10)(7,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.addPresta())}),ie(8,"Ajouter prestation"),H()()()}if(n&2){let e=ce(2);nn("noOverflow",!e.paysage),J(4),De("ngIf",e.mode=="facture"),J(),De("ngForOf",e.prestas)}}function aF(n,t){if(n&1){let e=ut();V(0,"input",114),vt("ngModelChange",function(r){Ne(e);let s=ce(4);return _t(s.values[13],r)||(s.values[13]=r),Pe(r)}),H()}if(n&2){let e=ce(4);mt("ngModel",e.values[13])}}function lF(n,t){if(n&1&&(V(0,"div",8)(1,"p"),ie(2,"\xC9ch\xE9ance :"),H(),Ze(3,aF,1,1,"input",113),H()),n&2){let e=ce(3);J(3),De("ngIf",e.mode=="devis")}}function cF(n,t){if(n&1&&(V(0,"div",27),Ze(1,lF,4,1,"div",16),V(2,"div",93)(3,"p"),ie(4),H()()()),n&2){let e=ce(2);J(),De("ngIf",e.mode=="devis"),J(3),Gn("Total : ",e.transform(e.calcTot()),"")}}function uF(n,t){if(n&1&&(V(0,"div",8)(1,"p"),ie(2),H()()),n&2){let e=ce(2);J(2),Gn("Prestation le : ",e.values[14],"")}}function dF(n,t){if(n&1){let e=ut();V(0,"div",8)(1,"p"),ie(2,"D\xE9j\xE0 vers\xE9 :"),H(),V(3,"input",115),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[15],r)||(s.values[15]=r),Pe(r)}),H()()}if(n&2){let e=ce(2);J(3),mt("ngModel",e.values[15])}}function hF(n,t){if(n&1){let e=ut();V(0,"div",8)(1,"p"),ie(2,"Solde :"),H(),V(3,"input",116),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[60],r)||(s.values[60]=r),Pe(r)}),H()()}if(n&2){let e=ce(2);J(3),mt("ngModel",e.values[60])}}function fF(n,t){if(n&1){let e=ut();V(0,"div",8)(1,"p"),ie(2,"Mode de paiement :"),H(),V(3,"input",117),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[16],r)||(s.values[16]=r),Pe(r)}),H()()}if(n&2){let e=ce(2);J(3),mt("ngModel",e.values[16])}}function pF(n,t){if(n&1&&(V(0,"p"),ie(1),H()),n&2){let e=t.$implicit;J(),Gn("",e.fr,"\xA0")}}function gF(n,t){if(n&1&&(V(0,"option",126),ie(1),H()),n&2){let e=t.$implicit,i=t.index;De("ngValue",i),J(),Je(e)}}function mF(n,t){if(n&1){let e=ut();V(0,"input",128),vt("ngModelChange",function(r){Ne(e);let s=ce().index,o=ce().index,a=ce(3);return _t(a.invitees[o][s],r)||(a.invitees[o][s]=r),Pe(r)}),H()}if(n&2){let e=ce().index,i=ce().index,r=ce(3);mt("ngModel",r.invitees[i][e])}}function vF(n,t){if(n&1&&(Cs(0),Ze(1,mF,1,1,"input",127),xs()),n&2){let e=t.index;J(),De("ngIf",e!=0&&e<9)}}function yF(n,t){if(n&1&&(V(0,"option",126),ie(1),H()),n&2){let e=t.$implicit,i=t.index;De("ngValue",i),J(),Je(e[0]+" "+e[1])}}function _F(n,t){if(n&1){let e=ut();V(0,"div",121)(1,"select",122),vt("ngModelChange",function(r){let s=Ne(e).$implicit;return _t(s[0],r)||(s[0]=r),Pe(r)}),rt("change",function(){let r=Ne(e).$implicit,s=ce(3);return Pe(s.changetypeinvitee(r,!0))}),Ze(2,gF,2,2,"option",123),H(),Ze(3,vF,2,1,"ng-container",124),V(4,"select",125),vt("ngModelChange",function(r){let s=Ne(e).$implicit;return _t(s[9],r)||(s[9]=r),Pe(r)}),Ze(5,yF,2,2,"option",123),H(),V(6,"button",5),rt("click",function(){let r=Ne(e).$implicit,s=ce(3);return Pe(s.changetypeinvitee(r))}),ie(7,"Calculer"),H(),V(8,"button",5),rt("click",function(){let r=Ne(e).index,s=ce(3);return Pe(s.deleteInvitee(r))}),ie(9,"Supprimer"),H()()}if(n&2){let e=t.$implicit,i=ce(3);J(),mt("ngModel",e[0]),J(),De("ngForOf",i.typeinvitee),J(),De("ngForOf",e)("ngForTrackBy",i.trackByIndex),J(),mt("ngModel",e[9]),J(),De("ngForOf",i.collegues)}}function wF(n,t){if(n&1&&(V(0,"div",8)(1,"div",118)(2,"p"),ie(3,"NOM\xA0"),H(),Ze(4,pF,2,1,"p",67),H(),V(5,"div",119),Ze(6,_F,10,6,"div",120),H()()),n&2){let e=ce(2);J(4),De("ngForOf",e.planningtop),J(2),De("ngForOf",e.invitees)("ngForTrackBy",e.trackByIndex)}}function bF(n,t){if(n&1){let e=ut();V(0,"div",129)(1,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.remplir(6))}),ie(2,"Remplir retouches"),H(),V(3,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.remplir(7))}),ie(4,"Remplir disponibilit\xE9"),H(),V(5,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.remplir(8))}),ie(6,"Remplir c\xE9r\xE9monie"),H()()}}function CF(n,t){if(n&1){let e=ut();V(0,"button",6),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.addInvitee())}),ie(1,"Ajouter invit\xE9e"),H()}}function xF(n,t){if(n&1){let e=ut();V(0,"div",130)(1,"div",8)(2,"p"),ie(3,"Domaine : "),H(),V(4,"input",131),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[52],r)||(s.values[52]=r),Pe(r)}),H()(),V(5,"div",8)(6,"p"),ie(7,"Adresse : "),H(),V(8,"input",132),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[53],r)||(s.values[53]=r),Pe(r)}),H()(),V(9,"div",8)(10,"p"),ie(11,"Code postal + Ville : "),H(),V(12,"input",133),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.values[54],r)||(s.values[54]=r),Pe(r)}),H()()()}if(n&2){let e=ce(2);J(4),mt("ngModel",e.values[52]),J(4),mt("ngModel",e.values[53]),J(4),mt("ngModel",e.values[54])}}function AF(n,t){if(n&1){let e=ut();Cs(0),V(1,"input",128),vt("ngModelChange",function(r){let s=Ne(e).index,o=ce().index,a=ce(3);return _t(a.collegues[o][s],r)||(a.collegues[o][s]=r),Pe(r)}),H(),xs()}if(n&2){let e=t.index,i=ce().index,r=ce(3);J(),mt("ngModel",r.collegues[i][e])}}function EF(n,t){if(n&1){let e=ut();V(0,"div",121),Ze(1,AF,2,1,"ng-container",124),V(2,"button",5),rt("click",function(){let r=Ne(e).index,s=ce(3);return Pe(s.deleteCollegue(r))}),ie(3,"Supprimer"),H()()}if(n&2){let e=t.$implicit,i=ce(3);J(),De("ngForOf",e)("ngForTrackBy",i.trackByIndex)}}function SF(n,t){if(n&1&&(V(0,"div",8)(1,"div",119),Ze(2,EF,4,2,"div",120),H()()),n&2){let e=ce(2);J(2),De("ngForOf",e.collegues)("ngForTrackBy",e.trackByIndex)}}function DF(n,t){if(n&1){let e=ut();V(0,"button",6),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.addCollegue())}),ie(1,"Ajouter coll\xE8gue"),H()}}function IF(n,t){if(n&1){let e=ut();V(0,"div"),Ze(1,D4,75,33,"div",2)(2,H4,27,10,"div",3),V(3,"div",4)(4,"button",5),rt("click",function(){Ne(e);let r=ce();return Pe(r.return())}),ie(5,"Retour"),H(),V(6,"button",6),rt("click",function(){Ne(e);let r=ce();return Pe(r.lg=="Fran\xE7ais"?r.lg="Anglais":r.lg="Fran\xE7ais")}),ie(7),H(),Ze(8,U4,7,0,"div",7),V(9,"div",8)(10,"p"),ie(11,"Importer : "),H(),V(12,"input",9),rt("change",function(r){Ne(e);let s=ce();return Pe(s.onFileSelected(r))}),H()(),V(13,"div",10)(14,"p"),ie(15,"Date :"),H(),Ze(16,z4,1,1,"input",11)(17,q4,1,1,"input",11)(18,$4,1,1,"input",11),H(),pi(19,"div",12),Ze(20,K4,9,5,"div",13)(21,Z4,5,2,"div",14)(22,Q4,5,2,"div",14)(23,J4,5,2,"div",14)(24,eF,5,2,"div",14)(25,tF,5,2,"div",14)(26,oF,9,4,"div",15)(27,cF,5,2,"div",14)(28,uF,3,1,"div",16)(29,dF,4,1,"div",16)(30,hF,4,1,"div",16)(31,fF,4,1,"div",16)(32,wF,7,3,"div",16)(33,bF,7,0,"div",17),V(34,"div",18),Ze(35,CF,2,0,"button",19),H(),Ze(36,xF,13,3,"div",20)(37,SF,3,2,"div",16),V(38,"div",18),Ze(39,DF,2,0,"button",19),H(),pi(40,"br")(41,"br")(42,"br"),V(43,"div")(44,"button",6),rt("click",function(){Ne(e);let r=ce();return Pe(r.save())}),ie(45," Sauvegarder "),H()(),pi(46,"br"),V(47,"div")(48,"button",6),rt("click",function(){Ne(e);let r=ce();return Pe(r.generatePDFfromHTML())}),ie(49," G\xE9n\xE9rer PDF "),H()()()()}if(n&2){let e=ce();nn("flex",e.paysage)("portrait",!e.paysage),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode=="planning"),J(5),Gn(" ",e.lg," "),J(),De("ngIf",!1),J(8),De("ngIf",e.mode=="devis"),J(),De("ngIf",e.mode=="facture"),J(),De("ngIf",e.mode=="planning"),J(2),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode!="planning"),J(),De("ngIf",e.mode=="facture"),J(),De("ngIf",e.mode=="facture"),J(),De("ngIf",e.mode=="facture"),J(),De("ngIf",e.mode=="planning"),J(),De("ngIf",e.mode=="planning"),J(2),De("ngIf",e.mode=="planning"),J(),De("ngIf",e.mode=="planning"),J(),De("ngIf",e.mode=="planning"),J(2),De("ngIf",e.mode=="planning")}}var TE=(()=>{class n{onResize(e){this.innerHeight=e.target.innerHeight,this.innerWidth=e.target.innerWidth,e.target.innerHeight>e.target.innerWidth?this.paysage=!1:this.paysage=!0}constructor(e,i,r){this.datePipe=e,this.http=i,this.readPDF=r,this.retour=new bi,this.values=[],this.dataprestas=[],this.prestas=[],this.baseprestas=[{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement Essai (Aller/Retour)",en:"Trial Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement renfort (Aller/Retour)",en:"Backup Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Mari\xE9e (essai et jour-J)",en:"Bride (Trial and D-Day)",titre:!0},{nom:"Forfait Mari\xE9e Complet",en:"Complete Bride Package",prix:420,onlyOne:!0,bride:!0},{nom:"Maquillage Mari\xE9e",en:"Bride Makeup",prix:220,onlyOne:!0,bride:!0},{nom:"Coiffure Mari\xE9e",en:"Bride Hairstyling",prix:220,onlyOne:!0,bride:!0},{nom:"Maquillage et coiffure suppl\xE9mentaire (Mariage civil, seconde mise en beaut\xE9)",en:"Additional Makeup and Hairstyling (Civil Wedding, Second Beauty Touch-Up)",prix:300,bride:!0},{nom:"Invit\xE9e (jour-J)",en:"Guest (D-Day)",titre:!0},{nom:"Forfait Invit\xE9e Complet",en:"Complete Guest Package",prix:130},{nom:"Coiffure Invit\xE9e (Attache compl\xE8te)",en:"Guest Hairstyling (Full Updo)",prix:80},{nom:"Coiffure Invit\xE9e (Attache partielle)",en:"Guest Hairstyling (Partial Updo)",prix:70},{nom:"Brushing Hollywoodien Invit\xE9e",en:"Hollywood Blowout (Guest)",prix:70},{nom:"Maquillage Invit\xE9e",en:"Guest Makeup",prix:65},{nom:"Coiffure enfant (-13ans)",en:"Child Hairstyling (-13 years)",prix:30},{nom:"Options",en:"Options",titre:!0},{nom:"Pose Faux-cils",en:"False Lashes Application",prix:10},{nom:"Pose Faux-cils (bouquets)",en:"False Lashes Application (Clusters)",prix:0},{nom:"Maquillage Mari\xE9",en:"Groom Makeup",prix:30,onlyOne:!0},{nom:"Pr\xE9sence avant 7h",en:"Early Presence (Before 7 AM)",prix:30,onlyOne:!0},{nom:"Suivi Mari\xE9e",en:"Bride Follow-Up",prix:50,hourly:!0}],this.typeinvitee=["Invit\xE9e","Mari\xE9e"],this.collegues=[["Clo\xE9","CHAUDRON","06.68.64.44.02","cloe.chaudron@outlook.com"],["Celma","SAHIDET","06.80.84.42.52","sahidetcelma@gmail.com"]],this.invitees=[[0,"8h30","8h45","9h00","9h00","10h15","15h30 \xE0 16h00","jusqu'\xE0 16h00","16h00",0]],this.planningtop=[{fr:"ARRIVEE"},{fr:"INSTALLATION"},{fr:"MAQUILLAGE"},{fr:"COIFFURE"},{fr:"FIN PRESTATION"},{fr:"RETOUCHES"},{fr:"DISPONIBILITE"},{fr:"CEREMONIE"}],this.lg="Fran\xE7ais",this.mode="devis",this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.paysage=!0,this.inited=!1}ngOnInit(){this.baseprestas.forEach(e=>{e.qte=0}),this.prestas=JSON.parse(JSON.stringify(this.baseprestas)),this.innerHeight>this.innerWidth?this.paysage=!1:this.paysage=!0}onInput(e,i=!1){if(e=e.replace(/\D/g,""),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"/"+e.slice(5)),i&&e.length>3&&(this.values[2]=e.substring(e.length-4),this.values[56]=e.substring(e.length-4)),e.length==10&&this.mode=="devis"){let[r,s,o]=e.split("/").map(Number),a=new Date(o,s-1,r);a.setDate(a.getDate()+14);let l=String(a.getDate()).padStart(2,"0"),c=String(a.getMonth()+1).padStart(2,"0"),u=a.getFullYear();this.values[13]=l+"/"+c+"/"+u}return e}deleteAll(){this.prestas.forEach(e=>e.qte=0)}init(e=void 0){this.inited=!1,this.prestas=JSON.parse(JSON.stringify(this.baseprestas));let i=new Date,r=new Date;r=new Date(r.getTime()+14*24*60*60*1e3);let s=new Date;if(s=new Date(s.getTime()+30*24*6*60*60*1e3),this.values[0]=this.datePipe.transform(i,"dd/MM/yyyy")||"",this.values[1]=e?e.maxDevis+1:"1",this.values[2]=this.datePipe.transform(i,"yyyy")||"",this.values[3]="Clo\xE9 Chaudron",this.values[5]="126 Rue de la Cerisaie",this.values[7]="84400 Gargas",this.values[9]="06.68.64.44.02",this.values[11]="cloe.chaudron@outlook.com",this.values[13]=this.datePipe.transform(r,"dd/MM/yyyy")||"",this.values[14]=this.datePipe.transform(s,"dd/MM/yyyy")||"",this.values[15]="",this.values[16]="Virement",this.values[50]="PLANNING",this.values[51]=this.datePipe.transform(s,"dd/MM/yyyy")||"",this.values[52]="",this.values[53]="",this.values[54]="",this.values[55]=e?e.maxFacture+1:"1",this.values[56]=this.datePipe.transform(i,"yyyy")||"",this.values[57]=this.datePipe.transform(i,"dd/MM/yyyy")||"",this.values[58]=this.datePipe.transform(r,"dd/MM/yyyy")||"",this.values[60]="",this.mode=this.data.mode,this.values[4]=this.data.nom,this.values[6]=this.data.adresse,this.values[8]=this.data.codepostal,this.values[10]=this.data.tel,this.values[12]=this.data.mail,this.values[14]=this.data.date,this.data.mode=="devis"&&this.data.devis)this.data.devis.prestas&&this.data.devis.prestas.forEach(o=>{let a=this.prestas.find(l=>o.nom.includes(l.nom));a?(a.qte=o.qte,a.prix=o.prix,a.reduc=o.reduc?o.reduc:0,a.nom=o.nom):this.prestas.push({qte:o.qte,nom:o.nom,prix:o.prix,reduc:o.reduc?o.reduc:0})}),this.data.devis.creation&&(this.values[0]=this.data.devis.creation),this.data.devis.numero&&(this.values[1]=this.data.devis.numero),this.data.devis.annee&&(this.values[2]=this.data.devis.annee),this.data.devis.echeance&&(this.values[13]=this.data.devis.echeance);else if(this.data.mode=="planning"&&!this.data.planning.date){if(this.values[51]=this.data.date,this.data.mariage&&this.data.mariage.domaine&&(this.values[52]=this.data.mariage.domaine),this.data.mariage&&this.data.mariage.adresse&&(this.values[53]=this.data.mariage.adresse),this.data.mariage&&this.data.mariage.codepostal&&(this.values[54]=this.data.mariage.codepostal),this.data.devis&&this.data.devis.prestas){this.invitees=[];let o=!1;if(this.data.devis.prestas.forEach(a=>{if((a.nom.includes("Renfort")||a.nom.includes("renfort"))&&(o=!0),a.bride&&!this.invitees.find(l=>l[0]==1))this.addInvitee(),a.nom.includes("Forfait")||(a.nom.includes("Maquillage")?this.invitees[this.invitees.length-1][4]="":a.nom.includes("Coiffure")&&(this.invitees[this.invitees.length-1][3]="")),this.changetypeinvitee(this.invitees[this.invitees.length-1],!0);else if(a.nom.includes("Invit\xE9e"))for(let l=0;l<a.qte;l++)this.addInvitee(),a.nom.includes("Forfait")||(a.nom.includes("Maquillage")?this.invitees[this.invitees.length-1][4]="":a.nom.includes("Coiffure")&&(this.invitees[this.invitees.length-1][3]="")),this.changetypeinvitee(this.invitees[this.invitees.length-1])}),o){let a=this.invitees.filter(c=>c[0]==0),l=Math.floor(a.length/2);if(l>0)for(let c=0;c<l;c++){let u=a.length-l+c;a[u][9]=1,c==0?(a[u][1]=this.invitees[0][1],a[u][2]=this.invitees[0][2],a[u][3]!=""&&(this.invitees[c][3]?a[u][3]=this.invitees[c][3]:this.invitees[c][4]&&(a[u][3]=this.invitees[c][4])),a[u][4]!=""&&(this.invitees[c][3]?a[u][4]=this.invitees[c][3]:this.invitees[c][4]&&(a[u][4]=this.invitees[c][4]))):(console.log(a[u],a[u-1]),a[u][3]!=""&&(a[u][3]=a[u-1][5]),a[u][4]!=""&&(a[u][4]=a[u-1][5])),this.changetypeinvitee(a[u])}}}}else if(this.data.mode=="planning"&&this.data.planning.date)this.collegues=this.data.planning.collegues,this.invitees=this.data.planning.invitees,this.values[51]=this.data.planning.date,this.values[52]=this.data.planning.domaine,this.values[53]=this.data.planning.adresse,this.values[54]=this.data.planning.codepostal;else if(this.data.mode=="facture"){if(this.data.factureClicked!=-1){let o=this.data.factures[this.data.factureClicked];if(o.prestas&&o.prestas.forEach(a=>{let l=this.prestas.find(c=>a.nom.includes(c.nom));l?(l.qte=a.qte,l.prix=a.prix,l.reduc=a.reduc?a.reduc:0,l.nom=a.nom):this.prestas.push({qte:a.qte,nom:a.nom,prix:a.prix,reduc:a.reduc?a.reduc:0})}),o.creation&&(this.values[57]=o.creation),o.numero&&(this.values[55]=o.numero),o.annee&&(this.values[56]=o.annee),o.solde&&(this.values[60]=o.solde),this.data.factures.length>0){let a=0;for(let l=0;l<this.data.factureClicked;l++)if(l!=this.data.factureClicked){let c=this.data.factures[l];c.solde?a+=parseFloat(c.solde):c.prestas.forEach(u=>{a+=this.calc(u)})}this.values[15]=a}}else if(this.data.etape==1)this.prestas.push({qte:1,nom:"Paiement Arrhes",prix:this.calcaresFromDevis(),reduc:0});else if(this.data.etape>1){this.data.devis.prestas.forEach(a=>{let l=this.prestas.find(c=>a.nom.includes(c.nom));l?(l.qte=a.qte,l.prix=a.prix,l.reduc=a.reduc?a.reduc:0,l.nom=a.nom):this.prestas.push({qte:a.qte,nom:a.nom,prix:a.prix,reduc:a.reduc?a.reduc:0})});let o=0;this.data.factures.forEach(a=>{a.solde?o+=parseFloat(a.solde):a.prestas.forEach(l=>{o+=this.calc(l)}),a.prestas.forEach(l=>{let c=this.prestas.find(u=>u.nom==l.nom&&u.prix==l.prix&&u.qte==l.qte);c&&(c.qte=0)})}),this.values[15]=o}}this.inited=!0}addPrestas(){let e=this.prestas.find(r=>r.nom=="Paiement Arrhes");e&&(e.qte=0),this.data.devis.prestas.forEach(r=>{let s=this.prestas.find(o=>r.nom.includes(o.nom));if(s)s.qte=r.qte,s.prix=r.prix,s.reduc=r.reduc?r.reduc:0,s.nom=r.nom;else{let o={qte:r.qte,nom:r.nom,prix:r.prix,reduc:r.reduc?r.reduc:0};r.nom.includes("Frais de d\xE9placement")&&(o.kilorly=!0),this.prestas.push(o)}});let i=0;this.data.factures.forEach(r=>{r.solde?i+=parseFloat(r.solde):r.prestas.forEach(s=>{i+=this.calc(s)}),r.prestas.forEach(s=>{let o=this.prestas.find(a=>a.nom==s.nom&&a.prix==s.prix&&a.qte==s.qte);o&&(o.qte=0)})}),this.values[15]=i}onFileSelected(e){return Be(this,null,function*(){let i=yield this.readPDF.onFileSelected(e);i.date&&(this.values[0]=i.date),i.devis&&(this.values[1]=i.devis),i.annee&&(this.values[2]=i.annee),i.nom&&(this.values[4]=i.nom),i.adresse&&(this.values[6]=i.adresse),i.codepostal&&(this.values[8]=i.codepostal),i.tel&&(this.values[10]=i.tel),i.mail&&(this.values[12]=i.mail),i.echeance&&(this.values[13]=i.echeance),i.prestas&&i.prestas.forEach(r=>{let s=this.prestas.find(o=>o.nom==r.nom);s?(s.qte=r.qte,s.prix=r.prix,s.reduc=r.reduc?r.reduc:0):this.prestas.push({qte:r.qte,nom:r.nom,prix:r.prix,reduc:r.reduc?r.reduc:0})})})}getDateArrhes(){return this.data.factures[0]?"("+this.data.factures[0].creation+")":""}return(){this.init(),this.retour.emit()}save(){if(this.mode=="devis"){let e={};e.prestas=this.prestas.filter(i=>i.qte>0||i.qte=="?"),e.creation=this.values[0],e.numero=this.values[1],e.annee=this.values[2],e.echeance=this.values[13],this.data.devis=e,this.data.etape==0&&(this.data.etape=1)}else if(this.mode=="facture"){let e={};e.prestas=this.prestas.filter(i=>i.qte>0||i.qte=="?"),e.creation=this.values[57],e.numero=this.values[55],e.annee=this.values[56],e.solde=this.calcTot(!0),this.values[60]&&(e.solde=this.values[60]),this.data.factures.length==0&&(this.data.etape=2,this.data.statut=="demande"&&(this.data.statut="reserve")),this.data.factureClicked==-1?this.data.factures.push(e):this.data.factures[this.data.factureClicked]=e}else if(this.mode=="planning"){let e={};e.date=this.values[51],e.domaine=this.values[52],e.adresse=this.values[53],e.codepostal=this.values[54],e.invitees=this.invitees,e.collegues=this.collegues,this.data.planning=e}this.values[4]!=""&&(this.data.nom=this.values[4]),this.values[6]!=""&&(this.data.adresse=this.values[6]),this.values[8]!=""&&(this.data.codepostal=this.values[8]),this.values[10]!=""&&(this.data.tel=this.values[10]),this.values[12]!=""&&(this.data.mail=this.values[12]),this.retour.emit()}checkRow(e,i,r){let s=this.getInvitees(r),o=s[e][i],a=1;for(let l=e+1;l<s.length&&(o!=""&&s[l][i]===o);l++)a++;return a}calculate(){this.invitees.sort((e,i)=>this.toDate(e[5])-this.toDate(i[5]))}actualiser(){this.calculate()}addInvitee(){this.calculate(),this.invitees.length==0?this.invitees.push([0,"8h30","8h45","9h00","9h00","10h15","","","",0]):this.invitees.push([0,"","",this.invitees.length>0?this.invitees[this.invitees.length-1][5]:"",this.invitees.length>0?this.invitees[this.invitees.length-1][5]:"",this.invitees.length>0?this.addMinutesToTime(this.invitees[this.invitees.length-1][5],75):"",this.invitees.length>0?this.invitees[this.invitees.length-1][6]:"",this.invitees.length>0?this.invitees[this.invitees.length-1][7]:"",this.invitees.length>0?this.invitees[this.invitees.length-1][8]:"",this.invitees.length>0?this.invitees[this.invitees.length-1][9]:0])}getInvitees(e){return this.invitees.filter(i=>i[9]==e)}trackByIndex(e,i){return e}getNbInvitee(e,i,r){let s=this.getInvitees(e),o=1;for(let a=0;a<i;a++)s[a][0]==r&&o++;return o}changetypeinvitee(e,i=!1){i&&(e[0]=e[0]==0?1:0),e[0]==1?e[3]!=""&&e[4]!=""?e[5]=this.addMinutesToTime(e[3],120):e[3]!=""?e[5]=this.addMinutesToTime(e[3],60):e[4]!=""&&(e[5]=this.addMinutesToTime(e[4],60)):e[0]==0&&(e[3]!=""&&e[4]!=""?e[5]=this.addMinutesToTime(e[3],75):e[3]!=""?e[5]=this.addMinutesToTime(e[3],45):e[4]!=""&&(e[5]=this.addMinutesToTime(e[4],45)))}toDate(e){let[i,r]=e.split("h").map(Number),s=new Date;return s.setHours(i),s.setMinutes(r),s}addMinutesToTime(e,i){let[r,s]=e.split("h").map(Number),o=new Date;o.setHours(r),o.setMinutes(s+i);let a=o.getHours(),l=o.getMinutes();return a+"h"+(l<10?l+"0":l)}deleteInvitee(e){this.invitees.splice(e,1),this.calculate()}deleteCollegue(e){this.collegues.splice(e,1)}checkCol(e,i,r){let s=this.getInvitees(r),o=s[e][i],a=1;for(let l=i+1;l<s[e].length&&(o!=""&&s[e][l]===o);l++)a++;return a}checkDisplay(e,i,r){let s=this.getInvitees(r),o=s[e][i];return o!=""&&s[e][i-1]===o||e>0&&o!=""&&s[e-1][i]===o}generatePDFfromHTML(){let e=document.getElementById("htmlContent");(0,ME.default)(e,{scale:4}).then(i=>{let r=i.toDataURL("image/jpeg"),s=new wt("p","mm","a4"),o=210,a=297,l=i.height*o/i.width,c=l,u=0;for(s.addImage(r,"JPEG",0,u,o,l),c-=a;c>=0;)u=c-l,s.addPage(),s.addImage(r,"JPEG",0,u,o,l),c-=a;let d="DEVIS_";this.mode=="facture"&&(d="FACTURE_"),this.mode=="planning"?d="PLANNING_"+this.values[51]:(this.values[1]<100&&(d=d+"0"),this.values[1]<10&&(d=d+"0"),d=d+this.values[1],d=d+"_"+this.values[2]),s.save(d+".pdf")})}addCollegue(){this.collegues.push(["","","",""])}getCollegues(){let e=[];for(let i=0;i<this.collegues.length;i++)this.getInvitees(i).length>0&&e.push(this.collegues[i]);return e}addPresta(){this.prestas.push({nom:"",qte:0,prix:50,reduc:""})}remplir(e){for(let i=0;i<this.collegues.length;i++){let r=this.getInvitees(i),s=r.find(o=>o[e]!="");s&&(e!=8?r.forEach(o=>{o[e]=s[e]}):this.invitees.forEach(o=>{o[e]=s[e]}))}}calc(e){let i=e.prix*e.qte;return e.kilorly&&(e.qte<=10?i=0:i=(e.qte-10)*2*e.prix),e.reduc&&(i=i-i*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(i=Math.floor(i)),i}calcTot(e=!1){let i=0;return this.prestas.filter(r=>r.qte>0).forEach(r=>{i+=this.calc(r)}),e&&this.values[15]!=""&&(i=i-this.values[15]),i}calcares(){let e=0;return this.prestas.filter(i=>i.bride&&i.qte>0).forEach(i=>{e+=this.calc(i)}),e!=0&&(e=.3*e),Math.floor(e)}calcaresFromDevis(){let e=0;return this.data.devis.prestas.filter(r=>r.bride&&r.qte>0).forEach(r=>{e+=this.calc(r)}),e!=0&&(e=.3*e),Math.floor(e)}transform(e){return typeof e=="string"&&(e=e.replace(/[^0-9\.,]/g,""),e=parseFloat(e)),Number.isInteger(e)?e<100?e.toFixed(2).replace(".",","):e.toString():e.toFixed(2).replace(".",",")}getDevis(){this.http.get("http"+(Fa()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/devisget").subscribe(e=>{this.values[1]=e.num})}formatDate(e){let[i,r,s]=e.split("/");return this.lg==="Anglais"?`${r}/${i}/${s}`:e}trackVisit(){let e={num:this.values[1]+1};Kr(fetch("http"+(Fa()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/devisset",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},method:"POST",mode:"no-cors"})).subscribe(i=>{})}static{this.\u0275fac=function(i){return new(i||n)(Pt(Mp),Pt(Nd),Pt(IE))}}static{this.\u0275cmp=$f({type:n,selectors:[["app-devis"]],hostBindings:function(i,r){i&1&&rt("resize",function(o){return r.onResize(o)},!1,bd)},inputs:{data:"data"},outputs:{retour:"retour"},standalone:!0,features:[Oa([Mp]),dp],decls:1,vars:1,consts:[["elseBlock",""],[3,"flex","portrait",4,"ngIf"],["id","htmlContent","class","noplanning",4,"ngIf"],["id","htmlContent",4,"ngIf"],[1,"inputs"],[3,"click"],[1,"flex","center",3,"click"],["class","flex boutons",4,"ngIf"],[1,"flex"],["type","file","accept","application/pdf",3,"change"],[1,"flex","center"],["type","text","placeholder","Date..",3,"ngModel","ngModelChange","input",4,"ngIf"],[1,"ligne"],["class","flex right",4,"ngIf"],["class","flex between",4,"ngIf"],["class","prestas",3,"noOverflow",4,"ngIf"],["class","flex",4,"ngIf"],["class","flex big center between marg",4,"ngIf"],[1,"marg"],["class","flex center",3,"click",4,"ngIf"],["class","domaine",4,"ngIf"],["id","htmlContent",1,"noplanning"],["src","logo.png",1,"logo"],["class","rosebg","style","color: white",4,"ngIf"],[1,"date"],[1,"content"],["class","devis tinytext",4,"ngIf"],[1,"flex","between"],[1,"cloe"],[1,"nobold"],[1,"cloe","client"],[1,"table","margtop"],[1,"fullligne"],["class","table",4,"ngFor","ngForOf"],["class","tinytext echeance",4,"ngIf"],[1,"bold"],[1,"bold","total"],[1,"flex","minitxt"],[4,"ngIf"],[1,"tva"],["class","tinytext bold",4,"ngIf"],["class","infos",4,"ngIf"],["class","signature",4,"ngIf"],["class","resume",4,"ngIf"],[1,"sign"],[1,"bottom"],[1,"rosebg",2,"color","white"],["class","iban",4,"ngIf"],[1,"thank"],[1,"devis","tinytext"],[1,"table"],[1,"textoverflow"],["class","green",4,"ngIf"],[1,"green"],[1,"tinytext","echeance"],[1,"tinytext","bold"],[1,"infos"],[1,"signature"],[1,"resume"],["class","tinytext",4,"ngIf"],[1,"tinytext"],[1,"iban"],["id","htmlContent"],[1,"tableplann"],["class","relative containerline",4,"ngFor","ngForOf"],[1,"absolute"],["class","relative",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","bottom",4,"ngIf"],[1,"bottomplann"],[1,"adres"],[1,"cont"],[1,"relative","containerline"],[1,"orientedline"],[1,"relative"],["class","artist",4,"ngIf"],[1,"firstrow"],[1,"invitee"],[1,"horaire"],[1,"horaire","noborder"],["class","horaire",3,"none","odd",4,"ngIf"],[1,"artist"],[1,"flex","boutons"],["type","text","placeholder","Date..",3,"ngModelChange","input","ngModel"],[1,"flex","right"],["type","text","placeholder","N\xB0 du devis..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","N\xB0 de facture..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Ann\xE9e..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","N\xB0 du devis..",3,"ngModelChange","ngModel"],["type","text","placeholder","N\xB0 de facture..",3,"ngModelChange","ngModel"],["type","text","placeholder","Ann\xE9e..",3,"ngModelChange","ngModel"],[1,"flex","big"],["type","text","placeholder","Nom Clo\xE9..",3,"ngModelChange","ngModel"],[1,"flex","right","big"],["type","text","placeholder","Nom client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + ville Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + ville client..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail client..",3,"ngModelChange","ngModel"],[1,"prestas"],[3,"click",4,"ngIf"],["class","flex between",3,"title",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"flex","qte"],[1,"clickable",3,"click"],["type","text","placeholder","Quantit\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Nom..",1,"nom",3,"ngModelChange","ngModel"],["type","text","placeholder","Prix..",3,"ngModelChange","ngModel"],["type","text","placeholder","R\xE9duction..",3,"ngModelChange","ngModel"],["type","text","placeholder","\xC9ch\xE9ance..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","\xC9ch\xE9ance..",3,"ngModelChange","ngModel"],["type","text","placeholder","D\xE9j\xE0 vers\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Solde..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mode de paiement..",3,"ngModelChange","ngModel"],[1,"nomslignes"],[1,"dataplanning","flex"],["class","inviteesinput",4,"ngFor","ngForOf","ngForTrackBy"],[1,"inviteesinput"],[3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngModelChange","ngModel"],[3,"ngValue"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModelChange","ngModel"],[1,"flex","big","center","between","marg"],[1,"domaine"],["type","text","placeholder","Domaine..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + Ville..",3,"ngModelChange","ngModel"]],template:function(i,r){i&1&&Ze(0,IF,50,29,"div",1),i&2&&De("ngIf",r.data&&r.inited)},dependencies:[Gp,$p,Wp,lu,cu,zp,Vd,Sd,Dp,Ip],styles:["#htmlContent[_ngcontent-%COMP%]{width:595px!important;height:842px!important;border:2px solid transparent;position:relative;min-width:595px!important}.inputs[_ngcontent-%COMP%]{width:50%;height:842px!important;border:2px solid transparent;position:relative}.portrait[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{width:595px!important}*[_ngcontent-%COMP%]{-webkit-user-select:none;-ms-user-select:none;user-select:none}.textoverflow[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.rosebg[_ngcontent-%COMP%]{background-color:#ab83ba22;font-size:25.1px;text-align:center;letter-spacing:15px}.center[_ngcontent-%COMP%]{justify-content:center}.right[_ngcontent-%COMP%]{justify-content:right}input[_ngcontent-%COMP%]{text-align:center;width:80px;margin:0 5px}.inputs[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:100%;margin:2px 0}.big[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:180px}.logo[_ngcontent-%COMP%]{width:30%;margin:5px auto 10px;display:flex}p[_ngcontent-%COMP%]{font-family:Cardo,serif!important;font-weight:400;font-style:normal;margin:0;font-size:14px;letter-spacing:1px}.date[_ngcontent-%COMP%]{text-align:center;font-size:15px}.ligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:90%;display:flex;margin:auto}.fullligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:100%;display:flex;margin:auto}.margtop[_ngcontent-%COMP%]{margin-top:25px}.marg[_ngcontent-%COMP%]{padding:20px!important}.content[_ngcontent-%COMP%]{padding:0 15px;position:relative}.cloe[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;position:relative}.none[_ngcontent-%COMP%]{display:none}.noborder[_ngcontent-%COMP%]{border:unset!important;border-top:1px solid black!important;border-bottom:1px solid black!important;padding-left:15px}.nobold[_ngcontent-%COMP%]{font-weight:unset!important}.bold[_ngcontent-%COMP%]{font-weight:700!important}.flex[_ngcontent-%COMP%]{display:flex}.between[_ngcontent-%COMP%]{justify-content:space-between}.tinytext[_ngcontent-%COMP%]{font-size:12px!important}.devis[_ngcontent-%COMP%], .client[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;display:flex;left:120px}.invitee[_ngcontent-%COMP%]{white-space:nowrap;position:absolute;left:5px;top:2px}.inviteesinput[_ngcontent-%COMP%]{display:flex;flex-direction:column}.inviteesinput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:unset!important;width:100px!important}.dataplanning[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;padding:2vh 0vw;max-width:70%}.firstrow[_ngcontent-%COMP%]{opacity:0}.firstrow[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid transparent;border-bottom:1px solid black}.nomslignes[_ngcontent-%COMP%]{padding:2vh 0vw}.nomslignes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px;text-align:right;height:22px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tableplann[_ngcontent-%COMP%]{display:flex;height:85px;padding-left:62px}.tableplann[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:63.25px;white-space:nowrap;text-align:center;font-size:10px!important;transform:rotate(-45deg);transform-origin:left bottom;height:40px;top:62px;position:relative}.tableplann[_ngcontent-%COMP%]   .containerline[_ngcontent-%COMP%]{position:relative;width:63.25px}.tableplann[_ngcontent-%COMP%]   .orientedline[_ngcontent-%COMP%]{left:0;position:absolute;border-left:1px solid black;height:85px;transform:rotate(45deg);transform-origin:bottom left}select[_ngcontent-%COMP%]{width:108px}.artist[_ngcontent-%COMP%]{position:relative;top:-22px;text-align:right;font-style:italic}table[_ngcontent-%COMP%]{border-collapse:collapse;top:-21px;left:-14px;position:relative}table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#ab83ba22}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black}table[_ngcontent-%COMP%]   .firsttd[_ngcontent-%COMP%]{width:75px}table[_ngcontent-%COMP%]   .horaire[_ngcontent-%COMP%]{width:60px;min-width:60px;max-width:60px;text-align:center}.noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{display:flex}.noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:10%;white-space:nowrap;text-align:center;font-size:10px!important}.noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:45%}.noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:20%}.noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){width:15%}.echeance[_ngcontent-%COMP%]{width:75%}.total[_ngcontent-%COMP%]{width:15%;text-align:right}.boutons[_ngcontent-%COMP%]{justify-content:space-evenly}.boutons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.resume[_ngcontent-%COMP%]{position:relative;top:100px}.minitxt[_ngcontent-%COMP%]{position:relative;width:100%;top:-4px}.minitxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important;width:100%}.minitxt[_ngcontent-%COMP%]   .tva[_ngcontent-%COMP%]{text-align:right;font-size:8px!important;white-space:nowrap}.infos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px!important}ul[_ngcontent-%COMP%]{margin:0;font-size:9px;padding:0 20px}.infos[_ngcontent-%COMP%]{margin-top:20px}.signature[_ngcontent-%COMP%]{font-size:10px!important;margin-top:10px}.iban[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ab83ba;font-size:12px!important}.thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#87528e;font-size:29px!important;text-align:center}.bottomplann[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.bottomplann[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{color:#87528e;text-decoration:underline;font-weight:700}.bottomplann[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.adres[_ngcontent-%COMP%]{border:1px solid black;width:250px;padding:5px 0;margin:15px 0}.adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5px}.adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;border-bottom:1px solid black}.adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-style:italic;padding-top:5px}.adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-style:italic}.domaine[_ngcontent-%COMP%]{display:flex;flex-direction:column}.domaine[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30%}.domaine[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%}.bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.bottom[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{margin:0 20px}.bottom[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]{width:60%}.bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]{width:40%}.bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;letter-spacing:10px}.disabled[_ngcontent-%COMP%]{color:#fff!important;pointer-events:none}.green[_ngcontent-%COMP%]{font-weight:700;color:#399b39}.prestas[_ngcontent-%COMP%]{max-height:300px;overflow-y:scroll;border:1px solid black;margin:20px 0;padding:10px}.prestas[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:unset}.prestas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px;font-size:11px}.prestas[_ngcontent-%COMP%]   .qte[_ngcontent-%COMP%]{width:100px}.prestas[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{width:80%;text-align:center}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;width:100%!important;border-bottom:1px solid black}.clickable[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700;color:red}.noOverflow[_ngcontent-%COMP%]{max-height:unset!important;overflow:hidden!important}"]})}}return n})();var N_=Pm(NE());var PE={production:!1,password:"dyoniss84"};var MF=["devis"],kE=()=>[],TF=(n,t)=>({"top.px":n,"left.px":t});function NF(n,t){if(n&1){let e=ut();V(0,"div",3)(1,"input",4),vt("ngModelChange",function(r){Ne(e);let s=ce();return _t(s.mdp,r)||(s.mdp=r),Pe(r)}),H(),V(2,"button",5),rt("click",function(){Ne(e);let r=ce();return Pe(r.checkMdp())}),ie(3,"Valider"),H()()}if(n&2){let e=ce();J(),mt("ngModel",e.mdp)}}function PF(n,t){if(n&1){let e=ut();V(0,"div",13)(1,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.year=r.year-1)}),ie(2,"<"),H(),V(3,"p",14),ie(4),H(),V(5,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.year=r.year+1)}),ie(6,">"),H()()}if(n&2){let e=ce(2);J(4),Je(e.year)}}function kF(n,t){if(n&1){let e=ut();V(0,"div",13)(1,"button",5),rt("click",function(){Ne(e);let r=ce(2);return r.month=void 0,Pe(r.monthIndex=void 0)}),ie(2,"< Retour"),H(),V(3,"p",14),ie(4),H()()}if(n&2){let e=ce(2);J(4),Je(e.year)}}function LF(n,t){if(n&1){let e=ut();V(0,"div",15)(1,"input",16),vt("ngModelChange",function(r){Ne(e);let s=ce(2);return _t(s.search,r)||(s.search=r),Pe(r)}),H()()}if(n&2){let e=ce(2);J(),mt("ngModel",e.search)}}function OF(n,t){if(n&1&&(V(0,"div"),ie(1),H()),n&2){let e=t.$implicit;J(),Je(e)}}function FF(n,t){n&1&&pi(0,"div",26)}function RF(n,t){if(n&1&&(V(0,"p",29),ie(1),H()),n&2){let e=ce().$implicit,i=ce().index,r=ce(4);J(),Je(r.numberOfEvents(i,e))}}function jF(n,t){if(n&1){let e=ut();V(0,"div",27),rt("mouseenter",function(r){let s=Ne(e).$implicit,o=ce().index,a=ce(4);return Pe(a.showTooltip(r,o,s))})("mouseleave",function(){Ne(e);let r=ce(5);return Pe(r.hideTooltip())})("click",function(){let r=Ne(e).$implicit,s=ce().index,o=ce(4);return Pe(o.clickJour(s,r,o.year))}),ie(1),Ze(2,RF,2,1,"p",28),H()}if(n&2){let e=t.$implicit,i=ce().index,r=ce(4);nn("ant",r.isAnt(i,e,r.year))("nopointer",r.portrait),De("ngClass",r.isOccupied(r.year,i,e)),J(),Gn(" ",e," "),J(),De("ngIf",r.numberOfEvents(i,e)>1)}}function BF(n,t){if(n&1){let e=ut();V(0,"div",20),rt("click",function(){let r=Ne(e),s=r.$implicit,o=r.index,a=ce(4);return Pe(a.clickMonth(s,o))}),V(1,"h3"),ie(2),H(),V(3,"div",21),Ze(4,OF,2,1,"div",22),H(),V(5,"div",23),Ze(6,FF,1,0,"div",24)(7,jF,3,7,"div",25),H()()}if(n&2){let e=t.$implicit,i=t.index,r=ce(4);J(2),Je(e+" ("+(i+1)+")"),J(2),De("ngForOf",r.weekDays),J(2),De("ngForOf",Gv(4,kE).constructor(r.getFirstDayOfMonth(r.year,i)===0?6:r.getFirstDayOfMonth(r.year,i)-1)),J(),De("ngForOf",r.getDaysInMonth(r.year,i))}}function VF(n,t){if(n&1&&(Cs(0),Ze(1,BF,8,5,"div",19),xs()),n&2){let e=ce(3);J(),De("ngForOf",e.months)}}function HF(n,t){if(n&1&&(V(0,"div"),ie(1),H()),n&2){let e=t.$implicit;J(),Je(e)}}function UF(n,t){n&1&&pi(0,"div",26)}function zF(n,t){if(n&1&&(V(0,"p",29),ie(1),H()),n&2){let e=ce().$implicit,i=ce(4);J(),Je(i.numberOfEvents(i.monthIndex,e))}}function qF(n,t){if(n&1){let e=ut();V(0,"div",27),rt("mouseenter",function(r){let s=Ne(e).$implicit,o=ce(4);return Pe(o.showTooltip(r,o.monthIndex,s))})("mouseleave",function(){Ne(e);let r=ce(4);return Pe(r.hideTooltip())})("click",function(){let r=Ne(e).$implicit,s=ce(4);return Pe(s.clickJour(s.monthIndex,r,s.year))}),ie(1),Ze(2,zF,2,1,"p",28),H()}if(n&2){let e=t.$implicit,i=ce(4);nn("ant",i.isAnt(i.monthIndex,e,i.year)),De("ngClass",i.isOccupied(i.year,i.monthIndex,e)),J(),Gn(" ",e," "),J(),De("ngIf",i.numberOfEvents(i.monthIndex,e)>1)}}function $F(n,t){if(n&1){let e=ut();Cs(0),V(1,"div",30)(2,"div",31)(3,"p",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.otherMonth(-1))}),ie(4,"<"),H(),V(5,"p",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.otherMonth(1))}),ie(6,">"),H()(),V(7,"h3"),ie(8),H(),V(9,"div",21),Ze(10,HF,2,1,"div",22),H(),V(11,"div",23),Ze(12,UF,1,0,"div",24)(13,qF,3,5,"div",32),H()(),xs()}if(n&2){let e=ce(3);J(8),Je(e.month+" ("+(e.monthIndex+1)+")"),J(2),De("ngForOf",e.weekDays),J(2),De("ngForOf",Gv(4,kE).constructor(e.getFirstDayOfMonth(e.year,e.monthIndex)===0?6:e.getFirstDayOfMonth(e.year,e.monthIndex)-1)),J(),De("ngForOf",e.getDaysInMonth(e.year,e.monthIndex))}}function WF(n,t){if(n&1&&(V(0,"div",17),Ze(1,VF,2,1,"ng-container",18)(2,$F,14,5,"ng-container",18),H()),n&2){let e=ce(2);J(),De("ngIf",e.portrait&&!e.month||!e.portrait),J(),De("ngIf",e.portrait&&e.month)}}function GF(n,t){if(n&1){let e=ut();V(0,"div",44)(1,"p",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.onRetour(-1))}),ie(2,"<"),H(),V(3,"p",14),ie(4),H(),V(5,"p",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.onRetour(1))}),ie(6,">"),H()()}if(n&2){let e=ce(3);J(4),Je(e.otherEvents()-1+" autre \xE9v\xEAnement")}}function YF(n,t){if(n&1){let e=ut();V(0,"div",45)(1,"div")(2,"p"),ie(3,"Date : "),H(),V(4,"input",46),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.date,r)||(s.jourClicked.date=r),Pe(r)}),H()(),V(5,"div")(6,"p"),ie(7,"Nom : "),H(),V(8,"input",47),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.nom,r)||(s.jourClicked.nom=r),Pe(r)}),H()(),V(9,"div")(10,"p"),ie(11,"Adresse : "),H(),V(12,"input",48),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.adresse,r)||(s.jourClicked.adresse=r),Pe(r)}),H()(),V(13,"div")(14,"p"),ie(15,"Code postal & Ville : "),H(),V(16,"input",49),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.codepostal,r)||(s.jourClicked.codepostal=r),Pe(r)}),H()(),V(17,"div")(18,"p"),ie(19,"T\xE9l\xE9phone : "),H(),V(20,"input",50),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.tel,r)||(s.jourClicked.tel=r),Pe(r)}),H()(),V(21,"div")(22,"p"),ie(23,"Mail : "),H(),V(24,"input",51),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.mail,r)||(s.jourClicked.mail=r),Pe(r)}),H()(),V(25,"div")(26,"p"),ie(27,"Statut : "),H(),V(28,"select",52),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.statut,r)||(s.jourClicked.statut=r),Pe(r)}),V(29,"option",53),ie(30,"Demande Mariage"),H(),V(31,"option",54),ie(32,"Mariage r\xE9serv\xE9"),H(),V(33,"option",55),ie(34,"Autre (Shooting, Tournage, Animation..)"),H()()(),V(35,"div")(36,"p"),ie(37,"Essai : "),H(),V(38,"div",56)(39,"input",57),rt("input",function(){Ne(e);let r=ce(3);return Pe(r.jourClicked.essai.date=r.onInput(r.jourClicked.essai.date))}),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.essai.date,r)||(s.jourClicked.essai.date=r),Pe(r)}),H(),V(40,"input",58),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.essai.lieu,r)||(s.jourClicked.essai.lieu=r),Pe(r)}),H(),V(41,"input",59),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.essai.heure,r)||(s.jourClicked.essai.heure=r),Pe(r)}),H()()(),V(42,"div")(43,"p"),ie(44,"Mariage : "),H(),V(45,"div",56)(46,"input",60),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.mariage.domaine,r)||(s.jourClicked.mariage.domaine=r),Pe(r)}),H(),V(47,"input",48),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.mariage.adresse,r)||(s.jourClicked.mariage.adresse=r),Pe(r)}),H(),V(48,"input",61),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.mariage.codepostal,r)||(s.jourClicked.mariage.codepostal=r),Pe(r)}),H()()()()}if(n&2){let e=ce(3);J(4),nn("red",e.diffs&&e.diffs.date),mt("ngModel",e.jourClicked.date),J(4),nn("red",e.diffs&&e.diffs.nom),mt("ngModel",e.jourClicked.nom),J(4),nn("red",e.diffs&&e.diffs.adresse),mt("ngModel",e.jourClicked.adresse),J(4),nn("red",e.diffs&&e.diffs.codepostal),mt("ngModel",e.jourClicked.codepostal),J(4),nn("red",e.diffs&&e.diffs.tel),mt("ngModel",e.jourClicked.tel),J(4),nn("red",e.diffs&&e.diffs.mail),mt("ngModel",e.jourClicked.mail),J(4),nn("red",e.diffs&&e.diffs.statut),mt("ngModel",e.jourClicked.statut),J(11),nn("red",e.diffs&&e.diffs.essai&&e.diffs.essai.date),mt("ngModel",e.jourClicked.essai.date),J(),nn("red",e.diffs&&e.diffs.essai&&e.diffs.essai.lieu),mt("ngModel",e.jourClicked.essai.lieu),J(),nn("red",e.diffs&&e.diffs.essai&&e.diffs.essai.heure),mt("ngModel",e.jourClicked.essai.heure),J(5),nn("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.domaine),mt("ngModel",e.jourClicked.mariage.domaine),J(),nn("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.adresse),mt("ngModel",e.jourClicked.mariage.adresse),J(),nn("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.codepostal),mt("ngModel",e.jourClicked.mariage.codepostal)}}function XF(n,t){if(n&1&&(V(0,"div",56)(1,"p"),ie(2),H(),V(3,"p"),ie(4),H(),V(5,"p"),ie(6),H()()),n&2){let e=ce(4);J(2),Je(e.jourClicked.mariage.domaine),J(2),Je(e.jourClicked.mariage.adresse),J(2),Je(e.jourClicked.mariage.codepostal)}}function KF(n,t){if(n&1&&(V(0,"div",62)(1,"div")(2,"p"),ie(3,"Nom :\xA0"),H(),V(4,"p"),ie(5),H()(),V(6,"div")(7,"p"),ie(8,"Adresse :\xA0"),H(),V(9,"p"),ie(10),H()(),V(11,"div")(12,"p"),ie(13,"Code postal & Ville :\xA0"),H(),V(14,"p"),ie(15),H()(),V(16,"div")(17,"p"),ie(18,"T\xE9l\xE9phone :\xA0"),H(),V(19,"p"),ie(20),H()(),V(21,"div")(22,"p"),ie(23,"Mail :\xA0"),H(),V(24,"p"),ie(25),H()(),V(26,"div")(27,"p"),ie(28,"Statut :\xA0"),H(),V(29,"p"),ie(30),H()(),V(31,"div")(32,"p"),ie(33,"Essai :\xA0"),H(),V(34,"div",56)(35,"p"),ie(36),H(),V(37,"p"),ie(38),H(),V(39,"p"),ie(40),H()()(),V(41,"div")(42,"p"),ie(43,"Mariage :\xA0"),H(),Ze(44,XF,7,3,"div",63),H()()),n&2){let e=ce(3);J(5),Je(e.jourClicked.nom),J(5),Je(e.jourClicked.adresse),J(5),Je(e.jourClicked.codepostal),J(5),Je(e.jourClicked.tel),J(5),Je(e.jourClicked.mail),J(5),Je(e.jourClicked.statut),J(6),Je(e.jourClicked.essai.date),J(2),Je(e.jourClicked.essai.lieu),J(2),Je(e.jourClicked.essai.heure),J(4),De("ngIf",e.jourClicked.mariage)}}function ZF(n,t){if(n&1){let e=ut();V(0,"button",66),rt("click",function(){Ne(e);let r=ce(4);return Pe(r.clickDevis())}),ie(1),H()}if(n&2){let e=ce(4);nn("red",e.diffs&&e.diffs.devis),J(),Je(e.formatNumber(e.jourClicked.devis.numero)+"_"+e.jourClicked.devis.annee+" ("+e.jourClicked.devis.creation+")")}}function QF(n,t){if(n&1){let e=ut();V(0,"button",5),rt("click",function(){Ne(e);let r=ce(4);return Pe(r.clickDevis())}),ie(1,"Editer"),H()}}function JF(n,t){if(n&1&&(V(0,"div",64)(1,"p"),ie(2,"Devis : "),H(),Ze(3,ZF,2,3,"button",65)(4,QF,2,0,"button",42),H()),n&2){let e=ce(3);J(3),De("ngIf",e.jourClicked.devis&&e.jourClicked.devis.creation),J(),De("ngIf",!e.jourClicked.devis||!e.jourClicked.devis.creation)}}function eR(n,t){if(n&1&&(V(0,"option",70),ie(1),H()),n&2){let e=t.$implicit,i=t.index,r=ce(5);nn("red",r.diffs&&r.diffs.factures&&r.diffs.factures[i]),De("value",i),J(),Je(r.formatNumber(e.numero)+"_"+e.annee+" : "+(e.solde?e.solde:r.calcPaye())+"\u20AC ("+e.creation+")")}}function tR(n,t){if(n&1){let e=ut();V(0,"select",68),vt("ngModelChange",function(r){Ne(e);let s=ce(4);return _t(s.selectedValue,r)||(s.selectedValue=r),Pe(r)}),rt("change",function(r){Ne(e);let s=ce(4);return Pe(s.clickFacture(r))}),Ze(1,eR,2,4,"option",69),H()}if(n&2){let e=ce(4);mt("ngModel",e.selectedValue),J(),De("ngForOf",e.jourClicked.factures)}}function nR(n,t){if(n&1){let e=ut();V(0,"div",64)(1,"p"),ie(2,"Factures : "),H(),Ze(3,tR,2,2,"select",67),V(4,"button",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.clickFacture())}),ie(5,"Ajouter Facture"),H()()}if(n&2){let e=ce(3);J(3),De("ngIf",e.jourClicked.factures.length>0)}}function iR(n,t){if(n&1){let e=ut();V(0,"div",64)(1,"p"),ie(2,"Prestataires : "),H(),V(3,"input",71),vt("ngModelChange",function(r){Ne(e);let s=ce(3);return _t(s.jourClicked.prestataires,r)||(s.jourClicked.prestataires=r),Pe(r)}),H()()}if(n&2){let e=ce(3);J(3),mt("ngModel",e.jourClicked.prestataires)}}function rR(n,t){if(n&1){let e=ut();V(0,"button",66),rt("click",function(){Ne(e);let r=ce(4);return Pe(r.clickPlanning())}),ie(1),H()}if(n&2){let e=ce(4);nn("red",e.diffs&&e.diffs.planning),J(),Je(e.jourClicked.planning.date)}}function sR(n,t){if(n&1){let e=ut();V(0,"button",5),rt("click",function(){Ne(e);let r=ce(4);return Pe(r.clickPlanning())}),ie(1,"Editer"),H()}}function oR(n,t){if(n&1&&(V(0,"div",64)(1,"p"),ie(2,"Planning : "),H(),Ze(3,rR,2,3,"button",65)(4,sR,2,0,"button",42),H()),n&2){let e=ce(3);J(3),De("ngIf",e.jourClicked.planning&&e.jourClicked.planning.date),J(),De("ngIf",!e.jourClicked.planning||!e.jourClicked.planning.date)}}function aR(n,t){if(n&1){let e=ut();V(0,"div",64)(1,"p"),ie(2,"Etape : "),H(),V(3,"button",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.clickEtape())}),ie(4),H()()}if(n&2){let e=ce(3);J(4),Je(e.getEtape())}}function lR(n,t){if(n&1&&(V(0,"div",77)(1,"p"),ie(2),H(),V(3,"p"),ie(4),H(),V(5,"p"),ie(6),H(),V(7,"p"),ie(8),H()()),n&2){let e=t.$implicit,i=ce(5);J(2),Je(e.qte=="?"?"?":e.qte),J(2),Je(e.nom),J(2),Je(e.reduc==0||!e.reduc?"":e.reduc+"%"),J(2),Je(i.calcToString(e))}}function cR(n,t){if(n&1&&(V(0,"div",74)(1,"div",75)(2,"p"),ie(3,"Qte"),H(),V(4,"p"),ie(5,"Presta"),H(),V(6,"p"),ie(7,"Reduc"),H(),V(8,"p"),ie(9,"Prix"),H()(),pi(10,"div"),Ze(11,lR,9,4,"div",76),pi(12,"div"),V(13,"div",75)(14,"p"),ie(15),H(),V(16,"p"),ie(17),H(),V(18,"p"),ie(19,"Total :"),H(),V(20,"p"),ie(21),H()()()),n&2){let e=ce(4);J(11),De("ngForOf",e.jourClicked.devis.prestas),J(4),Je(e.jourClicked.factures.length==0?"Arrhes":"Pay\xE9 : "),J(2),Je(e.jourClicked.factures.length==0?e.calcares():e.calcPaye()),J(4),Je(e.calcTot())}}function uR(n,t){if(n&1&&(V(0,"div",72),Ze(1,cR,22,4,"div",73),H()),n&2){let e=ce(3);J(),De("ngIf",e.jourClicked.devis.prestas)}}function dR(n,t){if(n&1){let e=ut();V(0,"button",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.save())}),ie(1,"Sauvegarder"),H()}}function hR(n,t){if(n&1){let e=ut();V(0,"button",78),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.delete())}),ie(1,"Supprimer"),H()}}function fR(n,t){if(n&1){let e=ut();V(0,"button",5),rt("click",function(){Ne(e);let r=ce(3);return Pe(r.goToWed())}),ie(1,"Aller au mariage"),H()}}function pR(n,t){if(n&1){let e=ut();V(0,"div",33)(1,"p",34),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.onRetour())}),ie(2,"< Retour"),H(),V(3,"div",35)(4,"p",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.changeJour(-1))}),ie(5,"<"),H(),V(6,"p",14),ie(7),H(),V(8,"p",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.changeJour(1))}),ie(9,">"),H()(),Ze(10,GF,7,1,"div",36)(11,YF,49,39,"div",37)(12,KF,45,10,"div",38)(13,JF,5,2,"div",39)(14,nR,6,1,"div",39)(15,iR,4,1,"div",39)(16,oR,5,2,"div",39)(17,aR,5,1,"div",39)(18,uR,2,1,"div",40),V(19,"div",41),Ze(20,dR,2,0,"button",42),V(21,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.onRetour(2))}),ie(22,"Ajouter \xE9v\xEAnement"),H(),V(23,"button",5),rt("click",function(){Ne(e);let r=ce(2);return Pe(r.end())}),ie(24,"Cloturer"),H(),Ze(25,hR,2,0,"button",43)(26,fR,2,0,"button",42),H()()}if(n&2){let e=ce(2);J(7),Je(e.formatDate(e.jourClicked.date)),J(3),De("ngIf",e.otherEvents()>1),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut=="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut!="essai"),J(2),De("ngIf",e.jourClicked.statut!="essai"),J(5),De("ngIf",e.jourClicked.id&&e.jourClicked.statut!="essai"),J(),De("ngIf",e.jourClicked.statut=="essai")}}function gR(n,t){n&1&&(V(0,"div",79)(1,"button",80),ie(2,"R\xE9serv\xE9"),H(),V(3,"button",81),ie(4,"Demande"),H(),V(5,"button",82),ie(6,"Essai"),H(),V(7,"button",83),ie(8,"Autre (Shooting, Tournage, Animation..)"),H()())}function mR(n,t){if(n&1&&(V(0,"p"),ie(1),H()),n&2){let e=t.$implicit;J(),Je(e.statut+" : "+e.nom)}}function vR(n,t){if(n&1&&(V(0,"div",84),Ze(1,mR,2,1,"p",22),H()),n&2){let e=ce(2);De("ngStyle",hx(2,TF,e.tooltip.y,e.tooltip.x)),J(),De("ngForOf",e.tooltip.data)}}function yR(n,t){if(n&1){let e=ut();V(0,"div"),Ze(1,PF,7,1,"div",6)(2,kF,5,1,"div",6)(3,LF,2,1,"div",7)(4,WF,3,2,"div",8),V(5,"app-devis",9,0),rt("retour",function(){Ne(e);let r=ce();return Pe(r.jourClicked.mode=void 0)}),H(),Ze(7,pR,27,13,"div",10)(8,gR,9,0,"div",11)(9,vR,2,5,"div",12),H()}if(n&2){let e=ce();nn("portrait",e.portrait),J(),De("ngIf",!e.jourClicked&&(e.portrait&&!e.month||!e.portrait)),J(),De("ngIf",!e.jourClicked&&e.portrait&&e.month),J(),De("ngIf",!e.jourClicked&&(e.portrait&&!e.month||!e.portrait)),J(),De("ngIf",!e.jourClicked),J(),nn("hidden",e.jourClicked&&e.jourClicked.mode==null),De("data",e.jourClicked),J(2),De("ngIf",e.jourClicked&&e.jourClicked.mode==null),J(),De("ngIf",!e.jourClicked),J(),De("ngIf",e.tooltip.visible)}}var LE=(()=>{class n{constructor(e,i){this.http=e,this.location=i,this.months=["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],this.year=2025,this.jourClicked=void 0,this.jourClickedSave=void 0,this.weekDays=["L","M","M","J","V","S","D"],this.occupiedDates=[],this.tooltip={visible:!1,x:0,y:0,data:null},this.diffs=void 0,this.lang="fra",this.extractedText="",this.loading=!1,this.etapes=["Devis","Arrhes"],this.changed=!1,this.event=0,this.search="",this.portrait=!1,this.month=void 0,this.monthIndex=void 0,this.selectedValue=null,this.mdp="",this.okmdp=!1,this.innerWidth=window.outerWidth,this.innerHeight=window.outerHeight}onResize(e){this.innerHeight=e.target.innerHeight,this.innerWidth=e.target.innerWidth,e.target.innerHeight>e.target.innerWidth?this.portrait=!0:this.portrait=!1}onPopState(e){history.pushState(null,"",location.href),e.preventDefault(),e.stopPropagation(),this.onMobileReturn()}test(){}onMobileReturn(){history.pushState(null,"",location.href),!this.jourClicked&&this.portrait&&this.month?(this.month=void 0,this.monthIndex=void 0):this.jourClicked&&this.portrait&&!this.jourClicked.mode?this.onRetour():this.jourClicked&&this.portrait&&this.jourClicked.mode&&(this.jourClicked.mode=void 0),history.pushState(null,"",location.href)}ngOnInit(){Fa()&&(this.okmdp=!0,this.init()),window.addEventListener("beforeunload",e=>{e.preventDefault(),e.returnValue="",this.onMobileReturn()}),history.pushState(null,"",location.href),window.addEventListener("backbutton",e=>{history.pushState(null,"",location.href),e.preventDefault(),e.stopPropagation(),this.onMobileReturn()}),Y5.workerSrc="pdf.worker.js",this.innerHeight>this.innerWidth&&(this.portrait=!0)}init(){this.getData()}onInput(e){return e=e.replace(/\D/g,""),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"/"+e.slice(5)),e}otherMonth(e){this.monthIndex=this.monthIndex+e,this.monthIndex<0?(this.monthIndex=11,this.year=this.year-1):this.monthIndex==12&&(this.monthIndex=0,this.year=this.year+1),this.month=this.months[this.monthIndex]}clickMonth(e,i){this.portrait&&(this.month=e,this.monthIndex=i)}findDifferences(e,i){let r={};return new Set([...Object.keys(e),...Object.keys(i)]).forEach(o=>{let a=e[o],l=i[o];if(typeof a=="object"&&typeof l=="object"&&a!==null&&l!==null){let c=this.findDifferences(a,l);Object.keys(c).length>0&&(r[o]=c)}else a!==l&&(r[o]={from:a,to:l})}),r}onRetour(e=0){this.jourClicked.mode=void 0,this.jourClickedSave.mode=void 0,this.jourClicked.factureClicked=-1,this.jourClickedSave.factureClicked=-1,this.diffs=this.findDifferences(this.jourClicked,this.jourClickedSave),Object.keys(this.diffs).length>0?N_.default.fire({title:"Attention",text:"Vous avez des modifications non enregistr\xE9es. Voulez-vous vraiment quitter ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(i=>{i.isConfirmed&&(e==0?(this.jourClicked=void 0,this.search=""):e==1||e==-1?this.changeEvent(e):e==2&&(this.diffs=void 0,this.jourClicked={date:this.jourClicked.date,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))))}):e==0?(this.jourClicked=void 0,this.search=""):e==1||e==-1?this.changeEvent(e):e==2&&(this.diffs=void 0,this.jourClicked={date:this.jourClicked.date,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked)))}isAnt(e,i,r){let s=new Date(r,e,i),o=new Date;return o.setHours(0,0,0,0),s<o}getData(){this.http.get("http"+(Fa()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanning").subscribe(e=>{console.log("HTTP : CloePlanning",e),this.occupiedDates=e,e.filter(i=>i.essai&&i.essai.date&&i.essai.date!="").forEach(i=>{let r={nom:i.nom,adresse:i.adresse,codepostal:i.codepostal,tel:i.tel,mail:i.mail,statut:"essai",date:i.essai.date,devis:{},factures:[],planning:{},essai:i.essai,etape:i.etape},[s,o,a]=r.date.split("/").map(Number),l=new Date(a,o-1,s),c=new Date;c.setHours(0,0,0,0),l<c&&(r.etape=999),this.occupiedDates.push(r)})})}showNumeros(){this.occupiedDates.filter(i=>i.devis.creation).sort((i,r)=>this.toSortableDate(i.devis.creation)-this.toSortableDate(r.devis.creation)).forEach(i=>{let r=JSON.parse(JSON.stringify(i)),s=r.nom+" : DEVIS_"+this.formatNumber(r.devis.numero)+"_"+r.devis.annee+" ("+r.devis.creation+")";r.factures.forEach(o=>{s+=" FACTURE_"+this.formatNumber(o.numero)+"_"+o.annee+" ("+o.creation+")"}),console.log(s)})}checkNumerosDevis(){let e=this.occupiedDates.filter(o=>o.devis.creation).sort((o,a)=>this.toSortableDate(o.devis.creation)-this.toSortableDate(a.devis.creation));console.log(e);let i="",r=1,s=e[0].devis.annee;e.forEach(o=>{let a=JSON.parse(JSON.stringify(o));a.devis.annee!=s&&(r=1,s=a.devis.annee),a.devis.numero=r++,i+="UPDATE cloeplanning SET devis = '"+JSON.stringify(a.devis)+"' WHERE ID = "+a.id+`;
`,console.log(a.nom+" "+a.devis.numero+"-"+a.devis.annee+" "+a.devis.creation)}),console.log(i)}checkNumerosFactures(){let i=this.occupiedDates.filter(a=>a.factures.length>0).flatMap(a=>a.factures.map(l=>Jt(yt({},l),{tableauId:a.id,nom:a.nom})));i.sort((a,l)=>{let[c,u,d]=a.creation.split("/").map(Number),[g,f,w]=l.creation.split("/").map(Number);return new Date(d,u-1,c).getTime()-new Date(w,f-1,g).getTime()});let r="",s=1,o=i[0].annee;i.forEach(a=>{a.annee!=o&&(console.log("anneediff"),s=1,o=a.annee);let c=this.occupiedDates.find(u=>u.id==a.tableauId).factures.find(u=>u.creation==a.creation&&JSON.stringify(u.prestas)===JSON.stringify(a.prestas));c.numero=s++}),r="",this.occupiedDates.filter(a=>a.factures.length>0).forEach(a=>{let l=JSON.parse(JSON.stringify(a));r+="UPDATE cloeplanning SET factures = '"+JSON.stringify(l.factures)+"' WHERE ID = "+l.id+`;
`,l.factures.forEach(c=>{console.log(l.nom+" "+c.numero+"-"+c.annee+" "+c.creation)})}),console.log(r)}toSortableDate(e){let[i,r,s]=e.split("/").map(Number);return new Date(s,r-1,i).getTime()}otherEvents(){return this.occupiedDates.filter(e=>e.date==this.jourClicked.date).length}goToWed(){this.jourClicked=this.occupiedDates.find(e=>e.statut!="essai"&&e.essai&&e.essai.date==this.jourClicked.date&&e.nom==this.jourClicked.nom),this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))}getDaysInMonth(e,i){let r=new Date(e,i+1,0).getDate();return Array.from({length:r},(s,o)=>o+1)}getFirstDayOfMonth(e,i){return new Date(e,i,1).getDay()}isOccupied(e,i,r){let s=`${r.toString().padStart(2,"0")}/${(i+1).toString().padStart(2,"0")}/${e}`,o=this.occupiedDates.find(a=>a.date==s&&(this.search!=""?JSON.stringify(a).toLowerCase().includes(this.search.toLowerCase()):!0));return this.getClass(o)}calcToString(e){if(e.qte=="?")return"";let i=this.calc(e);return i==0?"Offert":i+(i<100?",00":"")+"\u20AC"}calc(e){let i=e.prix*e.qte;return e.kilorly&&(e.qte<=10?i=0:i=(e.qte-10)*2*e.prix),e.reduc&&(i=i-i*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(i=Math.floor(i)),i}calcTot(e=!1){let i=0;return this.jourClicked.devis.prestas.filter(r=>r.qte>0).forEach(r=>{i+=this.calc(r)}),i=Math.floor(i),i+(i<100?",00":"")+"\u20AC"}calcares(){let e=0;return this.jourClicked.devis.prestas.filter(i=>i.bride&&i.qte>0).forEach(i=>{e+=this.calc(i)}),e!=0&&(e=.3*e),e=Math.floor(e),e+(e<100?",00":"")+"\u20AC"}calcPaye(){let e=0;return this.jourClicked.factures.forEach(i=>{i.solde?e+=parseFloat(i.solde):i.prestas.forEach(r=>{e+=this.calc(r)})}),this.transform(e)+"\u20AC"+(this.jourClicked.factures.length==1?" ("+this.jourClicked.factures[0].creation+")":"")}transform(e){return typeof e!="number"||isNaN(e)?"":Number.isInteger(e)?e<100?e.toFixed(2).replace(".",","):e.toString():e.toFixed(2).replace(".",",")}getClass(e){return e?e.etape==999?"over":e.statut:"nothing"}getMaxs(){let e=this.occupiedDates,i=new Date().getFullYear(),r=e.filter(l=>l.devis.creation).filter(l=>{let[c,u,d]=l.devis.creation.split("/").map(Number);return d===i}).map(l=>l.devis.numero),s=e.filter(l=>l.factures.length>0).flatMap(l=>l.factures).filter(l=>{let[c,u,d]=l.creation.split("/").map(Number);return d===i}).map(l=>l.numero),o=r.length>0?Math.max(...r):null,a=s.length>0?Math.max(...s):null;return{maxDevis:o,maxFacture:a}}clickDevis(){this.jourClicked.mode="devis",this.devis.init(this.getMaxs())}clickFacture(e=void 0){e?this.jourClicked.factureClicked=e.target.value:this.jourClicked.factureClicked=-1,this.jourClicked.mode="facture",this.devis.init(this.getMaxs()),this.selectedValue=null}clickPlanning(){this.jourClicked.mode="planning",this.devis.init()}showTooltip(e,i,r){if(this.isOccupied(this.year,i,r)=="nothing")return;let s=`${r.toString().padStart(2,"0")}/${(i+1).toString().padStart(2,"0")}/${this.year}`,o=this.occupiedDates.filter(a=>a.date==s);this.tooltip.visible=!0,this.tooltip.x=e.clientX+10,this.tooltip.y=e.clientY+10,this.tooltip.data=o}numberOfEvents(e,i){if(this.isOccupied(this.year,e,i)=="nothing")return;let r=`${i.toString().padStart(2,"0")}/${(e+1).toString().padStart(2,"0")}/${this.year}`,s=this.occupiedDates.filter(o=>o.date==r);return s.length>1?s.length:""}hideTooltip(){this.tooltip.visible=!1}formatDate(e){let[i,r,s]=e.split("/").map(Number),o=new Date(s,r-1,i);return new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(o).replace(new RegExp("( |^)\\p{L}","gu"),l=>l.toUpperCase())}clickJour(e,i,r){this.diffs=void 0,this.event=0,this.hideTooltip();let s=`${i.toString().padStart(2,"0")}/${(e+1).toString().padStart(2,"0")}/${r}`;this.occupiedDates.find(a=>a.date==s)?(this.jourClicked=this.occupiedDates.filter(a=>a.date==s)[this.event],this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))):(this.jourClicked={date:s,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked)))}getEtape(){let e=this.jourClicked.etape;return e==0?"Cr\xE9er un devis":e==1?"Facture arrhes":e==2?"Facture finale":e==999?"Ev\xE9nement termin\xE9":"N/A"}clickEtape(){let e=this.jourClicked.etape;e==0&&this.clickDevis(),e==1&&this.clickFacture(),e==2&&this.clickFacture()}changeJour(e){let[i,r,s]=this.jourClicked.date.split("/").map(Number),o=new Date(s,r-1,i);o.setDate(o.getDate()+e);let a=o.getDate(),l=o.getMonth(),c=o.getFullYear();this.clickJour(l,a,c)}changeEvent(e){this.diffs=void 0,this.event+=e,this.event>=this.otherEvents()?this.event=0:this.event<0&&(this.event=this.otherEvents()-1),this.jourClicked=this.occupiedDates.filter(i=>i.date==this.jourClicked.date)[this.event],this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))}end(){this.jourClicked.etape=999,this.save()}save(){console.log(this.jourClicked);let e=this.jourClicked.id;e||this.occupiedDates.push(this.jourClicked);let i={factures:[],devis:{},planning:{},essai:{},mariage:{},etape:0,date:this.jourClicked.date};this.jourClicked.id&&(i.id=this.jourClicked.id),this.jourClicked.date&&(i.date=this.jourClicked.date),this.jourClicked.nom&&(i.nom=this.jourClicked.nom),this.jourClicked.statut&&(i.statut=this.jourClicked.statut),this.jourClicked.adresse&&(i.adresse=this.jourClicked.adresse),this.jourClicked.codepostal&&(i.codepostal=this.jourClicked.codepostal),this.jourClicked.mail&&(i.mail=this.jourClicked.mail),this.jourClicked.essai&&(i.essai=this.jourClicked.essai),this.jourClicked.mariage&&(i.mariage=this.jourClicked.mariage),this.jourClicked.prestataires&&(i.prestataires=this.jourClicked.prestataires),this.jourClicked.tel&&(i.tel=this.jourClicked.tel),this.jourClicked.etape&&(i.etape=this.jourClicked.etape),this.jourClicked.devis&&(i.devis=this.jourClicked.devis),this.jourClicked.factures&&(i.factures=this.jourClicked.factures),this.jourClicked.planning&&(i.planning=this.jourClicked.planning),Kr(fetch("http"+(Fa()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanning"+(e?"update":"create"),{body:JSON.stringify(i),headers:{"Content-Type":"application/json"},method:"POST",mode:"no-cors"}).then(r=>{this.getData()})),this.jourClicked=void 0,this.search=""}delete(){N_.default.fire({title:"Attention",text:"Voulez vous vraiment supprimer ces donn\xE9es ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(e=>{if(e.isConfirmed){let i={id:this.jourClicked.id};Kr(fetch("http"+(Fa()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanningdelete",{body:JSON.stringify(i),headers:{"Content-Type":"application/json"},method:"POST",mode:"no-cors"}).then(r=>{this.getData()})),this.jourClicked=void 0,this.search=""}})}formatNumber(e){return String(e).padStart(3,"0")}checkMdp(){this.mdp==PE.password&&(this.okmdp=!0),this.init()}static{this.\u0275fac=function(i){return new(i||n)(Pt(Nd),Pt(ry))}}static{this.\u0275cmp=$f({type:n,selectors:[["app-root"]],viewQuery:function(i,r){if(i&1&&ax(MF,5),i&2){let s;lx(s=cx())&&(r.devis=s.first)}},hostBindings:function(i,r){i&1&&rt("resize",function(o){return r.onResize(o)},!1,bd)("popstate",function(o){return r.onPopState(o)},!1,bd)},standalone:!0,features:[dp],decls:2,vars:2,consts:[["devis",""],["class","mdp",4,"ngIf"],[3,"portrait",4,"ngIf"],[1,"mdp"],["type","password",3,"ngModelChange","ngModel"],[3,"click"],["class","annee",4,"ngIf"],["class","flex center",4,"ngIf"],["class","calendar",4,"ngIf"],[3,"retour","data"],["class","formulaire",4,"ngIf"],["class","flex legende",4,"ngIf"],["class","tooltip",3,"ngStyle",4,"ngIf"],[1,"annee"],[1,"nopointer"],[1,"flex","center"],["type","text","placeholder","Recherche..",3,"ngModelChange","ngModel"],[1,"calendar"],[4,"ngIf"],["class","month",3,"click",4,"ngFor","ngForOf"],[1,"month",3,"click"],[1,"week-days"],[4,"ngFor","ngForOf"],[1,"days"],["class","noday",4,"ngFor","ngForOf"],["class","blockday",3,"ant","ngClass","nopointer","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"noday"],[1,"blockday",3,"mouseenter","mouseleave","click","ngClass"],["class","events",4,"ngIf"],[1,"events"],[1,"month","month2"],[1,"arrows"],["class","blockday",3,"ant","ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"formulaire"],[1,"retour",3,"click"],[1,"date"],["class","date date2",4,"ngIf"],["class","inputs",4,"ngIf"],["class","inputs inputsessai",4,"ngIf"],["class","blocbas",4,"ngIf"],["class","resumes",4,"ngIf"],[1,"save"],[3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],[1,"date","date2"],[1,"inputs"],["type","text","placeholder","Date..",3,"ngModelChange","ngModel"],["type","text","placeholder","Nom..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal & Ville..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail..",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","demande"],["value","reserve"],["value","autre"],[1,"column"],["type","text","maxlength","10","placeholder","Date..",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Lieu..",3,"ngModelChange","ngModel"],["type","text","placeholder","Heure..",3,"ngModelChange","ngModel"],["type","text","placeholder","Domaine..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code Postal..",3,"ngModelChange","ngModel"],[1,"inputs","inputsessai"],["class","column",4,"ngIf"],[1,"blocbas"],["class","nom",3,"red","click",4,"ngIf"],[1,"nom",3,"click"],[3,"ngModel","ngModelChange","change",4,"ngIf"],[3,"ngModelChange","change","ngModel"],[3,"red","value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","Paiement Prestataires..",3,"ngModelChange","ngModel"],[1,"resumes"],["class","prestas",4,"ngIf"],[1,"prestas"],[1,"entetes"],["class","small",4,"ngFor","ngForOf"],[1,"small"],[1,"delete",3,"click"],[1,"flex","legende"],[1,"reserve"],[1,"demande"],[1,"essai"],[1,"autre"],[1,"tooltip",3,"ngStyle"]],template:function(i,r){i&1&&Ze(0,NF,4,1,"div",1)(1,yR,10,12,"div",2),i&2&&(De("ngIf",!r.okmdp),J(),De("ngIf",r.okmdp))},dependencies:[Gp,$p,Wp,lu,cu,zp,Ay,Vd,Sd,kx,Dp,Ip,Lx,TE],styles:["button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:1px solid black;background-color:var(--principale);font-weight:700;border-radius:10px;filter:drop-shadow(2px 2px 3px black)}input[_ngcontent-%COMP%]{background-color:var(--fond)}.portrait[_ngcontent-%COMP%]{height:100%}.portrait[_ngcontent-%COMP%]   .annee[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{margin:5%;max-height:80%;overflow-y:scroll;border-top:3px solid var(--required);padding:3px;border-bottom:3px solid var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{max-width:44%;min-width:44%;background-color:var(--fond);border:3px ridge var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:unset;height:unset;background:unset;border:unset}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .reserve[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .demande[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .autre[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .essai[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .over[_ngcontent-%COMP%]{filter:drop-shadow(2px 2px 3px black)}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]{position:relative;max-width:95%!important;min-width:95%!important}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:80%;font-weight:700;font-size:30px;position:absolute;top:7px;color:var(--required)}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:40px!important}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:auto!important;height:40px!important}.portrait[_ngcontent-%COMP%]   .legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px 2px}.mdp[_ngcontent-%COMP%]{display:grid;justify-content:center;margin:auto;top:40%;position:absolute;width:100%}.mdp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:80%;margin:10px auto auto;display:flex;justify-content:center}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]{padding:40px 0}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;width:50%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{white-space:nowrap;margin-bottom:15px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between;width:100%;margin:2px 0}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:50%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:82%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputsessai[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2), .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputsessai[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30%;white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:60%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]{justify-content:center}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;width:50px;white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){max-width:55%;min-width:55%;width:55%;overflow:hidden;text-overflow:ellipsis}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.ant[_ngcontent-%COMP%]{background:var(--scroll)!important;color:#00000050}.calendar[_ngcontent-%COMP%]{margin:2%}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{background-color:var(--fond);border:3px ridge var(--required)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--required)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:unset;border:1px solid var(--principale)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .reserve[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .demande[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .autre[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .essai[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .over[_ngcontent-%COMP%]{filter:drop-shadow(2px 2px 3px black)}.annee[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px 2px}.calendar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.month[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;display:flex;flex-direction:column;align-items:center;background:#f9f9f9;border-radius:10px}h3[_ngcontent-%COMP%]{margin:5px 0;font-size:1.2em;text-align:center}.week-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);width:100%;text-align:center;font-weight:700;padding-bottom:5px}.days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;width:100%}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .blocday[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;background:#fff;font-size:.9em;transition:.5s}.legende[_ngcontent-%COMP%]{display:flex;justify-content:center}.legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:150px!important;margin:20px 30px}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:20px;border-color:red}.dday[_ngcontent-%COMP%], .reserve[_ngcontent-%COMP%], .demande[_ngcontent-%COMP%], .essai[_ngcontent-%COMP%], .autre[_ngcontent-%COMP%], .over[_ngcontent-%COMP%]{color:#fff;font-weight:700}.legende[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0 2px!important}.dday[_ngcontent-%COMP%]{background:#b84419!important}.reserve[_ngcontent-%COMP%]{background:#2972c5!important}.demande[_ngcontent-%COMP%]{background:#f132e1!important}.essai[_ngcontent-%COMP%]{background:#b67600!important}.autre[_ngcontent-%COMP%]{background:#afa776!important}.over[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}.noday[_ngcontent-%COMP%]{border:1px solid transparent!important;background:unset!important}.tooltip[_ngcontent-%COMP%]{position:fixed;background:#000;color:#fff;padding:8px;border-radius:5px;font-size:14px;pointer-events:none;white-space:nowrap}.annee[_ngcontent-%COMP%]{display:flex;justify-content:center}.annee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:25px;margin:10px 25px;transition:.5s}.annee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.nopointer[_ngcontent-%COMP%]{pointer-events:none!important}.column[_ngcontent-%COMP%]{flex-direction:column}.formulaire[_ngcontent-%COMP%]{padding:40px 20px}.formulaire[_ngcontent-%COMP%]   .nopointer[_ngcontent-%COMP%]{width:350px;text-align:center}.formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:2px 0;display:flex;justify-content:center}.formulaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.formulaire[_ngcontent-%COMP%]   .retour[_ngcontent-%COMP%]{position:absolute;left:20px;top:20px;font-weight:700}.formulaire[_ngcontent-%COMP%]   .retour[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;font-weight:700;padding:0 20px}.formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.formulaire[_ngcontent-%COMP%]   .date2[_ngcontent-%COMP%]{margin-bottom:20px}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{flex-flow:wrap}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between;width:fit-content;margin:2px 20px}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:200px;text-align:right;position:relative;top:0}.formulaire[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:20px}.formulaire[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{font-style:italic;padding:0 10px;opacity:.6}.formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;flex-direction:column;border:1px solid black}.formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:unset;padding:unset}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{justify-content:center}.blockday[_ngcontent-%COMP%]{position:relative}.blockday[_ngcontent-%COMP%]   .events[_ngcontent-%COMP%]{position:absolute;border:1px solid var(--required);background-color:var(--principale);border-radius:100%;padding:0 5px;bottom:-22px;right:-6px;z-index:1}.red[_ngcontent-%COMP%]{color:red!important;border-color:red!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center;padding:5px;position:relative;top:-5px;width:150px;margin:0 10px}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:30px}select[_ngcontent-%COMP%]{width:164px}app-devis[_ngcontent-%COMP%]{position:absolute;width:100%}.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.delete[_ngcontent-%COMP%]{background:red;color:#fff;font-weight:700}.prestas[_ngcontent-%COMP%]{width:90%}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:space-between}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50px;white-space:nowrap}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){max-width:55%;min-width:55%;width:55%;overflow:hidden;text-overflow:ellipsis}.prestas[_ngcontent-%COMP%]   .entetes[_ngcontent-%COMP%]{font-weight:700}"]})}}return n})();var Ht=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ht||{}),so="*";function OE(n,t=null){return{type:Ht.Sequence,steps:n,options:t}}function P_(n){return{type:Ht.Style,styles:n,offset:null}}var Ka=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},mh=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},tm="!";function FE(n){return new Xe(3e3,!1)}function _R(){return new Xe(3100,!1)}function wR(){return new Xe(3101,!1)}function bR(n){return new Xe(3001,!1)}function CR(n){return new Xe(3003,!1)}function xR(n){return new Xe(3004,!1)}function AR(n,t){return new Xe(3005,!1)}function ER(){return new Xe(3006,!1)}function SR(){return new Xe(3007,!1)}function DR(n,t){return new Xe(3008,!1)}function IR(n){return new Xe(3002,!1)}function MR(n,t,e,i,r){return new Xe(3010,!1)}function TR(){return new Xe(3011,!1)}function NR(){return new Xe(3012,!1)}function PR(){return new Xe(3200,!1)}function kR(){return new Xe(3202,!1)}function LR(){return new Xe(3013,!1)}function OR(n){return new Xe(3014,!1)}function FR(n){return new Xe(3015,!1)}function RR(n){return new Xe(3016,!1)}function jR(n,t){return new Xe(3404,!1)}function BR(n){return new Xe(3502,!1)}function VR(n){return new Xe(3503,!1)}function HR(){return new Xe(3300,!1)}function UR(n){return new Xe(3504,!1)}function zR(n){return new Xe(3301,!1)}function qR(n,t){return new Xe(3302,!1)}function $R(n){return new Xe(3303,!1)}function WR(n,t){return new Xe(3400,!1)}function GR(n){return new Xe(3401,!1)}function YR(n){return new Xe(3402,!1)}function XR(n,t){return new Xe(3505,!1)}function Za(n){switch(n.length){case 0:return new Ka;case 1:return n[0];default:return new mh(n)}}function KE(n,t,e=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((g,f)=>{let w=f,b=g;if(f!=="offset")switch(w=n.normalizePropertyName(w,r),b){case tm:b=e.get(f);break;case so:b=i.get(f);break;default:b=n.normalizeStyleValue(f,w,b,r);break}d.set(w,b)}),u||s.push(d),a=d,o=c}),r.length)throw BR(r);return s}function tw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&k_(e,"start",n)));break;case"done":n.onDone(()=>i(e&&k_(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&k_(e,"destroy",n)));break}}function k_(n,t,e){let i=e.totalTime,r=!!e.disabled,s=nw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function nw(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function jr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function RE(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var KR=typeof document>"u"?null:document.documentElement;function iw(n){let t=n.parentNode||n.host||null;return t===KR?null:t}function ZR(n){return n.substring(1,6)=="ebkit"}var Jl=null,jE=!1;function QR(n){Jl||(Jl=JR()||{},jE=Jl.style?"WebkitAppearance"in Jl.style:!1);let t=!0;return Jl.style&&!ZR(n)&&(t=n in Jl.style,!t&&jE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Jl.style)),t}function JR(){return typeof document<"u"?document.body:null}function ZE(n,t){for(;t;){if(t===n)return!0;t=iw(t)}return!1}function QE(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var rw=(()=>{class n{validateStyleProperty(e){return QR(e)}containsElement(e,i){return ZE(e,i)}getParentElement(e){return iw(e)}query(e,i,r){return QE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Ka(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})(),nc=class{static{this.NOOP=new rw}},ic=class{};var e6=1e3,JE="{{",t6="}}",eS="ng-enter",B_="ng-leave",nm="ng-trigger",am=".ng-trigger",BE="ng-animating",V_=".ng-animating";function $o(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:H_(parseFloat(t[1]),t[2])}function H_(n,t){switch(t){case"s":return n*e6;default:return n}}function lm(n,t,e){return n.hasOwnProperty("duration")?n:n6(n,t,e)}function n6(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(FE(n)),{duration:0,delay:0,easing:""};r=H_(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=H_(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(_R()),a=!0),s<0&&(t.push(wR()),a=!0),a&&t.splice(l,0,FE(n))}return{duration:r,delay:s,easing:o}}function i6(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function oo(n,t,e){t.forEach((i,r)=>{let s=sw(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function tc(n,t){t.forEach((e,i)=>{let r=sw(i);n.style[r]=""})}function vh(n){return Array.isArray(n)?n.length==1?n[0]:OE(n):n}function r6(n,t,e){let i=t.params||{},r=tS(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(bR(s))})}var U_=new RegExp(`${JE}\\s*(.+?)\\s*${t6}`,"g");function tS(n){let t=[];if(typeof n=="string"){let e;for(;e=U_.exec(n);)t.push(e[1]);U_.lastIndex=0}return t}function _h(n,t,e){let i=`${n}`,r=i.replace(U_,(s,o)=>{let a=t[o];return a==null&&(e.push(CR(o)),a=""),a.toString()});return r==i?n:r}var s6=/-+([a-z0-9])/g;function sw(n){return n.replace(s6,(...t)=>t[1].toUpperCase())}function o6(n,t){return n===0||t===0}function a6(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,ow(n,a)))}}return t}function Rr(n,t,e){switch(t.type){case Ht.Trigger:return n.visitTrigger(t,e);case Ht.State:return n.visitState(t,e);case Ht.Transition:return n.visitTransition(t,e);case Ht.Sequence:return n.visitSequence(t,e);case Ht.Group:return n.visitGroup(t,e);case Ht.Animate:return n.visitAnimate(t,e);case Ht.Keyframes:return n.visitKeyframes(t,e);case Ht.Style:return n.visitStyle(t,e);case Ht.Reference:return n.visitReference(t,e);case Ht.AnimateChild:return n.visitAnimateChild(t,e);case Ht.AnimateRef:return n.visitAnimateRef(t,e);case Ht.Query:return n.visitQuery(t,e);case Ht.Stagger:return n.visitStagger(t,e);default:throw xR(t.type)}}function ow(n,t){return window.getComputedStyle(n)[t]}var l6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),cm=class extends ic{normalizePropertyName(t,e){return sw(t)}normalizeStyleValue(t,e,i,r){let s="",o=i.toString().trim();if(l6.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(AR(t,i))}return o+s}};var um="*";function c6(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>u6(i,e,t)):e.push(n),e}function u6(n,t,e){if(n[0]==":"){let l=d6(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(FR(n)),t;let r=i[1],s=i[2],o=i[3];t.push(VE(r,o));let a=r==um&&o==um;s[0]=="<"&&!a&&t.push(VE(o,r))}function d6(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(RR(n)),"* => *"}}var im=new Set(["true","1"]),rm=new Set(["false","0"]);function VE(n,t){let e=im.has(n)||rm.has(n),i=im.has(t)||rm.has(t);return(r,s)=>{let o=n==um||n==r,a=t==um||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?im.has(n):rm.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?im.has(t):rm.has(t)),o&&a}}var nS=":self",h6=new RegExp(`s*${nS}s*,?`,"g");function iS(n,t,e,i){return new z_(n).build(t,e,i)}var HE="",z_=class{constructor(t){this._driver=t}build(t,e,i){let r=new q_(e);return this._resetContextStyleTimingState(r),Rr(this,vh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=HE,t.collectedStyles=new Map,t.collectedStyles.set(HE,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(ER()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ht.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==Ht.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(SR())}),{type:Ht.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{tS(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(DR(t.name,[...s.values()]))}return{type:Ht.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Rr(this,vh(t.animation),e),r=c6(t.expr,e.errors);return{type:Ht.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ec(t.options)}}visitSequence(t,e){return{type:Ht.Sequence,steps:t.steps.map(i=>Rr(this,i,e)),options:ec(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=i;let a=Rr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Ht.Group,steps:s,options:ec(t.options)}}visitAnimate(t,e){let i=m6(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:P_({});if(s.type==Ht.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=P_(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Ht.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===so?i.push(a):e.errors.push(IR(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(JE)>=0){s=!0;break}}}),{type:Ht.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(MR(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&r6(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Ht.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(TR()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(C=>{let D=this._makeStyleAst(C,e),P=D.offset!=null?D.offset:g6(D.styles),z=0;return P!=null&&(s++,z=D.offset=P),l=l||z<0||z>1,a=a||z<c,c=z,o.push(z),D});l&&e.errors.push(NR()),a&&e.errors.push(PR());let d=t.steps.length,g=0;s>0&&s<d?e.errors.push(kR()):s==0&&(g=r/(d-1));let f=d-1,w=e.currentTime,b=e.currentAnimateTimings,A=b.duration;return u.forEach((C,D)=>{let P=g>0?D==f?1:g*D:o[D],z=P*A;e.currentTime=w+b.delay+z,b.duration=z,this._validateStyleAst(C,e),C.offset=P,i.styles.push(C)}),i}visitReference(t,e){return{type:Ht.Reference,animation:Rr(this,vh(t.animation),e),options:ec(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Ht.AnimateChild,options:ec(t.options)}}visitAnimateRef(t,e){return{type:Ht.AnimateRef,animation:this.visitReference(t.animation,e),options:ec(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=f6(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,jr(e.collectedStyles,e.currentQuerySelector,new Map);let a=Rr(this,vh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ht.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ec(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(LR());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:lm(t.timings,e.errors,!0);return{type:Ht.Stagger,animation:Rr(this,vh(t.animation),e),timings:i,options:null}}};function f6(n){let t=!!n.split(/\s*,\s*/).find(e=>e==nS);return t&&(n=n.replace(h6,"")),n=n.replace(/@\*/g,am).replace(/@\w+/g,e=>am+"-"+e.slice(1)).replace(/:animating/g,V_),[n,t]}function p6(n){return n?yt({},n):null}var q_=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function g6(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function m6(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=lm(n,t).duration;return L_(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=L_(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=lm(e,t);return L_(r.duration,r.delay,r.easing)}function ec(n){return n?(n=yt({},n),n.params&&(n.params=p6(n.params))):n={},n}function L_(n,t,e){return{duration:n,delay:t,easing:e}}function aw(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var wh=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},v6=1,y6=":enter",_6=new RegExp(y6,"g"),w6=":leave",b6=new RegExp(w6,"g");function rS(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return new $_().buildKeyframes(n,t,e,i,r,s,o,a,l,c)}var $_=class{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new wh;let d=new W_(t,e,c,r,s,u,[]);d.options=l;let g=l.delay?$o(l.delay):0;d.currentTimeline.delayNextStep(g),d.currentTimeline.setStyles([o],null,d.errors,l),Rr(this,i,d);let f=d.timelines.filter(w=>w.containsAnimation());if(f.length&&a.size){let w;for(let b=f.length-1;b>=0;b--){let A=f[b];if(A.element===e){w=A;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,d.errors,l)}return f.length?f.map(w=>w.buildKeyframes()):[aw(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:$o(_h(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime,o=i.duration!=null?$o(i.duration):null,a=i.delay!=null?$o(i.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Rr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Ht.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dm);let o=$o(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Rr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?$o(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),Rr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?_h(i,e.params,e.errors):i;return lm(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==Ht.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?$o(r.delay):0;s&&(e.previousNode.type===Ht.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dm);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Rr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let g=d.currentTimeline.currentTime;o=Math.max(o,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Rr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},dm={},W_=class n{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new hm(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=$o(i.duration)),i.delay!=null&&(r.delay=$o(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=_h(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=dm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new G_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(_6,"."+this._enterClassName),t=t.replace(b6,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(OR(e)),a}},hm=class n{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=v6,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||so),this._currentKeyframe.set(e,so);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=C6(t,this._globalTimelineStyles);for(let[a,l]of o){let c=_h(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??so),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===tm?t.add(d):u===so&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return aw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},G_=class extends hm{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",UE(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let g=new Map(t[d]),f=g.get("offset"),w=e+f*i;g.set("offset",UE(w/o)),s.push(g)}i=o,e=0,r="",t=s}return aw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function UE(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function C6(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)e.set(s,so)}else for(let[s,o]of r)e.set(s,o)}),e}function zE(n,t,e,i,r,s,o,a,l,c,u,d,g){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:g}}var O_={},fm=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return x6(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){let d=[],g=this.ast.options&&this.ast.options.params||O_,f=a&&a.params||O_,w=this.buildStyles(i,f,d),b=l&&l.params||O_,A=this.buildStyles(r,b,d),C=new Set,D=new Map,P=new Map,z=r==="void",Z={params:sS(b,g),delay:this.ast.options?.delay},ae=u?[]:rS(t,e,this.ast.animation,s,o,w,A,Z,c,d),X=0;return ae.forEach(q=>{X=Math.max(q.duration+q.delay,X)}),d.length?zE(e,this._triggerName,i,r,z,w,A,[],[],D,P,X,d):(ae.forEach(q=>{let se=q.element,ve=jr(D,se,new Set);q.preStyleProps.forEach(L=>ve.add(L));let k=jr(P,se,new Set);q.postStyleProps.forEach(L=>k.add(L)),se!==e&&C.add(se)}),zE(e,this._triggerName,i,r,z,w,A,ae,[...C.values()],D,P,X))}};function x6(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}function sS(n,t){let e=yt({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var Y_=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=sS(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=_h(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}};function A6(n,t,e){return new X_(n,t,e)}var X_=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Y_(r.style,s,i))}),qE(this.states,"true","1"),qE(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new fm(t,r,this.states))}),this.fallbackTransition=E6(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function E6(n,t,e){let i=[(o,a)=>!0],r={type:Ht.Sequence,steps:[],options:null},s={type:Ht.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new fm(n,s,t)}function qE(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var S6=new wh,K_=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],r=[],s=iS(this._driver,e,i,r);if(i.length)throw VR(i);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,e,i){let r=t.element,s=KE(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=rS(this._driver,e,s,eS,B_,new Map,new Map,i,S6,r),o.forEach(u=>{let d=jr(a,u.element,new Map);u.postStyleProps.forEach(g=>d.set(g,null))})):(r.push(HR()),o=[]),r.length)throw UR(r);a.forEach((u,d)=>{u.forEach((g,f)=>{u.set(f,this._driver.computeStyle(d,f,so))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Za(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw zR(t);return e}listen(t,e,i,r){let s=nw(e,"","","");return tw(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},$E="ng-animate-queued",D6=".ng-animate-queued",F_="ng-animate-disabled",I6=".ng-animate-disabled",M6="ng-star-inserted",T6=".ng-star-inserted",N6=[],oS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},P6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ps="__ng_removed",bh=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=L6(r),i){let s=t,{value:o}=s,a=ed(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},yh="void",R_=new bh(yh),Z_=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,rs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw qR(i,e);if(i==null||i.length==0)throw $R(e);if(!O6(i))throw WR(i,e);let s=jr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);let a=jr(this._engine.statesByElement,t,new Map);return a.has(e)||(rs(t,nm),rs(t,nm+"-"+e),a.set(e,R_)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw GR(t);return e}trigger(t,e,i,r=!0){let s=this._getTrigger(e),o=new Ch(this.id,e,t),a=this._engine.statesByElement.get(t);a||(rs(t,nm),rs(t,nm+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new bh(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=R_),!(c.value===yh)&&l.value===c.value){if(!j6(l.params,c.params)){let b=[],A=s.matchStyles(l.value,l.params,b),C=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{tc(t,A),oo(t,C)})}return}let g=jr(this._engine.playersByElement,t,[]);g.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),w=!1;if(!f){if(!r)return;f=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:w}),w||(rs(t,$E),o.onStart(()=>{Au(t,$E)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let A=this._engine.playersByElement.get(t);if(A){let C=A.indexOf(o);C>=0&&A.splice(C,1)}}),this.players.push(o),g.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,am,!0);i.forEach(r=>{if(r[Ps])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,yh,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Za(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||R_,u=new bh(yh),d=new Ch(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let s=t[Ps];(!s||s===oS)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){rs(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=nw(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,tw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Q_=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Z_(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,i,r){if(sm(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sm(e))return;let s=e[Ps];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),rs(t,F_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Au(t,F_))}removeNode(t,e,i){if(sm(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ps]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return sm(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,am,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,V_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Za(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ps];if(e&&e.setForRemoval){if(t[Ps]=oS,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(F_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,I6,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];rs(r,M6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Za(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw YR(t)}_flushAnimations(t,e){let i=new wh,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Y=>{u.add(Y);let F=this.driver.query(Y,D6,!0);for(let B=0;B<F.length;B++)u.add(F[B])});let d=this.bodyNode,g=Array.from(this.statesByElement.keys()),f=YE(g,this.collectedEnterElements),w=new Map,b=0;f.forEach((Y,F)=>{let B=eS+b++;w.set(F,B),Y.forEach($=>rs($,B))});let A=[],C=new Set,D=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){let F=this.collectedLeaveElements[Y],B=F[Ps];B&&B.setForRemoval&&(A.push(F),C.add(F),B.hasAnimation?this.driver.query(F,T6,!0).forEach($=>C.add($)):D.add(F))}let P=new Map,z=YE(g,Array.from(C));z.forEach((Y,F)=>{let B=B_+b++;P.set(F,B),Y.forEach($=>rs($,B))}),t.push(()=>{f.forEach((Y,F)=>{let B=w.get(F);Y.forEach($=>Au($,B))}),z.forEach((Y,F)=>{let B=P.get(F);Y.forEach($=>Au($,B))}),A.forEach(Y=>{this.processLeaveNode(Y)})});let Z=[],ae=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(e).forEach(B=>{let $=B.player,re=B.element;if(Z.push($),this.collectedEnterElements.length){let ue=re[Ps];if(ue&&ue.setForMove){if(ue.previousTriggersValues&&ue.previousTriggersValues.has(B.triggerName)){let ge=ue.previousTriggersValues.get(B.triggerName),_e=this.statesByElement.get(B.element);if(_e&&_e.has(B.triggerName)){let Re=_e.get(B.triggerName);Re.value=ge,_e.set(B.triggerName,Re)}}$.destroy();return}}let ye=!d||!this.driver.containsElement(d,re),S=P.get(re),j=w.get(re),U=this._buildInstruction(B,i,j,S,ye);if(U.errors&&U.errors.length){ae.push(U);return}if(ye){$.onStart(()=>tc(re,U.fromStyles)),$.onDestroy(()=>oo(re,U.toStyles)),r.push($);return}if(B.isFallbackTransition){$.onStart(()=>tc(re,U.fromStyles)),$.onDestroy(()=>oo(re,U.toStyles)),r.push($);return}let ne=[];U.timelines.forEach(ue=>{ue.stretchStartingKeyframe=!0,this.disabledNodes.has(ue.element)||ne.push(ue)}),U.timelines=ne,i.append(re,U.timelines);let oe={instruction:U,player:$,element:re};o.push(oe),U.queriedElements.forEach(ue=>jr(a,ue,[]).push($)),U.preStyleProps.forEach((ue,ge)=>{if(ue.size){let _e=l.get(ge);_e||l.set(ge,_e=new Set),ue.forEach((Re,Fe)=>_e.add(Fe))}}),U.postStyleProps.forEach((ue,ge)=>{let _e=c.get(ge);_e||c.set(ge,_e=new Set),ue.forEach((Re,Fe)=>_e.add(Fe))})});if(ae.length){let Y=[];ae.forEach(F=>{Y.push(XR(F.triggerName,F.errors))}),Z.forEach(F=>F.destroy()),this.reportError(Y)}let X=new Map,q=new Map;o.forEach(Y=>{let F=Y.element;i.has(F)&&(q.set(F,F),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,X))}),r.forEach(Y=>{let F=Y.element;this._getPreviousPlayers(F,!1,Y.namespaceId,Y.triggerName,null).forEach($=>{jr(X,F,[]).push($),$.destroy()})});let se=A.filter(Y=>XE(Y,l,c)),ve=new Map;GE(ve,this.driver,D,c,so).forEach(Y=>{XE(Y,l,c)&&se.push(Y)});let L=new Map;f.forEach((Y,F)=>{GE(L,this.driver,new Set(Y),l,tm)}),se.forEach(Y=>{let F=ve.get(Y),B=L.get(Y);ve.set(Y,new Map([...F?.entries()??[],...B?.entries()??[]]))});let te=[],Q=[],Ce={};o.forEach(Y=>{let{element:F,player:B,instruction:$}=Y;if(i.has(F)){if(u.has(F)){B.onDestroy(()=>oo(F,$.toStyles)),B.disabled=!0,B.overrideTotalTime($.totalTime),r.push(B);return}let re=Ce;if(q.size>1){let S=F,j=[];for(;S=S.parentNode;){let U=q.get(S);if(U){re=U;break}j.push(S)}j.forEach(U=>q.set(U,re))}let ye=this._buildAnimation(B.namespaceId,$,X,s,L,ve);if(B.setRealPlayer(ye),re===Ce)te.push(B);else{let S=this.playersByElement.get(re);S&&S.length&&(B.parentPlayer=Za(S)),r.push(B)}}else tc(F,$.fromStyles),B.onDestroy(()=>oo(F,$.toStyles)),Q.push(B),u.has(F)&&r.push(B)}),Q.forEach(Y=>{let F=s.get(Y.element);if(F&&F.length){let B=Za(F);Y.setRealPlayer(B)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<A.length;Y++){let F=A[Y],B=F[Ps];if(Au(F,B_),B&&B.hasAnimation)continue;let $=[];if(a.size){let ye=a.get(F);ye&&ye.length&&$.push(...ye);let S=this.driver.query(F,V_,!0);for(let j=0;j<S.length;j++){let U=a.get(S[j]);U&&U.length&&$.push(...U)}}let re=$.filter(ye=>!ye.destroyed);re.length?F6(this,F,re):this.processLeaveNode(F)}return A.length=0,te.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();let F=this.players.indexOf(Y);this.players.splice(F,1)}),Y.play()}),te}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==yh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=jr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{let w=f.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),f.destroy(),d.push(f)})}tc(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,g=e.timelines.map(w=>{let b=w.element;u.add(b);let A=b[Ps];if(A&&A.removedBeforeQueried)return new Ka(w.duration,w.delay);let C=b!==l,D=R6((i.get(b)||N6).map(X=>X.getRealPlayer())).filter(X=>{let q=X;return q.element?q.element===b:!1}),P=s.get(b),z=o.get(b),Z=KE(this._normalizer,w.keyframes,P,z),ae=this._buildPlayer(w,Z,D);if(w.subTimeline&&r&&d.add(b),C){let X=new Ch(t,a,b);X.setRealPlayer(ae),c.push(X)}return ae});c.forEach(w=>{jr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>k6(this.playersByQueriedElement,w.element,w))}),u.forEach(w=>rs(w,BE));let f=Za(g);return f.onDestroy(()=>{u.forEach(w=>Au(w,BE)),oo(l,e.toStyles)}),d.forEach(w=>{jr(r,w,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ka(t.duration,t.delay)}},Ch=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ka,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>tw(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){jr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function k6(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function L6(n){return n??null}function sm(n){return n&&n.nodeType===1}function O6(n){return n=="start"||n=="done"}function WE(n,t){let e=n.style.display;return n.style.display=t??"none",e}function GE(n,t,e,i,r){let s=[];e.forEach(l=>s.push(WE(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let g=t.computeStyle(c,d,r);u.set(d,g),(!g||g.length==0)&&(c[Ps]=P6,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>WE(l,s[a++])),o}function YE(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&e.get(l).push(a)}),e}function rs(n,t){n.classList?.add(t)}function Au(n,t){n.classList?.remove(t)}function F6(n,t,e){Za(e).onDone(()=>n.processLeaveNode(t))}function R6(n){let t=[];return aS(n,t),t}function aS(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof mh?aS(i.players,t):t.push(i)}}function j6(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function XE(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}var Eu=class{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Q_(t.body,e,i),this._timelineEngine=new K_(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=iS(this._driver,s,l,c);if(l.length)throw jR(r,l);c.length&&void 0,a=A6(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[s,o]=RE(i),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if(i.charAt(0)=="@"){let[o,a]=RE(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function B6(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=j_(t[0]),t.length>1&&(i=j_(t[t.length-1]))):t instanceof Map&&(e=j_(t)),e||i?new J_(n,e,i):null}var J_=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&oo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oo(this._element,this._initialStyles),this._endStyles&&(oo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tc(this._element,this._endStyles),this._endStyles=null),oo(this._element,this._initialStyles),this._state=3)}};function j_(n){let t=null;return n.forEach((e,i)=>{V6(i)&&(t=t||new Map,t.set(i,e))}),t}function V6(n){return n==="display"||n==="position"}var pm=class{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:ow(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},gm=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ZE(t,e)}getParentElement(t){return iw(t)}query(t,e,i){return QE(t,e,i)}computeStyle(t,e,i){return ow(t,e)}animate(t,e,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof pm);o6(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((w,b)=>c.set(b,w))});let d=i6(e).map(f=>new Map(f));d=a6(t,d,c);let g=B6(t,d);return new pm(t,d,l,g)}};var om="@",lS="@.disabled",mm=class{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==om&&e==lS?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ew=class extends mm{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==om?e.charAt(1)=="."&&e==lS?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==om){let r=H6(t),s=e.slice(1),o="";return s.charAt(0)!=om&&([s,o]=U6(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function H6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function U6(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var vm=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new mm(i,r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new ew(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var q6=(()=>{class n extends Eu{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(Nt(fr),Nt(nc),Nt(ic))}}static{this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}}return n})();function $6(){return new cm}function W6(n,t,e){return new vm(n,t,e)}var cS=[{provide:ic,useFactory:$6},{provide:Eu,useClass:q6},{provide:Ma,useFactory:W6,deps:[Fp,Eu,Un]}],G6=[{provide:nc,useFactory:()=>new gm},{provide:Mv,useValue:"BrowserAnimations"},...cS],dU=[{provide:nc,useClass:rw},{provide:Mv,useValue:"NoopAnimations"},...cS];function uS(){return Vl("NgEagerAnimations"),[...G6]}e5(LE,{providers:[Wx(),uS()]}).catch(n=>console.error(n));
