import{a as PA}from"./chunk-MNFQCXAS.js";import{a as bn}from"./chunk-FK6H3RFT.js";import{a as mt,b as Ut,c as f2,d as gd,e as qn,f as c0,g as Nl,h as $e}from"./chunk-QWWW7GFA.js";var TS=qn((XW,iw)=>{"use strict";var nw=function(i){"use strict";var t=Object.prototype,e=t.hasOwnProperty,n=Object.defineProperty||function(H,W,K){H[W]=K.value},r,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(H,W,K){return Object.defineProperty(H,W,{value:K,enumerable:!0,configurable:!0,writable:!0}),H[W]}try{c({},"")}catch{c=function(W,K,le){return W[K]=le}}function u(H,W,K,le){var be=W&&W.prototype instanceof M?W:M,T=Object.create(be.prototype),z=new re(le||[]);return n(T,"_invoke",{value:we(H,K,z)}),T}i.wrap=u;function d(H,W,K){try{return{type:"normal",arg:H.call(W,K)}}catch(le){return{type:"throw",arg:le}}}var p="suspendedStart",f="suspendedYield",w="executing",x="completed",P={};function M(){}function O(){}function R(){}var G={};c(G,o,function(){return this});var ie=Object.getPrototypeOf,de=ie&&ie(ie(Ae([])));de&&de!==t&&e.call(de,o)&&(G=de);var te=R.prototype=M.prototype=Object.create(G);O.prototype=R,n(te,"constructor",{value:R,configurable:!0}),n(R,"constructor",{value:O,configurable:!0}),O.displayName=c(R,l,"GeneratorFunction");function Y(H){["next","throw","return"].forEach(function(W){c(H,W,function(K){return this._invoke(W,K)})})}i.isGeneratorFunction=function(H){var W=typeof H=="function"&&H.constructor;return W?W===O||(W.displayName||W.name)==="GeneratorFunction":!1},i.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,R):(H.__proto__=R,c(H,l,"GeneratorFunction")),H.prototype=Object.create(te),H},i.awrap=function(H){return{__await:H}};function ce(H,W){function K(T,z,$,ae){var ue=d(H[T],H,z);if(ue.type==="throw")ae(ue.arg);else{var fe=ue.arg,ve=fe.value;return ve&&typeof ve=="object"&&e.call(ve,"__await")?W.resolve(ve.__await).then(function(Ce){K("next",Ce,$,ae)},function(Ce){K("throw",Ce,$,ae)}):W.resolve(ve).then(function(Ce){fe.value=Ce,$(fe)},function(Ce){return K("throw",Ce,$,ae)})}}var le;function be(T,z){function $(){return new W(function(ae,ue){K(T,z,ae,ue)})}return le=le?le.then($,$):$()}n(this,"_invoke",{value:be})}Y(ce.prototype),c(ce.prototype,a,function(){return this}),i.AsyncIterator=ce,i.async=function(H,W,K,le,be){be===void 0&&(be=Promise);var T=new ce(u(H,W,K,le),be);return i.isGeneratorFunction(W)?T:T.next().then(function(z){return z.done?z.value:T.next()})};function we(H,W,K){var le=p;return function(T,z){if(le===w)throw new Error("Generator is already running");if(le===x){if(T==="throw")throw z;return ee()}for(K.method=T,K.arg=z;;){var $=K.delegate;if($){var ae=V($,K);if(ae){if(ae===P)continue;return ae}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(le===p)throw le=x,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);le=w;var ue=d(H,W,K);if(ue.type==="normal"){if(le=K.done?x:f,ue.arg===P)continue;return{value:ue.arg,done:K.done}}else ue.type==="throw"&&(le=x,K.method="throw",K.arg=ue.arg)}}}function V(H,W){var K=W.method,le=H.iterator[K];if(le===r)return W.delegate=null,K==="throw"&&H.iterator.return&&(W.method="return",W.arg=r,V(H,W),W.method==="throw")||K!=="return"&&(W.method="throw",W.arg=new TypeError("The iterator does not provide a '"+K+"' method")),P;var be=d(le,H.iterator,W.arg);if(be.type==="throw")return W.method="throw",W.arg=be.arg,W.delegate=null,P;var T=be.arg;if(!T)return W.method="throw",W.arg=new TypeError("iterator result is not an object"),W.delegate=null,P;if(T.done)W[H.resultName]=T.value,W.next=H.nextLoc,W.method!=="return"&&(W.method="next",W.arg=r);else return T;return W.delegate=null,P}Y(te),c(te,l,"Generator"),c(te,o,function(){return this}),c(te,"toString",function(){return"[object Generator]"});function j(H){var W={tryLoc:H[0]};1 in H&&(W.catchLoc=H[1]),2 in H&&(W.finallyLoc=H[2],W.afterLoc=H[3]),this.tryEntries.push(W)}function oe(H){var W=H.completion||{};W.type="normal",delete W.arg,H.completion=W}function re(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(j,this),this.reset(!0)}i.keys=function(H){var W=Object(H),K=[];for(var le in W)K.push(le);return K.reverse(),function be(){for(;K.length;){var T=K.pop();if(T in W)return be.value=T,be.done=!1,be}return be.done=!0,be}};function Ae(H){if(H){var W=H[o];if(W)return W.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var K=-1,le=function be(){for(;++K<H.length;)if(e.call(H,K))return be.value=H[K],be.done=!1,be;return be.value=r,be.done=!0,be};return le.next=le}}return{next:ee}}i.values=Ae;function ee(){return{value:r,done:!0}}return re.prototype={constructor:re,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(oe),!H)for(var W in this)W.charAt(0)==="t"&&e.call(this,W)&&!isNaN(+W.slice(1))&&(this[W]=r)},stop:function(){this.done=!0;var H=this.tryEntries[0],W=H.completion;if(W.type==="throw")throw W.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var W=this;function K(ae,ue){return T.type="throw",T.arg=H,W.next=ae,ue&&(W.method="next",W.arg=r),!!ue}for(var le=this.tryEntries.length-1;le>=0;--le){var be=this.tryEntries[le],T=be.completion;if(be.tryLoc==="root")return K("end");if(be.tryLoc<=this.prev){var z=e.call(be,"catchLoc"),$=e.call(be,"finallyLoc");if(z&&$){if(this.prev<be.catchLoc)return K(be.catchLoc,!0);if(this.prev<be.finallyLoc)return K(be.finallyLoc)}else if(z){if(this.prev<be.catchLoc)return K(be.catchLoc,!0)}else if($){if(this.prev<be.finallyLoc)return K(be.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,W){for(var K=this.tryEntries.length-1;K>=0;--K){var le=this.tryEntries[K];if(le.tryLoc<=this.prev&&e.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var be=le;break}}be&&(H==="break"||H==="continue")&&be.tryLoc<=W&&W<=be.finallyLoc&&(be=null);var T=be?be.completion:{};return T.type=H,T.arg=W,be?(this.method="next",this.next=be.finallyLoc,P):this.complete(T)},complete:function(H,W){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&W&&(this.next=W),P},finish:function(H){for(var W=this.tryEntries.length-1;W>=0;--W){var K=this.tryEntries[W];if(K.finallyLoc===H)return this.complete(K.completion,K.afterLoc),oe(K),P}},catch:function(H){for(var W=this.tryEntries.length-1;W>=0;--W){var K=this.tryEntries[W];if(K.tryLoc===H){var le=K.completion;if(le.type==="throw"){var be=le.arg;oe(K)}return be}}throw new Error("illegal catch attempt")},delegateYield:function(H,W,K){return this.delegate={iterator:Ae(H),resultName:W,nextLoc:K},this.method==="next"&&(this.arg=r),P}},i}(typeof iw=="object"?iw.exports:{});try{regeneratorRuntime=nw}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=nw:Function("r","regeneratorRuntime = r")(nw)}});var Am=qn((JW,OS)=>{"use strict";OS.exports=(i,t)=>`${i}-${t}-${Math.random().toString(16).slice(3,8)}`});var rw=qn((ZW,kS)=>{"use strict";var HL=Am(),NS=0;kS.exports=({id:i,action:t,payload:e={}})=>{let n=i;return typeof n>"u"&&(n=HL("Job",NS),NS+=1),{id:n,action:t,payload:e}}});var Dm=qn(Ih=>{"use strict";var sw=!1;Ih.logging=sw;Ih.setLogging=i=>{sw=i};Ih.log=(...i)=>sw?console.log.apply(Ih,i):null});var RS=qn((Vu,FS)=>{"use strict";var UL=rw(),{log:Pm}=Dm(),zL=Am(),LS=0;FS.exports=()=>{let i=zL("Scheduler",LS),t={},e={},n=[];LS+=1;let r=()=>n.length,s=()=>Object.keys(t).length,o=()=>{if(n.length!==0){let d=Object.keys(t);for(let p=0;p<d.length;p+=1)if(typeof e[d[p]]>"u"){n[0](t[d[p]]);break}}},a=(d,p)=>new Promise((f,w)=>{let x=UL({action:d,payload:p});n.push(P=>$e(Vu,null,function*(){n.shift(),e[P.id]=x;try{f(yield P[d].apply(Vu,[...p,x.id]))}catch(M){w(M)}finally{delete e[P.id],o()}})),Pm(`[${i}]: Add ${x.id} to JobQueue`),Pm(`[${i}]: JobQueue length=${n.length}`),o()});return{addWorker:d=>(t[d.id]=d,Pm(`[${i}]: Add ${d.id}`),Pm(`[${i}]: Number of workers=${s()}`),o(),d.id),addJob:(d,...p)=>$e(Vu,null,function*(){if(s()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return a(d,p)}),terminate:()=>$e(Vu,null,function*(){Object.keys(t).forEach(d=>$e(Vu,null,function*(){yield t[d].terminate()})),n=[]}),getQueueLen:r,getNumWorkers:s}}});var jS=qn((t$,VS)=>{"use strict";VS.exports=i=>{let t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof f2=="function"&&(t.type="node"),typeof i>"u"?t:t[i]}});var qS=qn((i$,BS)=>{"use strict";var WL=jS()("type")==="browser",$L=WL?i=>new URL(i,window.location.href).href:i=>i;BS.exports=i=>{let t=mt({},i);return["corePath","workerPath","langPath"].forEach(e=>{i[e]&&(t[e]=$L(t[e]))}),t}});var ow=qn((s$,HS)=>{"use strict";HS.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var US=qn((o$,GL)=>{GL.exports={name:"tesseract.js",version:"6.0.0",description:"Pure Javascript Multilingual OCR",main:"src/index.js",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var WS=qn((a$,zS)=>{"use strict";zS.exports={workerBlobURL:!0,logger:()=>{}}});var GS=qn((l$,$S)=>{"use strict";var YL=US().version,KL=WS();$S.exports=Ut(mt({},KL),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${YL}/dist/worker.min.js`})});var KS=qn((u$,YS)=>{"use strict";YS.exports=({workerPath:i,workerBlobURL:t})=>{let e;if(Blob&&URL&&t){let n=new Blob([`importScripts("${i}");`],{type:"application/javascript"});e=new Worker(URL.createObjectURL(n))}else e=new Worker(i);return e}});var JS=qn((d$,XS)=>{"use strict";XS.exports=i=>{i.terminate()}});var QS=qn((h$,ZS)=>{"use strict";ZS.exports=(i,t)=>{i.onmessage=({data:e})=>{t(e)}}});var nM=qn((eM,tM)=>{"use strict";tM.exports=(i,t)=>$e(eM,null,function*(){i.postMessage(t)})});var rM=qn((cw,iM)=>{"use strict";var aw=i=>new Promise((t,e)=>{let n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=({target:{error:{code:r}}})=>{e(Error(`File could not be read! Code=${r}`))},n.readAsArrayBuffer(i)}),lw=i=>$e(cw,null,function*(){let t=i;if(typeof i>"u")return"undefined";if(typeof i=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(i)?t=atob(i.split(",")[1]).split("").map(e=>e.charCodeAt(0)):t=yield(yield fetch(i)).arrayBuffer();else if(typeof HTMLElement<"u"&&i instanceof HTMLElement)i.tagName==="IMG"&&(t=yield lw(i.src)),i.tagName==="VIDEO"&&(t=yield lw(i.poster)),i.tagName==="CANVAS"&&(yield new Promise(e=>{i.toBlob(n=>$e(cw,null,function*(){t=yield aw(n),e()}))}));else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas){let e=yield i.convertToBlob();t=yield aw(e)}else(i instanceof File||i instanceof Blob)&&(t=yield aw(i));return new Uint8Array(t)});iM.exports=lw});var oM=qn((g$,sM)=>{"use strict";var XL=GS(),JL=KS(),ZL=JS(),QL=QS(),eF=nM(),tF=rM();sM.exports={defaultOptions:XL,spawnWorker:JL,terminateWorker:ZL,onMessage:QL,send:eF,loadImage:tF}});var uw=qn((Th,uM)=>{"use strict";var nF=qS(),vo=rw(),{log:aM}=Dm(),iF=Am(),dc=ow(),{defaultOptions:rF,spawnWorker:sF,terminateWorker:oF,onMessage:aF,loadImage:lM,send:lF}=oM(),cM=0;uM.exports=(...r)=>$e(Th,[...r],function*(i="eng",t=dc.LSTM_ONLY,e={},n={}){let s=iF("Worker",cM),W=nF(mt(mt({},rF),e)),{logger:o,errorHandler:a}=W,l=gd(W,["logger","errorHandler"]),c={},u=typeof i=="string"?i.split("+"):i,d=t,p=n,f=[dc.DEFAULT,dc.LSTM_ONLY].includes(t)&&!l.legacyCore,w,x,P=new Promise((K,le)=>{x=K,w=le}),M=K=>{w(K.message)},O=sF(l);O.onerror=M,cM+=1;let R=({id:K,action:le,payload:be})=>new Promise((T,z)=>{aM(`[${s}]: Start ${K}, action=${le}`);let $=`${le}-${K}`;c[$]={resolve:T,reject:z},lF(O,{workerId:s,jobId:K,action:le,payload:be})}),G=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ie=K=>R(vo({id:K,action:"load",payload:{options:{lstmOnly:f,corePath:l.corePath,logging:l.logging}}})),de=(K,le,be)=>R(vo({id:be,action:"FS",payload:{method:"writeFile",args:[K,le]}})),te=(K,le)=>R(vo({id:le,action:"FS",payload:{method:"readFile",args:[K,{encoding:"utf8"}]}})),Y=(K,le)=>R(vo({id:le,action:"FS",payload:{method:"unlink",args:[K]}})),ce=(K,le,be)=>R(vo({id:be,action:"FS",payload:{method:K,args:le}})),we=(K,le)=>R(vo({id:le,action:"loadLanguage",payload:{langs:K,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[dc.DEFAULT,dc.LSTM_ONLY].includes(d)&&!l.legacyLang}}})),V=(K,le,be,T)=>R(vo({id:T,action:"initialize",payload:{langs:K,oem:le,config:be}})),j=(K="eng",le,be,T)=>{if(f&&[dc.TESSERACT_ONLY,dc.TESSERACT_LSTM_COMBINED].includes(le))throw Error("Legacy model requested but code missing.");let z=le||d;d=z;let $=be||p;p=$;let ue=(typeof K=="string"?K.split("+"):K).filter(fe=>!u.includes(fe));return u.push(...ue),ue.length>0?we(ue,T).then(()=>V(K,z,$,T)):V(K,z,$,T)},oe=(K={},le)=>R(vo({id:le,action:"setParameters",payload:{params:K}})),re=(z,...$)=>$e(Th,[z,...$],function*(K,le={},be={text:!0},T){return R(vo({id:T,action:"recognize",payload:{image:yield lM(K),options:le,output:be}}))}),Ae=(K,le)=>$e(Th,null,function*(){if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return R(vo({id:le,action:"detect",payload:{image:yield lM(K)}}))}),ee=()=>$e(Th,null,function*(){return O!==null&&(oF(O),O=null),Promise.resolve()});aF(O,({workerId:K,jobId:le,status:be,action:T,data:z})=>{let $=`${T}-${le}`;if(be==="resolve")aM(`[${K}]: Complete ${le}`),c[$].resolve({jobId:le,data:z}),delete c[$];else if(be==="reject")if(c[$].reject(z),delete c[$],T==="load"&&w(z),a)a(z);else throw Error(z);else be==="progress"&&o(Ut(mt({},z),{userJobId:le}))});let H={id:s,worker:O,load:G,writeText:de,readText:te,removeFile:Y,FS:ce,reinitialize:j,setParameters:oe,recognize:re,detect:Ae,terminate:ee};return ie().then(()=>we(i)).then(()=>V(i,t,n)).then(()=>x(H)).catch(()=>{}),P})});var fM=qn((Oh,hM)=>{"use strict";var dM=uw(),cF=(i,t,e)=>$e(Oh,null,function*(){let n=yield dM(t,1,e);return n.recognize(i).finally(()=>$e(Oh,null,function*(){yield n.terminate()}))}),uF=(i,t)=>$e(Oh,null,function*(){let e=yield dM("osd",0,t);return e.detect(i).finally(()=>$e(Oh,null,function*(){yield e.terminate()}))});hM.exports={recognize:cF,detect:uF}});var gM=qn((v$,pM)=>{"use strict";pM.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var _M=qn((y$,mM)=>{"use strict";mM.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var yM=qn((w$,vM)=>{"use strict";TS();var dF=RS(),hF=uw(),fF=fM(),pF=gM(),gF=ow(),mF=_M(),{setLogging:_F}=Dm();vM.exports=mt({languages:pF,OEM:gF,PSM:mF,createScheduler:dF,createWorker:hF,setLogging:_F},fF)});var EM=qn((yo,dw)=>{"use strict";(function(i,t){typeof yo=="object"&&typeof dw<"u"?dw.exports=t():typeof define=="function"&&define.amd?define(t):(i=typeof globalThis<"u"?globalThis:i||self,i.Sweetalert2=t())})(yo,function(){"use strict";function i(v,E,I){if(typeof v=="function"?v===E:v.has(E))return arguments.length<3?E:I;throw new TypeError("Private element is not present on this object")}function t(v,E){if(E.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(v,E){return v.get(i(v,E))}function n(v,E,I){t(v,E),E.set(v,I)}function r(v,E,I){return v.set(i(v,E),I),I}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=v=>new Promise(E=>{if(!v)return E();let I=window.scrollX,Q=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),E()},s),window.scrollTo(I,Q)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((v,E)=>(v[E]=c+E,v),{}),f=["success","warning","info","question","error"].reduce((v,E)=>(v[E]=c+E,v),{}),w="SweetAlert2:",x=v=>v.charAt(0).toUpperCase()+v.slice(1),P=v=>{console.warn(`${w} ${typeof v=="object"?v.join(" "):v}`)},M=v=>{console.error(`${w} ${v}`)},O=[],R=v=>{O.includes(v)||(O.push(v),P(v))},G=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;R(`"${v}" is deprecated and will be removed in the next major release.${E?` Use "${E}" instead.`:""}`)},ie=v=>typeof v=="function"?v():v,de=v=>v&&typeof v.toPromise=="function",te=v=>de(v)?v.toPromise():Promise.resolve(v),Y=v=>v&&Promise.resolve(v)===v,ce=()=>document.body.querySelector(`.${d.container}`),we=v=>{let E=ce();return E?E.querySelector(v):null},V=v=>we(`.${v}`),j=()=>V(d.popup),oe=()=>V(d.icon),re=()=>V(d["icon-content"]),Ae=()=>V(d.title),ee=()=>V(d["html-container"]),H=()=>V(d.image),W=()=>V(d["progress-steps"]),K=()=>V(d["validation-message"]),le=()=>we(`.${d.actions} .${d.confirm}`),be=()=>we(`.${d.actions} .${d.cancel}`),T=()=>we(`.${d.actions} .${d.deny}`),z=()=>V(d["input-label"]),$=()=>we(`.${d.loader}`),ae=()=>V(d.actions),ue=()=>V(d.footer),fe=()=>V(d["timer-progress-bar"]),ve=()=>V(d.close),Ce=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ze=()=>{let v=j();if(!v)return[];let E=v.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),I=Array.from(E).sort((Qe,Rt)=>{let Kt=parseInt(Qe.getAttribute("tabindex")||"0"),On=parseInt(Rt.getAttribute("tabindex")||"0");return Kt>On?1:Kt<On?-1:0}),Q=v.querySelectorAll(Ce),De=Array.from(Q).filter(Qe=>Qe.getAttribute("tabindex")!=="-1");return[...new Set(I.concat(De))].filter(Qe=>wt(Qe))},Ue=()=>Ne(document.body,d.shown)&&!Ne(document.body,d["toast-shown"])&&!Ne(document.body,d["no-backdrop"]),Ke=()=>{let v=j();return v?Ne(v,d.toast):!1},Je=()=>{let v=j();return v?v.hasAttribute("data-loading"):!1},lt=(v,E)=>{if(v.textContent="",E){let Q=new DOMParser().parseFromString(E,"text/html"),De=Q.querySelector("head");De&&Array.from(De.childNodes).forEach(Rt=>{v.appendChild(Rt)});let Qe=Q.querySelector("body");Qe&&Array.from(Qe.childNodes).forEach(Rt=>{Rt instanceof HTMLVideoElement||Rt instanceof HTMLAudioElement?v.appendChild(Rt.cloneNode(!0)):v.appendChild(Rt)})}},Ne=(v,E)=>{if(!E)return!1;let I=E.split(/\s+/);for(let Q=0;Q<I.length;Q++)if(!v.classList.contains(I[Q]))return!1;return!0},se=(v,E)=>{Array.from(v.classList).forEach(I=>{!Object.values(d).includes(I)&&!Object.values(f).includes(I)&&!Object.values(E.showClass||{}).includes(I)&&v.classList.remove(I)})},gt=(v,E,I)=>{if(se(v,E),!E.customClass)return;let Q=E.customClass[I];if(Q){if(typeof Q!="string"&&!Q.forEach){P(`Invalid type of customClass.${I}! Expected string or iterable object, got "${typeof Q}"`);return}Be(v,Q)}},rt=(v,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return v.querySelector(`.${d.popup} > .${d[E]}`);case"checkbox":return v.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return v.querySelector(`.${d.popup} > .${d.radio} input:checked`)||v.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return v.querySelector(`.${d.popup} > .${d.range} input`);default:return v.querySelector(`.${d.popup} > .${d.input}`)}},We=v=>{if(v.focus(),v.type!=="file"){let E=v.value;v.value="",v.value=E}},Ye=(v,E,I)=>{!v||!E||(typeof E=="string"&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(Q=>{Array.isArray(v)?v.forEach(De=>{I?De.classList.add(Q):De.classList.remove(Q)}):I?v.classList.add(Q):v.classList.remove(Q)}))},Be=(v,E)=>{Ye(v,E,!0)},Ge=(v,E)=>{Ye(v,E,!1)},ot=(v,E)=>{let I=Array.from(v.children);for(let Q=0;Q<I.length;Q++){let De=I[Q];if(De instanceof HTMLElement&&Ne(De,E))return De}},yt=(v,E,I)=>{I===`${parseInt(I)}`&&(I=parseInt(I)),I||parseInt(I)===0?v.style.setProperty(E,typeof I=="number"?`${I}px`:I):v.style.removeProperty(E)},ut=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";v&&(v.style.display=E)},_t=v=>{v&&(v.style.display="none")},Gt=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";v&&new MutationObserver(()=>{vt(v,v.innerHTML,E)}).observe(v,{childList:!0,subtree:!0})},cn=(v,E,I,Q)=>{let De=v.querySelector(E);De&&De.style.setProperty(I,Q)},vt=function(v,E){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";E?ut(v,I):_t(v)},wt=v=>!!(v&&(v.offsetWidth||v.offsetHeight||v.getClientRects().length)),et=()=>!wt(le())&&!wt(T())&&!wt(be()),ci=v=>v.scrollHeight>v.clientHeight,Qt=v=>{let E=window.getComputedStyle(v),I=parseFloat(E.getPropertyValue("animation-duration")||"0"),Q=parseFloat(E.getPropertyValue("transition-duration")||"0");return I>0||Q>0},Gi=function(v){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=fe();I&&wt(I)&&(E&&(I.style.transition="none",I.style.width="100%"),setTimeout(()=>{I.style.transition=`width ${v/1e3}s linear`,I.style.width="0%"},10))},pn=()=>{let v=fe();if(!v)return;let E=parseInt(window.getComputedStyle(v).width);v.style.removeProperty("transition"),v.style.width="100%";let I=parseInt(window.getComputedStyle(v).width),Q=E/I*100;v.style.width=`${Q}%`},Mn=()=>typeof window>"u"||typeof document>"u",Kr=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ln=()=>{let v=ce();return v?(v.remove(),Ge([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},Yi=()=>{o.currentInstance.resetValidationMessage()},kn=()=>{let v=j(),E=ot(v,d.input),I=ot(v,d.file),Q=v.querySelector(`.${d.range} input`),De=v.querySelector(`.${d.range} output`),Qe=ot(v,d.select),Rt=v.querySelector(`.${d.checkbox} input`),Kt=ot(v,d.textarea);E.oninput=Yi,I.onchange=Yi,Qe.onchange=Yi,Rt.onchange=Yi,Kt.oninput=Yi,Q.oninput=()=>{Yi(),De.value=Q.value},Q.onchange=()=>{Yi(),De.value=Q.value}},Dr=v=>typeof v=="string"?document.querySelector(v):v,ps=v=>{let E=j();E.setAttribute("role",v.toast?"alert":"dialog"),E.setAttribute("aria-live",v.toast?"polite":"assertive"),v.toast||E.setAttribute("aria-modal","true")},Ln=v=>{window.getComputedStyle(v).direction==="rtl"&&Be(ce(),d.rtl)},Dt=v=>{let E=ln();if(Mn()){M("SweetAlert2 requires document to initialize");return}let I=document.createElement("div");I.className=d.container,E&&Be(I,d["no-transition"]),lt(I,Kr);let Q=Dr(v.target);Q.appendChild(I),ps(v),Ln(Q),kn()},tn=(v,E)=>{v instanceof HTMLElement?E.appendChild(v):typeof v=="object"?Co(v,E):v&&lt(E,v)},Co=(v,E)=>{v.jquery?ui(E,v):lt(E,v.toString())},ui=(v,E)=>{if(v.textContent="",0 in E)for(let I=0;I in E;I++)v.appendChild(E[I].cloneNode(!0));else v.appendChild(E.cloneNode(!0))},Xr=(v,E)=>{let I=ae(),Q=$();!I||!Q||(!E.showConfirmButton&&!E.showDenyButton&&!E.showCancelButton?_t(I):ut(I),gt(I,E,"actions"),Jr(I,Q,E),lt(Q,E.loaderHtml||""),gt(Q,E,"loader"))};function Jr(v,E,I){let Q=le(),De=T(),Qe=be();!Q||!De||!Qe||(Ki(Q,"confirm",I),Ki(De,"deny",I),Ki(Qe,"cancel",I),bt(Q,De,Qe,I),I.reverseButtons&&(I.toast?(v.insertBefore(Qe,Q),v.insertBefore(De,Q)):(v.insertBefore(Qe,E),v.insertBefore(De,E),v.insertBefore(Q,E))))}function bt(v,E,I,Q){if(!Q.buttonsStyling){Ge([v,E,I],d.styled);return}Be([v,E,I],d.styled),Q.confirmButtonColor&&(v.style.backgroundColor=Q.confirmButtonColor,Be(v,d["default-outline"])),Q.denyButtonColor&&(E.style.backgroundColor=Q.denyButtonColor,Be(E,d["default-outline"])),Q.cancelButtonColor&&(I.style.backgroundColor=Q.cancelButtonColor,Be(I,d["default-outline"]))}function Ki(v,E,I){let Q=x(E);vt(v,I[`show${Q}Button`],"inline-block"),lt(v,I[`${E}ButtonText`]||""),v.setAttribute("aria-label",I[`${E}ButtonAriaLabel`]||""),v.className=d[E],gt(v,I,`${E}Button`)}let Zr=(v,E)=>{let I=ve();I&&(lt(I,E.closeButtonHtml||""),gt(I,E,"closeButton"),vt(I,E.showCloseButton),I.setAttribute("aria-label",E.closeButtonAriaLabel||""))},Ti=(v,E)=>{let I=ce();I&&(Yn(I,E.backdrop),Un(I,E.position),Xi(I,E.grow),gt(I,E,"container"))};function Yn(v,E){typeof E=="string"?v.style.background=E:E||Be([document.documentElement,document.body],d["no-backdrop"])}function Un(v,E){E&&(E in d?Be(v,d[E]):(P('The "position" parameter is not valid, defaulting to "center"'),Be(v,d.center)))}function Xi(v,E){E&&Be(v,d[`grow-${E}`])}var nn={innerParams:new WeakMap,domCache:new WeakMap};let gs=["input","file","range","select","radio","checkbox","textarea"],Pr=(v,E)=>{let I=j();if(!I)return;let Q=nn.innerParams.get(v),De=!Q||E.input!==Q.input;gs.forEach(Qe=>{let Rt=ot(I,d[Qe]);Rt&&(Qr(Qe,E.inputAttributes),Rt.className=d[Qe],De&&_t(Rt))}),E.input&&(De&&Ir(E),ar(E))},Ir=v=>{if(!v.input)return;if(!_n[v.input]){M(`Unexpected type of input! Expected ${Object.keys(_n).join(" | ")}, got "${v.input}"`);return}let E=xo(v.input);if(!E)return;let I=_n[v.input](E,v);ut(E),v.inputAutoFocus&&setTimeout(()=>{We(I)})},Tr=v=>{for(let E=0;E<v.attributes.length;E++){let I=v.attributes[E].name;["id","type","value","style"].includes(I)||v.removeAttribute(I)}},Qr=(v,E)=>{let I=j();if(!I)return;let Q=rt(I,v);if(Q){Tr(Q);for(let De in E)Q.setAttribute(De,E[De])}},ar=v=>{if(!v.input)return;let E=xo(v.input);E&&gt(E,v,"input")},lr=(v,E)=>{!v.placeholder&&E.inputPlaceholder&&(v.placeholder=E.inputPlaceholder)},Or=(v,E,I)=>{if(I.inputLabel){let Q=document.createElement("label"),De=d["input-label"];Q.setAttribute("for",v.id),Q.className=De,typeof I.customClass=="object"&&Be(Q,I.customClass.inputLabel),Q.innerText=I.inputLabel,E.insertAdjacentElement("beforebegin",Q)}},xo=v=>{let E=j();if(E)return ot(E,d[v]||d.input)},ms=(v,E)=>{["string","number"].includes(typeof E)?v.value=`${E}`:Y(E)||P(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof E}"`)},_n={};_n.text=_n.email=_n.password=_n.number=_n.tel=_n.url=_n.search=_n.date=_n["datetime-local"]=_n.time=_n.week=_n.month=(v,E)=>(ms(v,E.inputValue),Or(v,v,E),lr(v,E),v.type=E.input,v),_n.file=(v,E)=>(Or(v,v,E),lr(v,E),v),_n.range=(v,E)=>{let I=v.querySelector("input"),Q=v.querySelector("output");return ms(I,E.inputValue),I.type=E.input,ms(Q,E.inputValue),Or(I,v,E),v},_n.select=(v,E)=>{if(v.textContent="",E.inputPlaceholder){let I=document.createElement("option");lt(I,E.inputPlaceholder),I.value="",I.disabled=!0,I.selected=!0,v.appendChild(I)}return Or(v,v,E),v},_n.radio=v=>(v.textContent="",v),_n.checkbox=(v,E)=>{let I=rt(j(),"checkbox");I.value="1",I.checked=!!E.inputValue;let Q=v.querySelector("span");return lt(Q,E.inputPlaceholder||E.inputLabel),I},_n.textarea=(v,E)=>{ms(v,E.inputValue),lr(v,E),Or(v,v,E);let I=Q=>parseInt(window.getComputedStyle(Q).marginLeft)+parseInt(window.getComputedStyle(Q).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let Q=parseInt(window.getComputedStyle(j()).width),De=()=>{if(!document.body.contains(v))return;let Qe=v.offsetWidth+I(v);Qe>Q?j().style.width=`${Qe}px`:yt(j(),"width",E.width)};new MutationObserver(De).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};let ia=(v,E)=>{let I=ee();I&&(Gt(I),gt(I,E,"htmlContainer"),E.html?(tn(E.html,I),ut(I,"block")):E.text?(I.textContent=E.text,ut(I,"block")):_t(I),Pr(v,E))},_c=(v,E)=>{let I=ue();I&&(Gt(I),vt(I,E.footer,"block"),E.footer&&tn(E.footer,I),gt(I,E,"footer"))},qu=(v,E)=>{let I=nn.innerParams.get(v),Q=oe();if(Q){if(I&&E.icon===I.icon){sa(Q,E),vc(Q,E);return}if(!E.icon&&!E.iconHtml){_t(Q);return}if(E.icon&&Object.keys(f).indexOf(E.icon)===-1){M(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${E.icon}"`),_t(Q);return}ut(Q),sa(Q,E),vc(Q,E),Be(Q,E.showClass&&E.showClass.icon)}},vc=(v,E)=>{for(let[I,Q]of Object.entries(f))E.icon!==I&&Ge(v,Q);Be(v,E.icon&&f[E.icon]),Uu(v,E),ra(),gt(v,E,"icon")},ra=()=>{let v=j();if(!v)return;let E=window.getComputedStyle(v).getPropertyValue("background-color"),I=v.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Q=0;Q<I.length;Q++)I[Q].style.backgroundColor=E},yc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Hu=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,sa=(v,E)=>{if(!E.icon&&!E.iconHtml)return;let I=v.innerHTML,Q="";E.iconHtml?Q=al(E.iconHtml):E.icon==="success"?(Q=yc,I=I.replace(/ style=".*?"/g,"")):E.icon==="error"?Q=Hu:E.icon&&(Q=al({question:"?",warning:"!",info:"i"}[E.icon])),I.trim()!==Q.trim()&&lt(v,Q)},Uu=(v,E)=>{if(E.iconColor){v.style.color=E.iconColor,v.style.borderColor=E.iconColor;for(let I of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])cn(v,I,"background-color",E.iconColor);cn(v,".swal2-success-ring","border-color",E.iconColor)}},al=v=>`<div class="${d["icon-content"]}">${v}</div>`,zu=(v,E)=>{let I=H();if(I){if(!E.imageUrl){_t(I);return}ut(I,""),I.setAttribute("src",E.imageUrl),I.setAttribute("alt",E.imageAlt||""),yt(I,"width",E.imageWidth),yt(I,"height",E.imageHeight),I.className=d.image,gt(I,E,"image")}},qs=!1,wc=0,Fn=0,ll=0,cl=0,bc=v=>{v.addEventListener("mousedown",oa),document.body.addEventListener("mousemove",Oi),v.addEventListener("mouseup",_s),v.addEventListener("touchstart",oa),document.body.addEventListener("touchmove",Oi),v.addEventListener("touchend",_s)},ul=v=>{v.removeEventListener("mousedown",oa),document.body.removeEventListener("mousemove",Oi),v.removeEventListener("mouseup",_s),v.removeEventListener("touchstart",oa),document.body.removeEventListener("touchmove",Oi),v.removeEventListener("touchend",_s)},oa=v=>{let E=j();if(v.target===E||oe().contains(v.target)){qs=!0;let I=Ci(v);wc=I.clientX,Fn=I.clientY,ll=parseInt(E.style.insetInlineStart)||0,cl=parseInt(E.style.insetBlockStart)||0,Be(E,"swal2-dragging")}},Oi=v=>{let E=j();if(qs){let{clientX:I,clientY:Q}=Ci(v);E.style.insetInlineStart=`${ll+(I-wc)}px`,E.style.insetBlockStart=`${cl+(Q-Fn)}px`}},_s=()=>{let v=j();qs=!1,Ge(v,"swal2-dragging")},Ci=v=>{let E=0,I=0;return v.type.startsWith("mouse")?(E=v.clientX,I=v.clientY):v.type.startsWith("touch")&&(E=v.touches[0].clientX,I=v.touches[0].clientY),{clientX:E,clientY:I}},dl=(v,E)=>{let I=ce(),Q=j();if(!(!I||!Q)){if(E.toast){yt(I,"width",E.width),Q.style.width="100%";let De=$();De&&Q.insertBefore(De,oe())}else yt(Q,"width",E.width);yt(Q,"padding",E.padding),E.color&&(Q.style.color=E.color),E.background&&(Q.style.background=E.background),_t(K()),Cc(Q,E),E.draggable&&!E.toast?(Be(Q,d.draggable),bc(Q)):(Ge(Q,d.draggable),ul(Q))}},Cc=(v,E)=>{let I=E.showClass||{};v.className=`${d.popup} ${wt(v)?I.popup:""}`,E.toast?(Be([document.documentElement,document.body],d["toast-shown"]),Be(v,d.toast)):Be(v,d.modal),gt(v,E,"popup"),typeof E.customClass=="string"&&Be(v,E.customClass),E.icon&&Be(v,d[`icon-${E.icon}`])},Wu=(v,E)=>{let I=W();if(!I)return;let{progressSteps:Q,currentProgressStep:De}=E;if(!Q||Q.length===0||De===void 0){_t(I);return}ut(I),I.textContent="",De>=Q.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Q.forEach((Qe,Rt)=>{let Kt=xc(Qe);if(I.appendChild(Kt),Rt===De&&Be(Kt,d["active-progress-step"]),Rt!==Q.length-1){let On=$u(E);I.appendChild(On)}})},xc=v=>{let E=document.createElement("li");return Be(E,d["progress-step"]),lt(E,v),E},$u=v=>{let E=document.createElement("li");return Be(E,d["progress-step-line"]),v.progressStepsDistance&&yt(E,"width",v.progressStepsDistance),E},Ec=(v,E)=>{let I=Ae();I&&(Gt(I),vt(I,E.title||E.titleText,"block"),E.title&&tn(E.title,I),E.titleText&&(I.innerText=E.titleText),gt(I,E,"title"))},Sc=(v,E)=>{dl(v,E),Ti(v,E),Wu(v,E),qu(v,E),zu(v,E),Ec(v,E),Zr(v,E),ia(v,E),Xr(v,E),_c(v,E);let I=j();typeof E.didRender=="function"&&I&&E.didRender(I),o.eventEmitter.emit("didRender",I)},hl=()=>wt(j()),Mc=()=>{var v;return(v=le())===null||v===void 0?void 0:v.click()},Gu=()=>{var v;return(v=T())===null||v===void 0?void 0:v.click()},Yu=()=>{var v;return(v=be())===null||v===void 0?void 0:v.click()},Ni=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Eo=v=>{v.keydownTarget&&v.keydownHandlerAdded&&(v.keydownTarget.removeEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!1)},aa=(v,E,I)=>{Eo(v),E.toast||(v.keydownHandler=Q=>Ac(E,Q,I),v.keydownTarget=E.keydownListenerCapture?window:j(),v.keydownListenerCapture=E.keydownListenerCapture,v.keydownTarget.addEventListener("keydown",v.keydownHandler,{capture:v.keydownListenerCapture}),v.keydownHandlerAdded=!0)},la=(v,E)=>{var I;let Q=ze();if(Q.length){v=v+E,v===Q.length?v=0:v===-1&&(v=Q.length-1),Q[v].focus();return}(I=j())===null||I===void 0||I.focus()},di=["ArrowRight","ArrowDown"],Ku=["ArrowLeft","ArrowUp"],Ac=(v,E,I)=>{v&&(E.isComposing||E.keyCode===229||(v.stopKeydownPropagation&&E.stopPropagation(),E.key==="Enter"?Mt(E,v):E.key==="Tab"?Xu(E):[...di,...Ku].includes(E.key)?Ju(E.key):E.key==="Escape"&&es(E,v,I)))},Mt=(v,E)=>{if(!ie(E.allowEnterKey))return;let I=rt(j(),E.input);if(v.target&&I&&v.target instanceof HTMLElement&&v.target.outerHTML===I.outerHTML){if(["textarea","file"].includes(E.input))return;Mc(),v.preventDefault()}},Xu=v=>{let E=v.target,I=ze(),Q=-1;for(let De=0;De<I.length;De++)if(E===I[De]){Q=De;break}v.shiftKey?la(Q,-1):la(Q,1),v.stopPropagation(),v.preventDefault()},Ju=v=>{let E=ae(),I=le(),Q=T(),De=be();if(!E||!I||!Q||!De)return;let Qe=[I,Q,De];if(document.activeElement instanceof HTMLElement&&!Qe.includes(document.activeElement))return;let Rt=di.includes(v)?"nextElementSibling":"previousElementSibling",Kt=document.activeElement;if(Kt){for(let On=0;On<E.children.length;On++){if(Kt=Kt[Rt],!Kt)return;if(Kt instanceof HTMLButtonElement&&wt(Kt))break}Kt instanceof HTMLButtonElement&&Kt.focus()}},es=(v,E,I)=>{ie(E.allowEscapeKey)&&(v.preventDefault(),I(Ni.esc))};var vs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Dc=()=>{let v=ce();Array.from(document.body.children).forEach(I=>{I.contains(v)||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")||""),I.setAttribute("aria-hidden","true"))})},So=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")||""),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},ca=typeof window<"u"&&!!window.GestureEvent,Zu=()=>{if(ca&&!Ne(document.body,d.iosfix)){let v=document.body.scrollTop;document.body.style.top=`${v*-1}px`,Be(document.body,d.iosfix),Qu()}},Qu=()=>{let v=ce();if(!v)return;let E;v.ontouchstart=I=>{E=ed(I)},v.ontouchmove=I=>{E&&(I.preventDefault(),I.stopPropagation())}},ed=v=>{let E=v.target,I=ce(),Q=ee();return!I||!Q||fl(v)||Mo(v)?!1:E===I||!ci(I)&&E instanceof HTMLElement&&E.tagName!=="INPUT"&&E.tagName!=="TEXTAREA"&&!(ci(Q)&&Q.contains(E))},fl=v=>v.touches&&v.touches.length&&v.touches[0].touchType==="stylus",Mo=v=>v.touches&&v.touches.length>1,Hs=()=>{if(Ne(document.body,d.iosfix)){let v=parseInt(document.body.style.top,10);Ge(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=v*-1}},td=()=>{let v=document.createElement("div");v.className=d["scrollbar-measure"],document.body.appendChild(v);let E=v.getBoundingClientRect().width-v.clientWidth;return document.body.removeChild(v),E},cr=null,pl=v=>{cr===null&&(document.body.scrollHeight>window.innerHeight||v==="scroll")&&(cr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${cr+td()}px`)},ua=()=>{cr!==null&&(document.body.style.paddingRight=`${cr}px`,cr=null)};function gl(v,E,I,Q){Ke()?da(v,Q):(l(I).then(()=>da(v,Q)),Eo(o)),ca?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),Ue()&&(ua(),Hs(),So()),Pc()}function Pc(){Ge([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function Nr(v){v=nd(v);let E=vs.swalPromiseResolve.get(this),I=Ic(this);this.isAwaitingPromise?v.isDismissed||(Ji(this),E(v)):I&&E(v)}let Ic=v=>{let E=j();if(!E)return!1;let I=nn.innerParams.get(v);if(!I||Ne(E,I.hideClass.popup))return!1;Ge(E,I.showClass.popup),Be(E,I.hideClass.popup);let Q=ce();return Ge(Q,I.showClass.backdrop),Be(Q,I.hideClass.backdrop),Us(v,E,I),!0};function kr(v){let E=vs.swalPromiseReject.get(this);Ji(this),E&&E(v)}let Ji=v=>{v.isAwaitingPromise&&(delete v.isAwaitingPromise,nn.innerParams.get(v)||v._destroy())},nd=v=>typeof v>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},v),Us=(v,E,I)=>{var Q;let De=ce(),Qe=Qt(E);typeof I.willClose=="function"&&I.willClose(E),(Q=o.eventEmitter)===null||Q===void 0||Q.emit("willClose",E),Qe?Lr(v,E,De,I.returnFocus,I.didClose):gl(v,De,I.returnFocus,I.didClose)},Lr=(v,E,I,Q,De)=>{o.swalCloseEventFinishedCallback=gl.bind(null,v,I,Q,De);let Qe=function(Rt){if(Rt.target===E){var Kt;(Kt=o.swalCloseEventFinishedCallback)===null||Kt===void 0||Kt.call(o),delete o.swalCloseEventFinishedCallback,E.removeEventListener("animationend",Qe),E.removeEventListener("transitionend",Qe)}};E.addEventListener("animationend",Qe),E.addEventListener("transitionend",Qe)},da=(v,E)=>{setTimeout(()=>{var I;typeof E=="function"&&E.bind(v.params)(),(I=o.eventEmitter)===null||I===void 0||I.emit("didClose"),v._destroy&&v._destroy()})},ur=v=>{let E=j();if(E||new qc,E=j(),!E)return;let I=$();Ke()?_t(oe()):id(E,v),ut(I),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},id=(v,E)=>{let I=ae(),Q=$();!I||!Q||(!E&&wt(le())&&(E=le()),ut(I),E&&(_t(E),Q.setAttribute("data-button-to-replace",E.className),I.insertBefore(Q,E)),Be([v,I],d.loading))},ha=(v,E)=>{E.input==="select"||E.input==="radio"?fa(v,E):["text","email","number","tel","textarea"].some(I=>I===E.input)&&(de(E.inputValue)||Y(E.inputValue))&&(ur(le()),vl(v,E))},rd=(v,E)=>{let I=v.getInput();if(!I)return null;switch(E.input){case"checkbox":return ml(I);case"radio":return _l(I);case"file":return Tc(I);default:return E.inputAutoTrim?I.value.trim():I.value}},ml=v=>v.checked?1:0,_l=v=>v.checked?v.value:null,Tc=v=>v.files&&v.files.length?v.getAttribute("multiple")!==null?v.files:v.files[0]:null,fa=(v,E)=>{let I=j();if(!I)return;let Q=De=>{E.input==="select"?yl(I,pa(De),E):E.input==="radio"&&Oc(I,pa(De),E)};de(E.inputOptions)||Y(E.inputOptions)?(ur(le()),te(E.inputOptions).then(De=>{v.hideLoading(),Q(De)})):typeof E.inputOptions=="object"?Q(E.inputOptions):M(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof E.inputOptions}`)},vl=(v,E)=>{let I=v.getInput();I&&(_t(I),te(E.inputValue).then(Q=>{I.value=E.input==="number"?`${parseFloat(Q)||0}`:`${Q}`,ut(I),I.focus(),v.hideLoading()}).catch(Q=>{M(`Error in inputValue promise: ${Q}`),I.value="",ut(I),I.focus(),v.hideLoading()}))};function yl(v,E,I){let Q=ot(v,d.select);if(!Q)return;let De=(Qe,Rt,Kt)=>{let On=document.createElement("option");On.value=Kt,lt(On,Rt),On.selected=Ao(Kt,I.inputValue),Qe.appendChild(On)};E.forEach(Qe=>{let Rt=Qe[0],Kt=Qe[1];if(Array.isArray(Kt)){let On=document.createElement("optgroup");On.label=Rt,On.disabled=!1,Q.appendChild(On),Kt.forEach(Ma=>De(On,Ma[1],Ma[0]))}else De(Q,Kt,Rt)}),Q.focus()}function Oc(v,E,I){let Q=ot(v,d.radio);if(!Q)return;E.forEach(Qe=>{let Rt=Qe[0],Kt=Qe[1],On=document.createElement("input"),Ma=document.createElement("label");On.type="radio",On.name=d.radio,On.value=Rt,Ao(Rt,I.inputValue)&&(On.checked=!0);let cd=document.createElement("span");lt(cd,Kt),cd.className=d.label,Ma.appendChild(On),Ma.appendChild(cd),Q.appendChild(Ma)});let De=Q.querySelectorAll("input");De.length&&De[0].focus()}let pa=v=>{let E=[];return v instanceof Map?v.forEach((I,Q)=>{let De=I;typeof De=="object"&&(De=pa(De)),E.push([Q,De])}):Object.keys(v).forEach(I=>{let Q=v[I];typeof Q=="object"&&(Q=pa(Q)),E.push([I,Q])}),E},Ao=(v,E)=>!!E&&E.toString()===v.toString(),Do=v=>{let E=nn.innerParams.get(v);v.disableButtons(),E.input?ga(v,"confirm"):ye(v,!0)},wl=v=>{let E=nn.innerParams.get(v);v.disableButtons(),E.returnInputValueOnDeny?ga(v,"deny"):N(v,!1)},zs=(v,E)=>{v.disableButtons(),E(Ni.cancel)},ga=(v,E)=>{let I=nn.innerParams.get(v);if(!I.input){M(`The "input" parameter is needed to be set when using returnInputValueOn${x(E)}`);return}let Q=v.getInput(),De=rd(v,I);I.inputValidator?y(v,De,E):Q&&!Q.checkValidity()?(v.enableButtons(),v.showValidationMessage(I.validationMessage||Q.validationMessage)):E==="deny"?N(v,De):ye(v,De)},y=(v,E,I)=>{let Q=nn.innerParams.get(v);v.disableInput(),Promise.resolve().then(()=>te(Q.inputValidator(E,Q.validationMessage))).then(Qe=>{v.enableButtons(),v.enableInput(),Qe?v.showValidationMessage(Qe):I==="deny"?N(v,E):ye(v,E)})},N=(v,E)=>{let I=nn.innerParams.get(v||void 0);I.showLoaderOnDeny&&ur(T()),I.preDeny?(v.isAwaitingPromise=!0,Promise.resolve().then(()=>te(I.preDeny(E,I.validationMessage))).then(De=>{De===!1?(v.hideLoading(),Ji(v)):v.close({isDenied:!0,value:typeof De>"u"?E:De})}).catch(De=>he(v||void 0,De))):v.close({isDenied:!0,value:E})},ne=(v,E)=>{v.close({isConfirmed:!0,value:E})},he=(v,E)=>{v.rejectPromise(E)},ye=(v,E)=>{let I=nn.innerParams.get(v||void 0);I.showLoaderOnConfirm&&ur(),I.preConfirm?(v.resetValidationMessage(),v.isAwaitingPromise=!0,Promise.resolve().then(()=>te(I.preConfirm(E,I.validationMessage))).then(De=>{wt(K())||De===!1?(v.hideLoading(),Ji(v)):ne(v,typeof De>"u"?E:De)}).catch(De=>he(v||void 0,De))):ne(v,E)};function Le(){let v=nn.innerParams.get(this);if(!v)return;let E=nn.domCache.get(this);_t(E.loader),Ke()?v.icon&&ut(oe()):He(E),Ge([E.popup,E.actions],d.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}let He=v=>{let E=v.popup.getElementsByClassName(v.loader.getAttribute("data-button-to-replace"));E.length?ut(E[0],"inline-block"):et()&&_t(v.actions)};function tt(){let v=nn.innerParams.get(this),E=nn.domCache.get(this);return E?rt(E.popup,v.input):null}function pt(v,E,I){let Q=nn.domCache.get(v);E.forEach(De=>{Q[De].disabled=I})}function Pt(v,E){let I=j();if(!(!I||!v))if(v.type==="radio"){let Q=I.querySelectorAll(`[name="${d.radio}"]`);for(let De=0;De<Q.length;De++)Q[De].disabled=E}else v.disabled=E}function At(){pt(this,["confirmButton","denyButton","cancelButton"],!1)}function Yt(){pt(this,["confirmButton","denyButton","cancelButton"],!0)}function An(){Pt(this.getInput(),!1)}function Pn(){Pt(this.getInput(),!0)}function Vn(v){let E=nn.domCache.get(this),I=nn.innerParams.get(this);lt(E.validationMessage,v),E.validationMessage.className=d["validation-message"],I.customClass&&I.customClass.validationMessage&&Be(E.validationMessage,I.customClass.validationMessage),ut(E.validationMessage);let Q=this.getInput();Q&&(Q.setAttribute("aria-invalid","true"),Q.setAttribute("aria-describedby",d["validation-message"]),We(Q),Be(Q,d.inputerror))}function hi(){let v=nn.domCache.get(this);v.validationMessage&&_t(v.validationMessage);let E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),Ge(E,d.inputerror))}let In={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Fr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Zi={allowEnterKey:void 0},ts=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bl=v=>Object.prototype.hasOwnProperty.call(In,v),ma=v=>Fr.indexOf(v)!==-1,_a=v=>Zi[v],va=v=>{bl(v)||P(`Unknown parameter "${v}"`)},Cl=v=>{ts.includes(v)&&P(`The parameter "${v}" is incompatible with toasts`)},xl=v=>{let E=_a(v);E&&G(v,E)},ya=v=>{v.backdrop===!1&&v.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let E in v)va(E),v.toast&&Cl(E),xl(E)};function ti(v){let E=j(),I=nn.innerParams.get(this);if(!E||Ne(E,I.hideClass.popup)){P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let Q=wa(v),De=Object.assign({},I,Q);Sc(this,De),nn.innerParams.set(this,De),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}let wa=v=>{let E={};return Object.keys(v).forEach(I=>{ma(I)?E[I]=v[I]:P(`Invalid parameter to update: ${I}`)}),E};function Po(){let v=nn.domCache.get(this),E=nn.innerParams.get(this);if(!E){Ca(this);return}v.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof E.didDestroy=="function"&&E.didDestroy(),o.eventEmitter.emit("didDestroy"),ba(this)}let ba=v=>{Ca(v),delete v.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},Ca=v=>{v.isAwaitingPromise?(mi(nn,v),v.isAwaitingPromise=!0):(mi(vs,v),mi(nn,v),delete v.isAwaitingPromise,delete v.disableButtons,delete v.enableButtons,delete v.getInput,delete v.disableInput,delete v.enableInput,delete v.hideLoading,delete v.disableLoading,delete v.showValidationMessage,delete v.resetValidationMessage,delete v.close,delete v.closePopup,delete v.closeModal,delete v.closeToast,delete v.rejectPromise,delete v.update,delete v._destroy)},mi=(v,E)=>{for(let I in v)v[I].delete(E)};var sd=Object.freeze({__proto__:null,_destroy:Po,close:Nr,closeModal:Nr,closePopup:Nr,closeToast:Nr,disableButtons:Yt,disableInput:Pn,disableLoading:Le,enableButtons:At,enableInput:An,getInput:tt,handleAwaitingPromise:Ji,hideLoading:Le,rejectPromise:kr,resetValidationMessage:hi,showValidationMessage:Vn,update:ti});let El=(v,E,I)=>{v.toast?Nc(v,E,I):(kc(E),Lc(E),Ws(v,E,I))},Nc=(v,E,I)=>{E.popup.onclick=()=>{v&&(dr(v)||v.timer||v.input)||I(Ni.close)}},dr=v=>!!(v.showConfirmButton||v.showDenyButton||v.showCancelButton||v.showCloseButton),ys=!1,kc=v=>{v.popup.onmousedown=()=>{v.container.onmouseup=function(E){v.container.onmouseup=()=>{},E.target===v.container&&(ys=!0)}}},Lc=v=>{v.container.onmousedown=E=>{E.target===v.container&&E.preventDefault(),v.popup.onmouseup=function(I){v.popup.onmouseup=()=>{},(I.target===v.popup||I.target instanceof HTMLElement&&v.popup.contains(I.target))&&(ys=!0)}}},Ws=(v,E,I)=>{E.container.onclick=Q=>{if(ys){ys=!1;return}Q.target===E.container&&ie(v.allowOutsideClick)&&I(Ni.backdrop)}},Io=v=>typeof v=="object"&&v.jquery,xi=v=>v instanceof Element||Io(v),Ei=v=>{let E={};return typeof v[0]=="object"&&!xi(v[0])?Object.assign(E,v[0]):["title","html","icon"].forEach((I,Q)=>{let De=v[Q];typeof De=="string"||xi(De)?E[I]=De:De!==void 0&&M(`Unexpected type of ${I}! Expected "string" or "Element", got ${typeof De}`)}),E};function $s(){for(var v=arguments.length,E=new Array(v),I=0;I<v;I++)E[I]=arguments[I];return new this(...E)}function ws(v){class E extends this{_main(Q,De){return super._main(Q,Object.assign({},v,De))}}return E}let bs=()=>o.timeout&&o.timeout.getTimerLeft(),To=()=>{if(o.timeout)return pn(),o.timeout.stop()},ns=()=>{if(o.timeout){let v=o.timeout.start();return Gi(v),v}},jn=()=>{let v=o.timeout;return v&&(v.running?To():ns())},Sl=v=>{if(o.timeout){let E=o.timeout.increase(v);return Gi(E,!0),E}},Si=()=>!!(o.timeout&&o.timeout.isRunning()),Qi=!1,Gs={};function Fc(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Gs[v]=this,Qi||(document.body.addEventListener("click",Ml),Qi=!0)}let Ml=v=>{for(let E=v.target;E&&E!==document;E=E.parentNode)for(let I in Gs){let Q=E.getAttribute(I);if(Q){Gs[I].fire({template:Q});return}}};class Oo{constructor(){this.events={}}_getHandlersByEventName(E){return typeof this.events[E]>"u"&&(this.events[E]=[]),this.events[E]}on(E,I){let Q=this._getHandlersByEventName(E);Q.includes(I)||Q.push(I)}once(E,I){var Q=this;let De=function(){Q.removeListener(E,De);for(var Qe=arguments.length,Rt=new Array(Qe),Kt=0;Kt<Qe;Kt++)Rt[Kt]=arguments[Kt];I.apply(Q,Rt)};this.on(E,De)}emit(E){for(var I=arguments.length,Q=new Array(I>1?I-1:0),De=1;De<I;De++)Q[De-1]=arguments[De];this._getHandlersByEventName(E).forEach(Qe=>{try{Qe.apply(this,Q)}catch(Rt){console.error(Rt)}})}removeListener(E,I){let Q=this._getHandlersByEventName(E),De=Q.indexOf(I);De>-1&&Q.splice(De,1)}removeAllListeners(E){this.events[E]!==void 0&&(this.events[E].length=0)}reset(){this.events={}}}o.eventEmitter=new Oo;var Sa=Object.freeze({__proto__:null,argsToParams:Ei,bindClickHandler:Fc,clickCancel:Yu,clickConfirm:Mc,clickDeny:Gu,enableLoading:ur,fire:$s,getActions:ae,getCancelButton:be,getCloseButton:ve,getConfirmButton:le,getContainer:ce,getDenyButton:T,getFocusableElements:ze,getFooter:ue,getHtmlContainer:ee,getIcon:oe,getIconContent:re,getImage:H,getInputLabel:z,getLoader:$,getPopup:j,getProgressSteps:W,getTimerLeft:bs,getTimerProgressBar:fe,getTitle:Ae,getValidationMessage:K,increaseTimer:Sl,isDeprecatedParameter:_a,isLoading:Je,isTimerRunning:Si,isUpdatableParameter:ma,isValidParameter:bl,isVisible:hl,mixin:ws,off:(v,E)=>{if(!v){o.eventEmitter.reset();return}E?o.eventEmitter.removeListener(v,E):o.eventEmitter.removeAllListeners(v)},on:(v,E)=>{o.eventEmitter.on(v,E)},once:(v,E)=>{o.eventEmitter.once(v,E)},resumeTimer:ns,showLoading:ur,stopTimer:To,toggleTimer:jn});class ko{constructor(E,I){this.callback=E,this.remaining=I,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(E){let I=this.running;return I&&this.stop(),this.remaining+=E,I&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Cs=["swal-title","swal-html","swal-footer"],Al=v=>{let E=typeof v.template=="string"?document.querySelector(v.template):v.template;if(!E)return{};let I=E.content;return Dl(I),Object.assign(hr(I),fr(I),vn(I),yn(I),Bn(I),Kn(I),xs(I,Cs))},hr=v=>{let E={};return Array.from(v.querySelectorAll("swal-param")).forEach(Q=>{pr(Q,["name","value"]);let De=Q.getAttribute("name"),Qe=Q.getAttribute("value");!De||!Qe||(typeof In[De]=="boolean"?E[De]=Qe!=="false":typeof In[De]=="object"?E[De]=JSON.parse(Qe):E[De]=Qe)}),E},fr=v=>{let E={};return Array.from(v.querySelectorAll("swal-function-param")).forEach(Q=>{let De=Q.getAttribute("name"),Qe=Q.getAttribute("value");!De||!Qe||(E[De]=new Function(`return ${Qe}`)())}),E},vn=v=>{let E={};return Array.from(v.querySelectorAll("swal-button")).forEach(Q=>{pr(Q,["type","color","aria-label"]);let De=Q.getAttribute("type");!De||!["confirm","cancel","deny"].includes(De)||(E[`${De}ButtonText`]=Q.innerHTML,E[`show${x(De)}Button`]=!0,Q.hasAttribute("color")&&(E[`${De}ButtonColor`]=Q.getAttribute("color")),Q.hasAttribute("aria-label")&&(E[`${De}ButtonAriaLabel`]=Q.getAttribute("aria-label")))}),E},yn=v=>{let E={},I=v.querySelector("swal-image");return I&&(pr(I,["src","width","height","alt"]),I.hasAttribute("src")&&(E.imageUrl=I.getAttribute("src")||void 0),I.hasAttribute("width")&&(E.imageWidth=I.getAttribute("width")||void 0),I.hasAttribute("height")&&(E.imageHeight=I.getAttribute("height")||void 0),I.hasAttribute("alt")&&(E.imageAlt=I.getAttribute("alt")||void 0)),E},Bn=v=>{let E={},I=v.querySelector("swal-icon");return I&&(pr(I,["type","color"]),I.hasAttribute("type")&&(E.icon=I.getAttribute("type")),I.hasAttribute("color")&&(E.iconColor=I.getAttribute("color")),E.iconHtml=I.innerHTML),E},Kn=v=>{let E={},I=v.querySelector("swal-input");I&&(pr(I,["type","label","placeholder","value"]),E.input=I.getAttribute("type")||"text",I.hasAttribute("label")&&(E.inputLabel=I.getAttribute("label")),I.hasAttribute("placeholder")&&(E.inputPlaceholder=I.getAttribute("placeholder")),I.hasAttribute("value")&&(E.inputValue=I.getAttribute("value")));let Q=Array.from(v.querySelectorAll("swal-input-option"));return Q.length&&(E.inputOptions={},Q.forEach(De=>{pr(De,["value"]);let Qe=De.getAttribute("value");if(!Qe)return;let Rt=De.innerHTML;E.inputOptions[Qe]=Rt})),E},xs=(v,E)=>{let I={};for(let Q in E){let De=E[Q],Qe=v.querySelector(De);Qe&&(pr(Qe,[]),I[De.replace(/^swal-/,"")]=Qe.innerHTML.trim())}return I},Dl=v=>{let E=Cs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(v.children).forEach(I=>{let Q=I.tagName.toLowerCase();E.includes(Q)||P(`Unrecognized element <${Q}>`)})},pr=(v,E)=>{Array.from(v.attributes).forEach(I=>{E.indexOf(I.name)===-1&&P([`Unrecognized attribute "${I.name}" on <${v.tagName.toLowerCase()}>.`,`${E.length?`Allowed attributes are: ${E.join(", ")}`:"To set the value, use HTML within the element."}`])})},Pl=10,od=v=>{let E=ce(),I=j();typeof v.willOpen=="function"&&v.willOpen(I),o.eventEmitter.emit("willOpen",I);let De=window.getComputedStyle(document.body).overflowY;Rc(E,I,v),setTimeout(()=>{er(E,I)},Pl),Ue()&&(gr(E,v.scrollbarPadding,De),Dc()),!Ke()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof v.didOpen=="function"&&setTimeout(()=>v.didOpen(I)),o.eventEmitter.emit("didOpen",I),Ge(E,d["no-transition"])},Lo=v=>{let E=j();if(v.target!==E)return;let I=ce();E.removeEventListener("animationend",Lo),E.removeEventListener("transitionend",Lo),I.style.overflowY="auto"},er=(v,E)=>{Qt(E)?(v.style.overflowY="hidden",E.addEventListener("animationend",Lo),E.addEventListener("transitionend",Lo)):v.style.overflowY="auto"},gr=(v,E,I)=>{Zu(),E&&I!=="hidden"&&pl(I),setTimeout(()=>{v.scrollTop=0})},Rc=(v,E,I)=>{Be(v,I.showClass.backdrop),I.animation?(E.style.setProperty("opacity","0","important"),ut(E,"grid"),setTimeout(()=>{Be(E,I.showClass.popup),E.style.removeProperty("opacity")},Pl)):ut(E,"grid"),Be([document.documentElement,document.body],d.shown),I.heightAuto&&I.backdrop&&!I.toast&&Be([document.documentElement,document.body],d["height-auto"])};var Il={email:(v,E)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(v)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(v,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(v)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function Bh(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=Il.email),v.input==="url"&&(v.inputValidator=Il.url))}function Vc(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),v.target="body")}function jc(v){Bh(v),v.showLoaderOnConfirm&&!v.preConfirm&&P(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Vc(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),Dt(v)}let mr;var Tl=new WeakMap;class Tn{constructor(){if(n(this,Tl,void 0),typeof window>"u")return;mr=this;for(var E=arguments.length,I=new Array(E),Q=0;Q<E;Q++)I[Q]=arguments[Q];let De=Object.freeze(this.constructor.argsToParams(I));this.params=De,this.isAwaitingPromise=!1,r(Tl,this,this._main(mr.params))}_main(E){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ya(Object.assign({},I,E)),o.currentInstance){let Qe=vs.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:Rt}=o.currentInstance;o.currentInstance._destroy(),Rt||Qe({isDismissed:!0}),Ue()&&So()}o.currentInstance=mr;let Q=Bc(E,I);jc(Q),Object.freeze(Q),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let De=ld(mr);return Sc(mr,Q),nn.innerParams.set(mr,Q),ad(mr,De,Q)}then(E){return e(Tl,this).then(E)}finally(E){return e(Tl,this).finally(E)}}let ad=(v,E,I)=>new Promise((Q,De)=>{let Qe=Rt=>{v.close({isDismissed:!0,dismiss:Rt})};vs.swalPromiseResolve.set(v,Q),vs.swalPromiseReject.set(v,De),E.confirmButton.onclick=()=>{Do(v)},E.denyButton.onclick=()=>{wl(v)},E.cancelButton.onclick=()=>{zs(v,Qe)},E.closeButton.onclick=()=>{Qe(Ni.close)},El(I,E,Qe),aa(o,I,Qe),ha(v,I),od(I),Km(o,I,Qe),Xm(E,I),setTimeout(()=>{E.container.scrollTop=0})}),Bc=(v,E)=>{let I=Al(v),Q=Object.assign({},In,E,I,v);return Q.showClass=Object.assign({},In.showClass,Q.showClass),Q.hideClass=Object.assign({},In.hideClass,Q.hideClass),Q.animation===!1&&(Q.showClass={backdrop:"swal2-noanimation"},Q.hideClass={}),Q},ld=v=>{let E={popup:j(),container:ce(),actions:ae(),confirmButton:le(),denyButton:T(),cancelButton:be(),loader:$(),closeButton:ve(),validationMessage:K(),progressSteps:W()};return nn.domCache.set(v,E),E},Km=(v,E,I)=>{let Q=fe();_t(Q),E.timer&&(v.timeout=new ko(()=>{I("timer"),delete v.timeout},E.timer),E.timerProgressBar&&(ut(Q),gt(Q,E,"timerProgressBar"),setTimeout(()=>{v.timeout&&v.timeout.running&&Gi(E.timer)})))},Xm=(v,E)=>{if(!E.toast){if(!ie(E.allowEnterKey)){G("allowEnterKey"),Zm();return}qh(v)||Jm(v,E)||la(-1,1)}},qh=v=>{let E=Array.from(v.popup.querySelectorAll("[autofocus]"));for(let I of E)if(I instanceof HTMLElement&&wt(I))return I.focus(),!0;return!1},Jm=(v,E)=>E.focusDeny&&wt(v.denyButton)?(v.denyButton.focus(),!0):E.focusCancel&&wt(v.cancelButton)?(v.cancelButton.focus(),!0):E.focusConfirm&&wt(v.confirmButton)?(v.confirmButton.focus(),!0):!1,Zm=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let v=new Date,E=localStorage.getItem("swal-initiation");E?(v.getTime()-Date.parse(E))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let I=document.createElement("audio");I.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",I.loop=!0,document.body.appendChild(I),setTimeout(()=>{I.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${v}`)}Tn.prototype.disableButtons=Yt,Tn.prototype.enableButtons=At,Tn.prototype.getInput=tt,Tn.prototype.disableInput=Pn,Tn.prototype.enableInput=An,Tn.prototype.hideLoading=Le,Tn.prototype.disableLoading=Le,Tn.prototype.showValidationMessage=Vn,Tn.prototype.resetValidationMessage=hi,Tn.prototype.close=Nr,Tn.prototype.closePopup=Nr,Tn.prototype.closeModal=Nr,Tn.prototype.closeToast=Nr,Tn.prototype.rejectPromise=kr,Tn.prototype.update=ti,Tn.prototype._destroy=Po,Object.assign(Tn,Sa),Object.keys(sd).forEach(v=>{Tn[v]=function(){return mr&&mr[v]?mr[v](...arguments):null}}),Tn.DismissReason=Ni,Tn.version="11.15.10";let qc=Tn;return qc.default=qc,qc});typeof yo<"u"&&yo.Sweetalert2&&(yo.swal=yo.sweetAlert=yo.Swal=yo.SweetAlert=yo.Sweetalert2);typeof document<"u"&&function(i,t){var e=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function p2(i,t){return Object.is(i,t)}var fi=null,tf=!1,nf=1,jo=Symbol("SIGNAL");function sn(i){let t=fi;return fi=i,t}function g2(){return fi}var _d={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function h0(i){if(tf)throw new Error("");if(fi===null)return;fi.consumerOnSignalRead(i);let t=fi.nextProducerIndex++;if(af(fi),t<fi.producerNode.length&&fi.producerNode[t]!==i&&md(fi)){let e=fi.producerNode[t];of(e,fi.producerIndexOfThis[t])}fi.producerNode[t]!==i&&(fi.producerNode[t]=i,fi.producerIndexOfThis[t]=md(fi)?y2(i,fi,t):0),fi.producerLastReadVersion[t]=i.version}function IA(){nf++}function m2(i){if(!(md(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===nf)){if(!i.producerMustRecompute(i)&&!p0(i)){i.dirty=!1,i.lastCleanEpoch=nf;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=nf}}function _2(i){if(i.liveConsumerNode===void 0)return;let t=tf;tf=!0;try{for(let e of i.liveConsumerNode)e.dirty||TA(e)}finally{tf=t}}function v2(){return fi?.consumerAllowSignalWrites!==!1}function TA(i){i.dirty=!0,_2(i),i.consumerMarkedDirty?.(i)}function sf(i){return i&&(i.nextProducerIndex=0),sn(i)}function f0(i,t){if(sn(t),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(md(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)of(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function p0(i){af(i);for(let t=0;t<i.producerNode.length;t++){let e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(m2(e),n!==e.version))return!0}return!1}function g0(i){if(af(i),md(i))for(let t=0;t<i.producerNode.length;t++)of(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function y2(i,t,e){if(w2(i),i.liveConsumerNode.length===0&&b2(i))for(let n=0;n<i.producerNode.length;n++)i.producerIndexOfThis[n]=y2(i.producerNode[n],i,n);return i.liveConsumerIndexOfThis.push(e),i.liveConsumerNode.push(t)-1}function of(i,t){if(w2(i),i.liveConsumerNode.length===1&&b2(i))for(let n=0;n<i.producerNode.length;n++)of(i.producerNode[n],i.producerIndexOfThis[n]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];af(r),r.producerIndexOfThis[n]=t}}function md(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function af(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function w2(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function b2(i){return i.producerNode!==void 0}function C2(i){let t=Object.create(OA);t.computation=i;let e=()=>{if(m2(t),h0(t),t.value===rf)throw t.error;return t.value};return e[jo]=t,e}var u0=Symbol("UNSET"),d0=Symbol("COMPUTING"),rf=Symbol("ERRORED"),OA=Ut(mt({},_d),{value:u0,dirty:!0,error:null,equal:p2,producerMustRecompute(i){return i.value===u0||i.value===d0},producerRecomputeValue(i){if(i.value===d0)throw new Error("Detected cycle in computations.");let t=i.value;i.value=d0;let e=sf(i),n;try{n=i.computation()}catch(r){n=rf,i.error=r}finally{f0(i,e)}if(t!==u0&&t!==rf&&n!==rf&&i.equal(t,n)){i.value=t;return}i.value=n,i.version++}});function NA(){throw new Error}var x2=NA;function E2(){x2()}function S2(i){x2=i}var kA=null;function M2(i){let t=Object.create(D2);t.value=i;let e=()=>(h0(t),t.value);return e[jo]=t,e}function m0(i,t){v2()||E2(),i.equal(i.value,t)||(i.value=t,LA(i))}function A2(i,t){v2()||E2(),m0(i,t(i.value))}var D2=Ut(mt({},_d),{equal:p2,value:void 0});function LA(i){i.version++,IA(),_2(i),kA?.()}function zt(i){return typeof i=="function"}function lf(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var cf=lf(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function vd(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var nr=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(zt(n))try{n()}catch(s){t=s instanceof cf?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{P2(s)}catch(o){t=t??[],o instanceof cf?t=[...t,...o.errors]:t.push(o)}}if(t)throw new cf(t)}}add(t){var e;if(t&&t!==this)if(this.closed)P2(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&vd(e,t)}remove(t){let{_finalizers:e}=this;e&&vd(e,t),t instanceof i&&t._removeParent(this)}};nr.EMPTY=(()=>{let i=new nr;return i.closed=!0,i})();var _0=nr.EMPTY;function uf(i){return i instanceof nr||i&&"closed"in i&&zt(i.remove)&&zt(i.add)&&zt(i.unsubscribe)}function P2(i){zt(i)?i():i.unsubscribe()}var Ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $c={setTimeout(i,t,...e){let{delegate:n}=$c;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=$c;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function df(i){$c.setTimeout(()=>{let{onUnhandledError:t}=Ms;if(t)t(i);else throw i})}function v0(){}var I2=y0("C",void 0,void 0);function T2(i){return y0("E",void 0,i)}function O2(i){return y0("N",i,void 0)}function y0(i,t,e){return{kind:i,value:t,error:e}}var kl=null;function Gc(i){if(Ms.useDeprecatedSynchronousErrorHandling){let t=!kl;if(t&&(kl={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=kl;if(kl=null,e)throw n}}else i()}function N2(i){Ms.useDeprecatedSynchronousErrorHandling&&kl&&(kl.errorThrown=!0,kl.error=i)}var Ll=class extends nr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,uf(t)&&t.add(this)):this.destination=VA}static create(t,e,n){return new Yc(t,e,n)}next(t){this.isStopped?b0(O2(t),this):this._next(t)}error(t){this.isStopped?b0(T2(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?b0(I2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FA=Function.prototype.bind;function w0(i,t){return FA.call(i,t)}var C0=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){hf(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){hf(n)}else hf(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){hf(e)}}},Yc=class extends Ll{constructor(t,e,n){super();let r;if(zt(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let s;this&&Ms.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&w0(t.next,s),error:t.error&&w0(t.error,s),complete:t.complete&&w0(t.complete,s)}):r=t}this.destination=new C0(r)}};function hf(i){Ms.useDeprecatedSynchronousErrorHandling?N2(i):df(i)}function RA(i){throw i}function b0(i,t){let{onStoppedNotification:e}=Ms;e&&$c.setTimeout(()=>e(i,t))}var VA={closed:!0,next:v0,error:RA,complete:v0};var Kc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ff(i){return i}function k2(i){return i.length===0?ff:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var Wn=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let s=BA(e)?e:new Yc(e,n,r);return Gc(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=L2(n),new n((r,s)=>{let o=new Yc({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[Kc](){return this}pipe(...e){return k2(e)(this)}toPromise(e){return e=L2(e),new e((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return i.create=t=>new i(t),i})();function L2(i){var t;return(t=i??Ms.Promise)!==null&&t!==void 0?t:Promise}function jA(i){return i&&zt(i.next)&&zt(i.error)&&zt(i.complete)}function BA(i){return i&&i instanceof Ll||jA(i)&&uf(i)}function qA(i){return zt(i?.lift)}function ki(i){return t=>{if(qA(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Li(i,t,e,n,r){return new x0(i,t,e,n,r)}var x0=class extends Ll{constructor(t,e,n,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var F2=lf(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ks=(()=>{class i extends Wn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new pf(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new F2}next(e){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Gc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:r,observers:s}=this;return n||r?_0:(this.currentObservers=null,s.push(e),new nr(()=>{this.currentObservers=null,vd(s,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:r,isStopped:s}=this;n?e.error(r):s&&e.complete()}asObservable(){let e=new Wn;return e.source=this,e}}return i.create=(t,e)=>new pf(t,e),i})(),pf=class extends Ks{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:_0}};var Fl=class extends Ks{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};function R2(i){return i&&zt(i.schedule)}function V2(i){return i[i.length-1]}function j2(i){return zt(V2(i))?i.pop():void 0}function B2(i){return R2(V2(i))?i.pop():void 0}function H2(i,t,e,n){function r(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(i,t||[])).next())})}function q2(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rl(i){return this instanceof Rl?(this.v=i,this):new Rl(i)}function U2(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(w){return Promise.resolve(w).then(f,d)}}function a(f,w){n[f]&&(r[f]=function(x){return new Promise(function(P,M){s.push([f,x,P,M])>1||l(f,x)})},w&&(r[f]=w(r[f])))}function l(f,w){try{c(n[f](w))}catch(x){p(s[0][3],x)}}function c(f){f.value instanceof Rl?Promise.resolve(f.value.v).then(u,d):p(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function p(f,w){f(w),s.shift(),s.length&&l(s[0][0],s[0][1])}}function z2(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof q2=="function"?q2(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=i[s]&&function(o){return new Promise(function(a,l){o=i[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var gf=i=>i&&typeof i.length=="number"&&typeof i!="function";function mf(i){return zt(i?.then)}function _f(i){return zt(i[Kc])}function vf(i){return Symbol.asyncIterator&&zt(i?.[Symbol.asyncIterator])}function yf(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wf=HA();function bf(i){return zt(i?.[wf])}function Cf(i){return U2(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:n,done:r}=yield Rl(e.read());if(r)return yield Rl(void 0);yield yield Rl(n)}}finally{e.releaseLock()}})}function xf(i){return zt(i?.getReader)}function yr(i){if(i instanceof Wn)return i;if(i!=null){if(_f(i))return UA(i);if(gf(i))return zA(i);if(mf(i))return WA(i);if(vf(i))return W2(i);if(bf(i))return $A(i);if(xf(i))return GA(i)}throw yf(i)}function UA(i){return new Wn(t=>{let e=i[Kc]();if(zt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zA(i){return new Wn(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}function WA(i){return new Wn(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,df)})}function $A(i){return new Wn(t=>{for(let e of i)if(t.next(e),t.closed)return;t.complete()})}function W2(i){return new Wn(t=>{YA(i,t).catch(e=>t.error(e))})}function GA(i){return W2(Cf(i))}function YA(i,t){var e,n,r,s;return H2(this,void 0,void 0,function*(){try{for(e=z2(i);n=yield e.next(),!n.done;){let o=n.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})}function ss(i,t,e,n=0,r=!1){let s=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(s),!r)return s}function Ef(i,t=0){return ki((e,n)=>{e.subscribe(Li(n,r=>ss(n,i,()=>n.next(r),t),()=>ss(n,i,()=>n.complete(),t),r=>ss(n,i,()=>n.error(r),t)))})}function Sf(i,t=0){return ki((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function $2(i,t){return yr(i).pipe(Sf(t),Ef(t))}function G2(i,t){return yr(i).pipe(Sf(t),Ef(t))}function Y2(i,t){return new Wn(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}function K2(i,t){return new Wn(e=>{let n;return ss(e,t,()=>{n=i[wf](),ss(e,t,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){e.error(o);return}s?e.complete():e.next(r)},0,!0)}),()=>zt(n?.return)&&n.return()})}function Mf(i,t){if(!i)throw new Error("Iterable cannot be null");return new Wn(e=>{ss(e,t,()=>{let n=i[Symbol.asyncIterator]();ss(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function X2(i,t){return Mf(Cf(i),t)}function J2(i,t){if(i!=null){if(_f(i))return $2(i,t);if(gf(i))return Y2(i,t);if(mf(i))return G2(i,t);if(vf(i))return Mf(i,t);if(bf(i))return K2(i,t);if(xf(i))return X2(i,t)}throw yf(i)}function Xs(i,t){return t?J2(i,t):yr(i)}function Af(...i){let t=B2(i);return Xs(i,t)}function wr(i,t){return ki((e,n)=>{let r=0;e.subscribe(Li(n,s=>{n.next(i.call(t,s,r++))}))})}var{isArray:KA}=Array;function XA(i,t){return KA(t)?i(...t):i(t)}function Z2(i){return wr(t=>XA(i,t))}var{isArray:JA}=Array,{getPrototypeOf:ZA,prototype:QA,keys:eD}=Object;function Q2(i){if(i.length===1){let t=i[0];if(JA(t))return{args:t,keys:null};if(tD(t)){let e=eD(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}function tD(i){return i&&typeof i=="object"&&ZA(i)===QA}function eb(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function tb(i,t,e,n,r,s,o,a){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&t.complete()},f=x=>c<n?w(x):l.push(x),w=x=>{s&&t.next(x),c++;let P=!1;yr(e(x,u++)).subscribe(Li(t,M=>{r?.(M),s?f(M):t.next(M)},()=>{P=!0},void 0,()=>{if(P)try{for(c--;l.length&&c<n;){let M=l.shift();o?ss(t,o,()=>w(M)):w(M)}p()}catch(M){t.error(M)}}))};return i.subscribe(Li(t,f,()=>{d=!0,p()})),()=>{a?.()}}function Df(i,t,e=1/0){return zt(t)?Df((n,r)=>wr((s,o)=>t(n,s,r,o))(yr(i(n,r))),e):(typeof t=="number"&&(e=t),ki((n,r)=>tb(n,r,i,e)))}function E0(...i){let t=j2(i),{args:e,keys:n}=Q2(i),r=new Wn(s=>{let{length:o}=e;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;yr(e[u]).subscribe(Li(s,p=>{d||(d=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(n?eb(n,a):a),s.complete())}))}});return t?r.pipe(Z2(t)):r}function S0(i,t){return ki((e,n)=>{let r=0;e.subscribe(Li(n,s=>i.call(t,s,r++)&&n.next(s)))})}function M0(i,t){return zt(t)?Df(i,t,1):Df(i,1)}function A0(i){return ki((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function D0(i,t){return ki((e,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();e.subscribe(Li(n,l=>{r?.unsubscribe();let c=0,u=s++;yr(i(l,u)).subscribe(r=Li(n,d=>n.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Pf(i,t,e){let n=zt(i)||t||e?{next:i,error:t,complete:e}:i;return n?ki((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(Li(s,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):ff}var Gb="https://g.co/ng/security#xss",nt=class extends Error{constructor(t,e){super(fp(t,e)),this.code=t}};function fp(i,t){return`${`NG0${Math.abs(i)}`}${t?": "+t:""}`}function Pd(i){return{toString:i}.toString()}var If="__parameters__";function nD(i){return function(...e){if(i){let n=i(...e);for(let r in n)this[r]=n[r]}}}function Yb(i,t,e){return Pd(()=>{let n=nD(t);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(If)?l[If]:Object.defineProperty(l,If,{value:[]})[If];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}var Bo=globalThis;function Nn(i){for(let t in i)if(i[t]===Nn)return t;throw Error("Could not find renamed property on target object.")}function iD(i,t){for(let e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function jr(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(jr).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let t=i.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function nb(i,t){return i==null||i===""?t===null?"":t:t==null||t===""?i:i+" "+t}var rD=Nn({__forward_ref__:Nn});function Uo(i){return i.__forward_ref__=Uo,i.toString=function(){return jr(this())},i}function ir(i){return Kb(i)?i():i}function Kb(i){return typeof i=="function"&&i.hasOwnProperty(rD)&&i.__forward_ref__===Uo}function xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function qa(i){return{providers:i.providers||[],imports:i.imports||[]}}function q_(i){return ib(i,Xb)||ib(i,Jb)}function ib(i,t){return i.hasOwnProperty(t)?i[t]:null}function sD(i){let t=i&&(i[Xb]||i[Jb]);return t||null}function rb(i){return i&&(i.hasOwnProperty(sb)||i.hasOwnProperty(oD))?i[sb]:null}var Xb=Nn({\u0275prov:Nn}),sb=Nn({\u0275inj:Nn}),Jb=Nn({ngInjectableDef:Nn}),oD=Nn({ngInjectorDef:Nn}),Ot=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zb(i){return i&&!!i.\u0275providers}var aD=Nn({\u0275cmp:Nn}),lD=Nn({\u0275dir:Nn}),cD=Nn({\u0275pipe:Nn});var Uf=Nn({\u0275fac:Nn}),bd=Nn({__NG_ELEMENT_ID__:Nn}),ob=Nn({__NG_ENV_ID__:Nn});function ri(i){return typeof i=="string"?i:i==null?"":String(i)}function uD(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():ri(i)}function dD(i,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new nt(-200,i)}function H_(i,t){throw new nt(-201,!1)}var Zt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Zt||{}),U0;function Qb(){return U0}function br(i){let t=U0;return U0=i,t}function eC(i,t,e){let n=q_(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&Zt.Optional)return null;if(t!==void 0)return t;H_(i,"Injector")}var hD={},Cd=hD,z0="__NG_DI_FLAG__",zf="ngTempTokenPath",fD="ngTokenPath",pD=/\n/gm,gD="\u0275",ab="__source",Qc;function mD(){return Qc}function ka(i){let t=Qc;return Qc=i,t}function _D(i,t=Zt.Default){if(Qc===void 0)throw new nt(-203,!1);return Qc===null?eC(i,void 0,t):Qc.get(i,t&Zt.Optional?null:void 0,t)}function Ft(i,t=Zt.Default){return(Qb()||_D)(ir(i),t)}function dt(i,t=Zt.Default){return Ft(i,pp(t))}function pp(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function W0(i){let t=[];for(let e=0;e<i.length;e++){let n=ir(i[e]);if(Array.isArray(n)){if(n.length===0)throw new nt(900,!1);let r,s=Zt.Default;for(let o=0;o<n.length;o++){let a=n[o],l=vD(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(Ft(r,s))}else t.push(Ft(n))}return t}function tC(i,t){return i[z0]=t,i.prototype[z0]=t,i}function vD(i){return i[z0]}function yD(i,t,e,n){let r=i[zf];throw t[ab]&&r.unshift(t[ab]),i.message=wD(`
`+i.message,r,e,n),i[fD]=r,i[zf]=null,i}function wD(i,t,e,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==gD?i.slice(2):i;let r=jr(t);if(Array.isArray(t))r=t.map(jr).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jr(a)))}r=`{${s.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(pD,`
  `)}`}var U_=tC(Yb("Optional"),8);var nC=tC(Yb("SkipSelf"),4);function Bl(i,t){let e=i.hasOwnProperty(Uf);return e?i[Uf]:null}function bD(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],s=t[n];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}function CD(i){return i.flat(Number.POSITIVE_INFINITY)}function z_(i,t){i.forEach(e=>Array.isArray(e)?z_(e,t):t(e))}function iC(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Wf(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function xD(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(r===1)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;){let s=r-2;i[r]=i[s],r--}i[t]=e,i[t+1]=n}}function ED(i,t,e){let n=Id(i,t);return n>=0?i[n|1]=e:(n=~n,xD(i,n,t,e)),n}function P0(i,t){let e=Id(i,t);if(e>=0)return i[e|1]}function Id(i,t){return SD(i,t,1)}function SD(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){let s=n+(r-n>>1),o=i[s<<e];if(t===o)return s<<e;o>t?r=s:n=s+1}return~(r<<e)}var tu={},os=[],xd=new Ot(""),rC=new Ot("",-1),sC=new Ot(""),$f=class{get(t,e=Cd){if(e===Cd){let n=new Error(`NullInjectorError: No provider for ${jr(t)}!`);throw n.name="NullInjectorError",n}return e}},oC=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(oC||{}),Qs=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Qs||{}),Ra=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Ra||{});function MD(i,t,e){let n=i.length;for(;;){let r=i.indexOf(t,e);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let s=t.length;if(r+s===n||i.charCodeAt(r+s)<=32)return r}e=r+1}}function $0(i,t,e){let n=0;for(;n<e.length;){let r=e[n];if(typeof r=="number"){if(r!==0)break;n++;let s=e[n++],o=e[n++],a=e[n++];i.setAttribute(t,o,a,s)}else{let s=r,o=e[++n];DD(s)?i.setProperty(t,s,o):i.setAttribute(t,s,o),n++}}return n}function AD(i){return i===3||i===4||i===6}function DD(i){return i.charCodeAt(0)===64}function Ed(i,t){if(!(t===null||t.length===0))if(i===null||i.length===0)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?e=r:e===0||(e===-1||e===2?lb(i,e,r,null,t[++n]):lb(i,e,r,null,null))}}return i}function lb(i,t,e,n,r){let s=0,o=i.length;if(t===-1)o=-1;else for(;s<i.length;){let a=i[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<i.length;){let a=i[s];if(typeof a=="number")break;if(a===e){if(n===null){r!==null&&(i[s+1]=r);return}else if(n===i[s+1]){i[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(i.splice(o,0,t),s=o+1),i.splice(s++,0,e),n!==null&&i.splice(s++,0,n),r!==null&&i.splice(s++,0,r)}var aC="ng-template";function PD(i,t,e,n){let r=0;if(n){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&MD(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(W_(i))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===e)return!0}return!1}function W_(i){return i.type===4&&i.value!==aC}function ID(i,t,e){let n=i.type===4&&!e?aC:i.value;return t===n}function TD(i,t,e){let n=4,r=i.attrs,s=r!==null?kD(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!As(n)&&!As(l))return!1;if(o&&As(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!ID(i,l,e)||l===""&&t.length===1){if(As(n))return!1;o=!0}}else if(n&8){if(r===null||!PD(i,r,l,e)){if(As(n))return!1;o=!0}}else{let c=t[++a],u=OD(l,r,W_(i),e);if(u===-1){if(As(n))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),n&2&&c!==d){if(As(n))return!1;o=!0}}}}return As(n)||o}function As(i){return(i&1)===0}function OD(i,t,e,n){if(t===null)return-1;let r=0;if(n||!e){let s=!1;for(;r<t.length;){let o=t[r];if(o===i)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return LD(t,i)}function ND(i,t,e=!1){for(let n=0;n<t.length;n++)if(TD(i,t[n],e))return!0;return!1}function kD(i){for(let t=0;t<i.length;t++){let e=i[t];if(AD(e))return t}return i.length}function LD(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let n=i[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function cb(i,t){return i?":not("+t.trim()+")":t}function FD(i){let t=i[0],e=1,n=2,r="",s=!1;for(;e<i.length;){let o=i[e];if(typeof o=="string")if(n&2){let a=i[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!As(o)&&(t+=cb(s,r),r=""),n=o,s=s||!As(n);e++}return r!==""&&(t+=cb(s,r)),t}function RD(i){return i.map(FD).join(",")}function VD(i){let t=[],e=[],n=1,r=2;for(;n<i.length;){let s=i[n];if(typeof s=="string")r===2?s!==""&&t.push(s,i[++n]):r===8&&e.push(s);else{if(!As(r))break;r=s}n++}return{attrs:t,classes:e}}function gp(i){return Pd(()=>{let t=uC(i),e=Ut(mt({},t),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===oC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Qs.Emulated,styles:i.styles||os,_:null,schemas:i.schemas||null,tView:null,id:""});dC(e);let n=i.dependencies;return e.directiveDefs=db(n,!1),e.pipeDefs=db(n,!0),e.id=HD(e),e})}function jD(i){return nu(i)||lC(i)}function BD(i){return i!==null}function Ha(i){return Pd(()=>({type:i.type,bootstrap:i.bootstrap||os,declarations:i.declarations||os,imports:i.imports||os,exports:i.exports||os,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ub(i,t){if(i==null)return tu;let e={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],s,o,a=Ra.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(e[s]=a!==Ra.None?[n,a]:n,t[s]=o):e[s]=n}return e}function yi(i){return Pd(()=>{let t=uC(i);return dC(t),t})}function $_(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone===!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function nu(i){return i[aD]||null}function lC(i){return i[lD]||null}function cC(i){return i[cD]||null}function qD(i){let t=nu(i)||lC(i)||cC(i);return t!==null?t.standalone:!1}function uC(i){let t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||tu,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||os,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ub(i.inputs,t),outputs:ub(i.outputs),debugInfo:null}}function dC(i){i.features?.forEach(t=>t(i))}function db(i,t){if(!i)return null;let e=t?cC:jD;return()=>(typeof i=="function"?i():i).map(n=>e(n)).filter(BD)}function HD(i){let t=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function G_(i){return{\u0275providers:i}}function UD(...i){return{\u0275providers:hC(!0,i),\u0275fromNgModule:!0}}function hC(i,...t){let e=[],n=new Set,r,s=o=>{e.push(o)};return z_(t,o=>{let a=o;G0(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&fC(r,s),e}function fC(i,t){for(let e=0;e<i.length;e++){let{ngModule:n,providers:r}=i[e];Y_(r,s=>{t(s,n)})}}function G0(i,t,e,n){if(i=ir(i),!i)return!1;let r=null,s=rb(i),o=!s&&nu(i);if(!s&&!o){let l=i.ngModule;if(s=rb(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=i}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)G0(c,t,e,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let c;try{z_(s.imports,u=>{G0(u,t,e,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&fC(c,t)}if(!a){let c=Bl(r)||(()=>new r);t({provide:r,useFactory:c,deps:os},r),t({provide:sC,useValue:r,multi:!0},r),t({provide:xd,useValue:()=>Ft(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=i;Y_(l,u=>{t(u,c)})}}else return!1;return r!==i&&i.providers!==void 0}function Y_(i,t){for(let e of i)Zb(e)&&(e=e.\u0275providers),Array.isArray(e)?Y_(e,t):t(e)}var zD=Nn({provide:String,useValue:Nn});function pC(i){return i!==null&&typeof i=="object"&&zD in i}function WD(i){return!!(i&&i.useExisting)}function $D(i){return!!(i&&i.useFactory)}function iu(i){return typeof i=="function"}function GD(i){return!!i.useClass}var mp=new Ot(""),Rf={},YD={},I0;function K_(){return I0===void 0&&(I0=new $f),I0}var eo=class{},Sd=class extends eo{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K0(t,o=>this.processProvider(o)),this.records.set(rC,Xc(void 0,this)),r.has("environment")&&this.records.set(eo,Xc(void 0,this));let s=this.records.get(mp);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sC,os,Zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=sn(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),sn(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=ka(this),n=br(void 0),r;try{return t()}finally{ka(e),br(n)}}get(t,e=Cd,n=Zt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ob))return t[ob](this);n=pp(n);let r,s=ka(this),o=br(void 0);try{if(!(n&Zt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=QD(t)&&q_(t);c&&this.injectableDefInScope(c)?l=Xc(Y0(t),Rf):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&Zt.Self?K_():this.parent;return e=n&Zt.Optional&&e===Cd?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[zf]=a[zf]||[]).unshift(jr(t)),s)throw a;return yD(a,t,"R3InjectorError",this.source)}else throw a}finally{br(o),ka(s)}}resolveInjectorInitializers(){let t=sn(null),e=ka(this),n=br(void 0),r;try{let s=this.get(xd,os,Zt.Self);for(let o of s)o()}finally{ka(e),br(n),sn(t)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(jr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(t){t=ir(t);let e=iu(t)?t:ir(t&&t.provide),n=XD(t);if(!iu(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Xc(void 0,Rf,!0),r.factory=()=>W0(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){let n=sn(null);try{return e.value===Rf&&(e.value=YD,e.value=e.factory()),typeof e.value=="object"&&e.value&&ZD(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{sn(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=ir(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Y0(i){let t=q_(i),e=t!==null?t.factory:Bl(i);if(e!==null)return e;if(i instanceof Ot)throw new nt(204,!1);if(i instanceof Function)return KD(i);throw new nt(204,!1)}function KD(i){if(i.length>0)throw new nt(204,!1);let e=sD(i);return e!==null?()=>e.factory(i):()=>new i}function XD(i){if(pC(i))return Xc(void 0,i.useValue);{let t=gC(i);return Xc(t,Rf)}}function gC(i,t,e){let n;if(iu(i)){let r=ir(i);return Bl(r)||Y0(r)}else if(pC(i))n=()=>ir(i.useValue);else if($D(i))n=()=>i.useFactory(...W0(i.deps||[]));else if(WD(i))n=()=>Ft(ir(i.useExisting));else{let r=ir(i&&(i.useClass||i.provide));if(JD(i))n=()=>new r(...W0(i.deps));else return Bl(r)||Y0(r)}return n}function Xc(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function JD(i){return!!i.deps}function ZD(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function QD(i){return typeof i=="function"||typeof i=="object"&&i instanceof Ot}function K0(i,t){for(let e of i)Array.isArray(e)?K0(e,t):e&&Zb(e)?K0(e.\u0275providers,t):t(e)}function mC(i,t){i instanceof Sd&&i.assertNotDestroyed();let e,n=ka(i),r=br(void 0);try{return t()}finally{ka(n),br(r)}}function eP(){return Qb()!==void 0||mD()!=null}function tP(i){return typeof i=="function"}var zo=0,Bt=1,It=2,Fi=3,Ds=4,Is=5,Gf=6,Yf=7,Ps=8,ru=9,to=10,si=11,Md=12,hb=13,hu=14,no=15,ql=16,Jc=17,qo=18,_p=19,_C=20,La=21,T0=22,as=23,ls=25,vC=1;var Hl=7,Kf=8,su=9,Br=10,Xf=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Xf||{});function Fa(i){return Array.isArray(i)&&typeof i[vC]=="object"}function Wo(i){return Array.isArray(i)&&i[vC]===!0}function X_(i){return(i.flags&4)!==0}function vp(i){return i.componentOffset>-1}function yp(i){return(i.flags&1)===1}function Va(i){return!!i.template}function X0(i){return(i[It]&512)!==0}var J0=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function yC(i,t,e,n){t!==null?t.applyValueToInputSignal(t,n):i[e]=n}function Td(){return wC}function wC(i){return i.type.prototype.ngOnChanges&&(i.setInput=iP),nP}Td.ngInherit=!0;function nP(){let i=CC(this),t=i?.current;if(t){let e=i.previous;if(e===tu)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function iP(i,t,e,n,r){let s=this.declaredInputs[n],o=CC(i)||rP(i,{previous:tu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new J0(c&&c.currentValue,e,l===tu),yC(i,t,r,e)}var bC="__ngSimpleChanges__";function CC(i){return i[bC]||null}function rP(i,t){return i[bC]=t}var fb=null;var Js=function(i,t,e){fb?.(i,t,e)},xC="svg",sP="math";function io(i){for(;Array.isArray(i);)i=i[zo];return i}function EC(i,t){return io(t[i])}function cs(i,t){return io(t[i.index])}function SC(i,t){return i.data[t]}function MC(i,t){return i[t]}function Ua(i,t){let e=t[i];return Fa(e)?e:e[zo]}function oP(i){return(i[It]&4)===4}function J_(i){return(i[It]&128)===128}function aP(i){return Wo(i[Fi])}function ou(i,t){return t==null?null:i[t]}function AC(i){i[Jc]=0}function DC(i){i[It]&1024||(i[It]|=1024,J_(i)&&bp(i))}function lP(i,t){for(;i>0;)t=t[hu],i--;return t}function wp(i){return!!(i[It]&9216||i[as]?.dirty)}function Z0(i){i[to].changeDetectionScheduler?.notify(8),i[It]&64&&(i[It]|=1024),wp(i)&&bp(i)}function bp(i){i[to].changeDetectionScheduler?.notify(0);let t=Ul(i);for(;t!==null&&!(t[It]&8192||(t[It]|=8192,!J_(t)));)t=Ul(t)}function PC(i,t){if((i[It]&256)===256)throw new nt(911,!1);i[La]===null&&(i[La]=[]),i[La].push(t)}function cP(i,t){if(i[La]===null)return;let e=i[La].indexOf(t);e!==-1&&i[La].splice(e,1)}function Ul(i){let t=i[Fi];return Wo(t)?t[Fi]:t}var jt={lFrame:VC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var IC=!1;function uP(){return jt.lFrame.elementDepthCount}function dP(){jt.lFrame.elementDepthCount++}function hP(){jt.lFrame.elementDepthCount--}function TC(){return jt.bindingsEnabled}function fP(){return jt.skipHydrationRootTNode!==null}function pP(i){return jt.skipHydrationRootTNode===i}function gP(){jt.skipHydrationRootTNode=null}function Xt(){return jt.lFrame.lView}function wi(){return jt.lFrame.tView}function J(i){return jt.lFrame.contextLView=i,i[Ps]}function Z(i){return jt.lFrame.contextLView=null,i}function rr(){let i=OC();for(;i!==null&&i.type===64;)i=i.parent;return i}function OC(){return jt.lFrame.currentTNode}function mP(){let i=jt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}function Xl(i,t){let e=jt.lFrame;e.currentTNode=i,e.isParent=t}function Z_(){return jt.lFrame.isParent}function NC(){jt.lFrame.isParent=!1}function _P(){return jt.lFrame.contextLView}function kC(){return IC}function pb(i){IC=i}function Q_(){let i=jt.lFrame,t=i.bindingRootIndex;return t===-1&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function Cp(){return jt.lFrame.bindingIndex}function vP(i){return jt.lFrame.bindingIndex=i}function xp(){return jt.lFrame.bindingIndex++}function Od(i){let t=jt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function yP(){return jt.lFrame.inI18n}function wP(i,t){let e=jt.lFrame;e.bindingIndex=e.bindingRootIndex=i,Q0(t)}function bP(){return jt.lFrame.currentDirectiveIndex}function Q0(i){jt.lFrame.currentDirectiveIndex=i}function CP(i){let t=jt.lFrame.currentDirectiveIndex;return t===-1?null:i[t]}function LC(){return jt.lFrame.currentQueryIndex}function ev(i){jt.lFrame.currentQueryIndex=i}function xP(i){let t=i[Bt];return t.type===2?t.declTNode:t.type===1?i[Is]:null}function FC(i,t,e){if(e&Zt.SkipSelf){let r=t,s=i;for(;r=r.parent,r===null&&!(e&Zt.Host);)if(r=xP(s),r===null||(s=s[hu],r.type&10))break;if(r===null)return!1;t=r,i=s}let n=jt.lFrame=RC();return n.currentTNode=t,n.lView=i,!0}function tv(i){let t=RC(),e=i[Bt];jt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function RC(){let i=jt.lFrame,t=i===null?null:i.child;return t===null?VC(i):t}function VC(i){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=t),t}function jC(){let i=jt.lFrame;return jt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var BC=jC;function nv(){let i=jC();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function EP(i){return(jt.lFrame.contextLView=lP(i,jt.lFrame.contextLView))[Ps]}function oo(){return jt.lFrame.selectedIndex}function zl(i){jt.lFrame.selectedIndex=i}function iv(){let i=jt.lFrame;return SC(i.tView,i.selectedIndex)}function ao(){jt.lFrame.currentNamespace=xC}function rv(){SP()}function SP(){jt.lFrame.currentNamespace=null}function MP(){return jt.lFrame.currentNamespace}var qC=!0;function Ep(){return qC}function Sp(i){qC=i}function AP(i,t,e){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let o=wC(t);(e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o)}r&&(e.preOrderHooks??=[]).push(0-i,r),s&&((e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s))}function Mp(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let s=i.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(i.contentHooks??=[]).push(-e,o),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),u!=null&&(i.destroyHooks??=[]).push(e,u)}}function Vf(i,t,e){HC(i,t,3,e)}function jf(i,t,e,n){(i[It]&3)===e&&HC(i,t,e,n)}function O0(i,t){let e=i[It];(e&3)===t&&(e&=16383,e+=1,i[It]=e)}function HC(i,t,e,n){let r=n!==void 0?i[Jc]&65535:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(i[Jc]+=65536),(a<s||s==-1)&&(DP(i,e,t,l),i[Jc]=(i[Jc]&4294901760)+l+2),l++}function gb(i,t){Js(4,i,t);let e=sn(null);try{t.call(i)}finally{sn(e),Js(5,i,t)}}function DP(i,t,e,n){let r=e[n]<0,s=e[n+1],o=r?-e[n]:e[n],a=i[o];r?i[It]>>14<i[Jc]>>16&&(i[It]&3)===t&&(i[It]+=16384,gb(a,s)):gb(a,s)}var eu=-1,Wl=class{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}};function PP(i){return i instanceof Wl}function IP(i){return(i.flags&8)!==0}function TP(i){return(i.flags&16)!==0}var N0={},e_=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=pp(n);let r=this.injector.get(t,N0,n);return r!==N0||e===N0?r:this.parentInjector.get(t,e,n)}};function UC(i){return i!==eu}function Jf(i){return i&32767}function OP(i){return i>>16}function Zf(i,t){let e=OP(i),n=t;for(;e>0;)n=n[hu],e--;return n}var t_=!0;function Qf(i){let t=t_;return t_=i,t}var NP=256,zC=NP-1,WC=5,kP=0,Zs={};function LP(i,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(bd)&&(n=e[bd]),n==null&&(n=e[bd]=kP++);let r=n&zC,s=1<<r;t.data[i+(r>>WC)]|=s}function ep(i,t){let e=$C(i,t);if(e!==-1)return e;let n=t[Bt];n.firstCreatePass&&(i.injectorIndex=t.length,k0(n.data,i),k0(t,null),k0(n.blueprint,null));let r=sv(i,t),s=i.injectorIndex;if(UC(r)){let o=Jf(r),a=Zf(r,t),l=a[Bt].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function k0(i,t){i.push(0,0,0,0,0,0,0,0,t)}function $C(i,t){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||t[i.injectorIndex+8]===null?-1:i.injectorIndex}function sv(i,t){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;r!==null;){if(n=JC(r),n===null)return eu;if(e++,r=r[hu],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return eu}function n_(i,t,e){LP(i,t,e)}function GC(i,t,e){if(e&Zt.Optional||i!==void 0)return i;H_(t,"NodeInjector")}function YC(i,t,e,n){if(e&Zt.Optional&&n===void 0&&(n=null),!(e&(Zt.Self|Zt.Host))){let r=i[ru],s=br(void 0);try{return r?r.get(t,n,e&Zt.Optional):eC(t,n,e&Zt.Optional)}finally{br(s)}}return GC(n,t,e)}function KC(i,t,e,n=Zt.Default,r){if(i!==null){if(t[It]&2048&&!(n&Zt.Self)){let o=jP(i,t,e,n,Zs);if(o!==Zs)return o}let s=XC(i,t,e,n,Zs);if(s!==Zs)return s}return YC(t,e,n,r)}function XC(i,t,e,n,r){let s=RP(e);if(typeof s=="function"){if(!FC(t,i,n))return n&Zt.Host?GC(r,e,n):YC(t,e,n,r);try{let o;if(o=s(n),o==null&&!(n&Zt.Optional))H_(e);else return o}finally{BC()}}else if(typeof s=="number"){let o=null,a=$C(i,t),l=eu,c=n&Zt.Host?t[no][Is]:null;for((a===-1||n&Zt.SkipSelf)&&(l=a===-1?sv(i,t):t[a+8],l===eu||!_b(n,!1)?a=-1:(o=t[Bt],a=Jf(l),t=Zf(l,t)));a!==-1;){let u=t[Bt];if(mb(s,a,u.data)){let d=FP(a,t,e,o,n,c);if(d!==Zs)return d}l=t[a+8],l!==eu&&_b(n,t[Bt].data[a+8]===c)&&mb(s,a,t)?(o=u,a=Jf(l),t=Zf(l,t)):a=-1}}return r}function FP(i,t,e,n,r,s){let o=t[Bt],a=o.data[i+8],l=n==null?vp(a)&&t_:n!=o&&(a.type&3)!==0,c=r&Zt.Host&&s===a,u=Bf(a,o,e,l,c);return u!==null?$l(t,o,u,a):Zs}function Bf(i,t,e,n,r){let s=i.providerIndexes,o=t.data,a=s&1048575,l=i.directiveStart,c=i.directiveEnd,u=s>>20,d=n?a:a+u,p=r?a+u:c;for(let f=d;f<p;f++){let w=o[f];if(f<l&&e===w||f>=l&&w.type===e)return f}if(r){let f=o[l];if(f&&Va(f)&&f.type===e)return l}return null}function $l(i,t,e,n){let r=i[e],s=t.data;if(PP(r)){let o=r;o.resolving&&dD(uD(s[e]));let a=Qf(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?br(o.injectImpl):null,u=FC(i,n,Zt.Default);try{r=i[e]=o.factory(void 0,s,i,n),t.firstCreatePass&&e>=n.directiveStart&&AP(e,s[e],t)}finally{c!==null&&br(c),Qf(a),o.resolving=!1,BC()}}return r}function RP(i){if(typeof i=="string")return i.charCodeAt(0)||0;let t=i.hasOwnProperty(bd)?i[bd]:void 0;return typeof t=="number"?t>=0?t&zC:VP:t}function mb(i,t,e){let n=1<<i;return!!(e[t+(i>>WC)]&n)}function _b(i,t){return!(i&Zt.Self)&&!(i&Zt.Host&&t)}var jl=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return KC(this._tNode,this._lView,t,pp(n),e)}};function VP(){return new jl(rr(),Xt())}function fu(i){return Pd(()=>{let t=i.prototype.constructor,e=t[Uf]||i_(t),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let s=r[Uf]||i_(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function i_(i){return Kb(i)?()=>{let t=i_(ir(i));return t&&t()}:Bl(i)}function jP(i,t,e,n,r){let s=i,o=t;for(;s!==null&&o!==null&&o[It]&2048&&!(o[It]&512);){let a=XC(s,o,e,n|Zt.Self,Zs);if(a!==Zs)return a;let l=s.parent;if(!l){let c=o[_C];if(c){let u=c.get(e,Zs,n);if(u!==Zs)return u}l=JC(o),o=o[hu]}s=l}return r}function JC(i){let t=i[Bt],e=t.type;return e===2?t.declTNode:e===1?i[Is]:null}function vb(i,t=null,e=null,n){let r=BP(i,t,e,n);return r.resolveInjectorInitializers(),r}function BP(i,t=null,e=null,n,r=new Set){let s=[e||os,UD(i)];return n=n||(typeof i=="object"?void 0:jr(i)),new Sd(s,t||K_(),n||null,r)}var au=class i{static{this.THROW_IF_NOT_FOUND=Cd}static{this.NULL=new $f}static create(t,e){if(Array.isArray(t))return vb({name:""},e,t,"");{let n=t.name??"";return vb({name:n},t.parent,t.providers,n)}}static{this.\u0275prov=xt({token:i,providedIn:"any",factory:()=>Ft(rC)})}static{this.__NG_ELEMENT_ID__=-1}};var qP=new Ot("");qP.__NG_ELEMENT_ID__=i=>{let t=rr();if(t===null)throw new nt(204,!1);if(t.type&2)return t.value;if(i&Zt.Optional)return null;throw new nt(204,!1)};var HP="ngOriginalError";function L0(i){return i[HP]}var ZC=!0,QC=(()=>{class i{static{this.__NG_ELEMENT_ID__=UP}static{this.__NG_ENV_ID__=e=>e}}return i})(),r_=class extends QC{constructor(t){super(),this._lView=t}onDestroy(t){return PC(this._lView,t),()=>cP(this._lView,t)}};function UP(){return new r_(Xt())}var pu=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fl(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i})}}return i})();var s_=class extends Ks{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,eP()&&(this.destroyRef=dt(QC,{optional:!0})??void 0,this.pendingTasks=dt(pu,{optional:!0})??void 0)}emit(t){let e=sn(null);try{super.next(t)}finally{sn(e)}}subscribe(t,e,n){let r=t,s=e||(()=>null),o=n;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof nr&&t.add(a),a}wrapInTimeout(t){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(e),n!==void 0&&this.pendingTasks?.remove(n)})}}},Ai=s_;function tp(...i){}function ex(i){let t,e;function n(){i=tp;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{i(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{i(),n()})),()=>n()}function yb(i){return queueMicrotask(()=>i()),()=>{i=tp}}var ov="isAngularZone",np=ov+"_ID",zP=0,$n=class i{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ai(!1),this.onMicrotaskEmpty=new Ai(!1),this.onStable=new Ai(!1),this.onError=new Ai(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=ZC}=t;if(typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,GP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ov)===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new nt(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,WP,tp,tp);try{return s.runTask(o,e,n)}finally{s.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},WP={};function av(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $P(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function t(){ex(()=>{i.callbackScheduled=!1,o_(i),i.isCheckStableRunning=!0,av(i),i.isCheckStableRunning=!1})}i.scheduleInRootZone?Zone.root.run(()=>{t()}):i._outer.run(()=>{t()}),o_(i)}function GP(i){let t=()=>{$P(i)},e=zP++;i._inner=i._inner.fork({name:"angular",properties:{[ov]:!0,[np]:e,[np+e]:!0},onInvokeTask:(n,r,s,o,a,l)=>{if(YP(l))return n.invokeTask(s,o,a,l);try{return wb(i),n.invokeTask(s,o,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&t(),bb(i)}},onInvoke:(n,r,s,o,a,l,c)=>{try{return wb(i),n.invoke(s,o,a,l,c)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!KP(l)&&t(),bb(i)}},onHasTask:(n,r,s,o)=>{n.hasTask(s,o),r===s&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,o_(i),av(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,s,o)=>(n.handleError(s,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function o_(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function wb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function bb(i){i._nesting--,av(i)}var a_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ai,this.onMicrotaskEmpty=new Ai,this.onStable=new Ai,this.onError=new Ai}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}};function YP(i){return tx(i,"__ignore_ng_zone__")}function KP(i){return tx(i,"__scheduler_tick__")}function tx(i,t){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[t]===!0}var Ho=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&L0(t);for(;e&&L0(e);)e=L0(e);return e||null}},XP=new Ot("",{providedIn:"root",factory:()=>{let i=dt($n),t=dt(Ho);return e=>i.runOutsideAngular(()=>t.handleError(e))}});function JP(){return gu(rr(),Xt())}function gu(i,t){return new qr(cs(i,t))}var qr=(()=>{class i{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=JP}}return i})();function ZP(i){return i instanceof qr?i.nativeElement:i}function QP(){return this._results[Symbol.iterator]()}var l_=class i{get changes(){return this._changes??=new Ai}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=i.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=QP)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let n=CD(t);(this._changesDetected=!bD(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function nx(i){return(i.flags&128)===128}var ix=new Map,eI=0;function tI(){return eI++}function nI(i){ix.set(i[_p],i)}function c_(i){ix.delete(i[_p])}var Cb="__ngContext__";function ja(i,t){Fa(t)?(i[Cb]=t[_p],nI(t)):i[Cb]=t}function rx(i){return ox(i[Md])}function sx(i){return ox(i[Ds])}function ox(i){for(;i!==null&&!Wo(i);)i=i[Ds];return i}var u_;function ax(i){u_=i}function lx(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new nt(210,!1)}var lv=new Ot("",{providedIn:"root",factory:()=>iI}),iI="ng",cv=new Ot(""),za=new Ot("",{providedIn:"platform",factory:()=>"unknown"});var uv=new Ot(""),dv=new Ot("",{providedIn:"root",factory:()=>lx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rI="h",sI="b";var oI=()=>null;function hv(i,t,e=!1){return oI(i,t,e)}var cx=!1,aI=new Ot("",{providedIn:"root",factory:()=>cx});var Tf;function lI(){if(Tf===void 0&&(Tf=null,Bo.trustedTypes))try{Tf=Bo.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Tf}function Ap(i){return lI()?.createHTML(i)||i}var Of;function cI(){if(Of===void 0&&(Of=null,Bo.trustedTypes))try{Of=Bo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Of}function xb(i){return cI()?.createHTML(i)||i}var ip=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gb})`}};function Dp(i){return i instanceof ip?i.changingThisBreaksApplicationSecurity:i}function ux(i,t){let e=uI(i);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Gb})`)}return e===t}function uI(i){return i instanceof ip&&i.getTypeName()||null}function dI(i){let t=new h_(i);return hI()?new d_(t):t}var d_=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Ap(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},h_=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Ap(t),e}};function hI(){try{return!!new window.DOMParser().parseFromString(Ap(""),"text/html")}catch{return!1}}var fI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dx(i){return i=String(i),i.match(fI)?i:"unsafe:"+i}function $o(i){let t={};for(let e of i.split(","))t[e]=!0;return t}function Nd(...i){let t={};for(let e of i)for(let n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}var hx=$o("area,br,col,hr,img,wbr"),fx=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),px=$o("rp,rt"),pI=Nd(px,fx),gI=Nd(fx,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mI=Nd(px,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eb=Nd(hx,gI,mI,pI),gx=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_I=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vI=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),yI=Nd(gx,_I,vI),wI=$o("script,style,template"),f_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild){r.push(e),e=xI(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=CI(e);if(s){e=s;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=Sb(t).toLowerCase();if(!Eb.hasOwnProperty(e))return this.sanitizedSomething=!0,!wI.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let n=t.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!yI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;gx[a]&&(l=dx(l)),this.buf.push(" ",o,'="',Mb(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=Sb(t).toLowerCase();Eb.hasOwnProperty(e)&&!hx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Mb(t))}};function bI(i,t){return(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function CI(i){let t=i.nextSibling;if(t&&i!==t.previousSibling)throw mx(t);return t}function xI(i){let t=i.firstChild;if(t&&bI(i,t))throw mx(t);return t}function Sb(i){let t=i.nodeName;return typeof t=="string"?t:"FORM"}function mx(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var EI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SI=/([^\#-~ |!])/g;function Mb(i){return i.replace(/&/g,"&amp;").replace(EI,function(t){let e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(SI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nf;function _x(i,t){let e=null;try{Nf=Nf||dI(i);let n=t?String(t):"";e=Nf.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=e.innerHTML,e=Nf.getInertBodyElement(n)}while(n!==s);let a=new f_().sanitizeChildren(Ab(e)||e);return Ap(a)}finally{if(e){let n=Ab(e)||e;for(;n.firstChild;)n.firstChild.remove()}}}function Ab(i){return"content"in i&&MI(i)?i.content:null}function MI(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var fv=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(fv||{});function Ri(i){let t=AI();return t?xb(t.sanitize(fv.HTML,i)||""):ux(i,"HTML")?xb(Dp(i)):_x(lx(),ri(i))}function AI(){let i=Xt();return i&&i[to].sanitizer}var DI=/^>|^->|<!--|-->|--!>|<!-$/g,PI=/(<|>)/g,II="\u200B$1\u200B";function TI(i){return i.replace(DI,t=>t.replace(PI,II))}function kd(i){return i.ownerDocument.defaultView}var ro=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(ro||{}),OI;function pv(i,t){return OI(i,t)}function Zc(i,t,e,n,r){if(n!=null){let s,o=!1;Wo(n)?s=n:Fa(n)&&(o=!0,n=n[zo]);let a=io(n);i===0&&e!==null?r==null?Cx(t,e,a):rp(t,e,a,r||null,!0):i===1&&e!==null?rp(t,e,a,r||null,!0):i===2?YI(t,a,o):i===3&&t.destroyNode(a),s!=null&&XI(t,i,s,e,r)}}function NI(i,t){return i.createText(t)}function kI(i,t,e){i.setValue(t,e)}function LI(i,t){return i.createComment(TI(t))}function vx(i,t,e){return i.createElement(t,e)}function FI(i,t){yx(i,t),t[zo]=null,t[Is]=null}function RI(i,t,e,n,r,s){n[zo]=r,n[Is]=t,Ip(i,n,e,1,r,s)}function yx(i,t){t[to].changeDetectionScheduler?.notify(9),Ip(i,t,t[si],2,null,null)}function VI(i){let t=i[Md];if(!t)return F0(i[Bt],i);for(;t;){let e=null;if(Fa(t))e=t[Md];else{let n=t[Br];n&&(e=n)}if(!e){for(;t&&!t[Ds]&&t!==i;)Fa(t)&&F0(t[Bt],t),t=t[Fi];t===null&&(t=i),Fa(t)&&F0(t[Bt],t),e=t&&t[Ds]}t=e}}function jI(i,t,e,n){let r=Br+n,s=e.length;n>0&&(e[r-1][Ds]=t),n<s-Br?(t[Ds]=e[r],iC(e,Br+n,t)):(e.push(t),t[Ds]=null),t[Fi]=e;let o=t[ql];o!==null&&e!==o&&wx(o,t);let a=t[qo];a!==null&&a.insertView(i),Z0(t),t[It]|=128}function wx(i,t){let e=i[su],n=t[Fi];if(Fa(n))i[It]|=Xf.HasTransplantedViews;else{let r=n[Fi][no];t[no]!==r&&(i[It]|=Xf.HasTransplantedViews)}e===null?i[su]=[t]:e.push(t)}function gv(i,t){let e=i[su],n=e.indexOf(t);e.splice(n,1)}function p_(i,t){if(i.length<=Br)return;let e=Br+t,n=i[e];if(n){let r=n[ql];r!==null&&r!==i&&gv(r,n),t>0&&(i[e-1][Ds]=n[Ds]);let s=Wf(i,Br+t);FI(n[Bt],n);let o=s[qo];o!==null&&o.detachView(s[Bt]),n[Fi]=null,n[Ds]=null,n[It]&=-129}return n}function bx(i,t){if(!(t[It]&256)){let e=t[si];e.destroyNode&&Ip(i,t,e,3,null,null),VI(t)}}function F0(i,t){if(t[It]&256)return;let e=sn(null);try{t[It]&=-129,t[It]|=256,t[as]&&g0(t[as]),qI(i,t),BI(i,t),t[Bt].type===1&&t[si].destroy();let n=t[ql];if(n!==null&&Wo(t[Fi])){n!==t[Fi]&&gv(n,t);let r=t[qo];r!==null&&r.detachView(i)}c_(t)}finally{sn(e)}}function BI(i,t){let e=i.cleanup,n=t[Yf];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let o=e[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[e[s+1]];e[s].call(o)}n!==null&&(t[Yf]=null);let r=t[La];if(r!==null){t[La]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function qI(i,t){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let r=t[e[n]];if(!(r instanceof Wl)){let s=e[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Js(4,a,l);try{l.call(a)}finally{Js(5,a,l)}}else{Js(4,r,s);try{s.call(r)}finally{Js(5,r,s)}}}}}function HI(i,t,e){return UI(i,t.parent,e)}function UI(i,t,e){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return e[zo];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=i.data[n.directiveStart+r];if(s===Qs.None||s===Qs.Emulated)return null}return cs(n,e)}}function rp(i,t,e,n,r){i.insertBefore(t,e,n,r)}function Cx(i,t,e){i.appendChild(t,e)}function Db(i,t,e,n,r){n!==null?rp(i,t,e,n,r):Cx(i,t,e)}function xx(i,t){return i.parentNode(t)}function zI(i,t){return i.nextSibling(t)}function WI(i,t,e){return GI(i,t,e)}function $I(i,t,e){return i.type&40?cs(i,e):null}var GI=$I,Pb;function Pp(i,t,e,n){let r=HI(i,n,t),s=t[si],o=n.parent||t[Is],a=WI(o,n,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Db(s,r,e[l],a,!1);else Db(s,r,e,a,!1);Pb!==void 0&&Pb(s,n,t,e,r)}function yd(i,t){if(t!==null){let e=t.type;if(e&3)return cs(t,i);if(e&4)return g_(-1,i[t.index]);if(e&8){let n=t.child;if(n!==null)return yd(i,n);{let r=i[t.index];return Wo(r)?g_(-1,r):io(r)}}else{if(e&128)return yd(i,t.next);if(e&32)return pv(t,i)()||io(i[t.index]);{let n=Ex(i,t);if(n!==null){if(Array.isArray(n))return n[0];let r=Ul(i[no]);return yd(r,n)}else return yd(i,t.next)}}}return null}function Ex(i,t){if(t!==null){let n=i[no][Is],r=t.projection;return n.projection[r]}return null}function g_(i,t){let e=Br+i+1;if(e<t.length){let n=t[e],r=n[Bt].firstChild;if(r!==null)return yd(n,r)}return t[Hl]}function YI(i,t,e){i.removeChild(null,t,e)}function mv(i,t,e,n,r,s,o){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=n[e.index],l=e.type;if(o&&t===0&&(a&&ja(io(a),n),e.flags|=2),(e.flags&32)!==32)if(l&8)mv(i,t,e.child,n,r,s,!1),Zc(t,i,r,a,s);else if(l&32){let c=pv(e,n),u;for(;u=c();)Zc(t,i,r,u,s);Zc(t,i,r,a,s)}else l&16?KI(i,t,n,e,r,s):Zc(t,i,r,a,s);e=o?e.projectionNext:e.next}}function Ip(i,t,e,n,r,s){mv(e,n,i.firstChild,t,r,s,!1)}function KI(i,t,e,n,r,s){let o=e[no],l=o[Is].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Zc(t,i,r,u,s)}else{let c=l,u=o[Fi];nx(n)&&(c.flags|=128),mv(i,t,c,u,r,s,!0)}}function XI(i,t,e,n,r){let s=e[Hl],o=io(e);s!==o&&Zc(t,i,n,s,r);for(let a=Br;a<e.length;a++){let l=e[a];Ip(l[Bt],l,i,t,n,s)}}function JI(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let s=n.indexOf("-")===-1?void 0:ro.DashCase;r==null?i.removeStyle(e,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ro.Important),i.setStyle(e,n,r,s))}}function ZI(i,t,e){i.setAttribute(t,"style",e)}function Sx(i,t,e){e===""?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function Mx(i,t,e){let{mergedAttrs:n,classes:r,styles:s}=e;n!==null&&$0(i,t,n),r!==null&&Sx(i,t,r),s!==null&&ZI(i,t,s)}var Vi={};function b(i=1){Ax(wi(),Xt(),oo()+i,!1)}function Ax(i,t,e,n){if(!n)if((t[It]&3)===3){let s=i.preOrderCheckHooks;s!==null&&Vf(t,s,e)}else{let s=i.preOrderHooks;s!==null&&jf(t,s,0,e)}zl(e)}function Nt(i,t=Zt.Default){let e=Xt();if(e===null)return Ft(i,t);let n=rr();return KC(n,e,ir(i),t)}function Dx(i,t,e,n,r,s){let o=sn(null);try{let a=null;r&Ra.SignalBased&&(a=t[n][jo]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ra.HasDecoratorInputTransform&&(s=i.inputTransforms[n].call(t,s)),i.setInput!==null?i.setInput(t,a,s,e,n):yC(t,a,n,s)}finally{sn(o)}}function QI(i,t){let e=i.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let r=e[n];if(r<0)zl(~r);else{let s=r,o=e[++n],a=e[++n];wP(o,s);let l=t[s];a(2,l)}}}finally{zl(-1)}}function Tp(i,t,e,n,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[zo]=r,d[It]=n|4|128|8|64,(c!==null||i&&i[It]&2048)&&(d[It]|=2048),AC(d),d[Fi]=d[hu]=i,d[Ps]=e,d[to]=o||i&&i[to],d[si]=a||i&&i[si],d[ru]=l||i&&i[ru]||null,d[Is]=s,d[_p]=tI(),d[Gf]=u,d[_C]=c,d[no]=t.type==2?i[no]:d,d}function Ld(i,t,e,n,r){let s=i.data[t];if(s===null)s=eT(i,t,e,n,r),yP()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=n,s.attrs=r;let o=mP();s.injectorIndex=o===null?-1:o.injectorIndex}return Xl(s,!0),s}function eT(i,t,e,n,r){let s=OC(),o=Z_(),a=o?s:s&&s.parent,l=i.data[t]=oT(i,a,e,t,n,r);return i.firstChild===null&&(i.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Px(i,t,e,n){if(e===0)return-1;let r=t.length;for(let s=0;s<e;s++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function Ix(i,t,e,n,r){let s=oo(),o=n&2;try{zl(-1),o&&t.length>ls&&Ax(i,t,ls,!1),Js(o?2:0,r),e(n,r)}finally{zl(s),Js(o?3:1,r)}}function _v(i,t,e){if(X_(t)){let n=sn(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=i.data[o];if(a.contentQueries){let l=e[o];a.contentQueries(1,l,o)}}}finally{sn(n)}}}function vv(i,t,e){TC()&&(hT(i,t,e,cs(e,t)),(e.flags&64)===64&&kx(i,t,e))}function yv(i,t,e=cs){let n=t.localNames;if(n!==null){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?e(t,i):i[o];i[r++]=a}}}function Tx(i){let t=i.tView;return t===null||t.incompleteFirstPass?i.tView=wv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function wv(i,t,e,n,r,s,o,a,l,c,u){let d=ls+n,p=d+r,f=tT(d,p),w=typeof c=="function"?c():c;return f[Bt]={type:i,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function tT(i,t){let e=[];for(let n=0;n<t;n++)e.push(n<i?null:Vi);return e}function nT(i,t,e,n){let s=n.get(aI,cx)||e===Qs.ShadowDom,o=i.selectRootElement(t,s);return iT(o),o}function iT(i){rT(i)}var rT=()=>null;function sT(i,t,e,n){let r=Rx(t);r.push(e),i.firstCreatePass&&Vx(i).push(n,r.length-1)}function oT(i,t,e,n,r,s){let o=t?t.injectorIndex:-1,a=0;return fP()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ib(i,t,e,n,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;n??={};let a,l=Ra.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}i===0?Tb(n,e,c,a,l):Tb(n,e,c,a)}return n}function Tb(i,t,e,n,r){let s;i.hasOwnProperty(e)?(s=i[e]).push(t,n):s=i[e]=[t,n],r!==void 0&&s.push(r)}function aT(i,t,e){let n=t.directiveStart,r=t.directiveEnd,s=i.data,o=t.attrs,a=[],l=null,c=null;for(let u=n;u<r;u++){let d=s[u],p=e?e.get(d):null,f=p?p.inputs:null,w=p?p.outputs:null;l=Ib(0,d.inputs,u,l,f),c=Ib(1,d.outputs,u,c,w);let x=l!==null&&o!==null&&!W_(t)?xT(l,u,o):null;a.push(x)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function lT(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function Ox(i,t,e,n,r,s,o,a){let l=cs(t,e),c=t.inputs,u;!a&&c!=null&&(u=c[n])?(Cv(i,e,u,n,r),vp(t)&&cT(e,t.index)):t.type&3?(n=lT(n),r=o!=null?o(r,t.value||"",n):r,s.setProperty(l,n,r)):t.type&12}function cT(i,t){let e=Ua(t,i);e[It]&16||(e[It]|=64)}function bv(i,t,e,n){if(TC()){let r=n===null?null:{"":-1},s=pT(i,e),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Nx(i,t,e,o,r,a),r&&gT(e,n,r)}e.mergedAttrs=Ed(e.mergedAttrs,e.attrs)}function Nx(i,t,e,n,r,s){for(let c=0;c<n.length;c++)n_(ep(e,t),i,n[c].type);_T(e,i.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Px(i,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];e.mergedAttrs=Ed(e.mergedAttrs,u.hostAttrs),vT(i,e,t,l,u),mT(l,u,r),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}aT(i,e,s)}function uT(i,t,e,n,r){let s=r.hostBindings;if(s){let o=i.hostBindingOpCodes;o===null&&(o=i.hostBindingOpCodes=[]);let a=~t.index;dT(o)!=a&&o.push(a),o.push(e,n,s)}}function dT(i){let t=i.length;for(;t>0;){let e=i[--t];if(typeof e=="number"&&e<0)return e}return 0}function hT(i,t,e,n){let r=e.directiveStart,s=e.directiveEnd;vp(e)&&yT(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||ep(e,t),ja(n,t);let o=e.initialInputs;for(let a=r;a<s;a++){let l=i.data[a],c=$l(t,i,a,e);if(ja(c,t),o!==null&&CT(t,a-r,c,l,e,o),Va(l)){let u=Ua(e.index,t);u[Ps]=$l(t,i,a,e)}}}function kx(i,t,e){let n=e.directiveStart,r=e.directiveEnd,s=e.index,o=bP();try{zl(s);for(let a=n;a<r;a++){let l=i.data[a],c=t[a];Q0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&fT(l,c)}}finally{zl(-1),Q0(o)}}function fT(i,t){i.hostBindings!==null&&i.hostBindings(1,t)}function pT(i,t){let e=i.directiveRegistry,n=null,r=null;if(e)for(let s=0;s<e.length;s++){let o=e[s];if(ND(t,o.selectors,!1))if(n||(n=[]),Va(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let l=a.length;m_(i,t,l)}else n.unshift(o),m_(i,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function m_(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function gT(i,t,e){if(t){let n=i.localNames=[];for(let r=0;r<t.length;r+=2){let s=e[t[r+1]];if(s==null)throw new nt(-301,!1);n.push(t[r],s)}}}function mT(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Va(t)&&(e[""]=i)}}function _T(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function vT(i,t,e,n,r){i.data[n]=r;let s=r.factory||(r.factory=Bl(r.type,!0)),o=new Wl(s,Va(r),Nt);i.blueprint[n]=o,e[n]=o,uT(i,t,n,Px(i,e,r.hostVars,Vi),r)}function yT(i,t,e){let n=cs(t,i),r=Tx(e),s=i[to].rendererFactory,o=16;e.signals?o=4096:e.onPush&&(o=64);let a=Op(i,Tp(i,r,null,o,n,t,null,s.createRenderer(n,e),null,null,null));i[t.index]=a}function wT(i,t,e,n,r,s){let o=cs(i,t);bT(t[si],o,s,i.value,e,n,r)}function bT(i,t,e,n,r,s,o){if(s==null)i.removeAttribute(t,r,e);else{let a=o==null?ri(s):o(s,n||"",r);i.setAttribute(t,r,a,e)}}function CT(i,t,e,n,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Dx(n,e,l,c,u,d)}}function xT(i,t,e){let n=null,r=0;for(;r<e.length;){let s=e[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(i.hasOwnProperty(s)){n===null&&(n=[]);let o=i[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){n.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}return n}function Lx(i,t,e,n){return[i,!0,0,t,null,n,null,e,null,null]}function Fx(i,t){let e=i.contentQueries;if(e!==null){let n=sn(null);try{for(let r=0;r<e.length;r+=2){let s=e[r],o=e[r+1];if(o!==-1){let a=i.data[o];ev(s),a.contentQueries(2,t[o],o)}}}finally{sn(n)}}}function Op(i,t){return i[Md]?i[hb][Ds]=t:i[Md]=t,i[hb]=t,t}function __(i,t,e){ev(0);let n=sn(null);try{t(i,e)}finally{sn(n)}}function Rx(i){return i[Yf]??=[]}function Vx(i){return i.cleanup??=[]}function jx(i,t){let e=i[ru],n=e?e.get(Ho,null):null;n&&n.handleError(t)}function Cv(i,t,e,n,r){for(let s=0;s<e.length;){let o=e[s++],a=e[s++],l=e[s++],c=t[o],u=i.data[o];Dx(u,c,n,a,l,r)}}function Fd(i,t,e){let n=EC(t,i);kI(i[si],n,e)}function ET(i,t){let e=Ua(t,i),n=e[Bt];ST(n,e);let r=e[zo];r!==null&&e[Gf]===null&&(e[Gf]=hv(r,e[ru])),xv(n,e,e[Ps])}function ST(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}function xv(i,t,e){tv(t);try{let n=i.viewQuery;n!==null&&__(1,n,e);let r=i.template;r!==null&&Ix(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),t[qo]?.finishViewCreation(i),i.staticContentQueries&&Fx(i,t),i.staticViewQueries&&__(2,i.viewQuery,e);let s=i.components;s!==null&&MT(t,s)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[It]&=-5,nv()}}function MT(i,t){for(let e=0;e<t.length;e++)ET(i,t[e])}function AT(i,t,e,n){let r=sn(null);try{let s=t.tView,a=i[It]&4096?4096:16,l=Tp(i,s,e,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=i[t.index];l[ql]=c;let u=i[qo];return u!==null&&(l[qo]=u.createEmbeddedView(s)),xv(s,l,e),l}finally{sn(r)}}function Ob(i,t){return!t||t.firstChild===null||nx(i)}function DT(i,t,e,n=!0){let r=t[Bt];if(jI(r,t,i,e),n){let o=g_(e,i),a=t[si],l=xx(a,i[Hl]);l!==null&&RI(r,i[Is],a,t,l,o)}let s=t[Gf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function sp(i,t,e,n,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let s=t[e.index];s!==null&&n.push(io(s)),Wo(s)&&PT(s,n);let o=e.type;if(o&8)sp(i,t,e.child,n);else if(o&32){let a=pv(e,t),l;for(;l=a();)n.push(l)}else if(o&16){let a=Ex(t,e);if(Array.isArray(a))n.push(...a);else{let l=Ul(t[no]);sp(l[Bt],l,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function PT(i,t){for(let e=Br;e<i.length;e++){let n=i[e],r=n[Bt].firstChild;r!==null&&sp(n[Bt],n,r,t)}i[Hl]!==i[zo]&&t.push(i[Hl])}var Bx=[];function IT(i){return i[as]??TT(i)}function TT(i){let t=Bx.pop()??Object.create(NT);return t.lView=i,t}function OT(i){i.lView[as]!==i&&(i.lView=null,Bx.push(i))}var NT=Ut(mt({},_d),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bp(i.lView)},consumerOnSignalRead(){this.lView[as]=this}});function kT(i){let t=i[as]??Object.create(LT);return t.lView=i,t}var LT=Ut(mt({},_d),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let t=Ul(i.lView);for(;t&&!qx(t[Bt]);)t=Ul(t);t&&DC(t)},consumerOnSignalRead(){this.lView[as]=this}});function qx(i){return i.type!==2}var FT=100;function Hx(i,t=!0,e=0){let n=i[to],r=n.rendererFactory,s=!1;s||r.begin?.();try{RT(i,e)}catch(o){throw t&&jx(i,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function RT(i,t){let e=kC();try{pb(!0),v_(i,t);let n=0;for(;wp(i);){if(n===FT)throw new nt(103,!1);n++,v_(i,1)}}finally{pb(e)}}function VT(i,t,e,n){let r=t[It];if((r&256)===256)return;let s=!1,o=!1;!s&&t[to].inlineEffectRunner?.flush(),tv(t);let a=!0,l=null,c=null;s||(qx(i)?(c=IT(t),l=sf(c)):g2()===null?(a=!1,c=kT(t),l=sf(c)):t[as]&&(g0(t[as]),t[as]=null));try{AC(t),vP(i.bindingStartIndex),e!==null&&Ix(i,t,e,2,n);let u=(r&3)===3;if(!s)if(u){let f=i.preOrderCheckHooks;f!==null&&Vf(t,f,null)}else{let f=i.preOrderHooks;f!==null&&jf(t,f,0,null),O0(t,0)}if(o||jT(t),Ux(t,0),i.contentQueries!==null&&Fx(i,t),!s)if(u){let f=i.contentCheckHooks;f!==null&&Vf(t,f)}else{let f=i.contentHooks;f!==null&&jf(t,f,1),O0(t,1)}QI(i,t);let d=i.components;d!==null&&Wx(t,d,0);let p=i.viewQuery;if(p!==null&&__(2,p,n),!s)if(u){let f=i.viewCheckHooks;f!==null&&Vf(t,f)}else{let f=i.viewHooks;f!==null&&jf(t,f,2),O0(t,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),t[T0]){for(let f of t[T0])f();t[T0]=null}s||(t[It]&=-73)}catch(u){throw s||bp(t),u}finally{c!==null&&(f0(c,l),a&&OT(c)),nv()}}function Ux(i,t){for(let e=rx(i);e!==null;e=sx(e))for(let n=Br;n<e.length;n++){let r=e[n];zx(r,t)}}function jT(i){for(let t=rx(i);t!==null;t=sx(t)){if(!(t[It]&Xf.HasTransplantedViews))continue;let e=t[su];for(let n=0;n<e.length;n++){let r=e[n];DC(r)}}}function BT(i,t,e){let n=Ua(t,i);zx(n,e)}function zx(i,t){J_(i)&&v_(i,t)}function v_(i,t){let n=i[Bt],r=i[It],s=i[as],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&p0(s)),o||=!1,s&&(s.dirty=!1),i[It]&=-9217,o)VT(n,i,n.template,i[Ps]);else if(r&8192){Ux(i,1);let a=n.components;a!==null&&Wx(i,a,1)}}function Wx(i,t,e){for(let n=0;n<t.length;n++)BT(i,t[n],e)}function Ev(i,t){let e=kC()?64:1088;for(i[to].changeDetectionScheduler?.notify(t);i;){i[It]|=e;let n=Ul(i);if(X0(i)&&!n)return i;i=n}return null}var Gl=class{get rootNodes(){let t=this._lView,e=t[Bt];return sp(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ps]}set context(t){this._lView[Ps]=t}get destroyed(){return(this._lView[It]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Fi];if(Wo(t)){let e=t[Kf],n=e?e.indexOf(this):-1;n>-1&&(p_(t,n),Wf(e,n))}this._attachedToViewContainer=!1}bx(this._lView[Bt],this._lView)}onDestroy(t){PC(this._lView,t)}markForCheck(){Ev(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[It]&=-129}reattach(){Z0(this._lView),this._lView[It]|=128}detectChanges(){this._lView[It]|=1024,Hx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=X0(this._lView),e=this._lView[ql];e!==null&&!t&&gv(e,this._lView),yx(this._lView[Bt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=t;let e=X0(this._lView),n=this._lView[ql];n!==null&&!e&&wx(n,this._lView),Z0(this._lView)}},Yl=(()=>{class i{static{this.__NG_ELEMENT_ID__=UT}}return i})(),qT=Yl,HT=class extends qT{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){let r=AT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:n});return new Gl(r)}};function UT(){return Np(rr(),Xt())}function Np(i,t){return i.type&4?new HT(t,i,gu(i,t)):null}var pU=new RegExp(`^(\\d+)*(${sI}|${rI})*(.*)`);var zT=()=>null;function Nb(i,t){return zT(i,t)}var lu=class{},Sv=new Ot("",{providedIn:"root",factory:()=>!1});var $x=new Ot(""),Gx=new Ot(""),y_=class{},op=class{};function WT(i){let t=Error(`No component factory found for ${jr(i)}.`);return t[$T]=i,t}var $T="ngComponent";var w_=class{resolveComponentFactory(t){throw WT(t)}},Ad=class{static{this.NULL=new w_}},Ba=class{},Go=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>GT()}}return i})();function GT(){let i=Xt(),t=rr(),e=Ua(t.index,i);return(Fa(e)?e:i)[si]}var YT=(()=>{class i{static{this.\u0275prov=xt({token:i,providedIn:"root",factory:()=>null})}}return i})();function ap(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=nb(r,a);else if(s==2){let l=a,c=t[++o];n=nb(n,l+": "+c+";")}}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}var b_=class extends Ad{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=nu(t);return new lp(e,this.ngModule)}};function kb(i,t){let e=[];for(let n in i){if(!i.hasOwnProperty(n))continue;let r=i[n];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Ra.None;t?e.push({propName:o,templateName:n,isSignal:(a&Ra.SignalBased)!==0}):e.push({propName:o,templateName:n})}return e}function KT(i){let t=i.toLowerCase();return t==="svg"?xC:t==="math"?sP:null}var lp=class extends op{get inputs(){let t=this.componentDef,e=t.inputTransforms,n=kb(t.inputs,!0);if(e!==null)for(let r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return kb(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=RD(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let s=sn(null);try{r=r||this.ngModule;let o=r instanceof eo?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new e_(t,o):t,l=a.get(Ba,null);if(l===null)throw new nt(407,!1);let c=a.get(YT,null),u=a.get(lu,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},p=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",w=n?nT(p,n,this.componentDef.encapsulation,a):vx(p,f,KT(f)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let P=null;w!==null&&(P=hv(w,a,!0));let M=wv(0,null,null,1,0,null,null,null,null,null,null),O=Tp(null,M,null,x,null,null,d,p,a,null,P);tv(O);let R,G,ie=null;try{let de=this.componentDef,te,Y=null;de.findHostDirectiveDefs?(te=[],Y=new Map,de.findHostDirectiveDefs(de,te,Y),te.push(de)):te=[de];let ce=XT(O,w);ie=JT(ce,w,de,te,O,d,p),G=SC(M,ls),w&&eO(p,de,w,n),e!==void 0&&tO(G,this.ngContentSelectors,e),R=QT(ie,de,te,Y,O,[nO]),xv(M,O,null)}catch(de){throw ie!==null&&c_(ie),c_(O),de}finally{nv()}return new C_(this.componentType,R,gu(G,O),O,G)}finally{sn(s)}}},C_=class extends y_{constructor(t,e,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Gl(r,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let s=this._rootLView;Cv(s[Bt],s,r,t,e),this.previousInputValues.set(t,e);let o=Ua(this._tNode.index,s);Ev(o,1)}}get injector(){return new jl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function XT(i,t){let e=i[Bt],n=ls;return i[n]=t,Ld(e,n,2,"#host",null)}function JT(i,t,e,n,r,s,o){let a=r[Bt];ZT(n,i,t,o);let l=null;t!==null&&(l=hv(t,r[ru]));let c=s.rendererFactory.createRenderer(t,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=Tp(r,Tx(e),null,u,r[i.index],i,s,c,null,null,l);return a.firstCreatePass&&m_(a,i,n.length-1),Op(r,d),r[i.index]=d}function ZT(i,t,e,n){for(let r of i)t.mergedAttrs=Ed(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(ap(t,t.mergedAttrs,!0),e!==null&&Mx(n,e,t))}function QT(i,t,e,n,r,s){let o=rr(),a=r[Bt],l=cs(o,r);Nx(a,r,o,e,null,n);for(let u=0;u<e.length;u++){let d=o.directiveStart+u,p=$l(r,a,d,o);ja(p,r)}kx(a,r,o),l&&ja(l,r);let c=$l(r,a,o.directiveStart+o.componentOffset,o);if(i[Ps]=r[Ps]=c,s!==null)for(let u of s)u(c,t);return _v(a,o,r),c}function eO(i,t,e,n){if(n)$0(i,e,["ng-version","18.2.13"]);else{let{attrs:r,classes:s}=VD(t.selectors[0]);r&&$0(i,e,r),s&&s.length>0&&Sx(i,e,s.join(" "))}}function tO(i,t,e){let n=i.projection=[];for(let r=0;r<t.length;r++){let s=e[r];n.push(s!=null?Array.from(s):null)}}function nO(){let i=rr();Mp(Xt()[Bt],i)}var mu=(()=>{class i{static{this.__NG_ELEMENT_ID__=iO}}return i})();function iO(){let i=rr();return Kx(i,Xt())}var rO=mu,Yx=class extends rO{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new jl(this._hostTNode,this._hostLView)}get parentInjector(){let t=sv(this._hostTNode,this._hostLView);if(UC(t)){let e=Zf(t,this._hostLView),n=Jf(t),r=e[Bt].data[n+8];return new jl(r,e)}else return new jl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Lb(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(t,e,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=Nb(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,Ob(this._hostTNode,o)),a}createComponent(t,e,n,r,s){let o=t&&!tP(t),a;if(o)a=e;else{let w=e||{};a=w.index,n=w.injector,r=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let l=o?t:new lp(nu(t)),c=n||this.parentInjector;if(!s&&l.ngModule==null){let x=(o?c:this.parentInjector).get(eo,null);x&&(s=x)}let u=nu(l.componentType??{}),d=Nb(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,r,p,s);return this.insertImpl(f.hostView,a,Ob(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let r=t._lView;if(aP(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[Fi],c=new Yx(l,l[Is],l[Fi]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(e),o=this._lContainer;return DT(o,r,s,n),t.attachToViewContainerRef(),iC(R0(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Lb(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=p_(this._lContainer,e);n&&(Wf(R0(this._lContainer),e),bx(n[Bt],n))}detach(t){let e=this._adjustIndex(t,-1),n=p_(this._lContainer,e);return n&&Wf(R0(this._lContainer),e)!=null?new Gl(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function Lb(i){return i[Kf]}function R0(i){return i[Kf]||(i[Kf]=[])}function Kx(i,t){let e,n=t[i.index];return Wo(n)?e=n:(e=Lx(n,t,null,i),t[i.index]=e,Op(t,e)),oO(e,t,i,n),new Yx(e,i,t)}function sO(i,t){let e=i[si],n=e.createComment(""),r=cs(t,i),s=xx(e,r);return rp(e,s,n,zI(e,r),!1),n}var oO=cO,aO=()=>!1;function lO(i,t,e){return aO(i,t,e)}function cO(i,t,e,n){if(i[Hl])return;let r;e.type&8?r=io(n):r=sO(t,e),i[Hl]=r}var x_=class i{constructor(t){this.queryList=t,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},E_=class i{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let n=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let s=0;s<n;s++){let o=e.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Mv(t,e).matches!==null&&this.queries[e].setDirty()}},S_=class{constructor(t,e,n=null){this.flags=e,this.read=n,typeof t=="string"?this.predicate=_O(t):this.predicate=t}},M_=class i{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){let r=e!==null?e.length:0,s=this.getByIndex(n).embeddedTView(t,r);s&&(s.indexInDeclarationView=n,e!==null?e.push(s):e=[s])}return e!==null?new i(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},A_=class i{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new i(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(t,e,uO(e,s)),this.matchTNodeWithReadOption(t,e,Bf(e,t,s,!1,!1))}else n===Yl?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Bf(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===qr||r===mu||r===Yl&&e.type&4)this.addMatch(e.index,-2);else{let s=Bf(e,t,r,!1,!1);s!==null&&this.addMatch(e.index,s)}else this.addMatch(e.index,n)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function uO(i,t){let e=i.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]}return null}function dO(i,t){return i.type&11?gu(i,t):i.type&4?Np(i,t):null}function hO(i,t,e,n){return e===-1?dO(t,i):e===-2?fO(i,t,n):$l(i,i[Bt],e,t)}function fO(i,t,e){if(e===qr)return gu(t,i);if(e===Yl)return Np(t,i);if(e===mu)return Kx(t,i)}function Xx(i,t,e,n){let r=t[qo].queries[n];if(r.matches===null){let s=i.data,o=e.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(hO(t,u,o[l+1],e.metadata.read))}}r.matches=a}return r.matches}function D_(i,t,e,n){let r=i.queries.getByIndex(e),s=r.matches;if(s!==null){let o=Xx(i,t,r,e);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)n.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=Br;d<u.length;d++){let p=u[d];p[ql]===p[Fi]&&D_(p[Bt],p,c,n)}if(u[su]!==null){let d=u[su];for(let p=0;p<d.length;p++){let f=d[p];D_(f[Bt],f,c,n)}}}}}return n}function pO(i,t){return i[qo].queries[t].queryList}function gO(i,t,e){let n=new l_((e&4)===4);return sT(i,t,n,n.destroy),(t[qo]??=new E_).queries.push(new x_(n))-1}function mO(i,t,e){let n=wi();return n.firstCreatePass&&(vO(n,new S_(i,t,e),-1),(t&2)===2&&(n.staticViewQueries=!0)),gO(n,Xt(),t)}function _O(i){return i.split(",").map(t=>t.trim())}function vO(i,t,e){i.queries===null&&(i.queries=new M_),i.queries.track(new A_(t,e))}function Mv(i,t){return i.queries.getByIndex(t)}function yO(i,t){let e=i[Bt],n=Mv(e,t);return n.crossesNgTemplate?D_(e,i,t,[]):Xx(e,i,n,t)}var Fb=new Set;function Jl(i){Fb.has(i)||(Fb.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function wO(i){return typeof i=="function"&&i[jo]!==void 0}function kp(i,t){Jl("NgSignals");let e=M2(i),n=e[jo];return t?.equal&&(n.equal=t.equal),e.set=r=>m0(n,r),e.update=r=>A2(n,r),e.asReadonly=bO.bind(e),e}function bO(){let i=this[jo];if(i.readonlyFn===void 0){let t=()=>this();t[jo]=i,i.readonlyFn=t}return i.readonlyFn}function Jx(i){return wO(i)&&typeof i.set=="function"}function CO(i){return Object.getPrototypeOf(i.prototype).constructor}function lo(i){let t=CO(i.type),e=!0,n=[i];for(;t;){let r;if(Va(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new nt(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);let o=i;o.inputs=kf(i.inputs),o.inputTransforms=kf(i.inputTransforms),o.declaredInputs=kf(i.declaredInputs),o.outputs=kf(i.outputs);let a=r.hostBindings;a&&AO(i,a);let l=r.viewQuery,c=r.contentQueries;if(l&&SO(i,l),c&&MO(i,c),xO(i,r),iD(i.outputs,r.outputs),Va(r)&&r.data.animation){let u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(i),a===lo&&(e=!1)}}t=Object.getPrototypeOf(t)}EO(n)}function xO(i,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let n=t.inputs[e];if(n!==void 0&&(i.inputs[e]=n,i.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=t.inputTransforms[r]}}}function EO(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Ed(r.hostAttrs,e=Ed(e,r.hostAttrs))}}function kf(i){return i===tu?{}:i===os?[]:i}function SO(i,t){let e=i.viewQuery;e?i.viewQuery=(n,r)=>{t(n,r),e(n,r)}:i.viewQuery=t}function MO(i,t){let e=i.contentQueries;e?i.contentQueries=(n,r,s)=>{t(n,r,s),e(n,r,s)}:i.contentQueries=t}function AO(i,t){let e=i.hostBindings;e?i.hostBindings=(n,r)=>{t(n,r),e(n,r)}:i.hostBindings=t}var cu=class{};var cp=class extends cu{constructor(t){super(),this.componentFactoryResolver=new b_(this),this.instance=null;let e=new Sd([...t.providers,{provide:cu,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],t.parent||K_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function DO(i,t,e=null){return new cp({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function Zx(i){return Av(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function PO(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{let e=i[Symbol.iterator](),n;for(;!(n=e.next()).done;)t(n.value)}}function Av(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function Dv(i,t,e){return i[t]=e}function IO(i,t){return i[t]}function so(i,t,e){let n=i[t];return Object.is(n,e)?!1:(i[t]=e,!0)}function uu(i,t,e,n){let r=so(i,t,e);return so(i,t+1,n)||r}function TO(i,t,e,n,r){let s=uu(i,t,e,n);return so(i,t+2,r)||s}function Qx(i,t,e,n,r,s){let o=uu(i,t,e,n);return uu(i,t+2,r,s)||o}function OO(i){return(i.flags&32)===32}function NO(i,t,e,n,r,s,o,a,l){let c=t.consts,u=Ld(t,i,4,o||null,a||null);bv(t,e,u,ou(c,l)),Mp(t,u);let d=u.tView=wv(2,u,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function kO(i,t,e,n,r,s,o,a,l,c){let u=e+ls,d=t.firstCreatePass?NO(u,t,i,n,r,s,o,a,l):t.data[u];Xl(d,!1);let p=LO(t,i,d,e);Ep()&&Pp(t,i,p,d),ja(p,i);let f=Lx(p,i,p,d);return i[u]=f,Op(i,f),lO(f,d,i),yp(d)&&vv(t,i,d),l!=null&&yv(i,d,c),d}function xe(i,t,e,n,r,s,o,a){let l=Xt(),c=wi(),u=ou(c.consts,s);return kO(l,c,i,t,e,n,r,u,o,a),xe}var LO=FO;function FO(i,t,e,n){return Sp(!0),t[si].createComment("")}var wd=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(wd||{}),RO=(()=>{class i{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i})}}return i})(),Rb=class i{constructor(){this.ngZone=dt($n),this.scheduler=dt(lu),this.errorHandler=dt(Ho,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[wd.EarlyRead,wd.Write,wd.MixedReadWrite,wd.Read]}execute(){this.executing=!0;for(let t of i.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[t]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[t](e.pipelinedValue))}catch(n){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i})}};function sr(i,t,e,n){let r=Xt(),s=xp();if(so(r,s,t)){let o=wi(),a=iv();wT(a,r,i,t,e,n)}return sr}function VO(i,t,e,n){return so(i,xp(),e)?t+ri(e)+n:Vi}function jO(i,t,e,n,r,s){let o=Cp(),a=uu(i,o,e,r);return Od(2),a?t+ri(e)+n+ri(r)+s:Vi}function BO(i,t,e,n,r,s,o,a){let l=Cp(),c=TO(i,l,e,r,o);return Od(3),c?t+ri(e)+n+ri(r)+s+ri(o)+a:Vi}function qO(i,t,e,n,r,s,o,a,l,c,u,d){let p=Cp(),f=Qx(i,p,e,r,o,l);return f=so(i,p+4,u)||f,Od(5),f?t+ri(e)+n+ri(r)+s+ri(o)+a+ri(l)+c+ri(u)+d:Vi}function HO(i,t,e,n,r,s,o,a,l,c,u,d,p,f){let w=Cp(),x=Qx(i,w,e,r,o,l);return x=uu(i,w+4,u,p)||x,Od(6),x?t+ri(e)+n+ri(r)+s+ri(o)+a+ri(l)+c+ri(u)+d+ri(p)+f:Vi}function Lf(i,t){return i<<17|t<<2}function Kl(i){return i>>17&32767}function UO(i){return(i&2)==2}function zO(i,t){return i&131071|t<<17}function P_(i){return i|2}function du(i){return(i&131068)>>2}function V0(i,t){return i&-131069|t<<2}function WO(i){return(i&1)===1}function I_(i){return i|1}function $O(i,t,e,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Kl(o),l=du(o);i[n]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||Id(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let p=Kl(i[a+1]);i[n+1]=Lf(p,a),p!==0&&(i[p+1]=V0(i[p+1],n)),i[a+1]=zO(i[a+1],n)}else i[n+1]=Lf(a,0),a!==0&&(i[a+1]=V0(i[a+1],n)),a=n;else i[n+1]=Lf(l,0),a===0?a=n:i[l+1]=V0(i[l+1],n),l=n;c&&(i[n+1]=P_(i[n+1])),Vb(i,u,n,!0),Vb(i,u,n,!1),GO(t,u,i,n,s),o=Lf(a,l),s?t.classBindings=o:t.styleBindings=o}function GO(i,t,e,n,r){let s=r?i.residualClasses:i.residualStyles;s!=null&&typeof t=="string"&&Id(s,t)>=0&&(e[n+1]=I_(e[n+1]))}function Vb(i,t,e,n){let r=i[e+1],s=t===null,o=n?Kl(r):du(r),a=!1;for(;o!==0&&(a===!1||s);){let l=i[o],c=i[o+1];YO(l,t)&&(a=!0,i[o+1]=n?I_(c):P_(c)),o=n?Kl(c):du(c)}a&&(i[e+1]=n?P_(r):I_(r))}function YO(i,t){return i===null||t==null||(Array.isArray(i)?i[1]:i)===t?!0:Array.isArray(i)&&typeof t=="string"?Id(i,t)>=0:!1}function q(i,t,e){let n=Xt(),r=xp();if(so(n,r,t)){let s=wi(),o=iv();Ox(s,o,n,i,t,n[si],e,!1)}return q}function jb(i,t,e,n,r){let s=t.inputs,o=r?"class":"style";Cv(i,e,s[o],o,n)}function Rd(i,t,e){return eE(i,t,e,!1),Rd}function ht(i,t){return eE(i,t,null,!0),ht}function eE(i,t,e,n){let r=Xt(),s=wi(),o=Od(2);if(s.firstUpdatePass&&XO(s,i,o,n),t!==Vi&&so(r,o,t)){let a=s.data[oo()];t3(s,a,r,r[si],i,r[o+1]=n3(t,e),n,o)}}function KO(i,t){return t>=i.expandoStartIndex}function XO(i,t,e,n){let r=i.data;if(r[e+1]===null){let s=r[oo()],o=KO(i,e);i3(s,n)&&t===null&&!o&&(t=!1),t=JO(r,s,t,n),$O(r,s,t,e,o,n)}}function JO(i,t,e,n){let r=CP(i),s=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(e=j0(null,i,t,e,n),e=Dd(e,t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(o===-1||i[o]!==r)if(e=j0(r,i,t,e,n),s===null){let l=ZO(i,t,n);l!==void 0&&Array.isArray(l)&&(l=j0(null,i,t,l[1],n),l=Dd(l,t.attrs,n),QO(i,t,n,l))}else s=e3(i,t,n)}return s!==void 0&&(n?t.residualClasses=s:t.residualStyles=s),e}function ZO(i,t,e){let n=e?t.classBindings:t.styleBindings;if(du(n)!==0)return i[Kl(n)]}function QO(i,t,e,n){let r=e?t.classBindings:t.styleBindings;i[Kl(r)]=n}function e3(i,t,e){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=i[s].hostAttrs;n=Dd(n,o,e)}return Dd(n,t.attrs,e)}function j0(i,t,e,n,r){let s=null,o=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<o&&(s=t[a],n=Dd(n,s.hostAttrs,r),s!==i);)a++;return i!==null&&(e.directiveStylingLast=a),n}function Dd(i,t,e){let n=e?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),ED(i,o,e?!0:t[++s]))}return i===void 0?null:i}function t3(i,t,e,n,r,s,o,a){if(!(t.type&3))return;let l=i.data,c=l[a+1],u=WO(c)?Bb(l,t,e,r,du(c),o):void 0;if(!up(u)){up(s)||UO(c)&&(s=Bb(l,null,e,r,a,o));let d=EC(oo(),e);JI(n,o,d,r,s)}}function Bb(i,t,e,n,r,s){let o=t===null,a;for(;r>0;){let l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=e[r+1];p===Vi&&(p=d?os:void 0);let f=d?P0(p,n):u===n?p:void 0;if(c&&!up(f)&&(f=P0(l,n)),up(f)&&(a=f,o))return a;let w=i[r+1];r=o?Kl(w):du(w)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=P0(l,n))}return a}function up(i){return i!==void 0}function n3(i,t){return i==null||i===""||(typeof t=="string"?i=i+t:typeof i=="object"&&(i=jr(Dp(i)))),i}function i3(i,t){return(i.flags&(t?8:16))!==0}function r3(i,t,e,n,r,s){let o=t.consts,a=ou(o,r),l=Ld(t,i,2,n,a);return bv(t,e,l,ou(o,s)),l.attrs!==null&&ap(l,l.attrs,!1),l.mergedAttrs!==null&&ap(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function _(i,t,e,n){let r=Xt(),s=wi(),o=ls+i,a=r[si],l=s.firstCreatePass?r3(o,s,r,t,e,n):s.data[o],c=s3(s,r,l,a,t,i);r[o]=c;let u=yp(l);return Xl(l,!0),Mx(a,c,l),!OO(l)&&Ep()&&Pp(s,r,c,l),uP()===0&&ja(c,r),dP(),u&&(vv(s,r,l),_v(s,l,r)),n!==null&&yv(r,l),_}function m(){let i=rr();Z_()?NC():(i=i.parent,Xl(i,!1));let t=i;pP(t)&&gP(),hP();let e=wi();return e.firstCreatePass&&(Mp(e,i),X_(i)&&e.queries.elementEnd(i)),t.classesWithoutHost!=null&&IP(t)&&jb(e,t,Xt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&TP(t)&&jb(e,t,Xt(),t.stylesWithoutHost,!1),m}function kt(i,t,e,n){return _(i,t,e,n),m(),kt}var s3=(i,t,e,n,r,s)=>(Sp(!0),vx(n,r,MP()));function o3(i,t,e,n,r){let s=t.consts,o=ou(s,n),a=Ld(t,i,8,"ng-container",o);o!==null&&ap(a,o,!0);let l=ou(s,r);return bv(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function on(i,t,e){let n=Xt(),r=wi(),s=i+ls,o=r.firstCreatePass?o3(s,r,n,t,e):r.data[s];Xl(o,!0);let a=a3(r,n,o,i);return n[s]=a,Ep()&&Pp(r,n,a,o),ja(a,n),yp(o)&&(vv(r,n,o),_v(r,o,n)),e!=null&&yv(n,o),on}function an(){let i=rr(),t=wi();return Z_()?NC():(i=i.parent,Xl(i,!1)),t.firstCreatePass&&(Mp(t,i),X_(i)&&t.queries.elementEnd(i)),an}var a3=(i,t,e,n)=>(Sp(!0),LI(t[si],""));function Fe(){return Xt()}var Vl=void 0;function l3(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var c3=["en",[["a","p"],["AM","PM"],Vl],[["AM","PM"],Vl,Vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vl,"{1} 'at' {0}",Vl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",l3],B0={};function us(i){let t=u3(i),e=qb(t);if(e)return e;let n=t.split("-")[0];if(e=qb(n),e)return e;if(n==="en")return c3;throw new nt(701,!1)}function qb(i){return i in B0||(B0[i]=Bo.ng&&Bo.ng.common&&Bo.ng.common.locales&&Bo.ng.common.locales[i]),B0[i]}var Xn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Xn||{});function u3(i){return i.toLowerCase().replace(/_/g,"-")}var dp="en-US";var d3=dp;function h3(i){typeof i=="string"&&(d3=i.toLowerCase().replace(/_/g,"-"))}var f3=(i,t,e)=>{};function Oe(i,t,e,n){let r=Xt(),s=wi(),o=rr();return tE(s,r,r[si],o,i,t,n),Oe}function p3(i,t,e,n){let r=i.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===e&&r[s+1]===n){let a=t[Yf],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function tE(i,t,e,n,r,s,o){let a=yp(n),c=i.firstCreatePass&&Vx(i),u=t[Ps],d=Rx(t),p=!0;if(n.type&3||o){let x=cs(n,t),P=o?o(x):x,M=d.length,O=o?G=>o(io(G[n.index])):n.index,R=null;if(!o&&a&&(R=p3(i,t,r,n.index)),R!==null){let G=R.__ngLastListenerFn__||R;G.__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,p=!1}else{s=Ub(n,t,u,s),f3(x,r,s);let G=e.listen(P,r,s);d.push(s,G),c&&c.push(r,O,M,M+1)}}else s=Ub(n,t,u,s);let f=n.outputs,w;if(p&&f!==null&&(w=f[r])){let x=w.length;if(x)for(let P=0;P<x;P+=2){let M=w[P],O=w[P+1],ie=t[M][O].subscribe(s),de=d.length;d.push(s,ie),c&&c.push(r,n.index,de,-(de+1))}}}function Hb(i,t,e,n){let r=sn(null);try{return Js(6,t,e),e(n)!==!1}catch(s){return jx(i,s),!1}finally{Js(7,t,e),sn(r)}}function Ub(i,t,e,n){return function r(s){if(s===Function)return n;let o=i.componentOffset>-1?Ua(i.index,t):t;Ev(o,5);let a=Hb(t,e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Hb(t,e,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function A(i=1){return EP(i)}function Vd(i,t,e){mO(i,t,e)}function jd(i){let t=Xt(),e=wi(),n=LC();ev(n+1);let r=Mv(e,n);if(i.dirty&&oP(t)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let s=yO(t,n);i.reset(s,ZP),i.notifyOnChanges()}return!0}return!1}function Bd(){return pO(Xt(),LC())}function g3(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}function Lp(i){let t=_P();return MC(t,ls+i)}function S(i,t=""){let e=Xt(),n=wi(),r=i+ls,s=n.firstCreatePass?Ld(n,r,1,t,null):n.data[r],o=m3(n,e,s,t,i);e[r]=o,Ep()&&Pp(n,e,o,s),Xl(s,!1)}var m3=(i,t,e,n,r)=>(Sp(!0),NI(t[si],n));function Ee(i){return ct("",i,""),Ee}function ct(i,t,e){let n=Xt(),r=VO(n,i,t,e);return r!==Vi&&Fd(n,oo(),r),ct}function pi(i,t,e,n,r){let s=Xt(),o=jO(s,i,t,e,n,r);return o!==Vi&&Fd(s,oo(),o),pi}function Zl(i,t,e,n,r,s,o){let a=Xt(),l=BO(a,i,t,e,n,r,s,o);return l!==Vi&&Fd(a,oo(),l),Zl}function Fp(i,t,e,n,r,s,o,a,l,c,u){let d=Xt(),p=qO(d,i,t,e,n,r,s,o,a,l,c,u);return p!==Vi&&Fd(d,oo(),p),Fp}function Wa(i,t,e,n,r,s,o,a,l,c,u,d,p){let f=Xt(),w=HO(f,i,t,e,n,r,s,o,a,l,c,u,d,p);return w!==Vi&&Fd(f,oo(),w),Wa}function Pe(i,t,e){Jx(t)&&(t=t());let n=Xt(),r=xp();if(so(n,r,t)){let s=wi(),o=iv();Ox(s,o,n,i,t,n[si],e,!1)}return Pe}function Te(i,t){let e=Jx(i);return e&&i.set(t),e}function Ie(i,t){let e=Xt(),n=wi(),r=rr();return tE(n,e,e[si],r,i,t),Ie}function _3(i,t,e){let n=wi();if(n.firstCreatePass){let r=Va(i);T_(e,n.data,n.blueprint,r,!0),T_(t,n.data,n.blueprint,r,!1)}}function T_(i,t,e,n,r){if(i=ir(i),Array.isArray(i))for(let s=0;s<i.length;s++)T_(i[s],t,e,n,r);else{let s=wi(),o=Xt(),a=rr(),l=iu(i)?i:ir(i.provide),c=gC(i),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(iu(i)||!i.multi){let f=new Wl(c,r,Nt),w=H0(l,t,r?u:u+p,d);w===-1?(n_(ep(a,o),s,l),q0(s,i,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[w]=f,o[w]=f)}else{let f=H0(l,t,u+p,d),w=H0(l,t,u,u+p),x=f>=0&&e[f],P=w>=0&&e[w];if(r&&!P||!r&&!x){n_(ep(a,o),s,l);let M=w3(r?y3:v3,e.length,r,n,c);!r&&P&&(e[w].providerFactory=M),q0(s,i,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(M),o.push(M)}else{let M=nE(e[r?w:f],c,!r&&n);q0(s,i,f>-1?f:w,M)}!r&&n&&P&&e[w].componentProviders++}}}function q0(i,t,e,n){let r=iu(t),s=GD(t);if(r||s){let l=(s?ir(t.useClass):t).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function nE(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function H0(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function v3(i,t,e,n){return O_(this.multi,[])}function y3(i,t,e,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=$l(e,e[Bt],this.providerFactory.index,n);s=a.slice(0,o),O_(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],O_(r,s);return s}function O_(i,t){for(let e=0;e<i.length;e++){let n=i[e];t.push(n())}return t}function w3(i,t,e,n,r){let s=new Wl(i,e,Nt);return s.multi=[],s.index=t,s.componentProviders=0,nE(s,r,n&&!e),s}function Ts(i,t=[]){return e=>{e.providersResolver=(n,r)=>_3(n,r?r(i):i,t)}}var b3=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=hC(!1,e.type),r=n.length>0?DO([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=xt({token:i,providedIn:"environment",factory:()=>new i(Ft(eo))})}}return i})();function Rp(i){Jl("NgStandalone"),i.getStandaloneInjector=t=>t.get(b3).getOrCreateStandaloneInjector(i)}function Vp(i,t,e){let n=Q_()+i,r=Xt();return r[n]===Vi?Dv(r,n,e?t.call(e):t()):IO(r,n)}function iE(i,t,e,n,r){return x3(Xt(),Q_(),i,t,e,n,r)}function rE(i,t){let e=i[t];return e===Vi?void 0:e}function C3(i,t,e,n,r,s){let o=t+e;return so(i,o,r)?Dv(i,o+1,s?n.call(s,r):n(r)):rE(i,o+1)}function x3(i,t,e,n,r,s,o){let a=t+e;return uu(i,a,r,s)?Dv(i,a+2,o?n.call(o,r,s):n(r,s)):rE(i,a+2)}function Di(i,t){let e=wi(),n,r=i+ls;e.firstCreatePass?(n=E3(t,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];let s=n.factory||(n.factory=Bl(n.type,!0)),o,a=br(Nt);try{let l=Qf(!1),c=s();return Qf(l),g3(e,Xt(),r,c),c}finally{br(a)}}function E3(i,t){if(t)for(let e=t.length-1;e>=0;e--){let n=t[e];if(i===n.name)return n}}function Pi(i,t,e){let n=i+ls,r=Xt(),s=MC(r,n);return S3(r,n)?C3(r,Q_(),t,s.transform,e,s):s.transform(e)}function S3(i,t){return i[Bt].data[t].pure}function jp(i,t){return Np(i,t)}var sE=new Ot("");function qd(i){return!!i&&typeof i.then=="function"}function oE(i){return!!i&&typeof i.subscribe=="function"}var M3=new Ot(""),aE=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=dt(M3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let s=r();if(qd(s))e.push(s);else if(oE(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),e.length===0&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),lE=new Ot("");function A3(){S2(()=>{throw new nt(600,!1)})}function D3(i){return i.isBoundToModule}var P3=10;function I3(i,t,e){try{let n=e();return qd(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}var _u=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dt(XP),this.afterRenderManager=dt(RO),this.zonelessEnabled=dt(Sv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ks,this.afterTick=new Ks,this.componentTypes=[],this.components=[],this.isStable=dt(pu).hasPendingTasks.pipe(wr(e=>!e)),this._injector=dt(eo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(n=>{e=this.isStable.subscribe({next:r=>{r&&n()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,n){let r=e instanceof op;if(!this._injector.get(aE).done){let p=!r&&qD(e),f=!1;throw new nt(405,f)}let o;r?o=e:o=this._injector.get(Ad).resolveComponentFactory(e),this.componentTypes.push(o.componentType);let a=D3(o)?void 0:this._injector.get(cu),l=n||o.selector,c=o.create(au.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(sE,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),qf(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new nt(101,!1);let e=sn(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,sn(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(Ba,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<P3;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(n);for(let{_lView:r,notifyErrorHandler:s}of this._views)T3(r,s,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>wp(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;qf(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let n=this._injector.get(lE,[]);[...this._bootstrapListeners,...n].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>qf(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new nt(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function qf(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function T3(i,t,e,n){if(!e&&!wp(i))return;Hx(i,t,e&&!n?0:1)}var O3=(()=>{class i{constructor(){this.zone=dt($n),this.changeDetectionScheduler=dt(lu),this.applicationRef=dt(_u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function N3({ngZoneFactory:i,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return i??=()=>new $n(Ut(mt({},k3()),{scheduleInRootZone:e})),[{provide:$n,useFactory:i},{provide:xd,multi:!0,useFactory:()=>{let n=dt(O3,{optional:!0});return()=>n.initialize()}},{provide:xd,multi:!0,useFactory:()=>{let n=dt(L3);return()=>{n.initialize()}}},t===!0?{provide:$x,useValue:!0}:[],{provide:Gx,useValue:e??ZC}]}function k3(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var L3=(()=>{class i{constructor(){this.subscription=new nr,this.initialized=!1,this.zone=dt($n),this.pendingTasks=dt(pu)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$n.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$n.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var F3=(()=>{class i{constructor(){this.appRef=dt(_u),this.taskService=dt(pu),this.ngZone=dt($n),this.zonelessEnabled=dt(Sv),this.disableScheduling=dt($x,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new nr,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(np):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(dt(Gx,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof a_||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let n=this.useMicrotaskScheduler?yb:ex;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>n(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>n(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(np+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(e),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function R3(){return typeof $localize<"u"&&$localize.locale||dp}var Bp=new Ot("",{providedIn:"root",factory:()=>dt(Bp,Zt.Optional|Zt.SkipSelf)||R3()});var N_=new Ot("");function Ff(i){return!i.moduleRef}function V3(i){let t=Ff(i)?i.r3Injector:i.moduleRef.injector,e=t.get($n);return e.run(()=>{Ff(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let n=t.get(Ho,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:s=>{n.handleError(s)}})}),Ff(i)){let s=()=>t.destroy(),o=i.platformInjector.get(N_);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>i.moduleRef.destroy(),o=i.platformInjector.get(N_);o.add(s),i.moduleRef.onDestroy(()=>{qf(i.allPlatformModules,i.moduleRef),r.unsubscribe(),o.delete(s)})}return I3(n,e,()=>{let s=t.get(aE);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(Bp,dp);if(h3(o||dp),Ff(i)){let a=t.get(_u);return i.rootComponent!==void 0&&a.bootstrap(i.rootComponent),a}else return j3(i.moduleRef,i.allPlatformModules),i.moduleRef})})})}function j3(i,t){let e=i.injector.get(_u);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(e);else throw new nt(-403,!1);t.push(i)}var Hf=null;function B3(i=[],t){return au.create({name:t,providers:[{provide:mp,useValue:"platform"},{provide:N_,useValue:new Set([()=>Hf=null])},...i]})}function q3(i=[]){if(Hf)return Hf;let t=B3(i);return Hf=t,A3(),H3(t),t}function H3(i){i.get(cv,null)?.forEach(e=>e())}function Hr(){return!1}var qp=(()=>{class i{static{this.__NG_ELEMENT_ID__=U3}}return i})();function U3(i){return z3(rr(),Xt(),(i&16)===16)}function z3(i,t,e){if(vp(i)&&!e){let n=Ua(i.index,t);return new Gl(n,n)}else if(i.type&175){let n=t[no];return new Gl(n,t)}return null}var k_=class{constructor(){}supports(t){return Zx(t)}create(t){return new L_(t)}},W3=(i,t)=>t,L_=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||W3}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,s=null;for(;e||n;){let o=!n||e&&e.currentIndex<zb(n,r,s)?e:n,a=zb(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let p=0;p<c;p++){let f=p<s.length?s[p]:s[p]=0,w=f+p;u<=w&&w<c&&(s[p]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!Zx(t))throw new nt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,n=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,s,o,a),n=!0):(n&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else r=0,PO(t,a=>{o=this._trackByFn(r,a),e===null||!Object.is(e.trackById,o)?(e=this._mismatch(e,a,o,r),n=!0):(n&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new F_(e,n),s,r)),t}_verifyReinsertion(t,e,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new hp),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,n=t._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hp),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},F_=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},R_=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let e=t._prevDup,n=t._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},hp=class{constructor(){this.map=new Map}put(t){let e=t.trackById,n=this.map.get(e);n||(n=new R_,this.map.set(e,n)),n.add(t)}get(t,e){let n=t,r=this.map.get(n);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zb(i,t,e){let n=i.previousIndex;if(n===null)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}var V_=class{constructor(){}supports(t){return t instanceof Map||Av(t)}create(){return new j_}},j_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Av(t)))throw new nt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{let s=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,e);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new B_(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}},B_=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Wb(){return new Pv([new k_])}var Pv=(()=>{class i{static{this.\u0275prov=xt({token:i,providedIn:"root",factory:Wb})}constructor(e){this.factories=e}static create(e,n){if(n!=null){let r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||Wb()),deps:[[i,new nC,new U_]]}}find(e){let n=this.factories.find(r=>r.supports(e));if(n!=null)return n;throw new nt(901,!1)}}return i})();function $b(){return new Iv([new V_])}var Iv=(()=>{class i{static{this.\u0275prov=xt({token:i,providedIn:"root",factory:$b})}constructor(e){this.factories=e}static create(e,n){if(n){let r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||$b()),deps:[[i,new nC,new U_]]}}find(e){let n=this.factories.find(r=>r.supports(e));if(n)return n;throw new nt(901,!1)}}return i})();function cE(i){try{let{rootComponent:t,appProviders:e,platformProviders:n}=i,r=q3(n),s=[N3({}),{provide:lu,useExisting:F3},...e||[]],o=new cp({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return V3({r3Injector:o.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}}function Tv(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function Hp(i,t){Jl("NgSignals");let e=C2(i);return t?.equal&&(e[jo].equal=t.equal),e}function $a(i){let t=sn(null);try{return i()}finally{sn(t)}}var _E=null;function Xo(){return _E}function vE(i){_E??=i}var Jp=class{};var xr=new Ot(""),yE=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:()=>dt(G3),providedIn:"platform"})}}return i})();var G3=(()=>{class i extends yE{constructor(){super(),this._doc=dt(xr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xo().getBaseHref(this._doc)}onPopState(e){let n=Xo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Xo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:()=>new i,providedIn:"platform"})}}return i})();function wE(i,t){if(i.length==0)return t;if(t.length==0)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?i+t.substring(1):e==1?i+t:i+"/"+t}function uE(i){let t=i.match(/#|\?|$/),e=t&&t.index||i.length,n=e-(i[e-1]==="/"?1:0);return i.slice(0,n)+i.slice(e)}function Ql(i){return i&&i[0]!=="?"?"?"+i:i}var Vv=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:()=>dt(K3),providedIn:"root"})}}return i})(),Y3=new Ot(""),K3=(()=>{class i extends Vv{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??dt(xr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return wE(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Ql(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,s){let o=this.prepareExternalUrl(r+Ql(s));this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,s){let o=this.prepareExternalUrl(r+Ql(s));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(n){return new(n||i)(Ft(yE),Ft(Y3,8))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var jv=(()=>{class i{constructor(e){this._subject=new Ai,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=Z3(uE(dE(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Ql(n))}normalize(e){return i.stripTrailingSlash(J3(this._basePath,dE(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ql(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ql(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static{this.normalizeQueryParams=Ql}static{this.joinWithSlash=wE}static{this.stripTrailingSlash=uE}static{this.\u0275fac=function(n){return new(n||i)(Ft(Vv))}}static{this.\u0275prov=xt({token:i,factory:()=>X3(),providedIn:"root"})}}return i})();function X3(){return new jv(Ft(Vv))}function J3(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function dE(i){return i.replace(/\/index.html$/,"")}function Z3(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var or=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(or||{}),xn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(xn||{}),Ur=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(Ur||{}),Ga={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Q3(i){return us(i)[Xn.LocaleId]}function eN(i,t,e){let n=us(i),r=[n[Xn.DayPeriodsFormat],n[Xn.DayPeriodsStandalone]],s=ds(r,t);return ds(s,e)}function tN(i,t,e){let n=us(i),r=[n[Xn.DaysFormat],n[Xn.DaysStandalone]],s=ds(r,t);return ds(s,e)}function nN(i,t,e){let n=us(i),r=[n[Xn.MonthsFormat],n[Xn.MonthsStandalone]],s=ds(r,t);return ds(s,e)}function iN(i,t){let n=us(i)[Xn.Eras];return ds(n,t)}function Up(i,t){let e=us(i);return ds(e[Xn.DateFormat],t)}function zp(i,t){let e=us(i);return ds(e[Xn.TimeFormat],t)}function Wp(i,t){let n=us(i)[Xn.DateTimeFormat];return ds(n,t)}function Qp(i,t){let e=us(i),n=e[Xn.NumberSymbols][t];if(typeof n>"u"){if(t===Ga.CurrencyDecimal)return e[Xn.NumberSymbols][Ga.Decimal];if(t===Ga.CurrencyGroup)return e[Xn.NumberSymbols][Ga.Group]}return n}function bE(i){if(!i[Xn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Xn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rN(i){let t=us(i);return bE(t),(t[Xn.ExtraData][2]||[]).map(n=>typeof n=="string"?Ov(n):[Ov(n[0]),Ov(n[1])])}function sN(i,t,e){let n=us(i);bE(n);let r=[n[Xn.ExtraData][0],n[Xn.ExtraData][1]],s=ds(r,t)||[];return ds(s,e)||[]}function ds(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function Ov(i){let[t,e]=i.split(":");return{hours:+t,minutes:+e}}var oN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$p={},aN=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ko=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(Ko||{}),hn=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(hn||{}),dn=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(dn||{});function lN(i,t,e,n){let r=_N(i);t=Yo(e,t)||t;let o=[],a;for(;t;)if(a=aN.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u}else{o.push(t);break}let l=r.getTimezoneOffset();n&&(l=xE(n,l),r=mN(r,n,!0));let c="";return o.forEach(u=>{let d=pN(u);c+=d?d(r,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Zp(i,t,e){let n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function Yo(i,t){let e=Q3(i);if($p[e]??={},$p[e][t])return $p[e][t];let n="";switch(t){case"shortDate":n=Up(i,Ur.Short);break;case"mediumDate":n=Up(i,Ur.Medium);break;case"longDate":n=Up(i,Ur.Long);break;case"fullDate":n=Up(i,Ur.Full);break;case"shortTime":n=zp(i,Ur.Short);break;case"mediumTime":n=zp(i,Ur.Medium);break;case"longTime":n=zp(i,Ur.Long);break;case"fullTime":n=zp(i,Ur.Full);break;case"short":let r=Yo(i,"shortTime"),s=Yo(i,"shortDate");n=Gp(Wp(i,Ur.Short),[r,s]);break;case"medium":let o=Yo(i,"mediumTime"),a=Yo(i,"mediumDate");n=Gp(Wp(i,Ur.Medium),[o,a]);break;case"long":let l=Yo(i,"longTime"),c=Yo(i,"longDate");n=Gp(Wp(i,Ur.Long),[l,c]);break;case"full":let u=Yo(i,"fullTime"),d=Yo(i,"fullDate");n=Gp(Wp(i,Ur.Full),[u,d]);break}return n&&($p[e][t]=n),n}function Gp(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return t!=null&&n in t?t[n]:e})),i}function Os(i,t,e="-",n,r){let s="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,s=e));let o=String(i);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function cN(i,t){return Os(i,3).substring(0,t)}function oi(i,t,e=0,n=!1,r=!1){return function(s,o){let a=uN(i,s);if((e>0||a>-e)&&(a+=e),i===hn.Hours)a===0&&e===-12&&(a=12);else if(i===hn.FractionalSeconds)return cN(a,t);let l=Qp(o,Ga.MinusSign);return Os(a,t,l,n,r)}}function uN(i,t){switch(i){case hn.FullYear:return t.getFullYear();case hn.Month:return t.getMonth();case hn.Date:return t.getDate();case hn.Hours:return t.getHours();case hn.Minutes:return t.getMinutes();case hn.Seconds:return t.getSeconds();case hn.FractionalSeconds:return t.getMilliseconds();case hn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function Dn(i,t,e=or.Format,n=!1){return function(r,s){return dN(r,s,i,t,e,n)}}function dN(i,t,e,n,r,s){switch(e){case dn.Months:return nN(t,r,n)[i.getMonth()];case dn.Days:return tN(t,r,n)[i.getDay()];case dn.DayPeriods:let o=i.getHours(),a=i.getMinutes();if(s){let c=rN(t),u=sN(t,r,n),d=c.findIndex(p=>{if(Array.isArray(p)){let[f,w]=p,x=o>=f.hours&&a>=f.minutes,P=o<w.hours||o===w.hours&&a<w.minutes;if(f.hours<w.hours){if(x&&P)return!0}else if(x||P)return!0}else if(p.hours===o&&p.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return eN(t,r,n)[o<12?0:1];case dn.Eras:return iN(t,n)[i.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function Yp(i){return function(t,e,n){let r=-1*n,s=Qp(e,Ga.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case Ko.Short:return(r>=0?"+":"")+Os(o,2,s)+Os(Math.abs(r%60),2,s);case Ko.ShortGMT:return"GMT"+(r>=0?"+":"")+Os(o,1,s);case Ko.Long:return"GMT"+(r>=0?"+":"")+Os(o,2,s)+":"+Os(Math.abs(r%60),2,s);case Ko.Extended:return n===0?"Z":(r>=0?"+":"")+Os(o,2,s)+":"+Os(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${i}"`)}}}var hN=0,Xp=4;function fN(i){let t=Zp(i,hN,1).getDay();return Zp(i,0,1+(t<=Xp?Xp:Xp+7)-t)}function CE(i){let t=i.getDay(),e=t===0?-3:Xp-t;return Zp(i.getFullYear(),i.getMonth(),i.getDate()+e)}function Nv(i,t=!1){return function(e,n){let r;if(t){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{let s=CE(e),o=fN(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Os(r,i,Qp(n,Ga.MinusSign))}}function Kp(i,t=!1){return function(e,n){let s=CE(e).getFullYear();return Os(s,i,Qp(n,Ga.MinusSign),t)}}var kv={};function pN(i){if(kv[i])return kv[i];let t;switch(i){case"G":case"GG":case"GGG":t=Dn(dn.Eras,xn.Abbreviated);break;case"GGGG":t=Dn(dn.Eras,xn.Wide);break;case"GGGGG":t=Dn(dn.Eras,xn.Narrow);break;case"y":t=oi(hn.FullYear,1,0,!1,!0);break;case"yy":t=oi(hn.FullYear,2,0,!0,!0);break;case"yyy":t=oi(hn.FullYear,3,0,!1,!0);break;case"yyyy":t=oi(hn.FullYear,4,0,!1,!0);break;case"Y":t=Kp(1);break;case"YY":t=Kp(2,!0);break;case"YYY":t=Kp(3);break;case"YYYY":t=Kp(4);break;case"M":case"L":t=oi(hn.Month,1,1);break;case"MM":case"LL":t=oi(hn.Month,2,1);break;case"MMM":t=Dn(dn.Months,xn.Abbreviated);break;case"MMMM":t=Dn(dn.Months,xn.Wide);break;case"MMMMM":t=Dn(dn.Months,xn.Narrow);break;case"LLL":t=Dn(dn.Months,xn.Abbreviated,or.Standalone);break;case"LLLL":t=Dn(dn.Months,xn.Wide,or.Standalone);break;case"LLLLL":t=Dn(dn.Months,xn.Narrow,or.Standalone);break;case"w":t=Nv(1);break;case"ww":t=Nv(2);break;case"W":t=Nv(1,!0);break;case"d":t=oi(hn.Date,1);break;case"dd":t=oi(hn.Date,2);break;case"c":case"cc":t=oi(hn.Day,1);break;case"ccc":t=Dn(dn.Days,xn.Abbreviated,or.Standalone);break;case"cccc":t=Dn(dn.Days,xn.Wide,or.Standalone);break;case"ccccc":t=Dn(dn.Days,xn.Narrow,or.Standalone);break;case"cccccc":t=Dn(dn.Days,xn.Short,or.Standalone);break;case"E":case"EE":case"EEE":t=Dn(dn.Days,xn.Abbreviated);break;case"EEEE":t=Dn(dn.Days,xn.Wide);break;case"EEEEE":t=Dn(dn.Days,xn.Narrow);break;case"EEEEEE":t=Dn(dn.Days,xn.Short);break;case"a":case"aa":case"aaa":t=Dn(dn.DayPeriods,xn.Abbreviated);break;case"aaaa":t=Dn(dn.DayPeriods,xn.Wide);break;case"aaaaa":t=Dn(dn.DayPeriods,xn.Narrow);break;case"b":case"bb":case"bbb":t=Dn(dn.DayPeriods,xn.Abbreviated,or.Standalone,!0);break;case"bbbb":t=Dn(dn.DayPeriods,xn.Wide,or.Standalone,!0);break;case"bbbbb":t=Dn(dn.DayPeriods,xn.Narrow,or.Standalone,!0);break;case"B":case"BB":case"BBB":t=Dn(dn.DayPeriods,xn.Abbreviated,or.Format,!0);break;case"BBBB":t=Dn(dn.DayPeriods,xn.Wide,or.Format,!0);break;case"BBBBB":t=Dn(dn.DayPeriods,xn.Narrow,or.Format,!0);break;case"h":t=oi(hn.Hours,1,-12);break;case"hh":t=oi(hn.Hours,2,-12);break;case"H":t=oi(hn.Hours,1);break;case"HH":t=oi(hn.Hours,2);break;case"m":t=oi(hn.Minutes,1);break;case"mm":t=oi(hn.Minutes,2);break;case"s":t=oi(hn.Seconds,1);break;case"ss":t=oi(hn.Seconds,2);break;case"S":t=oi(hn.FractionalSeconds,1);break;case"SS":t=oi(hn.FractionalSeconds,2);break;case"SSS":t=oi(hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Yp(Ko.Short);break;case"ZZZZZ":t=Yp(Ko.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Yp(Ko.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Yp(Ko.Long);break;default:return null}return kv[i]=t,t}function xE(i,t){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function gN(i,t){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+t),i}function mN(i,t,e){let n=e?-1:1,r=i.getTimezoneOffset(),s=xE(t,r);return gN(i,n*(s-r))}function _N(i){if(hE(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,s=1,o=1]=i.split("-").map(a=>+a);return Zp(r,s-1,o)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(oN))return vN(n)}let t=new Date(i);if(!hE(t))throw new Error(`Unable to convert "${i}" into a date`);return t}function vN(i){let t=new Date(0),e=0,n=0,r=i[8]?t.setUTCFullYear:t.setFullYear,s=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));let o=Number(i[4]||0)-e,a=Number(i[5]||0)-n,l=Number(i[6]||0),c=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return s.call(t,o,a,l,c),t}function hE(i){return i instanceof Date&&!isNaN(i.valueOf())}function eg(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,s]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var Lv=/\s+/,fE=[],EE=(()=>{class i{constructor(e,n){this._ngEl=e,this._renderer=n,this.initialClasses=fE,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(Lv):fE}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Lv):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(Lv).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(n){return new(n||i)(Nt(qr),Nt(Go))}}static{this.\u0275dir=yi({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return i})();var Fv=class{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tg=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,s,o)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new Fv(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)n.remove(s===null?void 0:s);else if(s!==null){let a=n.get(s);n.move(a,o),pE(a,r)}});for(let r=0,s=n.length;r<s;r++){let a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let s=n.get(r.currentIndex);pE(s,r)})}static ngTemplateContextGuard(e,n){return!0}static{this.\u0275fac=function(n){return new(n||i)(Nt(mu),Nt(Yl),Nt(Pv))}}static{this.\u0275dir=yi({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return i})();function pE(i,t){i.context.$implicit=t.item}var ng=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new Rv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static{this.\u0275fac=function(n){return new(n||i)(Nt(mu),Nt(Yl))}}static{this.\u0275dir=yi({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return i})(),Rv=class{constructor(){this.$implicit=null,this.ngIf=null}};function gE(i,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${jr(t)}'.`)}var SE=(()=>{class i{constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,s]=e.split("."),o=r.indexOf("-")===-1?void 0:ro.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${n}${s}`:n,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static{this.\u0275fac=function(n){return new(n||i)(Nt(qr),Nt(Iv),Nt(Go))}}static{this.\u0275dir=yi({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return i})();function ME(i,t){return new nt(2100,!1)}var AE=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw ME(i,e);return e.toUpperCase()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275pipe=$_({name:"uppercase",type:i,pure:!0,standalone:!0})}}return i})(),yN="mediumDate",wN=new Ot(""),bN=new Ot(""),Ya=(()=>{class i{constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,s){if(e==null||e===""||e!==e)return null;try{let o=n??this.defaultOptions?.dateFormat??yN,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return lN(e,o,s||this.locale,a)}catch(o){throw ME(i,o.message)}}static{this.\u0275fac=function(n){return new(n||i)(Nt(Bp,16),Nt(wN,24),Nt(bN,24))}}static{this.\u0275pipe=$_({name:"date",type:i,pure:!0,standalone:!0})}}return i})();var Hd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ha({type:i})}static{this.\u0275inj=qa({})}}return i})(),DE="browser",CN="server";function ig(i){return i===CN}var vu=class{};var zd=class{},sg=class{},Jo=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),s=r.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Hv=class{encodeKey(t){return PE(t)}encodeValue(t){return PE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function xN(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}var EN=/%(\d[a-f0-9])/gi,SN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PE(i){return encodeURIComponent(i).replace(EN,(t,e)=>SN[e]??t)}function rg(i){return`${i}`}var co=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=xN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(rg):[rg(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(rg(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(rg(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Uv=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function MN(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IE(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function TE(i){return typeof Blob<"u"&&i instanceof Blob}function OE(i){return typeof FormData<"u"&&i instanceof FormData}function AN(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ud=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(MN(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Jo,this.context??=new Uv,!this.params)this.params=new co,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IE(this.body)||TE(this.body)||OE(this.body)||AN(this.body)?this.body:this.body instanceof co?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OE(this.body)?null:TE(this.body)?this.body.type||null:IE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof co?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((p,f)=>p.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((p,f)=>p.set(f,t.setParams[f]),u)),new i(e,n,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},Xa=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Xa||{}),Wd=class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Jo,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},og=class i extends Wd{constructor(t={}){super(t),this.type=Xa.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},$d=class i extends Wd{constructor(t={}){super(t),this.type=Xa.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ka=class extends Wd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},FE=200,DN=204;function qv(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ec=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof Ud)s=e;else{let l;r.headers instanceof Jo?l=r.headers:l=new Jo(r.headers);let c;r.params&&(r.params instanceof co?c=r.params:c=new co({fromObject:r.params})),s=new Ud(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=Af(s).pipe(M0(l=>this.handler.handle(l)));if(e instanceof Ud||r.observe==="events")return o;let a=o.pipe(S0(l=>l instanceof $d));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(wr(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(wr(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(wr(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(wr(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new co().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,qv(r,n))}post(e,n,r={}){return this.request("POST",e,qv(r,n))}put(e,n,r={}){return this.request("PUT",e,qv(r,n))}static{this.\u0275fac=function(n){return new(n||i)(Ft(zd))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),PN=/^\)\]\}',?\n/,IN="X-Request-URL";function NE(i){if(i.url)return i.url;let t=IN.toLocaleLowerCase();return i.headers.get(t)}var TN=(()=>{class i{constructor(){this.fetchImpl=dt(zv,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=dt($n)}handle(e){return new Wn(n=>{let r=new AbortController;return this.doRequest(e,r.signal,n).then(Wv,s=>n.error(new Ka({error:s}))),()=>r.abort()})}doRequest(e,n,r){return $e(this,null,function*(){let s=this.createRequestInit(e),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,mt({signal:n},s)));ON(f),r.next({type:Xa.Sent}),o=yield f}catch(f){r.error(new Ka({error:f,status:f.status??0,statusText:f.statusText,url:e.urlWithParams,headers:f.headers}));return}let a=new Jo(o.headers),l=o.statusText,c=NE(o)??e.urlWithParams,u=o.status,d=null;if(e.reportProgress&&r.next(new og({headers:a,status:u,statusText:l,url:c})),o.body){let f=o.headers.get("content-length"),w=[],x=o.body.getReader(),P=0,M,O,R=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>$e(this,null,function*(){for(;;){let{done:ie,value:de}=yield x.read();if(ie)break;if(w.push(de),P+=de.length,e.reportProgress){O=e.responseType==="text"?(O??"")+(M??=new TextDecoder).decode(de,{stream:!0}):void 0;let te=()=>r.next({type:Xa.DownloadProgress,total:f?+f:void 0,loaded:P,partialText:O});R?R.run(te):te()}}}));let G=this.concatChunks(w,P);try{let ie=o.headers.get("Content-Type")??"";d=this.parseBody(e,G,ie)}catch(ie){r.error(new Ka({error:ie,headers:new Jo(o.headers),status:o.status,statusText:o.statusText,url:NE(o)??e.urlWithParams}));return}}u===0&&(u=d?FE:0),u>=200&&u<300?(r.next(new $d({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Ka({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(e,n,r){switch(e.responseType){case"json":let s=new TextDecoder().decode(n).replace(PN,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:r});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>n[s]=o.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(n["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:r}}concatChunks(e,n){let r=new Uint8Array(n),s=0;for(let o of e)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),zv=class{};function Wv(){}function ON(i){i.then(Wv,Wv)}function NN(i,t){return t(i)}function kN(i,t,e){return(n,r)=>mC(e,()=>t(n,s=>i(s,r)))}var RE=new Ot(""),LN=new Ot(""),FN=new Ot("",{providedIn:"root",factory:()=>!0});var kE=(()=>{class i extends zd{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=dt(pu),this.contributeToStability=dt(FN)}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(RE),...this.injector.get(LN,[])]));this.chain=n.reduceRight((r,s)=>kN(r,s,this.injector),NN)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(A0(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static{this.\u0275fac=function(n){return new(n||i)(Ft(sg),Ft(eo))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})();var RN=/^\)\]\}',?\n/;function VN(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var LE=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new nt(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Xs(n.\u0275loadImpl()):Af(null)).pipe(D0(()=>new Wn(s=>{let o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,P)=>o.setRequestHeader(x,P.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let x=e.detectContentTypeHeader();x!==null&&o.setRequestHeader("Content-Type",x)}if(e.responseType){let x=e.responseType.toLowerCase();o.responseType=x!=="json"?x:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=o.statusText||"OK",P=new Jo(o.getAllResponseHeaders()),M=VN(o)||e.url;return l=new og({headers:P,status:o.status,statusText:x,url:M}),l},u=()=>{let{headers:x,status:P,statusText:M,url:O}=c(),R=null;P!==DN&&(R=typeof o.response>"u"?o.responseText:o.response),P===0&&(P=R?FE:0);let G=P>=200&&P<300;if(e.responseType==="json"&&typeof R=="string"){let ie=R;R=R.replace(RN,"");try{R=R!==""?JSON.parse(R):null}catch(de){R=ie,G&&(G=!1,R={error:de,text:R})}}G?(s.next(new $d({body:R,headers:x,status:P,statusText:M,url:O||void 0})),s.complete()):s.error(new Ka({error:R,headers:x,status:P,statusText:M,url:O||void 0}))},d=x=>{let{url:P}=c(),M=new Ka({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:P||void 0});s.error(M)},p=!1,f=x=>{p||(s.next(c()),p=!0);let P={type:Xa.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(P.total=x.total),e.responseType==="text"&&o.responseText&&(P.partialText=o.responseText),s.next(P)},w=x=>{let P={type:Xa.UploadProgress,loaded:x.loaded};x.lengthComputable&&(P.total=x.total),s.next(P)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",w)),o.send(a),s.next({type:Xa.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(n){return new(n||i)(Ft(vu))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),VE=new Ot(""),jN="XSRF-TOKEN",BN=new Ot("",{providedIn:"root",factory:()=>jN}),qN="X-XSRF-TOKEN",HN=new Ot("",{providedIn:"root",factory:()=>qN}),ag=class{},UN=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=eg(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(n){return new(n||i)(Ft(xr),Ft(za),Ft(BN))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})();function zN(i,t){let e=i.url.toLowerCase();if(!dt(VE)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=dt(ag).getToken(),r=dt(HN);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}function jE(...i){let t=[ec,LE,kE,{provide:zd,useExisting:kE},{provide:sg,useFactory:()=>dt(TN,{optional:!0})??dt(LE)},{provide:RE,useValue:zN,multi:!0},{provide:VE,useValue:!0},{provide:ag,useClass:UN}];for(let e of i)t.push(...e.\u0275providers);return G_(t)}var Yv=class extends Jp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kv=class i extends Yv{static makeCurrent(){vE(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=$N();return e==null?null:GN(e)}resetBaseElement(){Gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return eg(document.cookie,t)}},Gd=null;function $N(){return Gd=Gd||document.querySelector("base"),Gd?Gd.getAttribute("href"):null}function GN(i){return new URL(i,document.baseURI).pathname}var YN=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),Xv=new Ot(""),UE=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new nt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(Ft(Xv),Ft($n))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),lg=class{constructor(t){this._doc=t}},$v="ng-app-id",zE=(()=>{class i{constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ig(s),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${$v}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(r=>{r.textContent!=null&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=n,s.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===e)return r.delete(n),s.removeAttribute($v),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute($v,this.appId),e.appendChild(o),o}}addStyleToHost(e,n){let r=this.getStyleElement(e,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(Ft(xr),Ft(lv),Ft(dv,8),Ft(za))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),Gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zv=/%COMP%/g,WE="%COMP%",KN=`_nghost-${WE}`,XN=`_ngcontent-${WE}`,JN=!0,ZN=new Ot("",{providedIn:"root",factory:()=>JN});function QN(i){return XN.replace(Zv,i)}function ek(i){return KN.replace(Zv,i)}function $E(i,t){return t.map(e=>e.replace(Zv,i))}var cg=(()=>{class i{constructor(e,n,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=ig(a),this.defaultRenderer=new Yd(e,o,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Qs.ShadowDom&&(n=Ut(mt({},n),{encapsulation:Qs.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof ug?r.applyToHost(e):r instanceof Kd&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,s=r.get(n.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(n.encapsulation){case Qs.Emulated:s=new ug(l,c,n,this.appId,u,o,a,d);break;case Qs.ShadowDom:return new Jv(l,c,e,n,o,a,this.nonce,d);default:s=new Kd(l,c,n,u,o,a,d);break}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(Ft(UE),Ft(zE),Ft(lv),Ft(ZN),Ft(xr),Ft(za),Ft($n),Ft(dv))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),Yd=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Gv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(qE(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(qE(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new nt(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let s=Gv[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Gv[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(ro.DashCase|ro.Important)?t.style.setProperty(e,n,r&ro.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ro.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=Xo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function qE(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Jv=class extends Yd{constructor(t,e,n,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=$E(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kd=class extends Yd{constructor(t,e,n,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?$E(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ug=class extends Kd{constructor(t,e,n,r,s,o,a,l){let c=r+"-"+n.id;super(t,e,n,s,o,a,l,c),this.contentAttr=QN(c),this.hostAttr=ek(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},tk=(()=>{class i extends lg{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||i)(Ft(xr))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),HE=["alt","control","meta","shift"],nk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ik={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},rk=(()=>{class i extends lg{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r){let s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xo().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let s=i._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),HE.forEach(c=>{let u=n.indexOf(c);u>-1&&(n.splice(u,1),o+=c+".")}),o+=s,n.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let r=nk[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),HE.forEach(o=>{if(o!==r){let a=ik[o];a(e)&&(s+=o+".")}}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(Ft(xr))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})();function GE(i,t){return cE(mt({rootComponent:i},sk(t)))}function sk(i){return{appProviders:[...uk,...i?.providers??[]],platformProviders:ck}}function ok(){Kv.makeCurrent()}function ak(){return new Ho}function lk(){return ax(document),document}var ck=[{provide:za,useValue:DE},{provide:cv,useValue:ok,multi:!0},{provide:xr,useFactory:lk,deps:[]}];var uk=[{provide:mp,useValue:"root"},{provide:Ho,useFactory:ak,deps:[]},{provide:Xv,useClass:tk,multi:!0,deps:[xr,$n,za]},{provide:Xv,useClass:rk,multi:!0,deps:[xr]},cg,zE,UE,{provide:Ba,useExisting:cg},{provide:vu,useClass:YN,deps:[]},[]];var i5=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(Nt(Go),Nt(qr))}}static{this.\u0275dir=yi({type:i})}}return i})(),gg=(()=>{class i extends i5{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=fu(i)))(r||i)}})()}static{this.\u0275dir=yi({type:i,features:[lo]})}}return i})(),th=new Ot(""),dk={provide:th,useExisting:Uo(()=>nh),multi:!0},nh=(()=>{class i extends gg{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=fu(i)))(r||i)}})()}static{this.\u0275dir=yi({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&Oe("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Ts([dk]),lo]})}}return i})(),hk={provide:th,useExisting:Uo(()=>Cu),multi:!0};function fk(){let i=Xo()?Xo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var pk=new Ot(""),Cu=(()=>{class i extends i5{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!fk())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(Nt(Go),Nt(qr),Nt(pk,8))}}static{this.\u0275dir=yi({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&Oe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ts([hk]),lo]})}}return i})();function gk(i){return i!=null&&typeof i.length=="number"}var r5=new Ot(""),mk=new Ot("");function _k(i){return t=>gk(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function YE(i){return null}function s5(i){return i!=null}function o5(i){return qd(i)?Xs(i):i}function a5(i){let t={};return i.forEach(e=>{t=e!=null?mt(mt({},t),e):t}),Object.keys(t).length===0?null:t}function l5(i,t){return t.map(e=>e(i))}function vk(i){return!i.validate}function c5(i){return i.map(t=>vk(t)?t:e=>t.validate(e))}function yk(i){if(!i)return null;let t=i.filter(s5);return t.length==0?null:function(e){return a5(l5(e,t))}}function u5(i){return i!=null?yk(c5(i)):null}function wk(i){if(!i)return null;let t=i.filter(s5);return t.length==0?null:function(e){let n=l5(e,t).map(o5);return E0(n).pipe(wr(a5))}}function d5(i){return i!=null?wk(c5(i)):null}function KE(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function bk(i){return i._rawValidators}function Ck(i){return i._rawAsyncValidators}function Qv(i){return i?Array.isArray(i)?i:[i]:[]}function hg(i,t){return Array.isArray(i)?i.includes(t):i===t}function XE(i,t){let e=Qv(t);return Qv(i).forEach(r=>{hg(e,r)||e.push(r)}),e}function JE(i,t){return Qv(t).filter(e=>!hg(i,e))}var fg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=u5(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=d5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},e1=class extends fg{get formDirective(){return null}get path(){return null}},eh=class extends fg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},t1=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fz=Ut(mt({},xk),{"[class.ng-submitted]":"isSubmitted"}),mg=(()=>{class i extends t1{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(Nt(eh,2))}}static{this.\u0275dir=yi({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[lo]})}}return i})();var Xd="VALID",dg="INVALID",yu="PENDING",Jd="DISABLED",bu=class{},pg=class extends bu{constructor(t,e){super(),this.value=t,this.source=e}},Zd=class extends bu{constructor(t,e){super(),this.pristine=t,this.source=e}},Qd=class extends bu{constructor(t,e){super(),this.touched=t,this.source=e}},wu=class extends bu{constructor(t,e){super(),this.status=t,this.source=e}};function Ek(i){return(_g(i)?i.validators:i)||null}function Sk(i){return Array.isArray(i)?u5(i):i||null}function Mk(i,t){return(_g(t)?t.asyncValidators:i)||null}function Ak(i){return Array.isArray(i)?d5(i):i||null}function _g(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var n1=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Hp(()=>this.statusReactive()),this.statusReactive=kp(void 0),this._pristine=Hp(()=>this.pristineReactive()),this.pristineReactive=kp(!0),this._touched=Hp(()=>this.touchedReactive()),this.touchedReactive=kp(!1),this._events=new Ks,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return $a(this.statusReactive)}set status(t){$a(()=>this.statusReactive.set(t))}get valid(){return this.status===Xd}get invalid(){return this.status===dg}get pending(){return this.status==yu}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}get pristine(){return $a(this.pristineReactive)}set pristine(t){$a(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return $a(this.touchedReactive)}set touched(t){$a(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(XE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(XE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JE(t,this._rawAsyncValidators))}hasValidator(t){return hg(this._rawValidators,t)}hasAsyncValidator(t){return hg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ut(mt({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Qd(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Qd(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ut(mt({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Zd(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Zd(!0,n))}markAsPending(t={}){this.status=yu;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wu(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ut(mt({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(r=>{r.disable(Ut(mt({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pg(this.value,n)),this._events.next(new wu(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ut(mt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Xd,this._forEachChild(n=>{n.enable(Ut(mt({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ut(mt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===yu)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new pg(this.value,e)),this._events.next(new wu(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ut(mt({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=yu,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=o5(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new wu(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Ai,this.statusChanges=new Ai}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?dg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yu)?yu:this._anyControlsHaveStatus(dg)?dg:Xd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Zd(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Qd(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_g(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Sk(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ak(this._rawAsyncValidators)}};var h5=new Ot("CallSetDisabledState",{providedIn:"root",factory:()=>i1}),i1="always";function Dk(i,t){return[...t.path,i]}function Pk(i,t,e=i1){Tk(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Ok(i,t),kk(i,t),Nk(i,t),Ik(i,t)}function ZE(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ik(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Tk(i,t){let e=bk(i);t.validator!==null?i.setValidators(KE(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Ck(i);t.asyncValidator!==null?i.setAsyncValidators(KE(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();ZE(t._rawValidators,r),ZE(t._rawAsyncValidators,r)}function Ok(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&f5(i,t)})}function Nk(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&f5(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function f5(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function kk(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Lk(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Fk(i){return Object.getPrototypeOf(i.constructor)===gg}function Rk(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===Cu?e=s:Fk(s)?n=s:r=s}),r||n||e||null}function QE(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function e5(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Vk=class extends n1{constructor(t=null,e,n){super(Ek(e),Mk(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_g(e)&&(e.nonNullable||e.initialValueIsDefault)&&(e5(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){QE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){QE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){e5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var jk={provide:eh,useExisting:Uo(()=>ih)},t5=Promise.resolve(),ih=(()=>{class i extends eh{constructor(e,n,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Vk,this._registered=!1,this.name="",this.update=new Ai,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Rk(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Lk(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){t5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Tv(n);t5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Dk(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(Nt(e1,9),Nt(r5,10),Nt(mk,10),Nt(th,10),Nt(qp,8),Nt(h5,8))}}static{this.\u0275dir=yi({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ts([jk]),lo,Td]})}}return i})();var Bk={provide:th,useExisting:Uo(()=>xu),multi:!0};function p5(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function qk(i){return i.split(":")[0]}var xu=(()=>{class i extends gg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),r=p5(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=qk(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=fu(i)))(r||i)}})()}static{this.\u0275dir=yi({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&Oe("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ts([Bk]),lo]})}}return i})(),vg=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(p5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(Nt(qr),Nt(Go),Nt(xu,9))}}static{this.\u0275dir=yi({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Hk={provide:th,useExisting:Uo(()=>g5),multi:!0};function n5(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Uk(i){return i.split(":")[0]}var g5=(()=>{class i extends gg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));n=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else n=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],s=n.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=n.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Uk(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=fu(i)))(r||i)}})()}static{this.\u0275dir=yi({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&Oe("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ts([Hk]),lo]})}}return i})(),yg=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(n5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(n5(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(Nt(qr),Nt(Go),Nt(g5,9))}}static{this.\u0275dir=yi({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function zk(i){return typeof i=="number"?i:parseInt(i,10)}var Wk=(()=>{class i{constructor(){this._validator=YE}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):YE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=yi({type:i,features:[Td]})}}return i})();var $k={provide:r5,useExisting:Uo(()=>r1),multi:!0},r1=(()=>{class i extends Wk{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>zk(e),this.createValidator=e=>_k(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=fu(i)))(r||i)}})()}static{this.\u0275dir=yi({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&sr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ts([$k]),lo]})}}return i})();var Gk=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ha({type:i})}static{this.\u0275inj=qa({})}}return i})();var wg=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:h5,useValue:e.callSetDisabledState??i1}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ha({type:i})}static{this.\u0275inj=qa({imports:[Gk]})}}return i})();var ch={};ch.d=(i,t)=>{for(var e in t)ch.o(t,e)&&!ch.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};ch.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var Tt=globalThis.pdfjsLib={};ch.d(Tt,{AbortException:()=>fo,AnnotationEditorLayer:()=>z4,AnnotationEditorParamsType:()=>en,AnnotationEditorType:()=>qt,AnnotationEditorUIManager:()=>gh,AnnotationLayer:()=>yy,AnnotationMode:()=>Ja,ColorPicker:()=>em,DOMSVGFactory:()=>wh,DrawLayer:()=>Dy,FeatureTest:()=>Ii,GlobalWorkerOptions:()=>nc,ImageKind:()=>Mg,InvalidPDFException:()=>dh,MissingPDFException:()=>ic,OPS:()=>Ns,OutputScale:()=>ph,PDFDataRangeTransport:()=>Hg,PDFDateString:()=>Pg,PDFWorker:()=>Mu,PasswordResponses:()=>Zk,PermissionFlag:()=>Jk,PixelsPerInch:()=>Qa,RenderingCancelledException:()=>fh,TextLayer:()=>vh,TouchManager:()=>Tg,UnexpectedResponseException:()=>Au,Util:()=>ft,VerbosityLevel:()=>im,XfaLayer:()=>Wg,build:()=>q4,createValidAbsoluteUrl:()=>n4,fetchData:()=>am,getDocument:()=>R4,getFilenameFromUrl:()=>u4,getPdfFilenameFromUrl:()=>d4,getXfaPageViewport:()=>h4,isDataScheme:()=>lm,isPdfFile:()=>Ty,noContextMenu:()=>ks,normalizeUnicode:()=>a4,setLayerDimensions:()=>rc,shadow:()=>Wt,stopEvent:()=>Wr,version:()=>B4});var qi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),O5=[1,0,0,1,0,0],u1=[.001,0,0,.001,0,0],Yk=1e7,Sg=1.35,Kk=.35,jz=Kk/Sg,zr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ja={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Xk="pdfjs_internal_editor_",qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},en={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Jk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ji={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Mg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},gi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var rh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var im={ERRORS:0,WARNINGS:1,INFOS:5},Ns={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Zk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},rm=im.WARNINGS;function Qk(i){Number.isInteger(i)&&(rm=i)}function e4(){return rm}function sm(i){rm>=im.INFOS&&console.log(`Info: ${i}`)}function Ht(i){rm>=im.WARNINGS&&console.log(`Warning: ${i}`)}function En(i){throw new Error(i)}function li(i,t){i||En(t)}function t4(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function n4(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=o4(i)}catch{}let n=t?new URL(i,t):new URL(i);if(t4(n))return n}catch{}return null}function Wt(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}var el=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}(),Ag=class extends el{constructor(t,e){super(t,"PasswordException"),this.code=e}},uh=class extends el{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}},dh=class extends el{constructor(t){super(t,"InvalidPDFException")}},ic=class extends el{constructor(t){super(t,"MissingPDFException")}},Au=class extends el{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}},d1=class extends el{constructor(t){super(t,"FormatError")}},fo=class extends el{constructor(t){super(t,"AbortException")}};function N5(i){(typeof i!="object"||i?.length===void 0)&&En("Invalid argument for bytesToString");let t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);let n=[];for(let r=0;r<t;r+=e){let s=Math.min(r+e,t),o=i.subarray(r,s);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function om(i){typeof i!="string"&&En("Invalid argument for stringToBytes");let t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function i4(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Py(i){let t=Object.create(null);for(let[e,n]of i)t[e]=n;return t}function r4(){let i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function s4(){try{return new Function(""),!0}catch{return!1}}var Ii=class{static get isLittleEndian(){return Wt(this,"isLittleEndian",r4())}static get isEvalSupported(){return Wt(this,"isEvalSupported",s4())}static get isOffscreenCanvasSupported(){return Wt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Wt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Wt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Wt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Wt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},s1=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0")),ft=class{static makeHexColor(t,e,n){return`#${s1[t]}${s1[e]}${s1[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){let n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]}static applyInverseTransform(t,e){let n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,s=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,s]}static getAxialAlignedBoundingBox(t,e){let n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],s[0],o[0]),Math.min(n[1],r[1],s[1],o[1]),Math.max(n[0],r[0],s[0],o[0]),Math.max(n[1],r[1],s[1],o[1])]}static inverseTransform(t){let e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){let e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,l=Math.sqrt((n+o)**2-4*(n*o-s*r))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(t){let e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){let n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;let s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>o?null:[n,s,r,o]}static#e(t,e,n,r,s,o,a,l,c,u){if(c<=0||c>=1)return;let d=1-c,p=c*c,f=p*c,w=d*(d*(d*t+3*c*e)+3*p*n)+f*r,x=d*(d*(d*s+3*c*o)+3*p*a)+f*l;u[0]=Math.min(u[0],w),u[1]=Math.min(u[1],x),u[2]=Math.max(u[2],w),u[3]=Math.max(u[3],x)}static#t(t,e,n,r,s,o,a,l,c,u,d,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(t,e,n,r,s,o,a,l,-d/u,p);return}let f=u**2-4*d*c;if(f<0)return;let w=Math.sqrt(f),x=2*c;this.#e(t,e,n,r,s,o,a,l,(-u+w)/x,p),this.#e(t,e,n,r,s,o,a,l,(-u-w)/x,p)}static bezierBoundingBox(t,e,n,r,s,o,a,l,c){return c?(c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,a),Math.min(e,l),Math.max(t,a),Math.max(e,l)],this.#t(t,n,s,a,e,r,o,l,3*(-t+3*(n-s)+a),6*(t-2*n+s),3*(n-t),c),this.#t(t,n,s,a,e,r,o,l,3*(-e+3*(r-o)+l),6*(e-2*r+o),3*(r-e),c),c}};function o4(i){return decodeURIComponent(escape(i))}var o1=null,_5=null;function a4(i){return o1||(o1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_5=new Map([["\uFB05","\u017Ft"]])),i.replaceAll(o1,(t,e,n)=>e?e.normalize("NFKC"):_5.get(n))}function l4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let i=new Uint8Array(32);return crypto.getRandomValues(i),N5(i)}var Iy="pdfjs_internal_id_";function c4(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(N5(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});var Zo="http://www.w3.org/2000/svg",Qa=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function am(i,t="text"){return $e(this,null,function*(){if(lh(i,document.baseURI)){let e=yield fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{let r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})})}var hh=class i{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=o,n*=e;let l=(t[2]+t[0])/2,c=(t[3]+t[1])/2,u,d,p,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,p=0,f=1;break;case 90:u=0,d=1,p=1,f=0;break;case 270:u=0,d=-1,p=-1,f=0;break;case 0:u=1,d=0,p=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,f=-f);let w,x,P,M;u===0?(w=Math.abs(c-t[1])*n+s,x=Math.abs(l-t[0])*n+o,P=(t[3]-t[1])*n,M=(t[2]-t[0])*n):(w=Math.abs(l-t[0])*n+s,x=Math.abs(c-t[1])*n+o,P=(t[2]-t[0])*n,M=(t[3]-t[1])*n),this.transform=[u*n,d*n,p*n,f*n,w-u*n*l-p*n*c,x-d*n*l-f*n*c],this.width=P,this.height=M}get rawDims(){let{userUnit:t,viewBox:e}=this,n=e.map(r=>r*t);return Wt(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new i({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(t,e){return ft.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){let e=ft.applyTransform([t[0],t[1]],this.transform),n=ft.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return ft.applyInverseTransform([t,e],this.transform)}},fh=class extends el{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}};function lm(i){let t=i.length,e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function Ty(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function u4(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function d4(i,t="document.pdf"){if(typeof i!="string")return t;if(lm(i))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;let e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(i),s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||t}var Dg=class{started=Object.create(null);times=[];time(t){t in this.started&&Ht(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ht(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){let t=[],e=0;for(let{name:n}of this.times)e=Math.max(n.length,e);for(let{name:n,start:r,end:s}of this.times)t.push(`${n.padEnd(e)} ${s-r}ms
`);return t.join("")}};function lh(i,t){try{let{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function ks(i){i.preventDefault()}function Wr(i){i.preventDefault(),i.stopPropagation()}var Pg=class{static#e;static toDateObject(t){if(!t||typeof t!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let e=this.#e.exec(t);if(!e)return null;let n=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;let c=e[7]||"Z",u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(n,r,s,o,a,l))}};function h4(i,{scale:t=1,rotation:e=0}){let{width:n,height:r}=i.attributes.style,s=[0,0,parseInt(n),parseInt(r)];return new hh({viewBox:s,userUnit:1,scale:t,rotation:e})}function Oy(i){if(i.startsWith("#")){let t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ht(`Not a valid color format: "${i}"`),[0,0,0])}function f4(i){let t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(let e of i.keys()){t.style.color=e;let n=window.getComputedStyle(t).color;i.set(e,Oy(n))}t.remove()}function Rn(i){let{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform();return[t,e,n,r,s,o]}function uo(i){let{a:t,b:e,c:n,d:r,e:s,f:o}=i.getTransform().invertSelf();return[t,e,n,r,s,o]}function rc(i,t,e=!1,n=!0){if(t instanceof hh){let{pageWidth:r,pageHeight:s}=t.rawDims,{style:o}=i,a=Ii.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}n&&i.setAttribute("data-main-rotation",t.rotation)}var ph=class{constructor(){let t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},h1=class i{#e=null;#t=null;#n;#i=null;#s=null;static#r=null;constructor(t){this.#n=t,i.#r||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let t=this.#e=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");let e=this.#n._uiManager._signal;t.addEventListener("contextmenu",ks,{signal:e}),t.addEventListener("pointerdown",i.#l,{signal:e});let n=this.#i=document.createElement("div");n.className="buttons",t.append(n);let r=this.#n.toolbarPosition;if(r){let{style:s}=t,o=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),t}get div(){return this.#e}static#l(t){t.stopPropagation()}#a(t){this.#n._focusEventsAllowed=!1,Wr(t)}#u(t){this.#n._focusEventsAllowed=!0,Wr(t)}#c(t){let e=this.#n._uiManager._signal;t.addEventListener("focusin",this.#a.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ks,{signal:e})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#h(){let{editorType:t,_uiManager:e}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",i.#r[t]),this.#c(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#i.append(n)}get#d(){let t=document.createElement("div");return t.className="divider",t}addAltText(t){return $e(this,null,function*(){let e=yield t.render();this.#c(e),this.#i.prepend(e,this.#d),this.#s=t})}addColorPicker(t){this.#t=t;let e=t.renderButton();this.#c(e),this.#i.prepend(e,this.#d)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},f1=class{#e=null;#t=null;#n;constructor(t){this.#n=t}#i(){let t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",ks,{signal:this.#n._signal});let e=this.#e=document.createElement("div");return e.className="buttons",t.append(e),this.#r(),t}#s(t,e){let n=0,r=0;for(let s of t){let o=s.y+s.height;if(o<n)continue;let a=s.x+(e?s.width:0);if(o>n){r=a,n=o;continue}e?a>r&&(r=a):a<r&&(r=a)}return[e?1-r:r,n]}show(t,e,n){let[r,s]=this.#s(e,n),{style:o}=this.#t||=this.#i();t.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){let t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let n=this.#n._signal;t.addEventListener("contextmenu",ks,{signal:n}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#e.append(t)}};function Ig(i,t,e){for(let n of e)t.addEventListener(n,i[n].bind(i))}var p1=class{#e=0;get id(){return`${Xk}${this.#e++}`}},g1=class i{#e=l4();#t=0;#n=null;static get _isSVGFittingCanvas(){let t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;let s=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Wt(this,"_isSVGFittingCanvas",s)}#i(t,e){return $e(this,null,function*(){this.#n||=new Map;let n=this.#n.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=yield am(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){let s=i._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,c()},o.onload=()=>$e(this,null,function*(){let d=n.svgUrl=o.result;a.src=(yield s)?`${d}#svgView(preserveAspectRatio(none))`:d}),a.onerror=o.onerror=u});o.readAsDataURL(r),yield l}else n.bitmap=yield createImageBitmap(r);n.refCounter=1}catch(r){Ht(r),n=null}return this.#n.set(t,n),n&&this.#n.set(n.id,n),n})}getFromFile(t){return $e(this,null,function*(){let{lastModified:e,name:n,size:r,type:s}=t;return this.#i(`${e}_${n}_${r}_${s}`,t)})}getFromUrl(t){return $e(this,null,function*(){return this.#i(t,t)})}getFromBlob(t,e){return $e(this,null,function*(){let n=yield e;return this.#i(t,n)})}getFromId(t){return $e(this,null,function*(){this.#n||=new Map;let e=this.#n.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){let{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)})}getFromCanvas(t,e){this.#n||=new Map;let n=this.#n.get(t);if(n?.bitmap)return n.refCounter+=1,n;let r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(t,n),this.#n.set(n.id,n),n}getSvgUrl(t){let e=this.#n.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#n||=new Map;let e=this.#n.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;let{bitmap:n}=e;if(!e.url&&!e.file){let r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#e}_`)}},m1=class{#e=[];#t=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:e,post:n,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&t(),this.#t)return;let l={cmd:t,undo:e,post:n,type:s};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(o&&this.#e[this.#i].type===s){a&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}let c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:t,post:e}=this.#e[this.#i];t(),e?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:t,post:e}=this.#e[this.#i];t(),e?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}cleanType(t){if(this.#i!==-1){for(let e=this.#i;e>=0;e--)if(this.#e[e].type!==t){this.#e.splice(e+1,this.#i-e),this.#i=e;return}this.#e.length=0,this.#i=-1}}destroy(){this.#e=null}},sc=class{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:e}=Ii.platform;for(let[n,r,s={}]of t)for(let o of n){let a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);let e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;let n=this.callbacks.get(this.#e(e));if(!n)return;let{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=n;a&&!a(t,e)||(r.bind(t,...o,e)(),s||Wr(e))}},_1=class i{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let t=new Map([["CanvasText",null],["Canvas",null]]);return f4(t),Wt(this,"_colors",t)}convert(t){let e=Oy(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(let[n,r]of this._colors)if(r.every((s,o)=>s===e[o]))return i._colorsMapping.get(n);return e}getHexCode(t){let e=this._colors.get(t);return e?ft.makeHexColor(...e):t}},gh=(()=>{class i{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#l=null;#a=new m1;#u=null;#c=null;#h=0;#d=new Set;#f=null;#o=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#_=!1;#w=null;#v=null;#b=null;#x=null;#S=!1;#A=null;#P=new p1;#C=!1;#D=!1;#M=null;#T=null;#k=null;#F=null;#E=qt.NONE;#y=new Set;#N=null;#q=null;#H=null;#U={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#R=[0,0];#L=null;#V=null;#z=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let e=i.prototype,n=a=>a.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:l})=>{if(l instanceof HTMLInputElement){let{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Wt(this,"_keyboardManager",new sc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}constructor(e,n,r,s,o,a,l,c,u,d,p,f,w){let x=this._signal=this.#e.signal;this.#V=e,this.#z=n,this.#s=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:x}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),s._on("setpreference",this.onSetPreference.bind(this),{signal:x}),s._on("switchannotationeditorparams",P=>this.updateParams(P.type,P.value),{signal:x}),this.#te(),this.#se(),this.#Y(),this.#r=o.annotationStorage,this.#w=o.filterFactory,this.#q=a,this.#x=l||null,this.#m=c,this.#g=u,this.#_=d,this.#F=p||null,this.viewParameters={realScale:Qa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=w!==!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#y.clear(),this.#a.destroy(),this.#s?.destroy(),this.#A?.hide(),this.#A=null,this.#v&&(clearTimeout(this.#v),this.#v=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#F}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#_}get hcmFilter(){return Wt(this,"hcmFilter",this.#q?this.#w.addHCMFilter(this.#q.foreground,this.#q.background):"none")}get direction(){return Wt(this,"direction",getComputedStyle(this.#V).direction)}get highlightColors(){return Wt(this,"highlightColors",this.#x?new Map(this.#x.split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Wt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=e}setMainHighlightColorPicker(e){this.#k=e}editAltText(e,n=!1){this.#s?.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#_=n;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#V.focus()}findParent(e,n){for(let r of this.#i.values()){let{x:s,y:o,width:a,height:l}=r.div.getBoundingClientRect();if(e>=s&&e<=s+a&&n>=o&&n<=o+l)return r}return null}disableUserSelect(e=!1){this.#z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Qa.PDF_TO_CSS_UNITS;for(let n of this.#p)n.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#j({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#G(e){let{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(let r of this.#i.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){let n=document.getSelection();if(!n||n.isCollapsed)return;let{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=n,l=n.toString(),u=this.#j(n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();let p=this.#G(u),f=this.#E===qt.NONE,w=()=>{p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:l}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(qt.HIGHLIGHT,w);return}w()}#Q(){let e=document.getSelection();if(!e||e.isCollapsed)return;let r=this.#j(e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#A||=new f1(this),this.#A.show(r,s,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}#ee(){let e=document.getSelection();if(!e||e.isCollapsed){this.#N&&(this.#A?.hide(),this.#N=null,this.#I({hasSelectedText:!1}));return}let{anchorNode:n}=e;if(n===this.#N)return;let s=this.#j(e).closest(".textLayer");if(!s){this.#N&&(this.#A?.hide(),this.#N=null,this.#I({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#N=n,this.#I({hasSelectedText:!0}),!(this.#E!==qt.HIGHLIGHT&&this.#E!==qt.NONE)&&(this.#E===qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){let o=this.#E===qt.HIGHLIGHT?this.#G(s):null;o?.toggleDrawing();let a=new AbortController,l=this.combinedSignal(a),c=u=>{u.type==="pointerup"&&u.button!==0||(a.abort(),o?.toggleDrawing(!0),u.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}}#$(e=""){this.#E===qt.HIGHLIGHT?this.highlightSelection(e):this.#m&&this.#Q()}#te(){document.addEventListener("selectionchange",this.#ee.bind(this),{signal:this._signal})}#ne(){if(this.#b)return;this.#b=new AbortController;let e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ie(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#$("main_toolbar")),!this.hasSelection)return;let{activeElement:e}=document;for(let n of this.#y)if(n.div.contains(e)){this.#T=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#T)return;let[e,n]=this.#T;this.#T=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Y(){if(this.#M)return;this.#M=new AbortController;let e=this.combinedSignal(this.#M);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#re(){this.#M?.abort(),this.#M=null}#K(){if(this.#u)return;this.#u=new AbortController;let e=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#X(){this.#u?.abort(),this.#u=null}#se(){let e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Y(),this.#K()}removeEditListeners(){this.#re(),this.#X()}dragOver(e){for(let{type:n}of e.dataTransfer.items)for(let r of this.#o)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(let n of e.dataTransfer.items)for(let r of this.#o)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let n=[];for(let r of this.#y){let s=r.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){return $e(this,null,function*(){e.preventDefault();let{clipboardData:n}=e;for(let o of n.items)for(let a of this.#o)if(a.isHandlingMimeForPasting(o.type)){a.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){Ht(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();let s=this.currentLayer;try{let o=[];for(let c of r){let u=yield s.deserialize(c);if(!u)return;o.push(u)}let a=()=>{for(let c of o)this.#J(c);this.#Z(o)},l=()=>{for(let c of o)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(o){Ht(`paste: "${o.message}".`)}})}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==qt.NONE&&!this.isEditorHandlingKeyboard&&i._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#$("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#I(e){Object.entries(e).some(([r,s])=>this.#U[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#U,e)}),this.#E===qt.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#B([[en.HIGHLIGHT_FREE,!0]]))}#B(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ne(),this.#K(),this.#I({isEditing:this.#E!==qt.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ie(),this.#X(),this.#I({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#o){this.#o=e;for(let n of this.#o)this.#B(n.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#i.get(this.#h)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#i.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}updateMode(e,n=null,r=!1){return $e(this,null,function*(){if(this.#E!==e&&!(this.#O&&(yield this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#E=e,e===qt.NONE){this.setEditingState(!1),this.#ae(),this._editorUndoBar?.hide(),this.#O.resolve();return}this.setEditingState(!0),yield this.#oe(),this.unselectAll();for(let s of this.#i.values())s.updateMode(e);if(!n){r&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(let s of this.#n.values())s.annotationElementId===n?(this.setSelected(s),s.enterInEditMode()):s.unselect();this.#O.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){if(this.#o){switch(e){case en.CREATE:this.currentLayer.addNewEditor();return;case en.HIGHLIGHT_DEFAULT_COLOR:this.#k?.updateColor(n);break;case en.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#H||=new Map).set(e,n),this.showAllEditors("highlight",n);break}for(let r of this.#y)r.updateParams(e,n);for(let r of this.#o)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(let o of this.#n.values())o.editorType===e&&o.show(n);(this.#H?.get(en.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#B([[en.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#D!==e){this.#D=e;for(let n of this.#i.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}#oe(){return $e(this,null,function*(){if(!this.#C){this.#C=!0;let e=[];for(let n of this.#i.values())e.push(n.enable());yield Promise.all(e);for(let n of this.#n.values())n.enable()}})}#ae(){if(this.unselectAll(),this.#C){this.#C=!1;for(let e of this.#i.values())e.disable();for(let e of this.#n.values())e.disable()}}getEditors(e){let n=[];for(let r of this.#n.values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.focusMainContainer(),this.#v=null},0)),this.#n.delete(e.id),this.unselect(e),(!e.annotationElementId||!this.#d.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#d.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#d.has(e)}removeDeletedAnnotationElement(e){this.#d.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#J(e){let n=this.#i.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#B(e.propertiesToUpdate))}get#le(){let e=null;for(e of this.#y);return e}updateUI(e){this.#le===e&&this.#B(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#B(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#y.has(e)){this.#y.delete(e),e.unselect(),this.#I({hasSelectedEditor:this.hasSelection});return}this.#y.add(e),e.select(),this.#B(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}setSelected(e){this.#c?.commitOrRemove();for(let n of this.#y)n!==e&&n.unselect();this.#y.clear(),this.#y.add(e),e.select(),this.#B(e.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}isSelected(e){return this.#y.has(e)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(e){e.unselect(),this.#y.delete(e),this.#I({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#I({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(e){this.#a.add(e),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(e){this.#a.cleanType(e)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();let e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;let n=e?[e]:[...this.#y],r=()=>{this._editorUndoBar?.show(s,n.length===1?n[0].editorType:n.length);for(let o of n)o.remove()},s=()=>{for(let o of n)this.#J(o)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Z(e){for(let n of this.#y)n.unselect();this.#y.clear();for(let n of e)n.isEmpty()||(this.#y.add(n),n.select());this.#I({hasSelectedEditor:this.hasSelection})}selectAll(){for(let e of this.#y)e.commit();this.#Z(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==qt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(let e of this.#y)e.unselect();this.#y.clear(),this.#I({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#R[0]+=e,this.#R[1]+=n;let[s,o]=this.#R,a=[...this.#y],l=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#R[0]=this.#R[1]=0,this.addCommands({cmd:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(s,o)},undo:()=>{for(let c of a)this.#n.has(c.id)&&c.translateInPage(-s,-o)},mustExec:!1})},l);for(let c of a)c.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(let e of this.#y)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);let e=this.#f;this.#f=null;let n=!1;for(let[{x:s,y:o,pageIndex:a},l]of e)l.newX=s,l.newY=o,l.newPageIndex=a,n||=s!==l.savedX||o!==l.savedY||a!==l.savedPageIndex;if(!n)return!1;let r=(s,o,a,l)=>{if(this.#n.has(s.id)){let c=this.#i.get(l);c?s._setParentAndPosition(c,o,a):(s.pageIndex=l,s.x=o,s.y=a)}};return this.addCommands({cmd:()=>{for(let[s,{newX:o,newY:a,newPageIndex:l}]of e)r(s,o,a,l)},undo:()=>{for(let[s,{savedX:o,savedY:a,savedPageIndex:l}]of e)r(s,o,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#f)for(let r of this.#f.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){let n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return Wt(this,"imageManager",new g1)}getSelectionBoxes(e){if(!e)return null;let n=document.getSelection();for(let u=0,d=n.rangeCount;u<d;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;let{x:r,y:s,width:o,height:a}=e.getBoundingClientRect(),l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,p,f)=>({x:(d-s)/a,y:1-(u+p-r)/o,width:f/a,height:p/o});break;case"180":l=(u,d,p,f)=>({x:1-(u+p-r)/o,y:1-(d+f-s)/a,width:p/o,height:f/a});break;case"270":l=(u,d,p,f)=>({x:1-(d+f-s)/a,y:(u-r)/o,width:f/a,height:p/o});break;default:l=(u,d,p,f)=>({x:(u-r)/o,y:(d-s)/a,width:p/o,height:f/a});break}let c=[];for(let u=0,d=n.rangeCount;u<d;u++){let p=n.getRangeAt(u);if(!p.collapsed)for(let{x:f,y:w,width:x,height:P}of p.getClientRects())x===0||P===0||c.push(l(f,w,x,P))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#l||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){let n=this.#l?.get(e.data.id);if(!n)return;let r=this.#r.getRawValue(n);r&&(this.#E===qt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}}return i})(),v5=(()=>{class i{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#l=!1;#a=null;#u=null;#c=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#u=e,this.#d=e._uiManager.useNewAltTextFlow,i.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){i._l10n??=e}render(){return $e(this,null,function*(){let e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";let n=this.#i=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",i.#f.missing),n.setAttribute("data-l10n-id",i.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let r=this.#u._uiManager._signal;e.addEventListener("contextmenu",ks,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});let s=o=>{o.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#d&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#o}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(this.#l=!0,s(o))},{signal:r}),yield this.#p(),e})}get#o(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}setGuessedText(e){return $e(this,null,function*(){this.#e===null&&(this.#c=e,this.#h=yield i._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())})}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){let n=this.#a=document.createElement("div");n.className="noAltTextBadge",this.#u.div.append(n)}this.#a.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#c===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:s,cancel:o=!1}){r&&(this.#c=r,this.#h=s),!(this.#e===e&&this.#t===n)&&(o||(this.#e=e,this.#t=n),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!e)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#o}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#a?.remove(),this.#a=null}#p(){return $e(this,null,function*(){let e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",i.#f[this.#o]),this.#i?.setAttribute("data-l10n-id",i.#f[`${this.#o}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#s;if(!n){this.#s=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#u.id}`;let s=100,o=this.#u._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:o})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#u.getImageForAltText()?.setAttribute("aria-describedby",n.id)})}}return i})(),Tg=class i{#e;#t=!1;#n=null;#i;#s;#r;#l;#a;#u=null;#c;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){this.#e=t,this.#n=n,this.#i=e,this.#s=r,this.#r=s,this.#l=o,this.#c=new AbortController,this.#a=AbortSignal.any([a,this.#c.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#a})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Wt(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}#d(t){if(this.#i?.()||t.touches.length<2)return;if(!this.#h){this.#h=new AbortController;let r=AbortSignal.any([this.#a,this.#h.signal]),s=this.#e,o={signal:r,passive:!1};s.addEventListener("touchmove",this.#f.bind(this),o),s.addEventListener("touchend",this.#o.bind(this),o),s.addEventListener("touchcancel",this.#o.bind(this),o),this.#s?.()}if(Wr(t),t.touches.length!==2||this.#n?.()){this.#u=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#u={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#f(t){if(!this.#u||t.touches.length!==2)return;let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);let{screenX:r,screenY:s}=e,{screenX:o,screenY:a}=n,l=this.#u,{touch0X:c,touch0Y:u,touch1X:d,touch1Y:p}=l,f=d-c,w=p-u,x=o-r,P=a-s,M=Math.hypot(x,P)||1,O=Math.hypot(f,w)||1;if(!this.#t&&Math.abs(O-M)<=i.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,t.preventDefault(),!this.#t){this.#t=!0;return}let R=[(r+o)/2,(s+a)/2];this.#r?.(R,O,M)}#o(t){this.#h.abort(),this.#h=null,this.#l?.(),this.#u&&(t.preventDefault(),this.#u=null,this.#t=!1)}destroy(){this.#c?.abort(),this.#c=null}},Hn=class i{#e=null;#t=null;#n=null;#i=!1;#s=null;#r="";#l=!1;#a=null;#u=null;#c=null;#h=null;#d="";#f=!1;#o=null;#p=!1;#m=!1;#g=!1;#_=null;#w=0;#v=0;#b=null;#x=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#A=i._zIndex++;static _borderLineWidth=-1;static _colorManager=new _1;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let t=i.prototype._resizeWithKeyboard,e=gh.TRANSLATE_SMALL,n=gh.TRANSLATE_BIG;return Wt(this,"_resizerKeyboardManager",new sc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],i.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;let{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[s,o];let[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Wt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){let e=new v1({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(i._l10n??=t,i._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),i._borderLineWidth!==-1)return;let n=getComputedStyle(document.documentElement);i._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){En("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){let[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#j(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){let[s,o]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/s,this.y=(e+r)/o,this.fixAndSetPosition()}#P([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#P(this.parentDimensions,t,e)}translateInPage(t,e){this.#o||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){this.#o||=[this.x,this.y,this.width,this.height];let{div:n,parentDimensions:[r,s]}=this;if(this.x+=t/r,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this,[l,c]=this.getBaseTranslation();o+=l,a+=c;let{style:u}=n;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#o&&(this.#o[0]!==this.x||this.#o[1]!==this.y)}get _hasBeenResized(){return!!this.#o&&(this.#o[2]!==this.width||this.#o[3]!==this.height)}getBaseTranslation(){let[t,e]=this.parentDimensions,{_borderLineWidth:n}=i,r=n/t,s=n/e;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){let{div:{style:e},pageDimensions:[n,r]}=this,{x:s,y:o,width:a,height:l}=this;if(a*=n,l*=r,s*=n,o*=r,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(n-a,s)),o=Math.max(0,Math.min(r-l,o));break;case 90:s=Math.max(0,Math.min(n-l,s)),o=Math.min(r,Math.max(a,o));break;case 180:s=Math.min(n,Math.max(a,s)),o=Math.min(r,Math.max(l,o));break;case 270:s=Math.min(n,Math.max(l,s)),o=Math.max(0,Math.min(r-a,o));break}this.x=s/=n,this.y=o/=r;let[c,u]=this.getBaseTranslation();s+=c,o+=u,e.left=`${(100*s).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#C(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return i.#C(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return i.#C(t,e,360-this.parentRotation)}#D(t){switch(t){case 90:{let[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{let[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){let[n,r]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*t/n).toFixed(2)}%`,this.#l||(s.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){let{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),s=!this.#l&&e.endsWith("%");if(r&&s)return;let[o,a]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!this.#l&&!s&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#M(){if(this.#a)return;this.#a=document.createElement("div"),this.#a.classList.add("resizers");let t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(let n of t){let r=document.createElement("div");this.#a.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#T.bind(this,n),{signal:e}),r.addEventListener("contextmenu",ks,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#a)}#T(t,e){e.preventDefault();let{isMac:n}=Ii.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#n?.toggle(!1);let r=this._isDraggable;this._isDraggable=!1,this.#u=[e.screenX,e.screenY];let s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#E.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Wr,{passive:!1,signal:o}),window.addEventListener("contextmenu",ks,{signal:o}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;let c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}#k(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;let[s,o]=this.parentDimensions;this.setDims(s*n,o*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#c)return;let{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#c;this.#c=null;let s=this.x,o=this.y,a=this.width,l=this.height;s===t&&o===e&&a===n&&l===r||this.addCommands({cmd:this.#k.bind(this,s,o,a,l),undo:this.#k.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#E(t,e){let[n,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=i.MIN_SIZE/n,u=i.MIN_SIZE/r,d=this.#D(this.rotation),p=(ee,H)=>[d[0]*ee+d[2]*H,d[1]*ee+d[3]*H],f=this.#D(360-this.rotation),w=(ee,H)=>[f[0]*ee+f[2]*H,f[1]*ee+f[3]*H],x,P,M=!1,O=!1;switch(t){case"topLeft":M=!0,x=(ee,H)=>[0,0],P=(ee,H)=>[ee,H];break;case"topMiddle":x=(ee,H)=>[ee/2,0],P=(ee,H)=>[ee/2,H];break;case"topRight":M=!0,x=(ee,H)=>[ee,0],P=(ee,H)=>[0,H];break;case"middleRight":O=!0,x=(ee,H)=>[ee,H/2],P=(ee,H)=>[0,H/2];break;case"bottomRight":M=!0,x=(ee,H)=>[ee,H],P=(ee,H)=>[0,0];break;case"bottomMiddle":x=(ee,H)=>[ee/2,H],P=(ee,H)=>[ee/2,0];break;case"bottomLeft":M=!0,x=(ee,H)=>[0,H],P=(ee,H)=>[ee,0];break;case"middleLeft":O=!0,x=(ee,H)=>[0,H/2],P=(ee,H)=>[ee,H/2];break}let R=x(a,l),G=P(a,l),ie=p(...G),de=i._round(s+ie[0]),te=i._round(o+ie[1]),Y=1,ce=1,we,V;if(e.fromKeyboard)({deltaX:we,deltaY:V}=e);else{let{screenX:ee,screenY:H}=e,[W,K]=this.#u;[we,V]=this.screenToPageTranslation(ee-W,H-K),this.#u[0]=ee,this.#u[1]=H}if([we,V]=w(we/n,V/r),M){let ee=Math.hypot(a,l);Y=ce=Math.max(Math.min(Math.hypot(G[0]-R[0]-we,G[1]-R[1]-V)/ee,1/a,1/l),c/a,u/l)}else O?Y=Math.max(c,Math.min(1,Math.abs(G[0]-R[0]-we)))/a:ce=Math.max(u,Math.min(1,Math.abs(G[1]-R[1]-V)))/l;let j=i._round(a*Y),oe=i._round(l*ce);ie=p(...P(j,oe));let re=de-ie[0],Ae=te-ie[1];this.#o||=[this.x,this.y,this.width,this.height],this.width=j,this.height=oe,this.x=re,this.y=Ae,this.setDims(n*j,r*oe),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}addEditToolbar(){return $e(this,null,function*(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new h1(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){let e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return $e(this,null,function*(){this.#n||(v5.initialize(i._l10n),this.#n=new v5(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(t){return $e(this,null,function*(){yield this.#n?.setGuessedText(t)})}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#R();let[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);let[n,r]=this.getInitialTranslation();return this.translate(n,r),Ig(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#x||=new Tg({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#y.bind(this),onPinching:this.#N.bind(this),onPinchEnd:this.#q.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),this.div}#y(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#N(t,e,n){let s=.7*(n/e)+1-.7;if(s===1)return;let o=this.#D(this.rotation),a=(de,te)=>[o[0]*de+o[2]*te,o[1]*de+o[3]*te],[l,c]=this.parentDimensions,u=this.x,d=this.y,p=this.width,f=this.height,w=i.MIN_SIZE/l,x=i.MIN_SIZE/c;s=Math.max(Math.min(s,1/p,1/f),w/p,x/f);let P=i._round(p*s),M=i._round(f*s);if(P===p&&M===f)return;this.#o||=[u,d,p,f];let O=a(p/2,f/2),R=i._round(u+O[0]),G=i._round(d+O[1]),ie=a(P/2,M/2);this.x=R-ie[0],this.y=G-ie[1],this.width=P,this.height=M,this.setDims(l*P,c*M),this.fixAndSetPosition(),this._onResizing()}#q(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){let{isMac:e}=Ii.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(t);return}this.#H(t)}get isSelected(){return this._uiManager.isSelected(this)}#H(t){let{isMac:e}=Ii.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){let{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1,r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},a=c=>{r.abort(),this.#s=null,this.#f=!1,this._uiManager.endDragSession()||this.#H(c),n&&this._onStopDragging()};e&&(this.#w=t.clientX,this.#v=t.clientY,this.#s=t.pointerId,this.#r=t.pointerType,window.addEventListener("pointermove",c=>{n||(n=!0,this._onStartDragging());let{clientX:u,clientY:d,pointerId:p}=c;if(p!==this.#s){Wr(c);return}let[f,w]=this.screenToPageTranslation(u-this.#w,d-this.#v);this.#w=u,this.#v=d,this._uiManager.dragSelectedEditors(f,w)},o),window.addEventListener("touchmove",Wr,o),window.addEventListener("pointerdown",c=>{c.pointerType===this.#r&&(this.#x||c.isPrimary)&&a(c),Wr(c)},o));let l=c=>{if(!this.#s||this.#s===c.pointerId){a(c);return}Wr(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.#_=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){let r=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/r,u=e/r,d=this.x*s,p=this.y*o,f=this.width*s,w=this.height*o;switch(n){case 0:return[d+c+a,o-p-u-w+l,d+c+f+a,o-p-u+l];case 90:return[d+u+a,o-p+c+l,d+u+w+a,o-p+c+f+l];case 180:return[d-c-f+a,o-p+u+l,d-c+a,o-p+u+w+l];case 270:return[d-u-w+a,o-p-c-f+l,d-u+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){let[n,r,s,o]=t,a=s-n,l=o-r;switch(this.rotation){case 0:return[n,e-o,a,l];case 90:return[n,e-r,l,a];case 180:return[s,e-r,a,l];case 270:return[s,e-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){let{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return e<o&&r>0&&t<s&&n>0}#R(){if(this.#h||!this.div)return;this.#h=new AbortController;let t=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#R()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){En("An editor must be serializable")}static deserialize(t,e,n){return $e(this,null,function*(){let r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,r.#e=t.accessibilityData;let[s,o]=r.pageDimensions,[a,l,c,u]=r.getRectInCurrentCoords(t.rect,o);return r.x=a/s,r.y=l/o,r.width=c/s,r.height=u/o,r})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#_&&(clearTimeout(this.#_),this.#_=null),this.#j(),this.removeEditToolbar(),this.#b){for(let t of this.#b.values())clearTimeout(t);this.#b=null}this.parent=null,this.#x?.destroy(),this.#x=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#M(),this.#a.classList.remove("hidden"),Ig(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let e=this.#a.children;if(!this.#t){this.#t=Array.from(e);let o=this.#L.bind(this),a=this.#V.bind(this),l=this._uiManager._signal;for(let c of this.#t){let u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#z.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",i._l10nResizer[u])}}let n=this.#t[0],r=0;for(let o of e){if(o===n)break;r++}let s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)this.#a.append(this.#a.firstChild);else if(s>r)for(let a=0;a<s-r;a++)this.#a.firstChild.before(this.#a.lastChild);let o=0;for(let a of e){let c=this.#t[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",i._l10nResizer[c])}}this.#O(0),this.#g=!0,this.#a.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#L(t){i._resizerKeyboardManager.exec(this,t)}#V(t){this.#g&&t.relatedTarget?.parentNode!==this.#a&&this.#j()}#z(t){this.#d=this.#g?t:""}#O(t){if(this.#t)for(let e of this.#t)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#g&&this.#E(this.#d,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#g=!1,this.#O(-1),this.#F()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#a?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#l=!0;let n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#b||=new Map;let{action:n}=t,r=this.#b.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#b.delete(n),this.#b.size===0&&(this.#b=null)},i._telemetryTimeout),this.#b.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){let n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){let{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}},v1=class extends Hn{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},y5=3285377520,hs=4294901760,ho=65535,Og=class{constructor(t){this.h1=t?t&4294967295:y5,this.h2=t?t&4294967295:y5}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let x=0,P=t.length;x<P;x++){let M=t.charCodeAt(x);M<=255?e[n++]=M:(e[n++]=M>>>8,e[n++]=M&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let r=n>>2,s=n-r*4,o=new Uint32Array(e.buffer,0,r),a=0,l=0,c=this.h1,u=this.h2,d=3432918353,p=461845907,f=d&ho,w=p&ho;for(let x=0;x<r;x++)x&1?(a=o[x],a=a*d&hs|a*f&ho,a=a<<15|a>>>17,a=a*p&hs|a*w&ho,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[x],l=l*d&hs|l*f&ho,l=l<<15|l>>>17,l=l*p&hs|l*w&ho,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=e[r*4+2]<<16;case 2:a^=e[r*4+1]<<8;case 1:a^=e[r*4],a=a*d&hs|a*f&ho,a=a<<15|a>>>17,a=a*p&hs|a*w&ho,r&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&hs|t*36045&ho,e=e*4283543511&hs|((e<<16|t>>>16)*2950163797&hs)>>>16,t^=e>>>1,t=t*444984403&hs|t*60499&ho,e=e*3301882366&hs|((e<<16|t>>>16)*3120437893&hs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}},y1=Object.freeze({map:null,hash:"",transfer:void 0}),mh=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){let n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let e of this.#n.values())if(e instanceof Hn)return;this.onAnnotationEditor(null)}}setValue(t,e){let n=this.#n.get(t),r=!1;if(n!==void 0)for(let[s,o]of Object.entries(e))n[s]!==o&&(r=!0,n[s]=o);else r=!0,this.#n.set(t,e);r&&this.#i(),e instanceof Hn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#n.has(t)}getAll(){return this.#n.size>0?Py(this.#n):null}setAll(t){for(let[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Ng(this)}get serializable(){if(this.#n.size===0)return y1;let t=new Map,e=new Og,n=[],r=Object.create(null),s=!1;for(let[o,a]of this.#n){let l=a instanceof Hn?a.serialize(!1,r):a;l&&(t.set(o,l),e.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(let o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:y1}get editorStats(){let t=null,e=new Map;for(let n of this.#n.values()){if(!(n instanceof Hn))continue;let r=n.telemetryFinalData;if(!r)continue;let{type:s}=r;e.has(s)||e.set(s,Object.getPrototypeOf(n).constructor),t||=Object.create(null);let o=t[s]||=new Map;for(let[a,l]of Object.entries(r)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));let u=c.get(l)??0;c.set(l,u+1)}}for(let[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let t=[];for(let e of this.#n.values())!(e instanceof Hn)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#t={ids:new Set(t),hash:t.join(",")}}},Ng=class extends mh{#e;constructor(t){super();let{map:e,hash:n,transfer:r}=t.serializable,s=structuredClone(e,r?{transfer:r}:null);this.#e={map:s,hash:n,transfer:r}}get print(){En("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Wt(this,"modifiedIds",{ids:new Set,hash:""})}},w1=class{#e=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(let t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(n){return $e(this,arguments,function*({systemFontInfo:t,_inspectFont:e}){if(!(!t||this.#e.has(t.loadedName))){if(li(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:r,src:s,style:o}=t,a=new FontFace(r,s,o);this.addNativeFontFace(a);try{yield a.load(),this.#e.add(r),e?.(t)}catch{Ht(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}En("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(t){return $e(this,null,function*(){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){yield this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){let n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{yield n.loaded}catch(r){throw Ht(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}let e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;yield new Promise(n=>{let r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}})}get isFontLoadingAPISupported(){let t=!!this._document?.fonts;return Wt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(qi||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Wt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(li(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){let s=n.shift();setTimeout(s.callback,0)}}let{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){let t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Wt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(G,ie){return G.charCodeAt(ie)<<24|G.charCodeAt(ie+1)<<16|G.charCodeAt(ie+2)<<8|G.charCodeAt(ie+3)&255}function r(G,ie,de,te){let Y=G.substring(0,ie),ce=G.substring(ie+de);return Y+te+ce}let s,o,a=this._document.createElement("canvas");a.width=1,a.height=1;let l=a.getContext("2d"),c=0;function u(G,ie){if(++c>30){Ht("Load test font never loaded."),ie();return}if(l.font="30px "+G,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){ie();return}setTimeout(u.bind(null,G,ie))}let d=`lt${Date.now()}${this.loadTestFontId++}`,p=this._loadTestFont;p=r(p,976,d.length,d);let w=16,x=1482184792,P=n(p,w);for(s=0,o=d.length-3;s<o;s+=4)P=P-x+n(d,s)|0;s<d.length&&(P=P-x+n(d+"XXX",s)|0),p=r(p,w,4,i4(P));let M=`url(data:font/opentype;base64,${btoa(p)});`,O=`@font-face {font-family:"${d}";src:${M}}`;this.insertRule(O);let R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(let G of[t.loadedName,d]){let ie=this._document.createElement("span");ie.textContent="Hi",ie.style.fontFamily=G,R.append(ie)}this._document.body.append(R),u(d,()=>{R.remove(),e.complete()})}},b1=class{constructor(t,{disableFontFace:e=!1,fontExtraProperties:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(let s in t)this[s]=t[s];this.disableFontFace=e===!0,this.fontExtraProperties=n===!0,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{let e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let t=`url(data:${this.mimetype};base64,${c4(this.data)});`,e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n=this.loadedName+"_path_"+e,r;try{r=t.get(n)}catch(o){Ht(`getPathGenerator - ignoring character: "${o}".`)}let s=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=s}},bg={DATA:1,ERROR:2},ai={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function w5(){}function Sr(i){if(i instanceof fo||i instanceof dh||i instanceof ic||i instanceof Ag||i instanceof Au||i instanceof uh)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||En('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new fo(i.message);case"InvalidPDFException":return new dh(i.message);case"MissingPDFException":return new ic(i.message);case"PasswordException":return new Ag(i.message,i.code);case"UnexpectedResponseException":return new Au(i.message,i.status);case"UnknownErrorException":return new uh(i.message,i.details)}return new uh(i.message,i.toString())}var tc=class{#e=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){let n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===bg.DATA)r.resolve(t.data);else if(t.callback===bg.ERROR)r.reject(Sr(t.reason));else throw new Error("Unexpected callback case");return}let e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){let n=this.sourceName,r=t.sourceName,s=this.comObj;Promise.try(e,t.data).then(function(o){s.postMessage({sourceName:n,targetName:r,callback:bg.DATA,callbackId:t.callbackId,data:o})},function(o){s.postMessage({sourceName:n,targetName:r,callback:bg.ERROR,callbackId:t.callbackId,reason:Sr(o)})});return}if(t.streamId){this.#n(t);return}e(t.data)}on(t,e){let n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){let r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,e,n,r){let s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{let u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:s,data:e,desiredSize:c.desiredSize},r),u.promise},pull:c=>{let u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ai.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{li(c instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ai.CANCEL,streamId:s,reason:Sr(c)}),u.promise}},n)}#n(t){let e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;let p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:r,stream:ai.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:ai.CLOSE,streamId:e}),delete o.streamSinks[e])},error(c){li(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:r,stream:ai.ERROR,streamId:e,reason:Sr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ai.START_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ai.START_COMPLETE,streamId:e,reason:Sr(c)})})}#i(t){let e=t.streamId,n=this.sourceName,r=t.sourceName,s=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case ai.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Sr(t.reason));break;case ai.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Sr(t.reason));break;case ai.PULL:if(!a){s.postMessage({sourceName:n,targetName:r,stream:ai.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||w5).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ai.PULL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ai.PULL_COMPLETE,streamId:e,reason:Sr(c)})});break;case ai.ENQUEUE:if(li(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ai.CLOSE:if(li(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,e);break;case ai.ERROR:li(o,"error should have stream controller"),o.controller.error(Sr(t.reason)),this.#s(o,e);break;case ai.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Sr(t.reason)),this.#s(o,e);break;case ai.CANCEL:if(!a)break;let l=Sr(t.reason);Promise.try(a.onCancel||w5,l).then(function(){s.postMessage({sourceName:n,targetName:r,stream:ai.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){s.postMessage({sourceName:n,targetName:r,stream:ai.CANCEL_COMPLETE,streamId:e,reason:Sr(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}#s(t,e){return $e(this,null,function*(){yield Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]})}destroy(){this.#e?.abort(),this.#e=null}},kg=class{#e=!1;constructor({enableHWA:t=!1}){this.#e=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");let n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){En("Abstract method `_createCanvas` called.")}},C1=class extends kg{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){let n=this._document.createElement("canvas");return n.width=t,n.height=e,n}},Lg=class{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}fetch(e){return $e(this,arguments,function*({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");let n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})})}_fetch(t){return $e(this,null,function*(){En("Abstract method `_fetch` called.")})}},Fg=class extends Lg{_fetch(t){return $e(this,null,function*(){let e=yield am(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):om(e)})}},Rg=class{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,s){return"none"}destroy(t=!1){}},x1=class extends Rg{#e;#t;#n;#i;#s;#r;#l=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#i=t,this.#s=e}get#a(){return this.#t||=new Map}get#u(){return this.#r||=new Map}get#c(){if(!this.#n){let t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;let n=this.#s.createElementNS(Zo,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#s.createElementNS(Zo,"defs"),t.append(n),n.append(this.#n),this.#s.body.append(t)}return this.#n}#h(t){if(t.length===1){let l=t[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;let u=c.join(",");return[u,u,u]}let[e,n,r]=t,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=e[l]/255,o[l]=n[l]/255,a[l]=r[l]/255;return[s.join(","),o.join(","),a.join(",")]}#d(t){if(this.#e===void 0){this.#e="";let e=this.#s.URL;e!==this.#s.baseURI&&(lm(e)?Ht('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=e.split("#",1)[0])}return`url(${this.#e}#${t})`}addFilter(t){if(!t)return"none";let e=this.#a.get(t);if(e)return e;let[n,r,s]=this.#h(t),o=t.length===1?n:`${n}${r}${s}`;if(e=this.#a.get(o),e)return this.#a.set(t,e),e;let a=`g_${this.#i}_transfer_map_${this.#l++}`,l=this.#d(a);this.#a.set(t,l),this.#a.set(o,l);let c=this.#p(a);return this.#g(n,r,s,c),l}addHCMFilter(t,e){let n=`${t}-${e}`,r="base",s=this.#u.get(r);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#u.set(r,s)),!t||!e))return s.url;let o=this.#w(t);t=ft.makeHexColor(...o);let a=this.#w(e);if(e=ft.makeHexColor(...a),this.#c.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return s.url;let l=new Array(256);for(let f=0;f<=255;f++){let w=f/255;l[f]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}let c=l.join(","),u=`g_${this.#i}_hcm_filter`,d=s.filter=this.#p(u);this.#g(c,c,c,d),this.#o(d);let p=(f,w)=>{let x=o[f]/255,P=a[f]/255,M=new Array(w+1);for(let O=0;O<=w;O++)M[O]=x+O/w*(P-x);return M.join(",")};return this.#g(p(0,5),p(1,5),p(2,5),d),s.url=this.#d(u),s.url}addAlphaFilter(t){let e=this.#a.get(t);if(e)return e;let[n]=this.#h([t]),r=`alpha_${n}`;if(e=this.#a.get(r),e)return this.#a.set(t,e),e;let s=`g_${this.#i}_alpha_map_${this.#l++}`,o=this.#d(s);this.#a.set(t,o),this.#a.set(r,o);let a=this.#p(s);return this.#_(n,a),o}addLuminosityFilter(t){let e=this.#a.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#h([t]),r=`luminosity_${n}`):r="luminosity",e=this.#a.get(r),e)return this.#a.set(t,e),e;let s=`g_${this.#i}_luminosity_map_${this.#l++}`,o=this.#d(s);this.#a.set(t,o),this.#a.set(r,o);let a=this.#p(s);return this.#f(a),t&&this.#_(n,a),o}addHighlightHCMFilter(t,e,n,r,s){let o=`${e}-${n}-${r}-${s}`,a=this.#u.get(t);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#u.set(t,a)),!e||!n))return a.url;let[l,c]=[e,n].map(this.#w.bind(this)),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,f]=[r,s].map(this.#w.bind(this));d<u&&([u,d,p,f]=[d,u,f,p]),this.#c.style.color="";let w=(M,O,R)=>{let G=new Array(256),ie=(d-u)/R,de=M/255,te=(O-M)/(255*R),Y=0;for(let ce=0;ce<=R;ce++){let we=Math.round(u+ce*ie),V=de+ce*te;for(let j=Y;j<=we;j++)G[j]=V;Y=we+1}for(let ce=Y;ce<256;ce++)G[ce]=G[Y-1];return G.join(",")},x=`g_${this.#i}_hcm_${t}_filter`,P=a.filter=this.#p(x);return this.#o(P),this.#g(w(p[0],f[0],5),w(p[1],f[1],5),w(p[2],f[2],5),P),a.url=this.#d(x),a.url}destroy(t=!1){t&&this.#r?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#l=0)}#f(t){let e=this.#s.createElementNS(Zo,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#o(t){let e=this.#s.createElementNS(Zo,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){let e=this.#s.createElementNS(Zo,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#c.append(e),e}#m(t,e,n){let r=this.#s.createElementNS(Zo,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,e,n,r){let s=this.#s.createElementNS(Zo,"feComponentTransfer");r.append(s),this.#m(s,"feFuncR",t),this.#m(s,"feFuncG",e),this.#m(s,"feFuncB",n)}#_(t,e){let n=this.#s.createElementNS(Zo,"feComponentTransfer");e.append(n),this.#m(n,"feFuncA",t)}#w(t){return this.#c.style.color=t,Oy(getComputedStyle(this.#c).getPropertyValue("color"))}},Vg=class{constructor({baseUrl:t=null}){this.baseUrl=t}fetch(e){return $e(this,arguments,function*({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");let n=`${this.baseUrl}${t}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})})}_fetch(t){return $e(this,null,function*(){En("Abstract method `_fetch` called.")})}},jg=class extends Vg{_fetch(t){return $e(this,null,function*(){let e=yield am(t,"arraybuffer");return new Uint8Array(e)})}};qi&&Ht("Please use the `legacy` build in Node.js environments.");function k5(i){return $e(this,null,function*(){let e=yield process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)})}var E1=class extends Rg{},S1=class extends kg{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}},M1=class extends Lg{_fetch(t){return $e(this,null,function*(){return k5(t)})}},A1=class extends Vg{_fetch(t){return $e(this,null,function*(){return k5(t)})}},Bi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function D1(i,t){if(!t)return;let e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),i.clip(r)}var _h=class{getPattern(){En("Abstract method `getPattern` called.")}},P1=class extends _h{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let s;if(r===Bi.STROKE||r===Bi.FILL){let o=e.current.getClippedPathBoundingBox(r,Rn(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),n=ft.transform(n,[1,0,0,1,o[0],o[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),D1(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=t.createPattern(c.canvas,"no-repeat");let d=new DOMMatrix(n);s.setTransform(d)}else D1(t,this._bbox),s=this._createGradient(t);return s}};function a1(i,t,e,n,r,s,o,a){let l=t.coords,c=t.colors,u=i.data,d=i.width*4,p;l[e+1]>l[n+1]&&(p=e,e=n,n=p,p=s,s=o,o=p),l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=o,o=a,a=p),l[e+1]>l[n+1]&&(p=e,e=n,n=p,p=s,s=o,o=p);let f=(l[e]+t.offsetX)*t.scaleX,w=(l[e+1]+t.offsetY)*t.scaleY,x=(l[n]+t.offsetX)*t.scaleX,P=(l[n+1]+t.offsetY)*t.scaleY,M=(l[r]+t.offsetX)*t.scaleX,O=(l[r+1]+t.offsetY)*t.scaleY;if(w>=O)return;let R=c[s],G=c[s+1],ie=c[s+2],de=c[o],te=c[o+1],Y=c[o+2],ce=c[a],we=c[a+1],V=c[a+2],j=Math.round(w),oe=Math.round(O),re,Ae,ee,H,W,K,le,be;for(let T=j;T<=oe;T++){if(T<P){let fe=T<w?0:(w-T)/(w-P);re=f-(f-x)*fe,Ae=R-(R-de)*fe,ee=G-(G-te)*fe,H=ie-(ie-Y)*fe}else{let fe;T>O?fe=1:P===O?fe=0:fe=(P-T)/(P-O),re=x-(x-M)*fe,Ae=de-(de-ce)*fe,ee=te-(te-we)*fe,H=Y-(Y-V)*fe}let z;T<w?z=0:T>O?z=1:z=(w-T)/(w-O),W=f-(f-M)*z,K=R-(R-ce)*z,le=G-(G-we)*z,be=ie-(ie-V)*z;let $=Math.round(Math.min(re,W)),ae=Math.round(Math.max(re,W)),ue=d*T+$*4;for(let fe=$;fe<=ae;fe++)z=(re-fe)/(re-W),z<0?z=0:z>1&&(z=1),u[ue++]=Ae-(Ae-K)*z|0,u[ue++]=ee-(ee-le)*z|0,u[ue++]=H-(H-be)*z|0,u[ue++]=255}}function p4(i,t,e){let n=t.coords,r=t.colors,s,o;switch(t.type){case"lattice":let a=t.verticesPerRow,l=Math.floor(n.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)a1(i,e,n[u],n[u+1],n[u+a],r[u],r[u+1],r[u+a]),a1(i,e,n[u+a+1],n[u+1],n[u+a],r[u+a+1],r[u+1],r[u+a])}break;case"triangles":for(s=0,o=n.length;s<o;s+=3)a1(i,e,n[s],n[s+1],n[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}var I1=class extends _h{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){let a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),f=c/d,w=u/p,x={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/w},P=d+2*2,M=p+2*2,O=n.getCanvas("mesh",P,M),R=O.context,G=R.createImageData(d,p);if(e){let de=G.data;for(let te=0,Y=de.length;te<Y;te+=4)de[te]=e[0],de[te+1]=e[1],de[te+2]=e[2],de[te+3]=255}for(let de of this._figures)p4(G,de,x);return R.putImageData(G,2,2),{canvas:O.canvas,offsetX:a-2*f,offsetY:l-2*w,scaleX:f,scaleY:w}}getPattern(t,e,n,r){D1(t,this._bbox);let s;if(r===Bi.SHADING)s=ft.singularValueDecompose2dScale(Rn(t));else if(s=ft.singularValueDecompose2dScale(e.baseTransform),this.matrix){let a=ft.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}let o=this._createMeshCanvas(s,r===Bi.SHADING?null:this._background,e.cachedCanvases);return r!==Bi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}},T1=class extends _h{getPattern(){return"hotpink"}};function g4(i){switch(i[0]){case"RadialAxial":return new P1(i);case"Mesh":return new I1(i);case"Dummy":return new T1}throw new Error(`Unknown IR type: ${i[0]}`)}var b5={COLORED:1,UNCOLORED:2},m4=(()=>{class i{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,s,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=o}createPatternCanvas(e){let{bbox:n,operatorList:r,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:l}=this,{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),sm("TilingType: "+o);let d=n[0],p=n[1],f=n[2],w=n[3],x=f-d,P=w-p,M=ft.singularValueDecompose2dScale(this.matrix),O=ft.singularValueDecompose2dScale(this.baseTransform),R=M[0]*O[0],G=M[1]*O[1],ie=x,de=P,te=!1,Y=!1,ce=Math.ceil(c*R),we=Math.ceil(u*G),V=Math.ceil(x*R),j=Math.ceil(P*G);ce>=V?ie=c:te=!0,we>=j?de=u:Y=!0;let oe=this.getSizeAndScale(ie,this.ctx.canvas.width,R),re=this.getSizeAndScale(de,this.ctx.canvas.height,G),Ae=e.cachedCanvases.getCanvas("pattern",oe.size,re.size),ee=Ae.context,H=l.createCanvasGraphics(ee);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,s,a),ee.translate(-oe.scale*d,-re.scale*p),H.transform(oe.scale,0,0,re.scale,0,0),ee.save(),this.clipBbox(H,d,p,f,w),H.baseTransform=Rn(H.ctx),H.executeOperatorList(r),H.endDrawing(),ee.restore(),te||Y){let W=Ae.canvas;te&&(ie=c),Y&&(de=u);let K=this.getSizeAndScale(ie,this.ctx.canvas.width,R),le=this.getSizeAndScale(de,this.ctx.canvas.height,G),be=K.size,T=le.size,z=e.cachedCanvases.getCanvas("pattern-workaround",be,T),$=z.context,ae=te?Math.floor(x/c):0,ue=Y?Math.floor(P/u):0;for(let fe=0;fe<=ae;fe++)for(let ve=0;ve<=ue;ve++)$.drawImage(W,be*fe,T*ve,be,T,0,0,be,T);return{canvas:z.canvas,scaleX:K.scale,scaleY:le.scale,offsetX:d,offsetY:p}}return{canvas:Ae.canvas,scaleX:oe.scale,scaleY:re.scale,offsetX:d,offsetY:p}}getSizeAndScale(e,n,r){let s=Math.max(i.MAX_PATTERN_SIZE,n),o=Math.ceil(e*r);return o>=s?o=s:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,s,o){let a=s-n,l=o-r;e.ctx.rect(n,r,a,l),e.current.updateRectMinMax(Rn(e.ctx),[n,r,s,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){let s=e.ctx,o=e.current;switch(n){case b5.COLORED:let a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,o.fillColor=a.fillStyle,o.strokeColor=a.strokeStyle;break;case b5.UNCOLORED:let l=ft.makeHexColor(r[0],r[1],r[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new d1(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,s){let o=r;s!==Bi.SHADING&&(o=ft.transform(o,n.baseTransform),this.matrix&&(o=ft.transform(o,this.matrix)));let a=this.createPatternCanvas(n),l=new DOMMatrix(o);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);let c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}}return i})();function _4({src:i,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){let a=Ii.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=n>>3,d=n&7,p=i.length;e=new Uint32Array(e.buffer);let f=0;for(let w=0;w<r;w++){for(let P=t+u;t<P;t++){let M=t<p?i[t]:255;e[f++]=M&128?c:l,e[f++]=M&64?c:l,e[f++]=M&32?c:l,e[f++]=M&16?c:l,e[f++]=M&8?c:l,e[f++]=M&4?c:l,e[f++]=M&2?c:l,e[f++]=M&1?c:l}if(d===0)continue;let x=t<p?i[t++]:255;for(let P=0;P<d;P++)e[f++]=x&1<<7-P?c:l}return{srcPos:t,destPos:f}}var C5=16,x5=100,v4=15,E5=10,S5=1e3,Mr=16;function y4(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(n,r){t.translate(n,r),this.__originalTranslate(n,r)},i.scale=function(n,r){t.scale(n,r),this.__originalScale(n,r)},i.transform=function(n,r,s,o,a,l){t.transform(n,r,s,o,a,l),this.__originalTransform(n,r,s,o,a,l)},i.setTransform=function(n,r,s,o,a,l){t.setTransform(n,r,s,o,a,l),this.__originalSetTransform(n,r,s,o,a,l)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(n){t.rotate(n),this.__originalRotate(n)},i.clip=function(n){t.clip(n),this.__originalClip(n)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,r,s,o,a){t.bezierCurveTo(e,n,r,s,o,a),this.__originalBezierCurveTo(e,n,r,s,o,a)},i.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}var O1=class{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(let t in this.cache){let e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}};function Cg(i,t,e,n,r,s,o,a,l,c){let[u,d,p,f,w,x]=Rn(i);if(d===0&&p===0){let O=o*u+w,R=Math.round(O),G=a*f+x,ie=Math.round(G),de=(o+l)*u+w,te=Math.abs(Math.round(de)-R)||1,Y=(a+c)*f+x,ce=Math.abs(Math.round(Y)-ie)||1;return i.setTransform(Math.sign(u),0,0,Math.sign(f),R,ie),i.drawImage(t,e,n,r,s,0,0,te,ce),i.setTransform(u,d,p,f,w,x),[te,ce]}if(u===0&&f===0){let O=a*p+w,R=Math.round(O),G=o*d+x,ie=Math.round(G),de=(a+c)*p+w,te=Math.abs(Math.round(de)-R)||1,Y=(o+l)*d+x,ce=Math.abs(Math.round(Y)-ie)||1;return i.setTransform(0,Math.sign(d),Math.sign(p),0,R,ie),i.drawImage(t,e,n,r,s,0,0,ce,te),i.setTransform(u,d,p,f,w,x),[ce,te]}i.drawImage(t,e,n,r,s,o,a,l,c);let P=Math.hypot(u,d),M=Math.hypot(p,f);return[P*l,M*c]}function w4(i){let{width:t,height:e}=i;if(t>S5||e>S5)return null;let n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1,o=new Uint8Array(s*(e+1)),a,l,c,u=t+7&-8,d=new Uint8Array(u*e),p=0;for(let M of i.data){let O=128;for(;O>0;)d[p++]=M&O?0:255,O>>=1}let f=0;for(p=0,d[p]!==0&&(o[0]=1,++f),l=1;l<t;l++)d[p]!==d[p+1]&&(o[l]=d[p]?2:1,++f),p++;for(d[p]!==0&&(o[l]=2,++f),a=1;a<e;a++){p=a*u,c=a*s,d[p-u]!==d[p]&&(o[c]=d[p]?1:8,++f);let M=(d[p]?4:0)+(d[p-u]?8:0);for(l=1;l<t;l++)M=(M>>2)+(d[p+1]?4:0)+(d[p-u+1]?8:0),r[M]&&(o[c+l]=r[M],++f),p++;if(d[p-u]!==d[p]&&(o[c+l]=d[p]?2:4,++f),f>n)return null}for(p=u*(e-1),c=a*s,d[p]!==0&&(o[c]=8,++f),l=1;l<t;l++)d[p]!==d[p+1]&&(o[c+l]=d[p]?4:8,++f),p++;if(d[p]!==0&&(o[c+l]=4,++f),f>n)return null;let w=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(a=0;f&&a<=e;a++){let M=a*s,O=M+t;for(;M<O&&!o[M];)M++;if(M===O)continue;x.moveTo(M%s,a);let R=M,G=o[M];do{let ie=w[G];do M+=ie;while(!o[M]);let de=o[M];de!==5&&de!==10?(G=de,o[M]=0):(G=de&51*G>>4,o[M]&=G>>2|G<<2),x.lineTo(M%s,M/s|0),o[M]||--f}while(R!==M);--a}return d=null,o=null,function(M){M.save(),M.scale(1/t,-1/e),M.translate(0,-e),M.fill(x),M.beginPath(),M.restore()}}var Bg=class{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=O5,this.textMatrixScale=1,this.fontMatrix=u1,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ji.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){let t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=ft.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){let n=ft.applyTransform(e,t),r=ft.applyTransform(e.slice(2),t),s=ft.applyTransform([e[0],e[3]],t),o=ft.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],s[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],s[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],s[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],s[1],o[1])}updateScalingPathMinMax(t,e){ft.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,s,o,a,l,c,u){let d=ft.bezierBoundingBox(e,n,r,s,o,a,l,c,u);u||this.updateRectMinMax(t,d)}getPathBoundingBox(t=Bi.FILL,e=null){let n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Bi.STROKE){e||En("Stroke bounding box must include transform.");let r=ft.singularValueDecompose2dScale(e),s=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){let t=ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Bi.FILL,e=null){return ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}};function M5(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}let e=t.height,n=t.width,r=e%Mr,s=(e-r)/Mr,o=r===0?s:s+1,a=i.createImageData(n,Mr),l=0,c,u=t.data,d=a.data,p,f,w,x;if(t.kind===Mg.GRAYSCALE_1BPP){let P=u.byteLength,M=new Uint32Array(d.buffer,0,d.byteLength>>2),O=M.length,R=n+7>>3,G=4294967295,ie=Ii.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(w=p<s?Mr:r,c=0,f=0;f<w;f++){let de=P-l,te=0,Y=de>R?n:de*8-7,ce=Y&-8,we=0,V=0;for(;te<ce;te+=8)V=u[l++],M[c++]=V&128?G:ie,M[c++]=V&64?G:ie,M[c++]=V&32?G:ie,M[c++]=V&16?G:ie,M[c++]=V&8?G:ie,M[c++]=V&4?G:ie,M[c++]=V&2?G:ie,M[c++]=V&1?G:ie;for(;te<Y;te++)we===0&&(V=u[l++],we=128),M[c++]=V&we?G:ie,we>>=1}for(;c<O;)M[c++]=0;i.putImageData(a,0,p*Mr)}}else if(t.kind===Mg.RGBA_32BPP){for(f=0,x=n*Mr*4,p=0;p<s;p++)d.set(u.subarray(l,l+x)),l+=x,i.putImageData(a,0,f),f+=Mr;p<o&&(x=n*r*4,d.set(u.subarray(l,l+x)),i.putImageData(a,0,f))}else if(t.kind===Mg.RGB_24BPP)for(w=Mr,x=n*w,p=0;p<o;p++){for(p>=s&&(w=r,x=n*w),c=0,f=x;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;i.putImageData(a,0,p*Mr)}else throw new Error(`bad image kind: ${t.kind}`)}function A5(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}let e=t.height,n=t.width,r=e%Mr,s=(e-r)/Mr,o=r===0?s:s+1,a=i.createImageData(n,Mr),l=0,c=t.data,u=a.data;for(let d=0;d<o;d++){let p=d<s?Mr:r;({srcPos:l}=_4({src:c,srcPos:l,dest:u,width:n,height:p,nonBlackColor:0})),i.putImageData(a,0,d*Mr)}}function sh(i,t){let e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function xg(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!qi){let{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function D5(i,t){if(t)return!0;let e=ft.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);let n=Math.fround((globalThis.devicePixelRatio||1)*Qa.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}var b4=["butt","round","square"],C4=["miter","round","bevel"],x4={},P5={},Su=class i{constructor(t,e,n,r,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=t,this.current=new Bg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new O1(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){let s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,n){let l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Rn(this.compositeCtx))}this.ctx.save(),xg(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Rn(this.ctx)}executeOperatorList(t,e,n,r){let s=t.argsArray,o=t.fnArray,a=e||0,l=s.length;if(l===a)return a;let c=l-a>E5&&typeof n=="function",u=c?Date.now()+v4:0,d=0,p=this.commonObjs,f=this.objs,w;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(w=o[a],w!==Ns.dependency)this[w].apply(this,s[a]);else for(let x of s[a]){let P=x.startsWith("g_")?p:f;if(!P.has(x))return P.get(x,n),a}if(a++,a===l)return a;if(c&&++d>E5){if(Date.now()>u)return n(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let t of this._cachedBitmapsMap.values()){for(let e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){let e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){let n=t.width??t.displayWidth,r=t.height??t.displayHeight,s=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=n,l=r,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let p=a,f=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,p,f),d=u.context,d.clearRect(0,0,p,f),d.drawImage(t,0,0,a,l,0,0,p,f),t=u.canvas,a=p,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){let e=this.ctx,{width:n,height:r}=t,s=this.current.fillColor,o=this.current.patternFill,a=Rn(e),l,c,u,d;if((t.bitmap||t.data)&&t.count>1){let Y=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(Y),l||(l=new Map,this._cachedBitmapsMap.set(Y,l));let ce=l.get(c);if(ce&&!o){let we=Math.round(Math.min(a[0],a[2])+a[4]),V=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:ce,offsetX:we,offsetY:V}}u=ce}u||(d=this.cachedCanvases.getCanvas("maskCanvas",n,r),A5(d.context,t));let p=ft.transform(a,[1/n,0,0,-1/r,0,0]);p=ft.transform(p,[1,0,0,1,0,-r]);let[f,w,x,P]=ft.getAxialAlignedBoundingBox([0,0,n,r],p),M=Math.round(x-f)||1,O=Math.round(P-w)||1,R=this.cachedCanvases.getCanvas("fillCanvas",M,O),G=R.context,ie=f,de=w;G.translate(-ie,-de),G.transform(...p),u||(u=this._scaleImage(d.canvas,uo(G)),u=u.img,l&&o&&l.set(c,u)),G.imageSmoothingEnabled=D5(Rn(G),t.interpolate),Cg(G,u,0,0,u.width,u.height,0,0,n,r),G.globalCompositeOperation="source-in";let te=ft.transform(uo(G),[1,0,0,1,-ie,-de]);return G.fillStyle=o?s.getPattern(e,this,te,Bi.FILL):s,G.fillRect(0,0,n,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,R.canvas)),{canvas:R.canvas,offsetX:Math.round(ie),offsetY:Math.round(de)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=b4[t]}setLineJoin(t){this.ctx.lineJoin=C4[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){let n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(let[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;let s=this.ctx;s.setTransform(...Rn(this.suspendedCtx)),sh(this.suspendedCtx,s),y4(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),sh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){let s=r[0],o=r[1],a=r[2]-s,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(e.context,n,a,l,e.subtype,e.backdrop,e.transferMap,s,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,s,o,a,l,c,u,d){let p=t.canvas,f=l-u,w=c-d;if(o){let P=ft.makeHexColor(...o);if(f<0||w<0||f+n>p.width||w+r>p.height){let M=this.cachedCanvases.getCanvas("maskExtension",n,r),O=M.context;O.drawImage(p,-f,-w),O.globalCompositeOperation="destination-atop",O.fillStyle=P,O.fillRect(0,0,n,r),O.globalCompositeOperation="source-over",p=M.canvas,f=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);let M=new Path2D;M.rect(f,w,n,r),t.clip(M),t.globalCompositeOperation="destination-atop",t.fillStyle=P,t.fillRect(f,w,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));let x=new Path2D;x.rect(l,c,n,r),e.clip(x),e.globalCompositeOperation="destination-in",e.drawImage(p,f,w,n,r,l,c,n,r),e.restore()}save(){this.inSMaskMode?(sh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),sh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,s,o){this.ctx.transform(t,e,n,r,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let r=this.ctx,s=this.current,o=s.x,a=s.y,l,c,u=Rn(r),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,p=d?n.slice(0):null;for(let f=0,w=0,x=t.length;f<x;f++)switch(t[f]|0){case Ns.rectangle:o=e[w++],a=e[w++];let P=e[w++],M=e[w++],O=o+P,R=a+M;r.moveTo(o,a),P===0||M===0?r.lineTo(O,R):(r.lineTo(O,a),r.lineTo(O,R),r.lineTo(o,R)),d||s.updateRectMinMax(u,[o,a,O,R]),r.closePath();break;case Ns.moveTo:o=e[w++],a=e[w++],r.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Ns.lineTo:o=e[w++],a=e[w++],r.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case Ns.curveTo:l=o,c=a,o=e[w+4],a=e[w+5],r.bezierCurveTo(e[w],e[w+1],e[w+2],e[w+3],o,a),s.updateCurvePathMinMax(u,l,c,e[w],e[w+1],e[w+2],e[w+3],o,a,p),w+=6;break;case Ns.curveTo2:l=o,c=a,r.bezierCurveTo(o,a,e[w],e[w+1],e[w+2],e[w+3]),s.updateCurvePathMinMax(u,l,c,o,a,e[w],e[w+1],e[w+2],e[w+3],p),o=e[w+2],a=e[w+3],w+=4;break;case Ns.curveTo3:l=o,c=a,o=e[w+2],a=e[w+3],r.bezierCurveTo(e[w],e[w+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,e[w],e[w+1],o,a,o,a,p),w+=4;break;case Ns.closePath:r.closePath();break}d&&s.updateScalingPathMinMax(u,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){let e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&n?.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,uo(e),Bi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){let e=this.ctx,n=this.current.fillColor,r=this.current.patternFill,s=!1;r&&(e.save(),e.fillStyle=n.getPattern(e,this,uo(e),Bi.FILL),s=!0);let o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),s&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=x4}eoClip(){this.pendingClip=P5}beginText(){this.current.textMatrix=O5,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}let n=new Path2D,r=e.getTransform().invertSelf();for(let{transform:s,x:o,y:a,fontSize:l,path:c}of t)n.addPath(c,new DOMMatrix(s).preMultiplySelf(r).translate(o,a).scale(l,-l));e.clip(n),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){let n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||u1,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;let s=n.loadedName||"sans-serif",o=n.systemFontInfo?.css||`"${s}", ${n.fallbackName}`,a="normal";n.black?a="900":n.bold&&(a="bold");let l=n.italic?"italic":"normal",c=e;e<C5?c=C5:e>x5&&(c=x5),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,s,o){this.current.textMatrix=[t,e,n,r,s,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(t,e,n){let r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,s){let o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&ji.FILL_STROKE_MASK,p=!!(c&ji.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,w=a.patternStroke&&!l.missingFile,x;if((l.disableFontFace||p||f||w)&&(x=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||f||w){if(o.save(),o.translate(e,n),o.scale(u,-u),d===ji.FILL||d===ji.FILL_STROKE)if(r){let P=o.getTransform();o.setTransform(...r),o.fill(this.#n(x,P,r))}else o.fill(x);if(d===ji.STROKE||d===ji.FILL_STROKE)if(s){let P=o.getTransform();o.setTransform(...s),o.stroke(this.#n(x,P,s))}else o.lineWidth/=u,o.stroke(x);o.restore()}else(d===ji.FILL||d===ji.FILL_STROKE)&&o.fillText(t,e,n),(d===ji.STROKE||d===ji.FILL_STROKE)&&o.strokeText(t,e,n);p&&(this.pendingTextPaths||=[]).push({transform:Rn(o),x:e,y:n,fontSize:u,path:x})}get isFontSubpixelAAEnabled(){let{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);let e=t.getImageData(0,0,10,10).data,n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Wt(this,"isFontSubpixelAAEnabled",n)}showText(t){let e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);let r=e.fontSize;if(r===0)return;let s=this.ctx,o=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,d=t.length,p=n.vertical,f=p?1:-1,w=n.defaultVMetrics,x=r*e.fontMatrix[0],P=e.textRenderingMode===ji.FILL&&!n.disableFontFace&&!e.patternFill;s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),c>0?s.scale(u,-1):s.scale(u,1);let M,O;if(e.patternFill){s.save();let te=e.fillColor.getPattern(s,this,uo(s),Bi.FILL);M=Rn(s),s.restore(),s.fillStyle=te}if(e.patternStroke){s.save();let te=e.strokeColor.getPattern(s,this,uo(s),Bi.STROKE);O=Rn(s),s.restore(),s.strokeStyle=te}let R=e.lineWidth,G=e.textMatrixScale;if(G===0||R===0){let te=e.textRenderingMode&ji.FILL_STROKE_MASK;(te===ji.STROKE||te===ji.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=G;if(o!==1&&(s.scale(o,o),R/=o),s.lineWidth=R,n.isInvalidPDFjsFont){let te=[],Y=0;for(let ce of t)te.push(ce.unicode),Y+=ce.width;s.fillText(te.join(""),0,0),e.x+=Y*x*u,s.restore(),this.compose();return}let ie=0,de;for(de=0;de<d;++de){let te=t[de];if(typeof te=="number"){ie+=f*te*r/1e3;continue}let Y=!1,ce=(te.isSpace?l:0)+a,we=te.fontChar,V=te.accent,j,oe,re=te.width;if(p){let ee=te.vmetric||w,H=-(te.vmetric?ee[1]:re*.5)*x,W=ee[2]*x;re=ee?-ee[0]:re,j=H/o,oe=(ie+W)/o}else j=ie/o,oe=0;if(n.remeasure&&re>0){let ee=s.measureText(we).width*1e3/r*o;if(re<ee&&this.isFontSubpixelAAEnabled){let H=re/ee;Y=!0,s.save(),s.scale(H,1),j/=H}else re!==ee&&(j+=(re-ee)/2e3*r/o)}if(this.contentVisible&&(te.isInFont||n.missingFile)){if(P&&!V)s.fillText(we,j,oe);else if(this.paintChar(we,j,oe,M,O),V){let ee=j+r*V.offset.x/o,H=oe-r*V.offset.y/o;this.paintChar(V.fontChar,ee,H,M,O)}}let Ae=p?re*x-ce*c:re*x+ce*c;ie+=Ae,Y&&s.restore()}p?e.y-=ie:e.x+=ie*u,s.restore(),this.compose()}showType3Text(t){let e=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,a=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*o,d=n.fontMatrix||u1,p=t.length,f=n.textRenderingMode===ji.INVISIBLE,w,x,P,M;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(u,o),w=0;w<p;++w){if(x=t[w],typeof x=="number"){M=a*x*s/1e3,this.ctx.translate(M,0),n.x+=M*u;continue}let O=(x.isSpace?c:0)+l,R=r.charProcOperatorList[x.operatorListId];if(!R){Ht(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),e.scale(s,s),e.transform(...d),this.executeOperatorList(R),this.restore()),P=ft.applyTransform([x.width,0],d)[0]*s+O,e.translate(P,0),n.x+=P*u}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,s,o){this.ctx.rect(n,r,s-n,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){let n=t[1],r=this.baseTransform||Rn(this.ctx),s={createCanvasGraphics:o=>new i(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new m4(t,n,this.ctx,s,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=ft.makeHexColor(t,e,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=ft.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=g4(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;let e=this.ctx;this.save();let n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,uo(e),Bi.SHADING);let r=uo(e);if(r){let{width:s,height:o}=e.canvas,[a,l,c,u]=ft.getAxialAlignedBoundingBox([0,0,s,o],r);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){En("Should not call beginInlineImage")}beginImageData(){En("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Rn(this.ctx),e)){let n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(Rn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let e=this.ctx;t.isolated||sm("TODO: Support non-isolated groups."),t.knockout&&Ht("Knockout groups not supported.");let n=Rn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ft.getAxialAlignedBoundingBox(t.bbox,Rn(e)),s=[0,0,e.canvas.width,e.canvas.height];r=ft.intersect(r,s)||[0,0,0,0];let o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);let d=this.cachedCanvases.getCanvas(u,l,c),p=d.context;p.translate(-o,-a),p.transform(...n),t.smask?this.smaskStack.push({canvas:d.canvas,context:p,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),sh(e,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;let e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let r=Rn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);let s=ft.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,e,n,r,s){if(this.#e(),xg(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){let o=e[2]-e[0],a=e[3]-e[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a;let[l,c]=ft.singularValueDecompose2dScale(Rn(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),p=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,p);let{canvas:f,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),xg(this.ctx)}else xg(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new Bg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;let e=t.count;t=this.getObject(t.data,t),t.count=e;let n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=w4(t)),r.compiled)){r.compiled(n);return}let s=this._createMaskCanvas(t),o=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);let a=this.ctx;a.save();let l=Rn(a);a.transform(e,n,r,s,0,0);let c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){let p=ft.transform(l,[e,n,r,s,o[u],o[u+1]]),[f,w]=ft.applyTransform([0,0],p);a.drawImage(c.canvas,f,w)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;let e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(let s of t){let{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();let p=this.getObject(o,s);A5(d,p),d.globalCompositeOperation="source-in",d.fillStyle=r?n.getPattern(d,this,uo(e),Bi.FILL):n,d.fillRect(0,0,a,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Cg(e,u.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;let e=this.getObject(t);if(!e){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;let s=this.getObject(t);if(!s){Ht("Dependent image isn't ready yet");return}let o=s.width,a=s.height,l=[];for(let c=0,u=r.length;c<u;c+=2)l.push({transform:[e,0,0,n,r[c],r[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;let{bitmap:e,width:n,height:r}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;let e=t.width,n=t.height,r=this.ctx;if(this.save(),!qi){let{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/e,-1/n);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{let l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;M5(l,t),s=this.applyTransferMapsToCanvas(l)}let o=this._scaleImage(s,uo(r));r.imageSmoothingEnabled=D5(Rn(r),t.interpolate),Cg(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;let n=this.ctx,r;if(t.bitmap)r=t.bitmap;else{let s=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;M5(l,t),r=this.applyTransferMapsToCanvas(l)}for(let s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),Cg(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){let e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);let n=this.ctx;this.pendingClip&&(e||(this.pendingClip===P5?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let t=Rn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{let e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:t}=this.current,{a:e,b:n,c:r,d:s}=this.ctx.getTransform(),o,a;if(n===0&&r===0){let l=Math.abs(e),c=Math.abs(s);if(l===c)if(t===0)o=a=1/l;else{let u=l*t;o=a=u<1?1/u:1}else if(t===0)o=1/l,a=1/c;else{let u=l*t,d=c*t;o=u<1?1/u:1,a=d<1?1/d:1}}else{let l=Math.abs(e*s-n*r),c=Math.hypot(e,n),u=Math.hypot(r,s);if(t===0)o=u/l,a=c/l;else{let d=t*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){let{ctx:e}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(e.lineWidth=n||1,r===1&&s===1){e.stroke();return}let o=e.getLineDash();if(t&&e.save(),e.scale(r,s),o.length>0){let a=Math.max(r,s);e.setLineDash(o.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};for(let i in Ns)Su.prototype[i]!==void 0&&(Su.prototype[Ns[i]]=Su.prototype[i]);var nc=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#e=t}static get workerSrc(){return this.#t}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#t=t}},N1=class{#e;#t;constructor({parsedData:t,rawData:e}){this.#e=t,this.#t=e}getRaw(){return this.#t}get(t){return this.#e.get(t)??null}getAll(){return Py(this.#e)}has(t){return this.#e.has(t)}},Eu=Symbol("INTERNAL"),k1=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:s}){this.#e=!!(t&zr.DISPLAY),this.#t=!!(t&zr.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:t,view:e}=this.usage;return this.#e?e?.viewState!=="OFF":this.#t?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Eu&&En("Internal method `_setVisible` called."),this.#n=n,this.#i=e}},L1=class{#e=null;#t=new Map;#n=null;#i=null;constructor(t,e=zr.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(let n of t.groups)this.#t.set(n.id,new k1(e,n));if(t.baseState==="OFF")for(let n of this.#t.values())n._setVisible(Eu,!1);for(let n of t.on)this.#t.get(n)._setVisible(Eu,!0);for(let n of t.off)this.#t.get(n)._setVisible(Eu,!1);this.#n=this.getHash()}}#s(t){let e=t.length;if(e<2)return!0;let n=t[0];for(let r=1;r<e;r++){let s=t[r],o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return Ht(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"}isVisible(t){if(this.#t.size===0)return!0;if(!t)return sm("Optional content group not defined."),!0;if(t.type==="OCG")return this.#t.has(t.id)?this.#t.get(t.id).visible:(Ht(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(let e of t.ids){if(!this.#t.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(let e of t.ids){if(!this.#t.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(let e of t.ids){if(!this.#t.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#t.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(let e of t.ids){if(!this.#t.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#t.get(e).visible)return!1}return!0}return Ht(`Unknown optional content policy ${t.policy}.`),!0}return Ht(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){let r=this.#t.get(t);if(!r){Ht(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(let s of r.rbGroups)for(let o of s)o!==t&&this.#t.get(o)?._setVisible(Eu,!1,!0);r._setVisible(Eu,!!e,!0),this.#e=null}setOCGState({state:t,preserveRB:e}){let n;for(let r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}let s=this.#t.get(r);if(s)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!s.visible,e);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?Py(this.#t):null}getGroup(t){return this.#t.get(t)||null}getHash(){if(this.#e!==null)return this.#e;let t=new Og;for(let[e,n]of this.#t)t.update(`${e}:${n.visible}`);return this.#e=t.hexdigest()}},F1=class{constructor(t,{disableRange:e=!1,disableStream:n=!1}){li(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){let l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){let n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{let r=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(n),!0)});li(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){let e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){li(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let t=this._queuedChunks;return this._queuedChunks=null,new R1(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let n=new V1(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}},R1=class{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Ty(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(let s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return $e(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},V1=class{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return $e(this,null,function*(){if(this._queuedChunk){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function E4(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let u=a(e);return u=unescape(u),u=l(u),u=c(u),s(u)}if(e=o(i),e){let u=c(e);return s(u)}if(e=n("filename","i").exec(i),e){e=e[1];let u=a(e);return u=c(u),s(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{let p=new TextDecoder(u,{fatal:!0}),f=om(d);d=p.decode(f),t=!1}catch{}}return d}function s(u){return t&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),t&&(u=r("iso-8859-1",u))),u}function o(u){let d=[],p,f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=f.exec(u))!==null;){let[,x,P,M]=p;if(x=parseInt(x,10),x in d){if(x===0)break;continue}d[x]=[P,M]}let w=[];for(let x=0;x<d.length&&x in d;++x){let[P,M]=d[x];M=a(M),P&&(M=unescape(M),x===0&&(M=l(M))),w.push(M)}return w.join("")}function a(u){if(u.startsWith('"')){let d=u.slice(1).split('\\"');for(let p=0;p<d.length;++p){let f=d[p].indexOf('"');f!==-1&&(d[p]=d[p].slice(0,f),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){let d=u.indexOf("'");if(d===-1)return u;let p=u.slice(0,d),w=u.slice(d+1).replace(/^[^']*'/,"");return r(p,w)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,f,w){if(f==="q"||f==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,P){return String.fromCharCode(parseInt(P,16))}),r(p,w);try{w=atob(w)}catch{}return r(p,w)})}return""}function L5(i,t){let e=new Headers;if(!i||!t||typeof t!="object")return e;for(let n in t){let r=t[n];r!==void 0&&e.append(n,r)}return e}function cm(i){try{return new URL(i).origin}catch{}return null}function F5({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){let r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(i.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function R5(i){let t=i.get("Content-Disposition");if(t){let e=E4(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ty(e))return e}return null}function um(i,t){return i===404||i===0&&t.startsWith("file:")?new ic('Missing PDF "'+t+'".'):new Au(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function V5(i){return i===200||i===206}function j5(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function B5(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(Ht(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}var qg=class{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=L5(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return li(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let n=new B1(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},j1=class{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;let e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;let n=new Headers(t.headers),r=e.url;fetch(r,j5(n,this._withCredentials,this._abortController)).then(s=>{if(t._responseOrigin=cm(s.url),!V5(s.status))throw um(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();let o=s.headers,{allowRangeRequests:a,suggestedLength:l}=F5({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=R5(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return $e(this,null,function*(){yield this._headersCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:B5(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},B1=class{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;let r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;let s=new Headers(t.headers);s.append("Range",`bytes=${e}-${n-1}`);let o=r.url;fetch(o,j5(s,this._withCredentials,this._abortController)).then(a=>{let l=cm(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!V5(a.status))throw um(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return $e(this,null,function*(){yield this._readCapability.promise;let{value:t,done:e}=yield this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:B5(t),done:!1})})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}},l1=200,c1=206;function S4(i){let t=i.response;return typeof t!="string"?t:om(t).buffer}var q1=class{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=L5(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){let e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(let[s,o]of this.headers)e.setRequestHeader(s,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=c1):r.expectedStatus=l1,e.responseType="arraybuffer",li(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){let n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){let n=this.pendingRequests[t];if(!n)return;let r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}let s=r.status||l1;if(!(s===l1&&n.expectedStatus===c1)&&s!==n.expectedStatus){n.onError(r.status);return}let a=S4(r);if(s===c1){let l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:a}):(Ht('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){let e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}},H1=class{constructor(t){this._source=t,this._manager=new q1(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){let e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return li(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new U1(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){let n=new z1(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},U1=class{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=cm(e.responseURL);let n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{let[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=F5({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=R5(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=um(t,this._url),this._headersCapability.reject(this._storedError);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return $e(this,null,function*(){if(yield this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0,this._headersCapability.reject(t);for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},z1=class{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){let t=cm(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){let e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(let n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=um(t,this._url);for(let e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}read(){return $e(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};let t=Promise.withResolvers();return this._requests.push(t),t.promise})}cancel(t){this._done=!0;for(let e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},M4=/^[a-z][a-z0-9\-+.]+:/i;function A4(i){if(M4.test(i))return new URL(i);let t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}var W1=class{constructor(t){this.source=t,this.url=A4(t.url),li(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return li(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new $1(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;let n=new G1(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(let e of this._rangeRequestReaders.slice(0))e.cancel(t)}},$1=class{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;let e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();let n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new ic(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return $e(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},G1=class{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let r=t.source;this._isStreamingSupported=!r.disableStream;let s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}read(){return $e(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},D4=1e5,Er=30,P4=.8,vh=class i{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#l=0;#a=0;#u=null;#c=null;#h=0;#d=0;#f=Object.create(null);#o=[];#p=null;#m=[];#g=new WeakMap;#_=null;static#w=new Map;static#v=new Map;static#b=new WeakMap;static#x=null;static#S=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=e,this.#d=n.scale*(globalThis.devicePixelRatio||1),this.#h=n.rotation,this.#r={div:null,properties:null,ctx:null};let{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=n.rawDims;this.#_=[1,0,0,-1,-o,a+s],this.#a=r,this.#l=s,i.#T(),rc(e,n),this.#e.promise.finally(()=>{i.#S.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:t,isFirefox:e}=Ii.platform;return Wt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){let t=()=>{this.#u.read().then(({value:e,done:n})=>{if(n){this.#e.resolve();return}this.#s??=e.lang,Object.assign(this.#f,e.styles),this.#A(e.items),t()},this.#e.reject)};return this.#u=this.#p.getReader(),i.#S.add(this),t(),this.#e.promise}update({viewport:t,onBefore:e=null}){let n=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,rc(this.#c,{rotation:r})),n!==this.#d){e?.(),this.#d=n;let s={div:null,properties:null,ctx:i.#D(this.#s)};for(let o of this.#m)s.properties=this.#g.get(o),s.div=o,this.#C(s)}}cancel(){let t=new fo("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#e.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#o}#A(t){if(this.#n)return;this.#r.ctx??=i.#D(this.#s);let e=this.#m,n=this.#o;for(let r of t){if(e.length>D4){Ht("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){let s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(r.str),this.#P(r)}}#P(t){let e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(e);let r=ft.transform(this.#_,t.transform),s=Math.atan2(r[1],r[0]),o=this.#f[t.fontName];o.vertical&&(s+=Math.PI/2);let a=this.#i&&o.fontSubstitution||o.fontFamily;a=i.fontFamilyMap.get(a)||a;let l=Math.hypot(r[2],r[3]),c=l*i.#k(a,this.#s),u,d;s===0?(u=r[4],d=r[5]-c):(u=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));let p="calc(var(--scale-factor)*",f=e.style;this.#t===this.#c?(f.left=`${(100*u/this.#a).toFixed(2)}%`,f.top=`${(100*d/this.#l).toFixed(2)}%`):(f.left=`${p}${u.toFixed(2)}px)`,f.top=`${p}${d.toFixed(2)}px)`),f.fontSize=`${p}${(i.#x*l).toFixed(2)}px)`,f.fontFamily=a,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#i&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(n.angle=s*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){let x=Math.abs(t.transform[0]),P=Math.abs(t.transform[3]);x!==P&&Math.max(x,P)/Math.min(x,P)>1.5&&(w=!0)}if(w&&(n.canvasWidth=o.vertical?t.height:t.width),this.#g.set(e,n),this.#r.div=e,this.#r.properties=n,this.#C(this.#r),n.hasText&&this.#t.append(e),n.hasEOL){let x=document.createElement("br");x.setAttribute("role","presentation"),this.#t.append(x)}}#C(t){let{div:e,properties:n,ctx:r}=t,{style:s}=e,o="";if(i.#x>1&&(o=`scale(${1/i.#x})`),n.canvasWidth!==0&&n.hasText){let{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=n;i.#M(r,c*this.#d,a);let{width:u}=r.measureText(e.textContent);u>0&&(o=`scaleX(${l*this.#d/u}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#S.size>0)){this.#w.clear();for(let{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#D(t=null){let e=this.#v.get(t||="");if(!e){let n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#b.set(e,{size:0,family:""})}return e}static#M(t,e,n){let r=this.#b.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#T(){if(this.#x!==null)return;let t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#k(t,e){let n=this.#w.get(t);if(n)return n;let r=this.#D(e);r.canvas.width=r.canvas.height=Er,this.#M(r,Er,t);let s=r.measureText(""),o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){let u=o/(o+a);return this.#w.set(t,u),r.canvas.width=r.canvas.height=0,u}r.strokeStyle="red",r.clearRect(0,0,Er,Er),r.strokeText("g",0,0);let l=r.getImageData(0,0,Er,Er).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/Er);break}r.clearRect(0,0,Er,Er),r.strokeText("A",0,Er),l=r.getImageData(0,0,Er,Er).data,o=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){o=Er-Math.floor(u/4/Er);break}r.canvas.width=r.canvas.height=0;let c=o?o/(o+a):P4;return this.#w.set(t,c),c}},yh=class i{static textContent(t){let e=[],n={items:e,styles:Object.create(null)};function r(s){if(!s)return;let o=null,a=s.name;if(a==="#text")o=s.value;else if(i.shouldBuildText(a))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&e.push({str:o}),!!s.children)for(let l of s.children)r(l)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}},I4=65536,T4=100,O4=5e3,N4=qi?S1:C1,k4=qi?M1:Fg,L4=qi?E1:x1,F4=qi?A1:jg;function R4(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});let t=new Y1,{docId:e}=t,n=i.url?V4(i.url):null,r=i.data?j4(i.data):null,s=i.httpHeaders||null,o=i.withCredentials===!0,a=i.password??null,l=i.range instanceof Hg?i.range:null,c=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:I4,u=i.worker instanceof Mu?i.worker:null,d=i.verbosity,p=typeof i.docBaseUrl=="string"&&!lm(i.docBaseUrl)?i.docBaseUrl:null,f=typeof i.cMapUrl=="string"?i.cMapUrl:null,w=i.cMapPacked!==!1,x=i.CMapReaderFactory||k4,P=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,M=i.StandardFontDataFactory||F4,O=i.stopAtErrors!==!0,R=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,G=i.isEvalSupported!==!1,ie=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!qi,de=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!qi&&(Ii.platform.isFirefox||!globalThis.chrome),te=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,Y=typeof i.disableFontFace=="boolean"?i.disableFontFace:qi,ce=i.fontExtraProperties===!0,we=i.enableXfa===!0,V=i.ownerDocument||globalThis.document,j=i.disableRange===!0,oe=i.disableStream===!0,re=i.disableAutoFetch===!0,Ae=i.pdfBug===!0,ee=i.CanvasFactory||N4,H=i.FilterFactory||L4,W=i.enableHWA===!0,K=l?l.length:i.length??NaN,le=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!qi&&!Y,be=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:x===Fg&&M===jg&&f&&P&&lh(f,document.baseURI)&&lh(P,document.baseURI),T=null;Qk(d);let z={canvasFactory:new ee({ownerDocument:V,enableHWA:W}),filterFactory:new H({docId:e,ownerDocument:V}),cMapReaderFactory:be?null:new x({baseUrl:f,isCompressed:w}),standardFontDataFactory:be?null:new M({baseUrl:P})};if(!u){let ue={verbosity:d,port:nc.workerPort};u=ue.port?Mu.fromPort(ue):new Mu(ue),t._worker=u}let $={docId:e,apiVersion:"4.10.38",data:r,password:a,disableAutoFetch:re,rangeChunkSize:c,length:K,docBaseUrl:p,enableXfa:we,evaluatorOptions:{maxImageSize:R,disableFontFace:Y,ignoreErrors:O,isEvalSupported:G,isOffscreenCanvasSupported:ie,isImageDecoderSupported:de,canvasMaxAreaInBytes:te,fontExtraProperties:ce,useSystemFonts:le,cMapUrl:be?f:null,standardFontDataUrl:be?P:null}},ae={disableFontFace:Y,fontExtraProperties:ce,ownerDocument:V,pdfBug:Ae,styleElement:T,loadingParams:{disableAutoFetch:re,enableXfa:we}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let ue=u.messageHandler.sendWithPromise("GetDocRequest",$,r?[r.buffer]:null),fe;if(l)fe=new F1(l,{disableRange:j,disableStream:oe});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let ve;if(qi)if(lh(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ve=qg}else ve=W1;else ve=lh(n)?qg:H1;fe=new ve({url:n,length:K,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:j,disableStream:oe})}return ue.then(ve=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let Ce=new tc(e,ve,u.port),ze=new Z1(Ce,t,fe,ae,z);t._transport=ze,Ce.send("Ready",null)})}).catch(t._capability.reject),t}function V4(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(qi&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function j4(i){if(qi&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return om(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function I5(i){return typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0}var Y1=class i{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${i.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return $e(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null})}},Hg=class{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(let n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){En("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},K1=class{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Wt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},X1=class{#e=null;#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new Dg:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Ug,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}={}){return new hh({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations({intent:t="display"}={}){let{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Wt(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return $e(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=Ja.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){this._stats?.time("Overall");let p=this._transport.getRenderingIntent(n,r,u,d),{renderingIntent:f,cacheKey:w}=p;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(f);let x=this._intentStates.get(w);x||(x=Object.create(null),this._intentStates.set(w,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);let P=!!(f&zr.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(p));let M=G=>{x.renderTasks.delete(O),(this._maybeCleanupAfterRender||P)&&(this.#t=!0),this.#n(!P),G?(O.capability.reject(G),this._abortOperatorList({intentState:x,reason:G instanceof Error?G:new Error(G)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new ey({callback:M,params:{canvasContext:t,viewport:e,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:c});(x.renderTasks||=new Set).add(O);let R=O.task;return Promise.all([x.displayReadyCapability.promise,a]).then(([G,ie])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(ie.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:G,optionalContentConfig:ie}),O.operatorListChanged()}).catch(M),R}getOperatorList({intent:t="display",annotationMode:e=Ja.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}let o=this._transport.getRenderingIntent(t,e,n,r,!0),a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yh.textContent(n));let e=this.streamTextContent(t);return new Promise(function(n,r){function s(){o.read().then(function({value:l,done:c}){if(c){n(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},r)}let o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let t=[];for(let e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(let n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(t)}cleanup(t=!1){this.#t=!0;let e=this.#n(!1);return t&&e&&(this._stats&&=new Dg),e}#n(t=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},O4),!1;for(let{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,e){let n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(let n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){let{map:s,transfer:o}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(e);c.streamReader=l;let u=()=>{l.read().then(({value:d,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(let p of c.renderTasks)p.operatorListChanged();this.#n(!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof fh){let r=T4;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new fo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},J1=class{#e=new Map;#t=Promise.resolve();postMessage(t,e){let n={data:structuredClone(t,e?{transfer:e}:null)};this.#t.then(()=>{for(let[r]of this.#e)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){let{signal:s}=n;if(s.aborted){Ht("LoopbackPort - cannot use an `aborted` signal.");return}let o=()=>this.removeEventListener(t,e);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(e,r)}removeEventListener(t,e){this.#e.get(e)?.(),this.#e.delete(e)}terminate(){for(let[,t]of this.#e)t?.();this.#e.clear()}},Mu=class i{static#e=0;static#t=!1;static#n;static{qi&&(this.#t=!0,nc.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}let r=new URL(e,n);return n.origin===r.origin},this._createCDNWrapper=t=>{let e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}}constructor({name:t=null,port:e=null,verbosity:n=e4()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if(i.#n?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(i.#n||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new tc("main","worker",t),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(i.#t||i.#s){this._setupFakeWorker();return}let{workerSrc:t}=i;try{i._isSameOrigin(window.location.href,t)||(t=i._createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t,{type:"module"}),n=new tc("main","worker",e),r=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),n.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,this.#i()}),n.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});let o=()=>{let a=new Uint8Array;n.send("test",a,[a.buffer])};o();return}catch{sm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){i.#t||(Ht("Setting up fake worker."),i.#t=!0),i._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new J1;this._port=e;let n=`fake${i.#e++}`,r=new tc(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new tc(n,n+"_worker",e),this.#i()}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker?.terminate(),this._webWorker=null,i.#n?.delete(this._port),this._port=null,this._messageHandler?.destroy(),this._messageHandler=null}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#n?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new i(t)}static get workerSrc(){if(nc.workerSrc)return nc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#s(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Wt(this,"_setupFakeWorkerGlobal",$e(this,null,function*(){return this.#s?this.#s:(yield import(this.workerSrc)).WorkerMessageHandler}))}},Z1=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,e,n,r,s){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ug,this.fontLoader=new w1({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(t,e=null){let n=this.#e.get(t);if(n)return n;let r=this.messageHandler.sendWithPromise(t,e);return this.#e.set(t,r),r}get annotationStorage(){return Wt(this,"annotationStorage",new mh)}getRenderingIntent(t,e=Ja.ENABLE,n=null,r=!1,s=!1){let o=zr.DISPLAY,a=y1;switch(t){case"any":o=zr.ANY;break;case"display":break;case"print":o=zr.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${t}`)}let l=o&zr.PRINT&&n instanceof Ng?n:this.annotationStorage;switch(e){case Ja.DISABLE:o+=zr.ANNOTATIONS_DISABLE;break;case Ja.ENABLE:break;case Ja.ENABLE_FORMS:o+=zr.ANNOTATIONS_FORMS;break;case Ja.ENABLE_STORAGE:o+=zr.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(o+=zr.IS_EDITING),s&&(o+=zr.OPLIST);let{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];for(let n of this.#t.values())t.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),vh.cleanup(),this._networkStream?.cancelAllRequests(new fo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{li(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}li(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",n=>$e(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{e.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}})),t.on("GetRangeReader",(n,r)=>{li(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}li(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new K1(n,this))}),t.on("DocException",n=>{e._capability.reject(Sr(n))}),t.on("PasswordRequest",n=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw Sr(n);let r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};e.onPassword(r,n.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":let{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){let p=s.error;Ht(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}let c=l&&globalThis.FontInspector?.enabled?(p,f)=>globalThis.FontInspector.fontAdded(p,f):null,u=new b1(s,{disableFontFace:o,fontExtraProperties:a,inspectFont:c});this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!a&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":let{imageRef:d}=s;li(d,"The imageRef must be defined.");for(let p of this.#t.values())for(let[,f]of p.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,s,o])=>{if(this.destroyed)return;let a=this.#t.get(r);if(!a.objs.has(n)){if(a._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":a.objs.resolve(n,o),o?.dataLen>Yk&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>$e(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)})),t.on("FetchStandardFontData",n=>$e(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let e=t-1,n=this.#n.get(e);if(n)return n;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,t);let o=new X1(e,s,this,this._params.pdfBug);return this.#t.set(e,o),o});return this.#n.set(e,r),r}getPageIndex(t){return I5(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new L1(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let t="GetMetadata",e=this.#e.get(t);if(e)return e;let n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new N1(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){return $e(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let e of this.#t.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),vh.cleanup()}})}cachedPageNumber(t){if(!I5(t))return null;let e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(e)??null}},oh=Symbol("INITIAL_DATA"),Ug=class{#e=Object.create(null);#t(t){return this.#e[t]||=Ut(mt({},Promise.withResolvers()),{data:oh})}get(t,e=null){if(e){let r=this.#t(t);return r.promise.then(()=>e(r.data)),null}let n=this.#e[t];if(!n||n.data===oh)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){let e=this.#e[t];return!!e&&e.data!==oh}delete(t){let e=this.#e[t];return!e||e.data===oh?!1:(delete this.#e[t],!0)}resolve(t,e=null){let n=this.#t(t);n.data=e,n.resolve()}clear(){for(let t in this.#e){let{data:e}=this.#e[t];e?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let t in this.#e){let{data:e}=this.#e[t];e!==oh&&(yield[t,e])}}},Q1=class{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){let{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;let{annotationCanvasMap:e}=this.#e;return t.form||t.canvas&&e?.size>0}},ey=class i{#e=null;static#t=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:p=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Q1(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(i.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");i.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:r,transform:s,background:o}=this.params;this.gfx=new Su(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),i.#t.delete(this._canvas),this.callback(t||new fh(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return $e(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),i.#t.delete(this._canvas),this.callback())))})}},B4="4.10.38",q4="f9bea397f";function T5(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function ah(i){return Math.max(0,Math.min(255,255*i))}var zg=class{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ah(t),[t,t,t]}static G_HTML([t]){let e=T5(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(ah)}static RGB_HTML(t){return`#${t.map(T5).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[ah(1-Math.min(1,t+r)),ah(1-Math.min(1,n+r)),ah(1-Math.min(1,e+r))]}static CMYK_HTML(t){let e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){let r=1-t,s=1-e,o=1-n,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}},ty=class{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");let r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){En("Abstract method `_createSVG` called.")}},wh=class extends ty{_createSVG(t){return document.createElementNS(Zo,t)}},Wg=class{static setupStorage(t,e,n,r,s){let o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",a=>{r.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",a=>{r.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(let a of n.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{let l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:s}){let{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(let[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&s.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){let e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,s=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:n});let a=s!=="richText",l=t.div;if(l.append(o),t.viewport){let d=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");let c=[];if(r.children.length===0){if(r.value){let d=document.createTextNode(r.value);o.append(d),a&&yh.shouldBuildText(r.name)&&c.push(d)}return{textDivs:c}}let u=[[r,-1,o]];for(;u.length>0;){let[d,p,f]=u.at(-1);if(p+1===d.children.length){u.pop();continue}let w=d.children[++u.at(-1)[1]];if(w===null)continue;let{name:x}=w;if(x==="#text"){let M=document.createTextNode(w.value);c.push(M),f.append(M);continue}let P=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,x):document.createElement(x);if(f.append(P),w.attributes&&this.setAttributes({html:P,element:w,storage:e,intent:s,linkService:n}),w.children?.length>0)u.push([w,-1,P]);else if(w.value){let M=document.createTextNode(w.value);a&&yh.shouldBuildText(x)&&c.push(M),P.append(M)}}for(let d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){let e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}},Sh=1e3,H4=9,oc=new WeakSet;function Za(i){return{width:i[2]-i[0],height:i[3]-i[1]}}var ny=class{static create(t){switch(t.data.annotationType){case gi.LINK:return new $g(t);case gi.TEXT:return new iy(t);case gi.WIDGET:switch(t.data.fieldType){case"Tx":return new ry(t);case"Btn":return t.data.radioButton?new Gg(t):t.data.checkBox?new oy(t):new ay(t);case"Ch":return new ly(t);case"Sig":return new sy(t)}return new Qo(t);case gi.POPUP:return new bh(t);case gi.FREETEXT:return new Yg(t);case gi.LINE:return new uy(t);case gi.SQUARE:return new dy(t);case gi.CIRCLE:return new hy(t);case gi.POLYLINE:return new Kg(t);case gi.CARET:return new py(t);case gi.INK:return new Ch(t);case gi.POLYGON:return new fy(t);case gi.HIGHLIGHT:return new Xg(t);case gi.UNDERLINE:return new gy(t);case gi.SQUIGGLY:return new my(t);case gi.STRIKEOUT:return new _y(t);case gi.STAMP:return new Jg(t);case gi.FILEATTACHMENT:return new vy(t);default:return new Jn(t)}}},Jn=class i{#e=null;#t=!1;#n=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t?.str||e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return i._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:e}=t;e&&this.#i(e),this.#n?.popup.updateEdited(t)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(t){let{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;n?.splice(0,4,...t);let{width:c,height:u}=Za(t);e.left=`${100*(t[0]-a)/s}%`,e.top=`${100*(o-t[3]+l)/o}%`,r===0?(e.width=`${100*c/s}%`,e.height=`${100*u/o}%`):this.setRotation(r)}_createContainer(t){let{data:e,parent:{page:n,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Qo||(s.tabIndex=Sh);let{style:o}=s;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof bh){let{rotation:x}=e;return!e.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}let{width:a,height:l}=Za(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;let x=e.borderStyle.horizontalCornerRadius,P=e.borderStyle.verticalCornerRadius;if(x>0||P>0){let O=`calc(${x}px * var(--scale-factor)) / calc(${P}px * var(--scale-factor))`;o.borderRadius=O}else if(this instanceof Gg){let O=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=O}switch(e.borderStyle.style){case rh.SOLID:o.borderStyle="solid";break;case rh.DASHED:o.borderStyle="dashed";break;case rh.BEVELED:Ht("Unimplemented border style: beveled");break;case rh.INSET:Ht("Unimplemented border style: inset");break;case rh.UNDERLINE:o.borderBottomStyle="solid";break;default:break}let M=e.borderColor||null;M?(this.#t=!0,o.borderColor=ft.makeHexColor(M[0]|0,M[1]|0,M[2]|0)):o.borderWidth=0}let c=ft.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:p,pageY:f}=r.rawDims;o.left=`${100*(c[0]-p)/u}%`,o.top=`${100*(c[1]-f)/d}%`;let{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(w,s),s}setRotation(t,e=this.container){if(!this.data.rect)return;let{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:o}=Za(this.data.rect),a,l;t%180===0?(a=100*s/n,l=100*o/r):(a=100*o/n,l=100*s/r),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){let t=(e,n,r)=>{let s=r.detail[e],o=s[0],a=s.slice(1);r.target.style[n]=zg[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:zg[`${o}_rgb`](a)})};return Wt(this,"_commonActions",{display:e=>{let{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{let{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{let n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){let n=this._commonActions;for(let r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;let e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;let n=this._commonActions;for(let[r,s]of Object.entries(e)){let o=n[r];if(o){let a={detail:{[r]:s},target:t};o(a),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:t}=this.data;if(!t)return;let[e,n,r,s]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){let[x,P,M,O]=t.subarray(2,6);if(r===x&&s===P&&e===M&&n===O)return}let{style:o}=this.container,a;if(this.#t){let{borderColor:x,borderWidth:P}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${P}">`],this.container.classList.add("hasBorder")}let l=r-e,c=s-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);let p=u.createElement("defs");d.append(p);let f=u.createElement("clipPath"),w=`clippath_${this.data.id}`;f.setAttribute("id",w),f.setAttribute("clipPathUnits","objectBoundingBox"),p.append(f);for(let x=2,P=t.length;x<P;x+=8){let M=t[x],O=t[x+1],R=t[x+2],G=t[x+3],ie=u.createElement("rect"),de=(R-e)/l,te=(s-O)/c,Y=(M-R)/l,ce=(O-G)/c;ie.setAttribute("x",de),ie.setAttribute("y",te),ie.setAttribute("width",Y),ie.setAttribute("height",ce),f.append(ie),a?.push(`<rect vector-effect="non-scaling-stroke" x="${de}" y="${te}" width="${Y}" height="${ce}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${w})`}_createPopup(){let{data:t}=this,e=this.#n=new bh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){En("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){let n=[];if(this._fieldObjects){let r=this._fieldObjects[t];if(r)for(let{page:s,id:o,exportValues:a}of r){if(s===-1||o===e)continue;let l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!oc.has(c)){Ht(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:l,domElement:c})}return n}for(let r of document.getElementsByName(t)){let{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==e&&oc.has(r)&&n.push({id:o,exportValue:s,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(let e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}},$g=class extends Jn{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){let{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#t(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#e()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#e()}#t(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#e()}#n(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#e()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");let n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let r of Object.keys(e.actions)){let s=n.get(r);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#e()}_bindResetFormAction(t,e){let n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();let{fields:r,refs:s,include:o}=e,a=[];if(r.length!==0||s.length!==0){let u=new Set(s);for(let d of r){let p=this._fieldObjects[d]||[];for(let{id:f}of p)u.add(f)}for(let d of Object.values(this._fieldObjects))for(let p of d)u.has(p.id)===o&&a.push(p)}else for(let u of Object.values(this._fieldObjects))a.push(...u);let l=this.annotationStorage,c=[];for(let u of a){let{id:d}=u;switch(c.push(d),u.type){case"text":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{let f=u.defaultValue===u.exportValues;l.setValue(d,{value:f});break}case"combobox":case"listbox":{let f=u.defaultValue||"";l.setValue(d,{value:f});break}default:continue}let p=document.querySelector(`[data-element-id="${d}"]`);if(p){if(!oc.has(p)){Ht(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}},iy=class extends Jn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}},Qo=class extends Jn{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ii.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,s){n.includes("mouse")?t.addEventListener(n,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(n,o=>{if(n==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(t,e,n,r){for(let[s,o]of n)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){let e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){let e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||H4,s=t.style,o,a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(Sg*r))||1,d=c/u;o=Math.min(r,l(d/Sg))}else{let c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(c/Sg))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=ft.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}},ry=class extends Qo{constructor(t){let e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){let s=this.annotationStorage;for(let o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),s.setValue(o.id,{[r]:n})}render(){let t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){let r=t.getValue(e,{value:this.data.fieldValue}),s=r.value||"",o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=r.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));let l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),oc.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Sh,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",u=>{t.setValue(e,{value:u.target.value}),this.setPropertyOnSiblings(n,"value",u.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue??"";n.value=l.userValue=d,l.formattedValue=null});let c=u=>{let{formattedValue:d}=l;d!=null&&(u.target.value=d),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",d=>{if(l.focused)return;let{target:p}=d;l.userValue&&(p.value=l.userValue),l.lastCommittedValue=p.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);let p={value(f){l.userValue=f.detail.value??"",t.setValue(e,{value:l.userValue.toString()}),f.target.value=l.userValue},formattedValue(f){let{formattedValue:w}=f.detail;l.formattedValue=w,w!=null&&f.target!==document.activeElement&&(f.target.value=w),t.setValue(e,{formattedValue:w})},selRange(f){f.target.setSelectionRange(...f.detail.selRange)},charLimit:f=>{let{charLimit:w}=f.detail,{target:x}=f;if(w===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",w);let P=l.userValue;!P||P.length<=w||(P=P.slice(0,w),x.value=l.userValue=P,t.setValue(e,{value:P}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(p,d)}),n.addEventListener("keydown",d=>{l.commitKey=1;let p=-1;if(d.key==="Escape"?p=0:d.key==="Enter"&&!this.data.multiLine?p=2:d.key==="Tab"&&(l.commitKey=3),p===-1)return;let{value:f}=d.target;l.lastCommittedValue!==f&&(l.lastCommittedValue=f,l.userValue=f,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,willCommit:!0,commitKey:p,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});let u=c;c=null,n.addEventListener("blur",d=>{if(!l.focused||!d.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);let{value:p}=d.target;l.userValue=p,l.lastCommittedValue!==p&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,willCommit:!0,commitKey:l.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}),u(d)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",d=>{l.lastCommittedValue=null;let{data:p,target:f}=d,{value:w,selectionStart:x,selectionEnd:P}=f,M=x,O=P;switch(d.inputType){case"deleteWordBackward":{let R=w.substring(0,x).match(/\w*[^\w]*$/);R&&(M-=R[0].length);break}case"deleteWordForward":{let R=w.substring(x).match(/^[^\w]*\w*/);R&&(O+=R[0].length);break}case"deleteContentBackward":x===P&&(M-=1);break;case"deleteContentForward":x===P&&(O+=1);break}d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,change:p||"",willCommit:!1,selStart:M,selEnd:O}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(c&&n.addEventListener("blur",c),this.data.comb){let d=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}},sy=class extends Qo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}},oy=class extends Qo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){let t=this.annotationStorage,e=this.data,n=e.id,r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let s=document.createElement("input");return oc.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=Sh,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,n)){let u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{let a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{let a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},Gg=class extends Qo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let t=this.annotationStorage,e=this.data,n=e.id,r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(let o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});let s=document.createElement("input");if(oc.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Sh,s.addEventListener("change",o=>{let{name:a,checked:l}=o.target;for(let c of this._getElementsByName(a,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),s.addEventListener("resetform",o=>{let a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){let o=e.buttonValue;s.addEventListener("updatefromsandbox",a=>{let l={value:c=>{let u=o===c.detail.value;for(let d of this._getElementsByName(c.target.name)){let p=u&&d.id===n;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},ay=class extends $g{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){let t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");let e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}},ly=class extends Qo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");oc.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Sh;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{let d=this.data.defaultFieldValue;for(let p of r.options)p.selected=p.value===d});for(let u of this.data.options){let d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),o=()=>{u.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}let a=u=>{let d=u?"value":"textContent",{options:p,multiple:f}=r;return f?Array.prototype.filter.call(p,w=>w.selected).map(w=>w[d]):p.selectedIndex===-1?null:p[p.selectedIndex][d]},l=a(!1),c=u=>{let d=u.target.options;return Array.prototype.map.call(d,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{let d={value(p){o?.();let f=p.detail.value,w=new Set(Array.isArray(f)?f:[f]);for(let x of r.options)x.selected=w.has(x.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(p){r.multiple=!0},remove(p){let f=r.options,w=p.detail.remove;f[w].selected=!1,r.remove(w),f.length>0&&Array.prototype.findIndex.call(f,P=>P.selected)===-1&&(f[0].selected=!0),t.setValue(e,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(p){let{index:f,displayValue:w,exportValue:x}=p.detail.insert,P=r.children[f],M=document.createElement("option");M.textContent=w,M.value=x,P?P.before(M):r.append(M),t.setValue(e,{value:a(!0),items:c(p)}),l=a(!1)},items(p){let{items:f}=p.detail;for(;r.length!==0;)r.remove(0);for(let w of f){let{displayValue:x,exportValue:P}=w,M=document.createElement("option");M.textContent=x,M.value=P,r.append(M)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){let f=new Set(p.detail.indices);for(let w of p.target.options)w.selected=f.has(w.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(d,u)}),r.addEventListener("input",u=>{let d=a(!0),p=a(!1);t.setValue(e,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:p,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},bh=class extends Jn{constructor(t){let{data:e,elements:n}=t;super(t,{isRenderable:Jn._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");let t=this.popup=new cy({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(let n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Iy}${n}`).join(",")),this.container}},cy=class{#e=this.#A.bind(this);#t=this.#M.bind(this);#n=this.#D.bind(this);#i=this.#C.bind(this);#s=null;#r=null;#l=null;#a=null;#u=null;#c=null;#h=null;#d=!1;#f=null;#o=null;#p=null;#m=null;#g=null;#_=null;#w=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#r=t,this.#g=r,this.#l=o,this.#m=a,this.#c=l,this.#s=e,this.#p=c,this.#h=u,this.#u=n,this.#a=Pg.toDateObject(s),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(let p of this.trigger)p.addEventListener("click",this.#i),p.addEventListener("mouseenter",this.#n),p.addEventListener("mouseleave",this.#t),p.classList.add("popupTriggerArea");for(let p of n)p.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,d&&this.#C()}render(){if(this.#f)return;let t=this.#f=document.createElement("div");if(t.className="popup",this.#s){let s=t.style.outlineColor=ft.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=ft.makeHexColor(...this.#s.map(a=>Math.floor(.7*(255-a)+a)))}let e=document.createElement("span");e.className="header";let n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#g,t.append(e),this.#a){let s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),e.append(s)}let r=this.#v;if(r)Wg.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{let s=this._formatContents(this.#l);t.append(s)}this.#r.append(t)}get#v(){let t=this.#m,e=this.#l;return t?.str&&(!e?.str||e.str===t.str)&&this.#m.html||null}get#b(){return this.#v?.attributes?.style?.fontSize||0}get#x(){return this.#v?.attributes?.style?.color||null}#S(t){let e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#x,fontSize:this.#b?`calc(${this.#b}px * var(--scale-factor))`:""}};for(let s of t.split(`
`))e.push({name:"span",value:s,attributes:r});return n}_formatContents({str:t,dir:e}){let n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;let r=t.split(/(?:\r\n?|\n)/);for(let s=0,o=r.length;s<o;++s){let a=r[s];n.append(document.createTextNode(a)),s<o-1&&n.append(document.createElement("br"))}return n}#A(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#C()}updateEdited({rect:t,popupContent:e}){this.#_||={contentsObj:this.#l,richText:this.#m},t&&(this.#o=null),e&&(this.#m=this.#S(e),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#_&&({contentsObj:this.#l,richText:this.#m}=this.#_,this.#_=null,this.#f?.remove(),this.#f=null,this.#o=null)}#P(){if(this.#o!==null)return;let{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:s}}}=this.#c,o=!!this.#h,a=o?this.#h:this.#p;for(let w of this.#u)if(!a||ft.intersect(w.data.rect,a)!==null){a=w.data.rect,o=!0;break}let l=ft.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,p=l[1];this.#o=[100*(d-r)/e,100*(p-s)/n];let{style:f}=this.#r;f.left=`${this.#o[0]}%`,f.top=`${this.#o[1]}%`}#C(){this.#d=!this.#d,this.#d?(this.#D(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#M(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#D(){this.#f||this.render(),this.isVisible?this.#d&&this.#r.classList.add("focused"):(this.#P(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#M(){this.#r.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#w=this.isVisible,this.#w&&(this.#r.hidden=!0)}maybeShow(){this.#w&&(this.#f||this.#D(),this.#w=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}},Yg=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(let e of this.textContent){let n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},uy=class extends Jn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let t=this.data,{width:e,height:n}=Za(t.rect),r=this.svgFactory.create(e,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},dy=class extends Jn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let t=this.data,{width:e,height:n}=Za(t.rect),r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",e-s),o.setAttribute("height",n-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},hy=class extends Jn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let t=this.data,{width:e,height:n}=Za(t.rect),r=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-s/2),o.setAttribute("ry",n/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},Kg=class extends Jn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,vertices:e,borderStyle:n,popupRef:r}}=this;if(!e)return this.container;let{width:s,height:o}=Za(t),a=this.svgFactory.create(s,o,!0),l=[];for(let u=0,d=e.length;u<d;u+=2){let p=e[u]-t[0],f=t[3]-e[u+1];l.push(`${p},${f}`)}l=l.join(" ");let c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},fy=class extends Kg{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},py=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Ch=class extends Jn{#e=null;#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qt.HIGHLIGHT:qt.INK}#n(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);let{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:s}}=this,{transform:o,width:a,height:l}=this.#n(e,t),c=this.svgFactory.create(a,l,!0),u=this.#e=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let d=0,p=n.length;d<p;d++){let f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",n[d].join(",")),u.append(f)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);let{thickness:e,points:n,rect:r}=t,s=this.#e;if(e>=0&&s.setAttribute("stroke-width",e||1),n)for(let o=0,a=this.#t.length;o<a;o++)this.#t[o].setAttribute("points",n[o].join(","));if(r){let{transform:o,width:a,height:l}=this.#n(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${a} ${l}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}},Xg=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},gy=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},my=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},_y=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},Jg=class extends Jn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},vy=class extends Jn{#e=null;constructor(t){super(t,{isRenderable:!0});let{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",mt({source:this},e))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:t,data:e}=this,n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;let{isMac:r}=Ii.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},yy=class{#e=null;#t=null;#n=new Map;#i=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a}){this.div=t,this.#e=e,this.#t=n,this.#i=a||null,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#s(t,e){return $e(this,null,function*(){let n=t.firstChild||t,r=n.id=`${Iy}${e}`,s=yield this.#i?.getAriaAttributes(r);if(s)for(let[o,a]of s)n.setAttribute(o,a);this.div.append(t),this.#e?.moveElementInDOM(this.div,t,n,!1)})}render(t){return $e(this,null,function*(){let{annotations:e}=t,n=this.div;rc(n,this.viewport);let r=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new wh,annotationStorage:t.annotationStorage||new mh,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(let o of e){if(o.noHTML)continue;let a=o.annotationType===gi.POPUP;if(a){let u=r.get(o.id);if(!u)continue;s.elements=u}else{let{width:u,height:d}=Za(o.rect);if(u<=0||d<=0)continue}s.data=o;let l=ny.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){let u=r.get(o.popupRef);u?u.push(l):r.set(o.popupRef,[l])}let c=l.render();o.hidden&&(c.style.visibility="hidden"),yield this.#s(c,o.id),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#r()})}update({viewport:t}){let e=this.div;this.viewport=t,rc(e,{rotation:t.rotation}),this.#r(),e.hidden=!1}#r(){if(!this.#t)return;let t=this.div;for(let[e,n]of this.#t){let r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";let{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):r.append(n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}},Eg=/\r\n?|\n/g,wy=class i extends Hn{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let t=i.prototype,e=s=>s.isEmpty(),n=gh.TRANSLATE_SMALL,r=gh.TRANSLATE_BIG;return Wt(this,"_keyboardManager",new sc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=qt.FREETEXT;constructor(t){super(Ut(mt({},t),{name:"freeTextEditor"})),this.#e=t.color||i._defaultColor||Hn._defaultLineColor,this.#s=t.fontSize||i._defaultFontSize}static initialize(t,e){Hn.initialize(t,e);let n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case en.FREETEXT_SIZE:i._defaultFontSize=e;break;case en.FREETEXT_COLOR:i._defaultColor=e;break}}updateParams(t,e){switch(t){case en.FREETEXT_SIZE:this.#r(e);break;case en.FREETEXT_COLOR:this.#l(e);break}}static get defaultPropertiesToUpdate(){return[[en.FREETEXT_SIZE,i._defaultFontSize],[en.FREETEXT_COLOR,i._defaultColor||Hn._defaultLineColor]]}get propertiesToUpdate(){return[[en.FREETEXT_SIZE,this.#s],[en.FREETEXT_COLOR,this.#e]]}#r(t){let e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#u()},n=this.#s;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(t){let e=r=>{this.#e=this.editorDiv.style.color=r},n=this.#e;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){let t=this.parentScale;return[-i._internalPadding*t,-(i._internalPadding+this.#s)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(qt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let t=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){let t=[];this.editorDiv.normalize();let e=null;for(let n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(i.#c(n)),e=n);return t.join(`
`)}#u(){let[t,e]=this.parentDimensions,n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{let{currentLayer:r,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;let n=r=>{if(this.#t=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){i._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#s}px * var(--scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ig(this,this.div,["dblclick","keydown"]),this.width){let[r,s]=this.parentDimensions;if(this.annotationElementId){let{position:o}=this._initialData,[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);let[c,u]=this.pageDimensions,[d,p]=this.pageTranslation,f,w;switch(this.rotation){case 0:f=t+(o[0]-d)/c,w=e+this.height-(o[1]-p)/u;break;case 90:f=t+(o[0]-d)/c,w=e-(o[1]-p)/u,[a,l]=[l,-a];break;case 180:f=t-this.width+(o[0]-d)/c,w=e-(o[1]-p)/u,[a,l]=[-a,-l];break;case 270:f=t+(o[0]-d-this.height*u)/c,w=e+(o[1]-p-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(f*r,w*s,a,l)}else this.setAt(t*r,e*s,this.width*r,this.height*s);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Eg,"")}editorDivPaste(t){let e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();let r=i.#f(e.getData("text")||"").replaceAll(Eg,`
`);if(!r)return;let s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();let o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}let{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){let f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(Eg,"")),f!==this.editorDiv){let w=c;for(let x of this.editorDiv.childNodes){if(x===f){w=u;continue}w.push(i.#c(x))}}c.push(a.nodeValue.slice(0,l).replaceAll(Eg,""))}else if(a===this.editorDiv){let f=c,w=0;for(let x of this.editorDiv.childNodes)w++===l&&(f=u),f.push(i.#c(x))}this.#t=`${c.join(`
`)}${r}${u.join(`
`)}`,this.#h();let d=new Range,p=c.reduce((f,w)=>f+w.length,0);for(let{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){let w=f.nodeValue.length;if(p<=w){d.setStart(f,p),d.setEnd(f,p);break}p-=w}s.removeAllRanges(),s.addRange(d)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let t of this.#t.split(`
`)){let e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll("\xA0"," ")}static#f(t){return t.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){return $e(this,null,function*(){let r=null;if(t instanceof Yg){let{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u,popupRef:d},textContent:p,textPosition:f,parent:{page:{pageNumber:w}}}=t;if(!p||p.length===0)return null;r=t={annotationType:qt.FREETEXT,color:Array.from(a),fontSize:o,value:p.join(`
`),position:f,pageIndex:w-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:d}}let s=yield Nl(i,this,"deserialize").call(this,t,e,n);return s.#s=t.fontSize,s.#e=ft.makeHexColor(...t.color),s.#t=i.#f(t.value),s.annotationElementId=t.id||null,s._initialData=r,s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let e=i._internalPadding*this.parentScale,n=this.getRect(e,e),r=Hn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:qt.FREETEXT,color:r,fontSize:this.#s,value:this.#d(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!this.#o(s)?null:(s.id=this.annotationElementId,s)}#o(t){let{value:e,fontSize:n,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((o,a)=>o!==r[a])||t.pageIndex!==s}renderAnnotationElement(t){let e=super.renderAnnotationElement(t);if(this.deleted)return e;let{style:n}=e;n.fontSize=`calc(${this.#s}px * var(--scale-factor))`,n.color=this.#e,e.replaceChildren();for(let s of this.#t.split(`
`)){let o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}let r=i._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}},st=(()=>{class i{static PRECISION=1e-4;toSVGPath(){En("Abstract method `toSVGPath` must be implemented.")}get box(){En("Abstract getter `box` must be implemented.")}serialize(e,n){En("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,s,o,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=n+e[l]*s,a[l+1]=r+e[l+1]*o;return a}static _rescaleAndSwap(e,n,r,s,o,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=n+e[l+1]*s,a[l+1]=r+e[l]*o;return a}static _translate(e,n,r,s){s||=new Float32Array(e.length);for(let o=0,a=e.length;o<a;o+=2)s[o]=n+e[o],s[o+1]=r+e[o+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,s,o){switch(o){case 90:return[1-n/r,e/s];case 180:return[1-e/r,1-n/s];case 270:return[n/r,1-e/s];default:return[e/r,n/s]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,s,o,a){return[(e+5*r)/6,(n+5*s)/6,(5*r+o)/6,(5*s+a)/6,(r+o)/2,(s+a)/2]}}return i})(),Zg=class i{#e;#t=[];#n;#i;#s=[];#r=new Float32Array(18);#l;#a;#u;#c;#h;#d;#f=[];static#o=8;static#p=2;static#m=i.#o+i.#p;constructor({x:t,y:e},n,r,s,o,a=0){this.#e=n,this.#d=s*r,this.#i=o,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#n=a,this.#c=i.#o*r,this.#u=i.#m*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#g(){let t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[n,r,s,o]=this.#e;return[(this.#l+(t[0]-e[0])/2-n)/s,(this.#a+(t[1]-e[1])/2-r)/o,(this.#l+(e[0]-t[0])/2-n)/s,(this.#a+(e[1]-t[1])/2-r)/o]}add({x:t,y:e}){this.#l=t,this.#a=e;let[n,r,s,o]=this.#e,[a,l,c,u]=this.#r.subarray(8,12),d=t-c,p=e-u,f=Math.hypot(d,p);if(f<this.#u)return!1;let w=f-this.#c,x=w/f,P=x*d,M=x*p,O=a,R=l;a=c,l=u,c+=P,u+=M,this.#f?.push(t,e);let G=-M/w,ie=P/w,de=G*this.#d,te=ie*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([c+de,u+te],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([c-de,u-te],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([a+de,l+te],2),this.#s.push(NaN,NaN,NaN,NaN,(a+de-n)/s,(l+te-r)/o),this.#r.set([a-de,l-te],14),this.#t.push(NaN,NaN,NaN,NaN,(a-de-n)/s,(l-te-r)/o)),this.#r.set([O,R,a,l,c,u],6),!this.isEmpty()):(this.#r.set([O,R,a,l,c,u],6),Math.abs(Math.atan2(R-l,O-a)-Math.atan2(M,P))<Math.PI/2?([a,l,c,u]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-n)/s,((l+u)/2-r)/o),[a,l,O,R]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((O+a)/2-n)/s,((R+l)/2-r)/o),!0):([O,R,a,l,c,u]=this.#r.subarray(0,6),this.#s.push(((O+5*a)/6-n)/s,((R+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),[c,u,a,l,O,R]=this.#r.subarray(12,18),this.#t.push(((O+5*a)/6-n)/s,((R+5*l)/6-r)/o,((5*a+c)/6-n)/s,((5*l+u)/6-r)/o,((a+c)/2-n)/s,((l+u)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";let t=this.#s,e=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#_();let n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#v(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#w(n),n.join(" ")}#_(){let[t,e,n,r]=this.#e,[s,o,a,l]=this.#g();return`M${(this.#r[2]-t)/n} ${(this.#r[3]-e)/r} L${(this.#r[4]-t)/n} ${(this.#r[5]-e)/r} L${s} ${o} L${a} ${l} L${(this.#r[16]-t)/n} ${(this.#r[17]-e)/r} L${(this.#r[14]-t)/n} ${(this.#r[15]-e)/r} Z`}#w(t){let e=this.#t;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){let[e,n,r,s]=this.#e,o=this.#r.subarray(4,6),a=this.#r.subarray(16,18),[l,c,u,d]=this.#g();t.push(`L${(o[0]-e)/r} ${(o[1]-n)/s} L${l} ${c} L${u} ${d} L${(a[0]-e)/r} ${(a[1]-n)/s}`)}newFreeDrawOutline(t,e,n,r,s,o){return new Qg(t,e,n,r,s,o)}getOutlines(){let t=this.#s,e=this.#t,n=this.#r,[r,s,o,a]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,p=l.length-2;d<p;d+=2)l[d]=(this.#f[d]-r)/o,l[d+1]=(this.#f[d+1]-s)/a;if(l[l.length-2]=(this.#l-r)/o,l[l.length-1]=(this.#a-s)/a,isNaN(n[6])&&!this.isEmpty())return this.#b(l);let c=new Float32Array(this.#s.length+24+this.#t.length),u=t.length;for(let d=0;d<u;d+=2){if(isNaN(t[d])){c[d]=c[d+1]=NaN;continue}c[d]=t[d],c[d+1]=t[d+1]}u=this.#S(c,u);for(let d=e.length-6;d>=6;d-=6)for(let p=0;p<6;p+=2){if(isNaN(e[d+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[d+p],c[u+1]=e[d+p+1],u+=2}return this.#x(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#n,this.#i)}#b(t){let e=this.#r,[n,r,s,o]=this.#e,[a,l,c,u]=this.#g(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-r)/o,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-r)/o,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-r)/o],0),this.newFreeDrawOutline(d,t,this.#e,this.#h,this.#n,this.#i)}#x(t,e){let n=this.#t;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#S(t,e){let n=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,p]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/a,(n[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l],e),e+=24}},Qg=class extends st{#e;#t=new Float32Array(4);#n;#i;#s;#r;#l;constructor(t,e,n,r,s,o){super(),this.#l=t,this.#s=e,this.#e=n,this.#r=r,this.#n=s,this.#i=o,this.lastPoint=[NaN,NaN],this.#a(o);let[a,l,c,u]=this.#t;for(let d=0,p=t.length;d<p;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u;for(let d=0,p=e.length;d<p;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u}toSVGPath(){let t=[`M${this.#l[4]} ${this.#l[5]}`];for(let e=6,n=this.#l.length;e<n;e+=6){if(isNaN(this.#l[e])){t.push(`L${this.#l[e+4]} ${this.#l[e+5]}`);continue}t.push(`C${this.#l[e]} ${this.#l[e+1]} ${this.#l[e+2]} ${this.#l[e+3]} ${this.#l[e+4]} ${this.#l[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],s){let o=n-t,a=r-e,l,c;switch(s){case 0:l=st._rescale(this.#l,t,r,o,-a),c=st._rescale(this.#s,t,r,o,-a);break;case 90:l=st._rescaleAndSwap(this.#l,t,e,o,a),c=st._rescaleAndSwap(this.#s,t,e,o,a);break;case 180:l=st._rescale(this.#l,n,e,-o,a),c=st._rescale(this.#s,n,e,-o,a);break;case 270:l=st._rescaleAndSwap(this.#l,n,r,-o,-a),c=st._rescaleAndSwap(this.#s,n,r,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#a(t){let e=this.#l,n=e[4],r=e[5],s=n,o=r,a=n,l=r,c=n,u=r,d=t?Math.max:Math.min;for(let f=6,w=e.length;f<w;f+=6){if(isNaN(e[f]))s=Math.min(s,e[f+4]),o=Math.min(o,e[f+5]),a=Math.max(a,e[f+4]),l=Math.max(l,e[f+5]),u<e[f+5]?(c=e[f+4],u=e[f+5]):u===e[f+5]&&(c=d(c,e[f+4]));else{let x=ft.bezierBoundingBox(n,r,...e.slice(f,f+6));s=Math.min(s,x[0]),o=Math.min(o,x[1]),a=Math.max(a,x[2]),l=Math.max(l,x[3]),u<x[3]?(c=x[2],u=x[3]):u===x[3]&&(c=d(c,x[2]))}n=e[f+4],r=e[f+5]}let p=this.#t;p[0]=s-this.#n,p[1]=o-this.#n,p[2]=a-s+2*this.#n,p[3]=l-o+2*this.#n,this.lastPoint=[c,u]}get box(){return this.#t}newOutliner(t,e,n,r,s,o=0){return new Zg(t,e,n,r,s,o)}getNewOutline(t,e){let[n,r,s,o]=this.#t,[a,l,c,u]=this.#e,d=s*c,p=o*u,f=n*c+a,w=r*u+l,x=this.newOutliner({x:this.#s[0]*d+f,y:this.#s[1]*p+w},this.#e,this.#r,t,this.#i,e??this.#n);for(let P=2;P<this.#s.length;P+=2)x.add({x:this.#s[P]*d+f,y:this.#s[P+1]*p+w});return x.getOutlines()}},xh=class{#e;#t;#n=[];#i=[];constructor(t,e=0,n=0,r=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0,u=10**-4;for(let{x:M,y:O,width:R,height:G}of t){let ie=Math.floor((M-e)/u)*u,de=Math.ceil((M+R+e)/u)*u,te=Math.floor((O-e)/u)*u,Y=Math.ceil((O+G+e)/u)*u,ce=[ie,te,Y,!0],we=[de,te,Y,!1];this.#n.push(ce,we),s=Math.min(s,ie),o=Math.max(o,de),a=Math.min(a,te),l=Math.max(l,Y)}let d=o-s+2*n,p=l-a+2*n,f=s-n,w=a-n,x=this.#n.at(r?-1:-2),P=[x[0],x[2]];for(let M of this.#n){let[O,R,G]=M;M[0]=(O-f)/d,M[1]=(R-w)/p,M[2]=(G-w)/p}this.#e=new Float32Array([f,w,d,p]),this.#t=P}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);let t=[];for(let e of this.#n)e[3]?(t.push(...this.#u(e)),this.#l(e)):(this.#a(e),t.push(...this.#u(e)));return this.#s(t)}#s(t){let e=[],n=new Set;for(let o of t){let[a,l,c]=o;e.push([a,l,o],[a,c,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){let l=e[o][2],c=e[o+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}let r=[],s;for(;n.size>0;){let o=n.values().next().value,[a,l,c,u,d]=o;n.delete(o);let p=a,f=l;for(s=[a,c],r.push(s);;){let w;if(n.has(u))w=u;else if(n.has(d))w=d;else break;n.delete(w),[a,l,c,u,d]=w,p!==a&&(s.push(p,f,a,f===l?l:c),p=a),f=f===l?c:l}s.push(p,f)}return new by(r,this.#e,this.#t)}#r(t){let e=this.#i,n=0,r=e.length-1;for(;n<=r;){let s=n+r>>1,o=e[s][0];if(o===t)return s;o<t?n=s+1:r=s-1}return r+1}#l([,t,e]){let n=this.#r(t);this.#i.splice(n,0,[t,e])}#a([,t,e]){let n=this.#r(t);for(let r=n;r<this.#i.length;r++){let[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}for(let r=n-1;r>=0;r--){let[s,o]=this.#i[r];if(s!==t)break;if(s===t&&o===e){this.#i.splice(r,1);return}}}#u(t){let[e,n,r]=t,s=[[e,n,r]],o=this.#r(r);for(let a=0;a<o;a++){let[l,c]=this.#i[a];for(let u=0,d=s.length;u<d;u++){let[,p,f]=s[u];if(!(c<=p||f<=l)){if(p>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([e,c,f])}}}return s}},by=class extends st{#e;#t;constructor(t,e,n){super(),this.#t=t,this.#e=e,this.lastPoint=n}toSVGPath(){let t=[];for(let e of this.#t){let[n,r]=e;t.push(`M${n} ${r}`);for(let s=2;s<e.length;s+=2){let o=e[s],a=e[s+1];o===n?(t.push(`V${a}`),r=a):a===r&&(t.push(`H${o}`),n=o)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],s){let o=[],a=n-t,l=r-e;for(let c of this.#t){let u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=t+c[d]*a,u[d+1]=r-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}},Eh=class extends Zg{newFreeDrawOutline(t,e,n,r,s,o){return new Cy(t,e,n,r,s,o)}},Cy=class extends Qg{newOutliner(t,e,n,r,s,o=0){return new Eh(t,e,n,r,s,o)}},em=class i{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#l=null;#a;#u=null;#c=null;#h;static#d=null;static get _keyboardManager(){return Wt(this,"_keyboardManager",new sc([[["Escape","mac+Escape"],i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],i.prototype._moveToPrevious],[["Home","mac+Home"],i.prototype._moveToBeginning],[["End","mac+End"],i.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#h=en.HIGHLIGHT_COLOR,this.#l=t):(this.#r=!0,this.#h=en.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||e,this.#a=this.#c._eventBus,this.#n=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",i.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let t=this.#e=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);let e=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});let n=this.#t=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#n,t.append(n),t}renderMainDropdown(){let t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){let t=document.createElement("div"),e=this.#c._signal;t.addEventListener("contextmenu",ks,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[n,r]of this.#c.highlightColors){let s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=n,s.setAttribute("data-l10n-id",i.#d[n]);let o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#n),s.addEventListener("click",this.#o.bind(this,r),{signal:e}),t.append(s)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#o(t,e){e.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#e){this.#m(t);return}let e=t.target.getAttribute("data-color");e&&this.#o(e,t)}_moveToNext(t){if(!this.#_){this.#m(t);return}if(t.target===this.#e){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#e){this.#_&&this._hideDropdownFromKeyboard();return}this.#_||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#_){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#_){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){i._keyboardManager.exec(this,t)}#m(t){if(this.#_){this.hideDropdown();return}if(this.#s=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#u)})),this.#i){this.#i.classList.remove("hidden");return}let e=this.#i=this.#f();this.#e.append(e)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#_(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#_){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#t&&(this.#t.style.backgroundColor=t),!this.#i)return;let e=this.#c.highlightColors.values();for(let n of this.#i.children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}},tm=class i extends Hn{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#l=null;#a=0;#u=null;#c=null;#h=null;#d=!1;#f=null;#o;#p=null;#m="";#g;#_="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=qt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let t=i.prototype;return Wt(this,"_keyboardManager",new sc([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(Ut(mt({},t),{name:"highlightEditor"})),this.color=t.color||i._defaultColor,this.#g=t.thickness||i._defaultThickness,this.#o=t.opacity||i._defaultOpacity,this.#n=t.boxes||null,this.#_=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#d=!0,this.#v(t),this.#P()):this.#n&&(this.#e=t.anchorNode,this.#t=t.anchorOffset,this.#l=t.focusNode,this.#a=t.focusOffset,this.#w(),this.#P(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#_}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#w(){let t=new xh(this.#n,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;let e=new xh(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();let{lastPoint:n}=this.#r;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#c=t;let r=1.5;if(this.#r=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#h=e,this.#i=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:i.#C(this.#c.box,(u-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:i.#C(this.#r.box,u),path:{d:this.#r.toSVGPath()}})}let[s,o,a,l]=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{let[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{let[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}let{lastPoint:c}=this.#r;this.#f=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(t,e){Hn.initialize(t,e),i._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case en.HIGHLIGHT_DEFAULT_COLOR:i._defaultColor=e;break;case en.HIGHLIGHT_THICKNESS:i._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case en.HIGHLIGHT_COLOR:this.#b(e);break;case en.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[en.HIGHLIGHT_DEFAULT_COLOR,i._defaultColor],[en.HIGHLIGHT_THICKNESS,i._defaultThickness]]}get propertiesToUpdate(){return[[en.HIGHLIGHT_COLOR,this.color||i._defaultColor],[en.HIGHLIGHT_THICKNESS,this.#g||i._defaultThickness],[en.HIGHLIGHT_FREE,this.#d]]}#b(t){let e=(s,o)=>{this.color=s,this.#o=o,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:s,"fill-opacity":o}}),this.#s?.updateColor(s)},n=this.color,r=this.#o;this.addCommands({cmd:e.bind(this,t,i._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#x(t){let e=this.#g,n=r=>{this.#g=r,this.#S(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}addEditToolbar(){return $e(this,null,function*(){let t=yield Nl(i.prototype,this,"addEditToolbar").call(this);return t?(this._uiManager.highlightColors&&(this.#s=new em({editor:this}),t.addColorPicker(this.#s)),t):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#T())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#T())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#P(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#A():t&&(this.#P(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#S(t){if(!this.#d)return;this.#v({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();let[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#A(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#P(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#o},rootClass:{highlight:!0,free:this.#d},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#u&&(this.#u.style.clipPath=this.#i))}static#C([t,e,n,r],s){switch(s){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){let{drawLayer:e}=this.parent,n;this.#d?(t=(t-this.rotation+360)%360,n=i.#C(this.#c.box,t)):n=i.#C([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:i.#C(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;let t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});let e=this.#u=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#i;let[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Ig(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){i._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#e)return;let e=window.getSelection();t?e.setPosition(this.#e,this.#t):e.setPosition(this.#l,this.#a)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#M(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#T(){return this.#d?this.rotation:0}#k(){if(this.#d)return null;let[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8),a=0;for(let{x:l,y:c,width:u,height:d}of s){let p=l*t+n,f=(1-c)*e+r;o[a]=o[a+4]=p,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=p+u*t,o[a+5]=o[a+7]=f-d*e,a+=8}return o}#F(t){return this.#c.serialize(t,this.#T())}static startHighlighting(t,e,{target:n,x:r,y:s}){let{x:o,y:a,width:l,height:c}=n.getBoundingClientRect(),u=new AbortController,d=t.combinedSignal(u),p=f=>{u.abort(),this.#y(t,f)};window.addEventListener("blur",p,{signal:d}),window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("pointerdown",Wr,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",ks,{signal:d}),n.addEventListener("pointermove",this.#E.bind(this,t),{signal:d}),this._freeHighlight=new Eh({x:r,y:s},[o,a,l,c],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#E(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#y(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,e,n){return $e(this,null,function*(){let r=null;if(t instanceof Xg){let{data:{quadPoints:w,rect:x,rotation:P,id:M,color:O,opacity:R,popupRef:G},parent:{page:{pageNumber:ie}}}=t;r=t={annotationType:qt.HIGHLIGHT,color:Array.from(O),opacity:R,quadPoints:w,boxes:null,pageIndex:ie-1,rect:x.slice(0),rotation:P,id:M,deleted:!1,popupRef:G}}else if(t instanceof Ch){let{data:{inkLists:w,rect:x,rotation:P,id:M,color:O,borderStyle:{rawWidth:R},popupRef:G},parent:{page:{pageNumber:ie}}}=t;r=t={annotationType:qt.HIGHLIGHT,color:Array.from(O),thickness:R,inkLists:w,boxes:null,pageIndex:ie-1,rect:x.slice(0),rotation:P,id:M,deleted:!1,popupRef:G}}let{color:s,quadPoints:o,inkLists:a,opacity:l}=t,c=yield Nl(i,this,"deserialize").call(this,t,e,n);c.color=ft.makeHexColor(...s),c.#o=l||1,a&&(c.#g=t.thickness),c.annotationElementId=t.id||null,c._initialData=r;let[u,d]=c.pageDimensions,[p,f]=c.pageTranslation;if(o){let w=c.#n=[];for(let x=0;x<o.length;x+=8)w.push({x:(o[x]-p)/u,y:1-(o[x+1]-f)/d,width:(o[x+2]-o[x])/u,height:(o[x+1]-o[x+5])/d});c.#w(),c.#P(),c.rotate(c.rotation)}else if(a){c.#d=!0;let w=a[0],x={x:w[0]-p,y:d-(w[1]-f)},P=new Eh(x,[0,0,u,d],1,c.#g/2,!0,.001);for(let R=0,G=w.length;R<G;R+=2)x.x=w[R]-p,x.y=d-(w[R+1]-f),P.add(x);let{id:M,clipPathId:O}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);c.#v({highlightOutlines:P.getOutlines(),highlightId:M,clipPathId:O}),c.#P()}return c})}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();let e=this.getRect(0,0),n=Hn._colorManager.convert(this.color),r={annotationType:qt.HIGHLIGHT,color:n,opacity:this.#o,thickness:this.#g,quadPoints:this.#k(),outlines:this.#F(e),pageIndex:this.pageIndex,rect:e,rotation:this.#T(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#N(r)?null:(r.id=this.annotationElementId,r)}#N(t){let{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},xy=class{#e=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(let[e,n]of Object.entries(t))this.updateProperty(e,n)}updateSVGProperty(t,e){this.#e[t]=e}toSVGProperties(){let t=this.#e;return this.#e=Object.create(null),{root:t}}reset(){this.#e=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){En("Not implemented")}},U4=(()=>{class i extends Hn{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#i=null;static#s=null;static#r=NaN;static#l=null;static#a=null;static#u=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,e.drawOutlines&&(this.#c(e),this.#f())}#c({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#m(e.box)}#h(e,n){let{id:r}=n.drawLayer.draw(i._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){let r=new Set(Object.keys(e));for(let[s,o]of Object.entries(n))r.has(s)?Object.assign(e[s],o):e[s]=o;return e}static getDefaultDrawingOptions(e){En("Not implemented")}static get typesMap(){En("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){let r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(i.#n.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){let r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){let e=[],n=this._defaultDrawingOptions;for(let[r,s]of this.typesMap)e.push([r,n[s]]);return e}get propertiesToUpdate(){let e=[],{_drawingOptions:n}=this;for(let[r,s]of this.constructor.typesMap)e.push([r,n[s]]);return e}_updateProperty(e,n,r){let s=this._drawingOptions,o=s[n],a=l=>{s.updateProperty(n,l);let c=this.#e.updateProperty(n,l);c&&this.#m(c),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,i._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,i._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g(e,n)})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,i._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#o([e,n,r,s]){let{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[n,1-e,r*(a/o),s*(o/a)];case 180:return[1-e,1-n,r,s];case 270:return[1-n,e,r*(a/o),s*(o/a)];default:return[e,n,r,s]}}#p(){let{x:e,y:n,width:r,height:s,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-n,e,r*(o/a),s*(a/o)];case 180:return[1-e,1-n,r,s];case 270:return[n,1-e,r*(o/a),s*(a/o)];default:return[e,n,r,s]}}#m(e){if([this.x,this.y,this.width,this.height]=this.#o(e),this.div){this.fixAndSetPosition();let[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}this._onResized()}#g(){let{x:e,y:n,width:r,height:s,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-n-s,e,s,r];case 2:return[1-e-r,1-n-s,r,s];case 3:return[n,1-e-r,s,r];case 4:return[e,n-r*(l/c),s*(c/l),r*(l/c)];case 5:return[1-n,e,r*(l/c),s*(c/l)];case 6:return[1-e-s*(c/l),1-n,s*(c/l),r*(l/c)];case 7:return[n-r*(l/c),1-e-s*(c/l),r*(l/c),s*(c/l)];case 8:return[e-r,n-s,r,s];case 9:return[1-n,e-r,s,r];case 10:return[1-e,1-n,r,s];case 11:return[n-s,1-e,s,r];case 12:return[e-s*(c/l),n,s*(c/l),r*(l/c)];case 13:return[1-n-r*(l/c),e-s*(c/l),r*(l/c),s*(c/l)];case 14:return[1-e,1-n-r*(l/c),s*(c/l),r*(l/c)];case 15:return[n,1-e,r*(l/c),s*(c/l)];default:return[e,n,r,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,i._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e=super.render();e.classList.add("draw");let n=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";let[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,n,r,s,o){En("Not implemented")}static startDrawing(e,n,r,s){let{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=s;if(i.#l&&i.#l!==u)return;let{viewport:{rotation:d}}=e,{width:p,height:f}=o.getBoundingClientRect(),w=i.#i=new AbortController,x=e.combinedSignal(w);if(i.#r||=c,i.#l??=u,window.addEventListener("pointerup",P=>{i.#r===P.pointerId?this._endDraw(P):i.#a?.delete(P.pointerId)},{signal:x}),window.addEventListener("pointercancel",P=>{i.#r===P.pointerId?this._currentParent.endDrawingSession():i.#a?.delete(P.pointerId)},{signal:x}),window.addEventListener("pointerdown",P=>{i.#l===P.pointerType&&((i.#a||=new Set).add(P.pointerId),i.#n.isCancellable()&&(i.#n.removeLastElement(),i.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",ks,{signal:x}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),o.addEventListener("touchmove",P=>{P.timeStamp===i.#u&&Wr(P)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),i.#n){e.drawLayer.updateProperties(this._currentDrawId,i.#n.startNew(a,l,p,f,d));return}n.updateUIForDefaultProperties(this),i.#n=this.createDrawerInstance(a,l,p,f,d),i.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(i.#s.toSVGProperties(),i.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(i.#u=-1,!i.#n)return;let{offsetX:n,offsetY:r,pointerId:s}=e;if(i.#r===s){if(i.#a?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,i.#n.add(n,r)),i.#u=e.timeStamp,Wr(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,i.#n=null,i.#s=null,i.#l=null,i.#u=NaN),i.#i&&(i.#i.abort(),i.#i=null,i.#r=NaN,i.#a=null)}static _endDraw(e){let n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e&&n.drawLayer.updateProperties(this._currentDrawId,i.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){let r=i.#n,s=this._currentDrawId,o=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{n.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:en.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){let n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(en.DRAW_STEP),!i.#n.isEmpty()){let{pageDimensions:[r,s],scale:o}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:i.#n.getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:i.#s,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,s,o,a){En("Not implemented")}static deserialize(e,n,r){return $e(this,null,function*(){let{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}=n.viewport,c=this.deserializeDraw(a,l,s,o,this._INNER_MARGIN,e),u=yield Nl(i,this,"deserialize").call(this,e,n,r);return u.createDrawingOptions(e),u.#c({drawOutlines:c}),u.#f(),u.onScaleChanging(),u.rotate(),u})}serializeDraw(e){let[n,r]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#e.serialize([n,r,s,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}return i})(),Ey=class{#e=new Float64Array(6);#t;#n;#i;#s;#r;#l="";#a=0;#u=new nm;#c;#h;constructor(t,e,n,r,s,o){this.#c=n,this.#h=r,this.#i=s,this.#s=o,[t,e]=this.#d(t,e);let a=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#n=[{line:a,points:this.#r}],this.#e.set(a,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#d(t,e){return st._normalizePoint(t,e,this.#c,this.#h,this.#i)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#d(t,e);let[n,r,s,o]=this.#e.subarray(2,6),a=t-s,l=e-o;return Math.hypot(this.#c*a,this.#h*l)<=2?null:(this.#r.push(t,e),isNaN(n)?(this.#e.set([s,o,t,e],2),this.#t.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,r,s,o,t,e],0),this.#t.push(...st.createBezierPoints(n,r,s,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){let n=this.add(t,e);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,s){this.#c=n,this.#h=r,this.#i=s,[t,e]=this.#d(t,e);let o=this.#t=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];let a=this.#n.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#n.push({line:o,points:this.#r}),this.#e.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(t){return this.#n?(this.#n.push(t),this.#t=t.line,this.#r=t.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#n)return this.#u.removeLastElement();this.#n.pop(),this.#l="";for(let t=0,e=this.#n.length;t<e;t++){let{line:n,points:r}=this.#n[t];this.#t=n,this.#r=r,this.#a=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){let t=st.svgRound(this.#t[4]),e=st.svgRound(this.#t[5]);if(this.#r.length===2)return this.#l=`${this.#l} M ${t} ${e} Z`,this.#l;if(this.#r.length<=6){let r=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,r)} M ${t} ${e}`,this.#a=6}if(this.#r.length===4){let r=st.svgRound(this.#t[10]),s=st.svgRound(this.#t[11]);return this.#l=`${this.#l} L ${r} ${s}`,this.#a=12,this.#l}let n=[];this.#a===0&&(n.push(`M ${t} ${e}`),this.#a=6);for(let r=this.#a,s=this.#t.length;r<s;r+=6){let[o,a,l,c,u,d]=this.#t.slice(r,r+6).map(st.svgRound);n.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return this.#l+=n.join(" "),this.#a=this.#t.length,this.#l}getOutlines(t,e,n,r){let s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#u.build(this.#n,t,e,n,this.#i,this.#s,r),this.#e=null,this.#t=null,this.#n=null,this.#l=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}},nm=class i extends st{#e;#t=0;#n;#i;#s;#r;#l;#a;#u;build(t,e,n,r,s,o,a){this.#s=e,this.#r=n,this.#l=r,this.#a=s,this.#u=o,this.#n=a??0,this.#i=t,this.#d()}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){let t=[];for(let{line:e}of this.#i){if(t.push(`M${st.svgRound(e[4])} ${st.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12){t.push(`L${st.svgRound(e[10])} ${st.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){let[s,o,a,l,c,u]=e.subarray(n,n+6).map(st.svgRound);t.push(`C${s} ${o} ${a} ${l} ${c} ${u}`)}}return t.join("")}serialize([t,e,n,r],s){let o=[],a=[],[l,c,u,d]=this.#h(),p,f,w,x,P,M,O,R,G;switch(this.#a){case 0:G=st._rescale,p=t,f=e+r,w=n,x=-r,P=t+l*n,M=e+(1-c-d)*r,O=t+(l+u)*n,R=e+(1-c)*r;break;case 90:G=st._rescaleAndSwap,p=t,f=e,w=n,x=r,P=t+c*n,M=e+l*r,O=t+(c+d)*n,R=e+(l+u)*r;break;case 180:G=st._rescale,p=t+n,f=e,w=-n,x=r,P=t+(1-l-u)*n,M=e+c*r,O=t+(1-l)*n,R=e+(c+d)*r;break;case 270:G=st._rescaleAndSwap,p=t+n,f=e+r,w=-n,x=-r,P=t+(1-c-d)*n,M=e+(1-l-u)*r,O=t+(1-c)*n,R=e+(1-l)*r;break}for(let{line:ie,points:de}of this.#i)o.push(G(ie,p,f,w,x,s?new Array(ie.length):null)),a.push(G(de,p,f,w,x,s?new Array(de.length):null));return{lines:o,points:a,rect:[P,M,O,R]}}static deserialize(t,e,n,r,s,{paths:{lines:o,points:a},rotation:l,thickness:c}){let u=[],d,p,f,w,x;switch(l){case 0:x=st._rescale,d=-t/n,p=e/r+1,f=1/n,w=-1/r;break;case 90:x=st._rescaleAndSwap,d=-e/r,p=-t/n,f=1/r,w=1/n;break;case 180:x=st._rescale,d=t/n+1,p=-e/r,f=-1/n,w=1/r;break;case 270:x=st._rescaleAndSwap,d=e/r+1,p=t/n+1,f=-1/r,w=-1/n;break}if(!o){o=[];for(let M of a){let O=M.length;if(O===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1]]));continue}if(O===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1],NaN,NaN,NaN,NaN,M[2],M[3]]));continue}let R=new Float32Array(3*(O-2));o.push(R);let[G,ie,de,te]=M.subarray(0,4);R.set([NaN,NaN,NaN,NaN,G,ie],0);for(let Y=4;Y<O;Y+=2){let ce=M[Y],we=M[Y+1];R.set(st.createBezierPoints(G,ie,de,te,ce,we),(Y-2)*3),[G,ie,de,te]=[de,te,ce,we]}}}for(let M=0,O=o.length;M<O;M++)u.push({line:x(o[M].map(R=>R??NaN),d,p,f,w),points:x(a[M].map(R=>R??NaN),d,p,f,w)});let P=new i;return P.build(u,n,r,1,l,c,s),P}#c(t=this.#u){let e=this.#n+t/2*this.#l;return this.#a%180===0?[e/this.#s,e/this.#r]:[e/this.#r,e/this.#s]}#h(){let[t,e,n,r]=this.#e,[s,o]=this.#c(0);return[t+s,e+o,n-2*s,r-2*o]}#d(){let t=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(let{line:r}of this.#i){if(r.length<=12){for(let a=4,l=r.length;a<l;a+=6){let[c,u]=r.subarray(a,a+2);t[0]=Math.min(t[0],c),t[1]=Math.min(t[1],u),t[2]=Math.max(t[2],c),t[3]=Math.max(t[3],u)}continue}let s=r[4],o=r[5];for(let a=6,l=r.length;a<l;a+=6){let[c,u,d,p,f,w]=r.subarray(a,a+6);ft.bezierBoundingBox(s,o,c,u,d,p,f,w,t),s=f,o=w}}let[e,n]=this.#c();t[0]=Math.min(1,Math.max(0,t[0]-e)),t[1]=Math.min(1,Math.max(0,t[1]-n)),t[2]=Math.min(1,Math.max(0,t[2]+e)),t[3]=Math.min(1,Math.max(0,t[3]+n)),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#e}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){let[e,n]=this.#c();this.#u=t;let[r,s]=this.#c(),[o,a]=[r-e,s-n],l=this.#e;return l[0]-=o,l[1]-=a,l[2]+=2*o,l[3]+=2*a,l}updateParentDimensions([t,e],n){let[r,s]=this.#c();this.#s=t,this.#r=e,this.#l=n;let[o,a]=this.#c(),l=o-r,c=a-s,u=this.#e;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(t){return this.#t=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(st.svgRound).join(" ")}get defaultProperties(){let[t,e]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get rotationTransform(){let[,,t,e]=this.#e,n=0,r=0,s=0,o=0,a=0,l=0;switch(this.#t){case 90:r=e/t,s=-t/e,a=t;break;case 180:n=-1,o=-1,a=t,l=e;break;case 270:r=-e/t,s=t/e,l=e;break;default:return""}return`matrix(${n} ${r} ${s} ${o} ${st.svgRound(a)} ${st.svgRound(l)})`}getPathResizingSVGProperties([t,e,n,r]){let[s,o]=this.#c(),[a,l,c,u]=this.#e;if(Math.abs(c-s)<=st.PRECISION||Math.abs(u-o)<=st.PRECISION){let x=t+n/2-(a+c/2),P=e+r/2-(l+u/2);return{path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:`${this.rotationTransform} translate(${x} ${P})`}}}let d=(n-2*s)/(c-2*s),p=(r-2*o)/(u-2*o),f=c/n,w=u/r;return{path:{"transform-origin":`${st.svgRound(a)} ${st.svgRound(l)}`,transform:`${this.rotationTransform} scale(${f} ${w}) translate(${st.svgRound(s)} ${st.svgRound(o)}) scale(${d} ${p}) translate(${st.svgRound(-s)} ${st.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,n,r]){let[s,o]=this.#c(),a=this.#e,[l,c,u,d]=a;if(a[0]=t,a[1]=e,a[2]=n,a[3]=r,Math.abs(u-s)<=st.PRECISION||Math.abs(d-o)<=st.PRECISION){let P=t+n/2-(l+u/2),M=e+r/2-(c+d/2);for(let{line:O,points:R}of this.#i)st._translate(O,P,M,O),st._translate(R,P,M,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}let p=(n-2*s)/(u-2*s),f=(r-2*o)/(d-2*o),w=-p*(l+s)+t+s,x=-f*(c+o)+e+o;if(p!==1||f!==1||w!==0||x!==0)for(let{line:P,points:M}of this.#i)st._rescale(P,w,x,p,f,P),st._rescale(M,w,x,p,f,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){let[r,s]=n,o=this.#e,a=t-o[0],l=e-o[1];if(this.#s===r&&this.#r===s)for(let{line:c,points:u}of this.#i)st._translate(c,a,l,c),st._translate(u,a,l,u);else{let c=this.#s/r,u=this.#r/s;this.#s=r,this.#r=s;for(let{line:d,points:p}of this.#i)st._rescale(d,a,l,c,u,d),st._rescale(p,a,l,c,u,p);o[2]*=c,o[3]*=u}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t)} ${st.svgRound(e)}`}}}get defaultSVGProperties(){let t=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${st.svgRound(t[0])} ${st.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}},Sy=class i extends xy{#e;constructor(t){super(),this.#e=t,super.updateProperties({fill:"none",stroke:Hn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this.#e.realScale),super.updateSVGProperty(t,e)}clone(){let t=new i(this.#e);return t.updateAll(this),t}},My=class i extends U4{static _type="ink";static _editorType=qt.INK;static _defaultDrawingOptions=null;constructor(t){super(Ut(mt({},t),{name:"inkEditor"})),this._willKeepAspectRatio=!0}static initialize(t,e){Hn.initialize(t,e),this._defaultDrawingOptions=new Sy(e.viewParameters)}static getDefaultDrawingOptions(t){let e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Wt(this,"typesMap",new Map([[en.INK_THICKNESS,"stroke-width"],[en.INK_COLOR,"stroke"],[en.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,s){return new Ey(t,e,n,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,s,o){return nm.deserialize(t,e,n,r,s,o)}static deserialize(t,e,n){return $e(this,null,function*(){let r=null;if(t instanceof Ch){let{data:{inkLists:o,rect:a,rotation:l,id:c,color:u,opacity:d,borderStyle:{rawWidth:p},popupRef:f},parent:{page:{pageNumber:w}}}=t;r=t={annotationType:qt.INK,color:Array.from(u),thickness:p,opacity:d,paths:{points:o},boxes:null,pageIndex:w-1,rect:a.slice(0),rotation:l,id:c,deleted:!1,popupRef:f}}let s=yield Nl(i,this,"deserialize").call(this,t,e,n);return s.annotationElementId=t.id||null,s._initialData=r,s})}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();let{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){let t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=i.getDefaultDrawingOptions({stroke:ft.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,l={annotationType:qt.INK,color:Hn._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(t){let{color:e,thickness:n,opacity:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,a)=>o!==e[a])||t.thickness!==n||t.opacity!==r||t.pageIndex!==s}renderAnnotationElement(t){let{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}},Ay=class i extends Hn{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#l=null;#a=null;#u=!1;#c=!1;static _type="stamp";static _editorType=qt.STAMP;constructor(t){super(Ut(mt({},t),{name:"stampEditor"})),this.#i=t.bitmapUrl,this.#s=t.bitmapFile}static initialize(t,e){Hn.initialize(t,e)}static get supportedTypes(){return Wt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return Wt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(qt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){let e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#e=t.bitmap,e||(this.#t=t.id,this.#u=t.isSvg),t.file&&(this.#r=t.file.name),this.#o()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(t=null,e=!0){return $e(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!(yield n.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:r,width:s,height:o}=t||this.copyCanvas(null,null,!0).imageData,a=yield n.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");let l=a.output;return yield this.setGuessedAltText(l),e&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l})}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#h(n,!0)).finally(()=>this.#d());return}if(this.#i){let n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#h(r)).finally(()=>this.#d());return}if(this.#s){let n=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#h(r)).finally(()=>this.#d());return}let t=document.createElement("input");t.type="file",t.accept=i.supportedTypesStr;let e=this._uiManager._signal;this.#n=new Promise(n=>{t.addEventListener("change",()=>$e(this,null,function*(){if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let r=yield this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(r)}n()}),{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#a&&(clearTimeout(this.#a),this.#a=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#o():this.#f(),this.width&&!this.annotationElementId){let[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#a!==null&&clearTimeout(this.#a);let t=200;this.#a=setTimeout(()=>{this.#a=null,this.#m()},t)}#o(){let{div:t}=this,{width:e,height:n}=this.#e,[r,s]=this.pageDimensions,o=.75;if(this.width)e=this.width*r,n=this.height*s;else if(e>o*r||n>o*s){let u=Math.min(o*r/e,o*s/n);e*=u,n*=u}let[a,l]=this.parentDimensions;this.setDims(e*a/r,n*l/s),this._uiManager.enableWaiting(!1);let c=this.#l=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=n/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#c||(this.parent.addUndoableEditor(this),this.#c=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&c.setAttribute("aria-label",this.#r)}copyCanvas(t,e,n=!1){t||(t=224);let{width:r,height:s}=this.#e,o=new ph,a=this.#e,l=r,c=s,u=null;if(e){if(r>e||s>e){let de=Math.min(e/r,e/s);l=Math.floor(r*de),c=Math.floor(s*de)}u=document.createElement("canvas");let p=u.width=Math.ceil(l*o.sx),f=u.height=Math.ceil(c*o.sy);this.#u||(a=this.#p(p,f));let w=u.getContext("2d");w.filter=this._uiManager.hcmFilter;let x="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",P="#42414d");let M=15,O=M*o.sx,R=M*o.sy,G=new OffscreenCanvas(O*2,R*2),ie=G.getContext("2d");ie.fillStyle=x,ie.fillRect(0,0,O*2,R*2),ie.fillStyle=P,ie.fillRect(0,0,O,R),ie.fillRect(O,R,O,R),w.fillStyle=w.createPattern(G,"repeat"),w.fillRect(0,0,p,f),w.drawImage(a,0,0,a.width,a.height,0,0,p,f)}let d=null;if(n){let p,f;if(o.symmetric&&a.width<t&&a.height<t)p=a.width,f=a.height;else if(a=this.#e,r>t||s>t){let P=Math.min(t/r,t/s);p=Math.floor(r*P),f=Math.floor(s*P),this.#u||(a=this.#p(p,f))}let x=new OffscreenCanvas(p,f).getContext("2d",{willReadFrequently:!0});x.drawImage(a,0,0,a.width,a.height,0,0,p,f),d={width:p,height:f,data:x.getImageData(0,0,p,f).data}}return{canvas:u,width:l,height:c,imageData:d}}#p(t,e){let{width:n,height:r}=this.#e,s=n,o=r,a=this.#e;for(;s>2*t||o>2*e;){let l=s,c=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));let u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#m(){let[t,e]=this.parentDimensions,{width:n,height:r}=this,s=new ph,o=Math.ceil(n*t*s.sx),a=Math.ceil(r*e*s.sy),l=this.#l;if(!l||l.width===o&&l.height===a)return;l.width=o,l.height=a;let c=this.#u?this.#e:this.#p(o,a),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,a)}getImageForAltText(){return this.#l}#g(t){if(t){if(this.#u){let r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}let e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#e,e.getContext("2d").drawImage(this.#e,0,0),e.toDataURL()}if(this.#u){let[e,n]=this.pageDimensions,r=Math.round(this.width*e*Qa.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*Qa.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static deserialize(t,e,n){return $e(this,null,function*(){let r=null;if(t instanceof Jg){let{data:{rect:w,rotation:x,id:P,structParent:M,popupRef:O},container:R,parent:{page:{pageNumber:G}}}=t,ie=R.querySelector("canvas"),de=n.imageManager.getFromCanvas(R.id,ie);ie.remove();let te=(yield e._structTree.getAriaAttributes(`${Iy}${P}`))?.get("aria-label")||"";r=t={annotationType:qt.STAMP,bitmapId:de.id,bitmap:de.bitmap,pageIndex:G-1,rect:w.slice(0),rotation:x,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:te},isSvg:!1,structParent:M,popupRef:O}}let s=yield Nl(i,this,"deserialize").call(this,t,e,n),{rect:o,bitmap:a,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:d}=t;c&&n.imageManager.isValidId(c)?(s.#t=c,a&&(s.#e=a)):s.#i=l,s.#u=u;let[p,f]=s.pageDimensions;return s.width=(o[2]-o[0])/p,s.height=(o[3]-o[1])/f,s.annotationElementId=t.id||null,d&&(s.altTextData=d),s._initialData=r,s.#c=!!r,s})}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let n={annotationType:qt.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#g(!0),n.accessibilityData=this.serializeAltText(!0),n;let{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){let a=this.#_(n);if(a.isSame)return null;a.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;let o=this.#u?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#t))e.stamps.set(this.#t,{area:o,serialized:n}),n.bitmap=this.#g(!1);else if(this.#u){let a=e.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#g(!1))}return n}#_(t){let{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,s=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}},z4=(()=>{class i{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#l=!1;#a=!1;#u=!1;#c=null;#h=null;#d=null;#f=null;#o;static _initialized=!1;static#p=new Map([wy,My,Ay,tm].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:s,accessibilityManager:o,annotationLayer:a,drawLayer:l,textLayer:c,viewport:u,l10n:d}){let p=[...i.#p.values()];if(!i._initialized){i._initialized=!0;for(let f of p)f.initialize(d,e)}e.registerEditorTypes(p),this.#o=e,this.pageIndex=n,this.div=r,this.#e=o,this.#n=a,this.viewport=u,this.#d=c,this.drawLayer=l,this._structTree=s,this.#o.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#o.getMode()===qt.NONE}updateToolbar(e){this.#o.updateToolbar(e)}updateMode(e=this.#o.getMode()){switch(this.#v(),e){case qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:n}=this.div;for(let r of i.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#o.setEditingState(e)}addCommands(e){this.#o.addCommands(e)}cleanUndoStack(e){this.#o.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}enable(){return $e(this,null,function*(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);let e=new Set;for(let r of this.#r.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#o.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#n){this.#u=!1;return}let n=this.#n.getEditableAnnotations();for(let r of n){if(r.hide(),this.#o.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;let s=yield this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}this.#u=!1})}disable(){this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let e=new Map,n=new Map;for(let s of this.#r.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){let s=this.#n.getEditableAnnotations();for(let o of s){let{id:a}=o.data;if(this.#o.isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(this.#o.addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);let{classList:r}=this.div;for(let s of i.#p.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#o.getActive()!==e&&this.#o.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;let e=this.#o.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#m.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#m(e){this.#o.unselectAll();let{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){let{isMac:r}=Ii.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#o.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),tm.startHighlighting(this,this.#o.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#o._signal}),e.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let e=this.#o.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});let n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#i?.abort(),this.#i=null}attach(e){this.#r.set(e.id,e);let{annotationElementId:n}=e;n&&this.#o.isDeletedAnnotationElement(n)&&this.#o.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#o.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#o.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#o.addDeletedAnnotationElement(e.annotationElementId),Hn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#o.addEditor(e),this.attach(e),!e.isAttachedToDOM){let n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#u),this.#o.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;let{activeElement:n}=document;e.div.contains(n)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#o._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){let n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return this.#o.getId()}get#g(){return i.#p.get(this.#o.getMode())}combinedSignal(e){return this.#o.combinedSignal(e)}#_(e){let n=this.#g;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}pasteEditor(e,n){this.#o.updateToolbar(e),this.#o.updateMode(e);let{offsetX:r,offsetY:s}=this.#w(),o=this.getNextId(),a=this.#_(mt({parent:this,id:o,x:r,y:s,uiManager:this.#o,isCentered:!0},n));a&&this.add(a)}deserialize(e){return $e(this,null,function*(){return(yield i.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#o))||null})}createAndAddNewEditor(e,n,r={}){let s=this.getNextId(),o=this.#_(mt({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#o,isCentered:n},r));return o&&this.add(o),o}#w(){let{x:e,y:n,width:r,height:s}=this.div.getBoundingClientRect(),o=Math.max(0,e),a=Math.max(0,n),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,n+s),u=(o+l)/2-e,d=(a+c)/2-n,[p,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:p,offsetY:f}}addNewEditor(){this.createAndAddNewEditor(this.#w(),!0)}setSelected(e){this.#o.setSelected(e)}toggleSelected(e){this.#o.toggleSelected(e)}unselect(e){this.#o.unselect(e)}pointerup(e){let{isMac:n}=Ii.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&this.#l&&(this.#l=!1,!(this.#g?.isDrawer&&this.#g.supportMultipleDrawings))){if(!this.#t){this.#t=!0;return}if(this.#o.getMode()===qt.STAMP){this.#o.unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(this.#o.getMode()===qt.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}let{isMac:n}=Ii.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(e);return}let r=this.#o.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus(),this.#c){this.#g.startDrawing(this,this.#o,!1,e);return}this.#o.setCurrentDrawingSession(this),this.#c=new AbortController;let n=this.#o.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#g.startDrawing(this,this.#o,!1,e)}pause(e){if(e){let{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#c?(this.#o.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#g.endDrawing(e)):null}findNewParent(e,n,r){let s=this.#o.findParent(n,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#o.removeLayer(this)}#v(){for(let e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,rc(this.div,e);for(let n of this.#o.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#o.commitOrRemove(),this.#v();let n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,rc(this.div,{rotation:r}),n!==r)for(let s of this.#r.values())s.rotate(r)}get pageDimensions(){let{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#o.viewParameters.realScale}}return i})(),Dy=class i{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#e){this.#e=t;return}if(this.#e!==t){if(this.#n.size>0)for(let e of this.#n.values())e.remove(),t.append(e);this.#e=t}}static get _svgFactory(){return Wt(this,"_svgFactory",new wh)}static#s(t,[e,n,r,s]){let{style:o}=t;o.top=`${100*n}%`,o.left=`${100*e}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#r(){let t=i._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),t}#l(t,e){let n=i._svgFactory.createElement("clipPath");t.append(n);let r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");let s=i._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${e}`),s.classList.add("clip"),r}#a(t,e){for(let[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){let r=this.#t++,s=this.#r(),o=i._svgFactory.createElement("defs");s.append(o);let a=i._svgFactory.createElement("path");o.append(a);let l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,a);let c=n?this.#l(o,l):null,u=i._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,t),this.#n.set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(t,e){let n=this.#t++,r=this.#r(),s=i._svgFactory.createElement("defs");r.append(s);let o=i._svgFactory.createElement("path");s.append(o);let a=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){let d=i._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");let p=i._svgFactory.createElement("rect");d.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");let f=i._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}let c=i._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);let u=c.cloneNode();return r.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#n.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;let{root:n,bbox:r,rootClass:s,path:o}=e,a=typeof t=="number"?this.#n.get(t):t;if(a){if(n&&this.#a(a,n),r&&i.#s(a,r),s){let{classList:l}=a;for(let[c,u]of Object.entries(s))l.toggle(c,u)}if(o){let c=a.firstChild.firstChild;this.#a(c,o)}}}updateParent(t,e){if(e===this)return;let n=this.#n.get(t);n&&(e.#e.append(n),this.#n.delete(t),e.#n.set(t,n))}remove(t){this.#i.delete(t),this.#e!==null&&(this.#n.get(t).remove(),this.#n.delete(t))}destroy(){this.#e=null;for(let t of this.#n.values())t.remove();this.#n.clear(),this.#i.clear()}};globalThis.pdfjsTestingUtils={HighlightOutliner:xh};var Bz=Tt.AbortException,qz=Tt.AnnotationEditorLayer,Hz=Tt.AnnotationEditorParamsType,Uz=Tt.AnnotationEditorType,zz=Tt.AnnotationEditorUIManager,Wz=Tt.AnnotationLayer,$z=Tt.AnnotationMode,Gz=Tt.ColorPicker,Yz=Tt.DOMSVGFactory,Kz=Tt.DrawLayer,Xz=Tt.FeatureTest,q5=Tt.GlobalWorkerOptions,Jz=Tt.ImageKind,Zz=Tt.InvalidPDFException,Qz=Tt.MissingPDFException,eW=Tt.OPS,tW=Tt.OutputScale,nW=Tt.PDFDataRangeTransport,iW=Tt.PDFDateString,rW=Tt.PDFWorker,sW=Tt.PasswordResponses,oW=Tt.PermissionFlag,aW=Tt.PixelsPerInch,lW=Tt.RenderingCancelledException,cW=Tt.TextLayer,uW=Tt.TouchManager,dW=Tt.UnexpectedResponseException,hW=Tt.Util,fW=Tt.VerbosityLevel,pW=Tt.XfaLayer,gW=Tt.build,mW=Tt.createValidAbsoluteUrl,_W=Tt.fetchData,H5=Tt.getDocument,vW=Tt.getFilenameFromUrl,yW=Tt.getPdfFilenameFromUrl,wW=Tt.getXfaPageViewport,bW=Tt.isDataScheme,CW=Tt.isPdfFile,xW=Tt.noContextMenu,EW=Tt.normalizeUnicode,SW=Tt.setLayerDimensions,MW=Tt.shadow,AW=Tt.stopEvent,DW=Tt.version;var Hi=Uint8Array,$r=Uint16Array,By=Int32Array,dm=new Hi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hm=new Hi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fy=new Hi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$5=function(i,t){for(var e=new $r(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new By(e[30]),n=1;n<30;++n)for(var s=e[n];s<e[n+1];++s)r[s]=s-e[n]<<5|n;return{b:e,r}},G5=$5(dm,2),Y5=G5.b,Ry=G5.r;Y5[28]=258,Ry[258]=28;var K5=$5(hm,0),$4=K5.b,U5=K5.r,Vy=new $r(32768);for(fn=0;fn<32768;++fn)ea=(fn&43690)>>1|(fn&21845)<<1,ea=(ea&52428)>>2|(ea&13107)<<2,ea=(ea&61680)>>4|(ea&3855)<<4,Vy[fn]=((ea&65280)>>8|(ea&255)<<8)>>1;var ea,fn,po=function(i,t,e){for(var n=i.length,r=0,s=new $r(t);r<n;++r)i[r]&&++s[i[r]-1];var o=new $r(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(e){a=new $r(1<<t);var l=15-t;for(r=0;r<n;++r)if(i[r])for(var c=r<<4|i[r],u=t-i[r],d=o[i[r]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[Vy[d]>>l]=c}else for(a=new $r(n),r=0;r<n;++r)i[r]&&(a[r]=Vy[o[i[r]-1]++]>>15-i[r]);return a},tl=new Hi(288);for(fn=0;fn<144;++fn)tl[fn]=8;var fn;for(fn=144;fn<256;++fn)tl[fn]=9;var fn;for(fn=256;fn<280;++fn)tl[fn]=7;var fn;for(fn=280;fn<288;++fn)tl[fn]=8;var fn,Dh=new Hi(32);for(fn=0;fn<32;++fn)Dh[fn]=5;var fn,G4=po(tl,9,0),Y4=po(tl,9,1),K4=po(Dh,5,0),X4=po(Dh,5,1),Ny=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},Ls=function(i,t,e){var n=t/8|0;return(i[n]|i[n+1]<<8)>>(t&7)&e},ky=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},qy=function(i){return(i+7)/8|0},X5=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new Hi(i.subarray(t,e))};var J4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fs=function(i,t,e){var n=new Error(t||J4[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,Fs),!e)throw n;return n},Z4=function(i,t,e,n){var r=i.length,s=n?n.length:0;if(!r||t.f&&!t.l)return e||new Hi(0);var o=!e,a=o||t.i!=2,l=t.i;o&&(e=new Hi(r*3));var c=function(Ue){var Ke=e.length;if(Ue>Ke){var Je=new Hi(Math.max(Ke*2,Ue));Je.set(e),e=Je}},u=t.f||0,d=t.p||0,p=t.b||0,f=t.l,w=t.d,x=t.m,P=t.n,M=r*8;do{if(!f){u=Ls(i,d,1);var O=Ls(i,d+1,3);if(d+=3,O)if(O==1)f=Y4,w=X4,x=9,P=5;else if(O==2){var de=Ls(i,d,31)+257,te=Ls(i,d+10,15)+4,Y=de+Ls(i,d+5,31)+1;d+=14;for(var ce=new Hi(Y),we=new Hi(19),V=0;V<te;++V)we[Fy[V]]=Ls(i,d+V*3,7);d+=te*3;for(var j=Ny(we),oe=(1<<j)-1,re=po(we,j,1),V=0;V<Y;){var Ae=re[Ls(i,d,oe)];d+=Ae&15;var R=Ae>>4;if(R<16)ce[V++]=R;else{var ee=0,H=0;for(R==16?(H=3+Ls(i,d,3),d+=2,ee=ce[V-1]):R==17?(H=3+Ls(i,d,7),d+=3):R==18&&(H=11+Ls(i,d,127),d+=7);H--;)ce[V++]=ee}}var W=ce.subarray(0,de),K=ce.subarray(de);x=Ny(W),P=Ny(K),f=po(W,x,1),w=po(K,P,1)}else Fs(1);else{var R=qy(d)+4,G=i[R-4]|i[R-3]<<8,ie=R+G;if(ie>r){l&&Fs(0);break}a&&c(p+G),e.set(i.subarray(R,ie),p),t.b=p+=G,t.p=d=ie*8,t.f=u;continue}if(d>M){l&&Fs(0);break}}a&&c(p+131072);for(var le=(1<<x)-1,be=(1<<P)-1,T=d;;T=d){var ee=f[ky(i,d)&le],z=ee>>4;if(d+=ee&15,d>M){l&&Fs(0);break}if(ee||Fs(2),z<256)e[p++]=z;else if(z==256){T=d,f=null;break}else{var $=z-254;if(z>264){var V=z-257,ae=dm[V];$=Ls(i,d,(1<<ae)-1)+Y5[V],d+=ae}var ue=w[ky(i,d)&be],fe=ue>>4;ue||Fs(3),d+=ue&15;var K=$4[fe];if(fe>3){var ae=hm[fe];K+=ky(i,d)&(1<<ae)-1,d+=ae}if(d>M){l&&Fs(0);break}a&&c(p+131072);var ve=p+$;if(p<K){var Ce=s-K,ze=Math.min(K,ve);for(Ce+p<0&&Fs(3);p<ze;++p)e[p]=n[Ce+p]}for(;p<ve;++p)e[p]=e[p-K]}}t.l=f,t.p=T,t.b=p,t.f=u,f&&(u=1,t.m=x,t.d=w,t.n=P)}while(!u);return p!=e.length&&o?X5(e,0,p):e.subarray(0,p)},ta=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},Mh=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},Ly=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,s=e.slice();if(!r)return{t:Z5,l:0};if(r==1){var o=new Hi(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(ie,de){return ie.f-de.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,u=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=e[e[c].f<e[d].f?c++:d++],l=e[c!=u&&e[c].f<e[d].f?c++:d++],e[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=s[0].s,n=1;n<r;++n)s[n].s>p&&(p=s[n].s);var f=new $r(p+1),w=jy(e[u-1],f,0);if(w>t){var n=0,x=0,P=w-t,M=1<<P;for(s.sort(function(de,te){return f[te.s]-f[de.s]||de.f-te.f});n<r;++n){var O=s[n].s;if(f[O]>t)x+=M-(1<<w-f[O]),f[O]=t;else break}for(x>>=P;x>0;){var R=s[n].s;f[R]<t?x-=1<<t-f[R]++-1:++n}for(;n>=0&&x;--n){var G=s[n].s;f[G]==t&&(--f[G],++x)}w=t}return{t:new Hi(f),l:w}},jy=function(i,t,e){return i.s==-1?Math.max(jy(i.l,t,e+1),jy(i.r,t,e+1)):t[i.s]=e},z5=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new $r(++t),n=0,r=i[0],s=1,o=function(l){e[n++]=l},a=1;a<=t;++a)if(i[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=i[a]}return{c:e.subarray(0,n),n:t}},Ah=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},J5=function(i,t,e){var n=e.length,r=qy(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var s=0;s<n;++s)i[r+s+4]=e[s];return(r+4+n)*8},W5=function(i,t,e,n,r,s,o,a,l,c,u){ta(t,u++,e),++r[256];for(var d=Ly(r,15),p=d.t,f=d.l,w=Ly(s,15),x=w.t,P=w.l,M=z5(p),O=M.c,R=M.n,G=z5(x),ie=G.c,de=G.n,te=new $r(19),Y=0;Y<O.length;++Y)++te[O[Y]&31];for(var Y=0;Y<ie.length;++Y)++te[ie[Y]&31];for(var ce=Ly(te,7),we=ce.t,V=ce.l,j=19;j>4&&!we[Fy[j-1]];--j);var oe=c+5<<3,re=Ah(r,tl)+Ah(s,Dh)+o,Ae=Ah(r,p)+Ah(s,x)+o+14+3*j+Ah(te,we)+2*te[16]+3*te[17]+7*te[18];if(l>=0&&oe<=re&&oe<=Ae)return J5(t,u,i.subarray(l,l+c));var ee,H,W,K;if(ta(t,u,1+(Ae<re)),u+=2,Ae<re){ee=po(p,f,0),H=p,W=po(x,P,0),K=x;var le=po(we,V,0);ta(t,u,R-257),ta(t,u+5,de-1),ta(t,u+10,j-4),u+=14;for(var Y=0;Y<j;++Y)ta(t,u+3*Y,we[Fy[Y]]);u+=3*j;for(var be=[O,ie],T=0;T<2;++T)for(var z=be[T],Y=0;Y<z.length;++Y){var $=z[Y]&31;ta(t,u,le[$]),u+=we[$],$>15&&(ta(t,u,z[Y]>>5&127),u+=z[Y]>>12)}}else ee=G4,H=tl,W=K4,K=Dh;for(var Y=0;Y<a;++Y){var ae=n[Y];if(ae>255){var $=ae>>18&31;Mh(t,u,ee[$+257]),u+=H[$+257],$>7&&(ta(t,u,ae>>23&31),u+=dm[$]);var ue=ae&31;Mh(t,u,W[ue]),u+=K[ue],ue>3&&(Mh(t,u,ae>>5&8191),u+=hm[ue])}else Mh(t,u,ee[ae]),u+=H[ae]}return Mh(t,u,ee[256]),u+H[256]},Q4=new By([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z5=new Hi(0),eL=function(i,t,e,n,r,s){var o=s.z||i.length,a=new Hi(n+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(n,a.length-r),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=Q4[t-1],p=d>>13,f=d&8191,w=(1<<e)-1,x=s.p||new $r(32768),P=s.h||new $r(w+1),M=Math.ceil(e/3),O=2*M,R=function(lt){return(i[lt]^i[lt+1]<<M^i[lt+2]<<O)&w},G=new By(25e3),ie=new $r(288),de=new $r(32),te=0,Y=0,ce=s.i||0,we=0,V=s.w||0,j=0;ce+2<o;++ce){var oe=R(ce),re=ce&32767,Ae=P[oe];if(x[re]=Ae,P[oe]=re,V<=ce){var ee=o-ce;if((te>7e3||we>24576)&&(ee>423||!c)){u=W5(i,l,0,G,ie,de,Y,we,j,ce-j,u),we=te=Y=0,j=ce;for(var H=0;H<286;++H)ie[H]=0;for(var H=0;H<30;++H)de[H]=0}var W=2,K=0,le=f,be=re-Ae&32767;if(ee>2&&oe==R(ce-be))for(var T=Math.min(p,ee)-1,z=Math.min(32767,ce),$=Math.min(258,ee);be<=z&&--le&&re!=Ae;){if(i[ce+W]==i[ce+W-be]){for(var ae=0;ae<$&&i[ce+ae]==i[ce+ae-be];++ae);if(ae>W){if(W=ae,K=be,ae>T)break;for(var ue=Math.min(be,ae-2),fe=0,H=0;H<ue;++H){var ve=ce-be+H&32767,Ce=x[ve],ze=ve-Ce&32767;ze>fe&&(fe=ze,Ae=ve)}}}re=Ae,Ae=x[re],be+=re-Ae&32767}if(K){G[we++]=268435456|Ry[W]<<18|U5[K];var Ue=Ry[W]&31,Ke=U5[K]&31;Y+=dm[Ue]+hm[Ke],++ie[257+Ue],++de[Ke],V=ce+W,++te}else G[we++]=i[ce],++ie[i[ce]]}}for(ce=Math.max(ce,V);ce<o;++ce)G[we++]=i[ce],++ie[i[ce]];u=W5(i,l,c,G,ie,de,Y,we,j,ce-j,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=P,s.p=x,s.i=ce,s.w=V)}else{for(var ce=s.w||0;ce<o+c;ce+=65535){var Je=ce+65535;Je>=o&&(l[u/8|0]=c,Je=o),u=J5(l,u+1,i.subarray(ce,Je))}s.i=o}return X5(a,0,n+qy(u)+r)};var Q5=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,s=e.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=n+=e[o];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},tL=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Hi(s.length+i.length);o.set(s),o.set(i,s.length),i=o,r.w=s.length}return eL(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)};var eS=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var nL=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=Q5();r.p(t.dictionary),eS(i,2,r.d())}},iL=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Fs(6,"invalid zlib data"),(i[1]>>5&1)==+!t&&Fs(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function fm(i,t){t||(t={});var e=Q5();e.p(i);var n=tL(i,t,t.dictionary?6:2,4);return nL(n,t),eS(n,n.length-4,e.d()),n}function tS(i,t){return Z4(i.subarray(iL(i,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var rL=typeof TextDecoder<"u"&&new TextDecoder,sL=0;try{rL.decode(Z5,{stream:!0}),sL=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hy(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Sn={log:Hy,warn:function(i){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Hy.call(null,arguments))},error:function(i){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Hy(i))}};function Uy(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){ac(n.response,t,e)},n.onerror=function(){Sn.error("could not download file")},n.send()}function nS(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function pm(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Ph,Yy,ac=St.saveAs||((typeof window>"u"?"undefined":bn(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=St.URL||St.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?nS(r.href)?Uy(i,t,e):pm(r,r.target="_blank"):pm(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){pm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(nS(i))Uy(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){pm(n)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:bn(s)!=="object"&&(Sn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return Uy(i,t,e);var r=i.type==="application/octet-stream",s=/constructor/i.test(St.HTMLElement)||St.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":bn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(i)}else{var l=St.URL||St.webkitURL,c=l.createObjectURL(i);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function yS(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,s=e[n].process,o=r.exec(i);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function zy(i,t){var e=i[0],n=i[1],r=i[2],s=i[3];e=Ui(e,n,r,s,t[0],7,-680876936),s=Ui(s,e,n,r,t[1],12,-389564586),r=Ui(r,s,e,n,t[2],17,606105819),n=Ui(n,r,s,e,t[3],22,-1044525330),e=Ui(e,n,r,s,t[4],7,-176418897),s=Ui(s,e,n,r,t[5],12,1200080426),r=Ui(r,s,e,n,t[6],17,-1473231341),n=Ui(n,r,s,e,t[7],22,-45705983),e=Ui(e,n,r,s,t[8],7,1770035416),s=Ui(s,e,n,r,t[9],12,-1958414417),r=Ui(r,s,e,n,t[10],17,-42063),n=Ui(n,r,s,e,t[11],22,-1990404162),e=Ui(e,n,r,s,t[12],7,1804603682),s=Ui(s,e,n,r,t[13],12,-40341101),r=Ui(r,s,e,n,t[14],17,-1502002290),e=zi(e,n=Ui(n,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=zi(s,e,n,r,t[6],9,-1069501632),r=zi(r,s,e,n,t[11],14,643717713),n=zi(n,r,s,e,t[0],20,-373897302),e=zi(e,n,r,s,t[5],5,-701558691),s=zi(s,e,n,r,t[10],9,38016083),r=zi(r,s,e,n,t[15],14,-660478335),n=zi(n,r,s,e,t[4],20,-405537848),e=zi(e,n,r,s,t[9],5,568446438),s=zi(s,e,n,r,t[14],9,-1019803690),r=zi(r,s,e,n,t[3],14,-187363961),n=zi(n,r,s,e,t[8],20,1163531501),e=zi(e,n,r,s,t[13],5,-1444681467),s=zi(s,e,n,r,t[2],9,-51403784),r=zi(r,s,e,n,t[7],14,1735328473),e=Wi(e,n=zi(n,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Wi(s,e,n,r,t[8],11,-2022574463),r=Wi(r,s,e,n,t[11],16,1839030562),n=Wi(n,r,s,e,t[14],23,-35309556),e=Wi(e,n,r,s,t[1],4,-1530992060),s=Wi(s,e,n,r,t[4],11,1272893353),r=Wi(r,s,e,n,t[7],16,-155497632),n=Wi(n,r,s,e,t[10],23,-1094730640),e=Wi(e,n,r,s,t[13],4,681279174),s=Wi(s,e,n,r,t[0],11,-358537222),r=Wi(r,s,e,n,t[3],16,-722521979),n=Wi(n,r,s,e,t[6],23,76029189),e=Wi(e,n,r,s,t[9],4,-640364487),s=Wi(s,e,n,r,t[12],11,-421815835),r=Wi(r,s,e,n,t[15],16,530742520),e=$i(e,n=Wi(n,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=$i(s,e,n,r,t[7],10,1126891415),r=$i(r,s,e,n,t[14],15,-1416354905),n=$i(n,r,s,e,t[5],21,-57434055),e=$i(e,n,r,s,t[12],6,1700485571),s=$i(s,e,n,r,t[3],10,-1894986606),r=$i(r,s,e,n,t[10],15,-1051523),n=$i(n,r,s,e,t[1],21,-2054922799),e=$i(e,n,r,s,t[8],6,1873313359),s=$i(s,e,n,r,t[15],10,-30611744),r=$i(r,s,e,n,t[6],15,-1560198380),n=$i(n,r,s,e,t[13],21,1309151649),e=$i(e,n,r,s,t[4],6,-145523070),s=$i(s,e,n,r,t[11],10,-1120210379),r=$i(r,s,e,n,t[2],15,718787259),n=$i(n,r,s,e,t[9],21,-343485551),i[0]=il(e,i[0]),i[1]=il(n,i[1]),i[2]=il(r,i[2]),i[3]=il(s,i[3])}function Em(i,t,e,n,r,s){return t=il(il(t,i),il(n,s)),il(t<<r|t>>>32-r,e)}function Ui(i,t,e,n,r,s,o){return Em(t&e|~t&n,i,t,r,s,o)}function zi(i,t,e,n,r,s,o){return Em(t&n|e&~n,i,t,r,s,o)}function Wi(i,t,e,n,r,s,o){return Em(t^e^n,i,t,r,s,o)}function $i(i,t,e,n,r,s,o){return Em(e^(t|~n),i,t,r,s,o)}function wS(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)zy(n,oL(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(zy(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,zy(n,r),n}function oL(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}Ph=St.atob.bind(St),Yy=St.btoa.bind(St);var iS="0123456789abcdef".split("");function aL(i){for(var t="",e=0;e<4;e++)t+=iS[i>>8*e+4&15]+iS[i>>8*e&15];return t}function lL(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Ky(i){return wS(i).map(lL).join("")}var cL=function(i){for(var t=0;t<i.length;t++)i[t]=aL(i[t]);return i.join("")}(wS("hello"))!="5d41402abc4b2a76b9719d911017c592";function il(i,t){if(cL){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function Xy(i,t){var e,n,r,s;if(i!==e){for(var o=(r=i,s=1+(256/i.length>>0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}e=i,n=a}else a=n;var d=t.length,p=0,f=0,w="";for(l=0;l<d;l++)f=(f+(u=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=u,o=a[(a[p]+a[f])%256],w+=String.fromCharCode(t.charCodeAt(l)^o);return w}var rS={print:4,modify:8,copy:16,"annot-forms":32};function Iu(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(a){if(rS.perm!==void 0)throw new Error("Invalid permission: "+a);r+=rS[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=Ky(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Xy(this.encryptionKey,this.padding)}function Tu(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=i[n]}return t}function sS(i){if(bn(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(i,n)}catch(a){St.console&&Sn.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Cm(i){if(!(this instanceof Cm))return new Cm(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function bS(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function lc(i,t,e,n,r){if(!(this instanceof lc))return new lc(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,bS.call(this,n,r)}function Ou(i,t,e,n,r){if(!(this instanceof Ou))return new Ou(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,bS.call(this,n,r)}function Et(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;bn(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,s=i.compress||i.compressPdf||s,(u=i.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(l=i.floatPrecision),c=i.defaultPathOperation||"S"),o=i.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",e=(""+(e||"P")).toLowerCase();var d=i.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=sS;var w="1.3",x=f.__private__.getPdfVersion=function(){return w};f.__private__.setPdfVersion=function(y){w=y};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return P};var M=f.__private__.getPageFormat=function(y){return P[y]};r=r||"a4";var O={COMPAT:"compat",ADVANCED:"advanced"},R=O.COMPAT;function G(){this.saveGraphicsState(),se(new bt(et,0,0,-et,0,zs()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",R=O.ADVANCED}function ie(){this.restoreGraphicsState(),c="S",R=O.COMPAT}var de=f.__private__.combineFontStyleAndFontWeight=function(y,N){if(y=="bold"&&N=="normal"||y=="bold"&&N==400||y=="normal"&&N=="italic"||y=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(y=N==400||N==="normal"?y==="italic"?"italic":"normal":N!=700&&N!=="bold"||y!=="normal"?(N==700?"bold":N)+""+y:"bold"),y};f.advancedAPI=function(y){var N=R===O.COMPAT;return N&&G.call(this),typeof y!="function"||(y(this),N&&ie.call(this)),this},f.compatAPI=function(y){var N=R===O.ADVANCED;return N&&ie.call(this),typeof y!="function"||(y(this),N&&G.call(this)),this},f.isAdvancedAPI=function(){return R===O.ADVANCED};var te,Y=function(y){if(R!==O.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ce=f.roundToPrecision=f.__private__.roundToPrecision=function(y,N){var ne=t||N;if(isNaN(y)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ne).replace(/0+$/,"")};te=f.hpf=f.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(y,16)};var we=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return ce(y,2)},V=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return ce(y,3)},j=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return R===O.COMPAT?y*et:R===O.ADVANCED?y:void 0},oe=function(y){return R===O.COMPAT?zs()-y:R===O.ADVANCED?y:void 0},re=function(y){return j(oe(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(t=parseInt(y,10))};var Ae,ee="00000000000000000000000000000000",H=f.__private__.getFileId=function(){return ee},W=f.__private__.setFileId=function(y){return ee=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(di=new Iu(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};f.setFileId=function(y){return W(y),this},f.getFileId=function(){return H()};var K=f.__private__.convertDateToPDFDate=function(y){var N=y.getTimezoneOffset(),ne=N<0?"+":"-",he=Math.floor(Math.abs(N/60)),ye=Math.abs(N%60),Le=[ne,$(he),"'",$(ye),"'"].join("");return["D:",y.getFullYear(),$(y.getMonth()+1),$(y.getDate()),$(y.getHours()),$(y.getMinutes()),$(y.getSeconds()),Le].join("")},le=f.__private__.convertPDFDateToDate=function(y){var N=parseInt(y.substr(2,4),10),ne=parseInt(y.substr(6,2),10)-1,he=parseInt(y.substr(8,2),10),ye=parseInt(y.substr(10,2),10),Le=parseInt(y.substr(12,2),10),He=parseInt(y.substr(14,2),10);return new Date(N,ne,he,ye,Le,He,0)},be=f.__private__.setCreationDate=function(y){var N;if(y===void 0&&(y=new Date),y instanceof Date)N=K(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=y}return Ae=N},T=f.__private__.getCreationDate=function(y){var N=Ae;return y==="jsDate"&&(N=le(Ae)),N};f.setCreationDate=function(y){return be(y),this},f.getCreationDate=function(y){return T(y)};var z,$=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ae=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ue=0,fe=[],ve=[],Ce=0,ze=[],Ue=[],Ke=!1,Je=ve,lt=function(){ue=0,Ce=0,ve=[],fe=[],ze=[],gs=Un(),Pr=Un()};f.__private__.setCustomOutputDestination=function(y){Ke=!0,Je=y};var Ne=function(y){Ke||(Je=y)};f.__private__.resetCustomOutputDestination=function(){Ke=!1,Je=ve};var se=f.__private__.out=function(y){return y=y.toString(),Ce+=y.length+1,Je.push(y),Je},gt=f.__private__.write=function(y){return se(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},rt=f.__private__.getArrayBuffer=function(y){for(var N=y.length,ne=new ArrayBuffer(N),he=new Uint8Array(ne);N--;)he[N]=y.charCodeAt(N);return ne},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return We};var Ye=i.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Ye=R===O.ADVANCED?y/et:y,this};var Be,Ge=f.__private__.getFontSize=f.getFontSize=function(){return R===O.COMPAT?Ye:Ye*et},ot=i.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return ot=y,this},f.__private__.getR2L=f.getR2L=function(){return ot};var yt,ut=f.__private__.setZoomMode=function(y){var N=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Be=y;else if(isNaN(y)){if(N.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Be=y}else Be=parseInt(y,10)};f.__private__.getZoomMode=function(){return Be};var _t,Gt=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');yt=y};f.__private__.getPageMode=function(){return yt};var cn=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');_t=y};f.__private__.getLayoutMode=function(){return _t},f.__private__.setDisplayMode=f.setDisplayMode=function(y,N,ne){return ut(y),cn(N),Gt(ne),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys(vt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[y]},f.__private__.getDocumentProperties=function(){return vt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var N in vt)vt.hasOwnProperty(N)&&y[N]&&(vt[N]=y[N]);return this},f.__private__.setDocumentProperty=function(y,N){if(Object.keys(vt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[y]=N};var wt,et,ci,Qt,Gi,pn={},Mn={},Kr=[],ln={},Yi={},kn={},Dr={},ps=null,Ln=0,Dt=[],tn=new sS(f),Co=i.hotfixes||[],ui={},Xr={},Jr=[],bt=function y(N,ne,he,ye,Le,He){if(!(this instanceof y))return new y(N,ne,he,ye,Le,He);isNaN(N)&&(N=1),isNaN(ne)&&(ne=0),isNaN(he)&&(he=0),isNaN(ye)&&(ye=1),isNaN(Le)&&(Le=0),isNaN(He)&&(He=0),this._matrix=[N,ne,he,ye,Le,He]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(y)},bt.prototype.multiply=function(y){var N=y.sx*this.sx+y.shy*this.shx,ne=y.sx*this.shy+y.shy*this.sy,he=y.shx*this.sx+y.sy*this.shx,ye=y.shx*this.shy+y.sy*this.sy,Le=y.tx*this.sx+y.ty*this.shx+this.tx,He=y.tx*this.shy+y.ty*this.sy+this.ty;return new bt(N,ne,he,ye,Le,He)},bt.prototype.decompose=function(){var y=this.sx,N=this.shy,ne=this.shx,he=this.sy,ye=this.tx,Le=this.ty,He=Math.sqrt(y*y+N*N),tt=(y/=He)*ne+(N/=He)*he;ne-=y*tt,he-=N*tt;var pt=Math.sqrt(ne*ne+he*he);return tt/=pt,y*(he/=pt)<N*(ne/=pt)&&(y=-y,N=-N,tt=-tt,He=-He),{scale:new bt(He,0,0,pt,0,0),translate:new bt(1,0,0,1,ye,Le),rotate:new bt(y,N,-N,y,0,0),skew:new bt(1,0,tt,1,0,0)}},bt.prototype.toString=function(y){return this.join(" ")},bt.prototype.inversed=function(){var y=this.sx,N=this.shy,ne=this.shx,he=this.sy,ye=this.tx,Le=this.ty,He=1/(y*he-N*ne),tt=he*He,pt=-N*He,Pt=-ne*He,At=y*He;return new bt(tt,pt,Pt,At,-tt*ye-Pt*Le,-pt*ye-At*Le)},bt.prototype.applyToPoint=function(y){var N=y.x*this.sx+y.y*this.shx+this.tx,ne=y.x*this.shy+y.y*this.sy+this.ty;return new fa(N,ne)},bt.prototype.applyToRectangle=function(y){var N=this.applyToPoint(y),ne=this.applyToPoint(new fa(y.x+y.w,y.y+y.h));return new vl(N.x,N.y,ne.x-N.x,ne.y-N.y)},bt.prototype.clone=function(){var y=this.sx,N=this.shy,ne=this.shx,he=this.sy,ye=this.tx,Le=this.ty;return new bt(y,N,ne,he,ye,Le)},f.Matrix=bt;var Ki=f.matrixMult=function(y,N){return N.multiply(y)},Zr=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Zr;var Ti=function(y,N){if(!Yi[y]){var ne=(N instanceof lc?"Sh":"P")+(Object.keys(ln).length+1).toString(10);N.id=ne,Yi[y]=ne,ln[ne]=N,tn.publish("addPattern",N)}};f.ShadingPattern=lc,f.TilingPattern=Ou,f.addShadingPattern=function(y,N){return Y("addShadingPattern()"),Ti(y,N),this},f.beginTilingPattern=function(y){Y("beginTilingPattern()"),Oc(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,N){Y("endTilingPattern()"),N.stream=Ue[z].join(`
`),Ti(y,N),tn.publish("endTilingPattern",N),Jr.pop().restore()};var Yn=f.__private__.newObject=function(){var y=Un();return Xi(y,!0),y},Un=f.__private__.newObjectDeferred=function(){return ue++,fe[ue]=function(){return Ce},ue},Xi=function(y,N){return N=typeof N=="boolean"&&N,fe[y]=Ce,N&&se(y+" 0 obj"),y},nn=f.__private__.newAdditionalObject=function(){var y={objId:Un(),content:""};return ze.push(y),y},gs=Un(),Pr=Un(),Ir=f.__private__.decodeColorString=function(y){var N=y.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length===5&&(N[4]==="k"||N[4]==="K")&&(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var ne=parseFloat(N[0]);N=[ne,ne,ne,"r"]}for(var he="#",ye=0;ye<3;ye++)he+=("0"+Math.floor(255*parseFloat(N[ye])).toString(16)).slice(-2);return he},Tr=f.__private__.encodeColorString=function(y){var N;typeof y=="string"&&(y={ch1:y});var ne=y.ch1,he=y.ch2,ye=y.ch3,Le=y.ch4,He=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var tt=new yS(ne);if(tt.ok)ne=tt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var pt=parseInt(ne.substr(1),16);ne=pt>>16&255,he=pt>>8&255,ye=255&pt}if(he===void 0||Le===void 0&&ne===he&&he===ye)if(typeof ne=="string")N=ne+" "+He[0];else switch(y.precision){case 2:N=we(ne/255)+" "+He[0];break;case 3:default:N=V(ne/255)+" "+He[0]}else if(Le===void 0||bn(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return N=["1.","1.","1.",He[1]].join(" ");if(typeof ne=="string")N=[ne,he,ye,He[1]].join(" ");else switch(y.precision){case 2:N=[we(ne/255),we(he/255),we(ye/255),He[1]].join(" ");break;default:case 3:N=[V(ne/255),V(he/255),V(ye/255),He[1]].join(" ")}}else if(typeof ne=="string")N=[ne,he,ye,Le,He[2]].join(" ");else switch(y.precision){case 2:N=[we(ne),we(he),we(ye),we(Le),He[2]].join(" ");break;case 3:default:N=[V(ne),V(he),V(ye),V(Le),He[2]].join(" ")}return N},Qr=f.__private__.getFilters=function(){return o},ar=f.__private__.putStream=function(y){var N=(y=y||{}).data||"",ne=y.filters||Qr(),he=y.alreadyAppliedFilters||[],ye=y.addLength1||!1,Le=N.length,He=y.objectId,tt=function(hi){return hi};if(u!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tt=di.encryptor(He,0));var pt={};ne===!0&&(ne=["FlateEncode"]);var Pt=y.additionalKeyValues||[],At=(pt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(N,ne):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(pt.data.length!==0&&(Pt.push({key:"Length",value:pt.data.length}),ye===!0&&Pt.push({key:"Length1",value:Le})),At.length!=0)if(At.split("/").length-1==1)Pt.push({key:"Filter",value:At});else{Pt.push({key:"Filter",value:"["+At+"]"});for(var Yt=0;Yt<Pt.length;Yt+=1)if(Pt[Yt].key==="DecodeParms"){for(var An=[],Pn=0;Pn<pt.reverseChain.split("/").length-1;Pn+=1)An.push("null");An.push(Pt[Yt].value),Pt[Yt].value="["+An.join(" ")+"]"}}se("<<");for(var Vn=0;Vn<Pt.length;Vn++)se("/"+Pt[Vn].key+" "+Pt[Vn].value);se(">>"),pt.data.length!==0&&(se("stream"),se(tt(pt.data)),se("endstream"))},lr=f.__private__.putPage=function(y){var N=y.number,ne=y.data,he=y.objId,ye=y.contentsObjId;Xi(he,!0),se("<</Type /Page"),se("/Parent "+y.rootDictionaryObjId+" 0 R"),se("/Resources "+y.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(te(y.mediaBox.bottomLeftX))+" "+parseFloat(te(y.mediaBox.bottomLeftY))+" "+te(y.mediaBox.topRightX)+" "+te(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&se("/CropBox ["+te(y.cropBox.bottomLeftX)+" "+te(y.cropBox.bottomLeftY)+" "+te(y.cropBox.topRightX)+" "+te(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&se("/BleedBox ["+te(y.bleedBox.bottomLeftX)+" "+te(y.bleedBox.bottomLeftY)+" "+te(y.bleedBox.topRightX)+" "+te(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&se("/TrimBox ["+te(y.trimBox.bottomLeftX)+" "+te(y.trimBox.bottomLeftY)+" "+te(y.trimBox.topRightX)+" "+te(y.trimBox.topRightY)+"]"),y.artBox!==null&&se("/ArtBox ["+te(y.artBox.bottomLeftX)+" "+te(y.artBox.bottomLeftY)+" "+te(y.artBox.topRightX)+" "+te(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&se("/UserUnit "+y.userUnit),tn.publish("putPage",{objId:he,pageContext:Dt[N],pageNumber:N,page:ne}),se("/Contents "+ye+" 0 R"),se(">>"),se("endobj");var Le=ne.join(`
`);return R===O.ADVANCED&&(Le+=`
Q`),Xi(ye,!0),ar({data:Le,filters:Qr(),objectId:ye}),se("endobj"),he},Or=f.__private__.putPages=function(){var y,N,ne=[];for(y=1;y<=Ln;y++)Dt[y].objId=Un(),Dt[y].contentsObjId=Un();for(y=1;y<=Ln;y++)ne.push(lr({number:y,data:Ue[y],objId:Dt[y].objId,contentsObjId:Dt[y].contentsObjId,mediaBox:Dt[y].mediaBox,cropBox:Dt[y].cropBox,bleedBox:Dt[y].bleedBox,trimBox:Dt[y].trimBox,artBox:Dt[y].artBox,userUnit:Dt[y].userUnit,rootDictionaryObjId:gs,resourceDictionaryObjId:Pr}));Xi(gs,!0),se("<</Type /Pages");var he="/Kids [";for(N=0;N<Ln;N++)he+=ne[N]+" 0 R ";se(he+"]"),se("/Count "+Ln),se(">>"),se("endobj"),tn.publish("postPutPages")},xo=function(y){tn.publish("putFont",{font:y,out:se,newObject:Yn,putStream:ar}),y.isAlreadyPutted!==!0&&(y.objectNumber=Yn(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Tu(y.postScriptName)),se("/Subtype /Type1"),typeof y.encoding=="string"&&se("/Encoding /"+y.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},ms=function(){for(var y in pn)pn.hasOwnProperty(y)&&(d===!1||d===!0&&p.hasOwnProperty(y))&&xo(pn[y])},_n=function(y){y.objectNumber=Yn();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[te(y.x),te(y.y),te(y.x+y.width),te(y.y+y.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ne=y.pages[1].join(`
`);ar({data:ne,additionalKeyValues:N,objectId:y.objectNumber}),se("endobj")},ia=function(){for(var y in ui)ui.hasOwnProperty(y)&&_n(ui[y])},_c=function(y,N){var ne,he=[],ye=1/(N-1);for(ne=0;ne<1;ne+=ye)he.push(ne);if(he.push(1),y[0].offset!=0){var Le={offset:0,color:y[0].color};y.unshift(Le)}if(y[y.length-1].offset!=1){var He={offset:1,color:y[y.length-1].color};y.push(He)}for(var tt="",pt=0,Pt=0;Pt<he.length;Pt++){for(ne=he[Pt];ne>y[pt+1].offset;)pt++;var At=y[pt].offset,Yt=(ne-At)/(y[pt+1].offset-At),An=y[pt].color,Pn=y[pt+1].color;tt+=ae(Math.round((1-Yt)*An[0]+Yt*Pn[0]).toString(16))+ae(Math.round((1-Yt)*An[1]+Yt*Pn[1]).toString(16))+ae(Math.round((1-Yt)*An[2]+Yt*Pn[2]).toString(16))}return tt.trim()},qu=function(y,N){N||(N=21);var ne=Yn(),he=_c(y.colors,N),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+N+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ar({data:he,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),se("endobj"),y.objectNumber=Yn(),se("<< /ShadingType "+y.type),se("/ColorSpace /DeviceRGB");var Le="/Coords ["+te(parseFloat(y.coords[0]))+" "+te(parseFloat(y.coords[1]))+" ";y.type===2?Le+=te(parseFloat(y.coords[2]))+" "+te(parseFloat(y.coords[3])):Le+=te(parseFloat(y.coords[2]))+" "+te(parseFloat(y.coords[3]))+" "+te(parseFloat(y.coords[4]))+" "+te(parseFloat(y.coords[5])),se(Le+="]"),y.matrix&&se("/Matrix ["+y.matrix.toString()+"]"),se("/Function "+ne+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},vc=function(y,N){var ne=Un(),he=Yn();N.push({resourcesOid:ne,objectOid:he}),y.objectNumber=he;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+y.boundingBox.map(te).join(" ")+"]"}),ye.push({key:"XStep",value:te(y.xStep)}),ye.push({key:"YStep",value:te(y.yStep)}),ye.push({key:"Resources",value:ne+" 0 R"}),y.matrix&&ye.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),ar({data:y.stream,additionalKeyValues:ye,objectId:y.objectNumber}),se("endobj")},ra=function(y){var N;for(N in ln)ln.hasOwnProperty(N)&&(ln[N]instanceof lc?qu(ln[N]):ln[N]instanceof Ou&&vc(ln[N],y))},yc=function(y){for(var N in y.objectNumber=Yn(),se("<<"),y)switch(N){case"opacity":se("/ca "+we(y[N]));break;case"stroke-opacity":se("/CA "+we(y[N]))}se(">>"),se("endobj")},Hu=function(){var y;for(y in kn)kn.hasOwnProperty(y)&&yc(kn[y])},sa=function(){for(var y in se("/XObject <<"),ui)ui.hasOwnProperty(y)&&ui[y].objectNumber>=0&&se("/"+y+" "+ui[y].objectNumber+" 0 R");tn.publish("putXobjectDict"),se(">>")},Uu=function(){di.oid=Yn(),se("<<"),se("/Filter /Standard"),se("/V "+di.v),se("/R "+di.r),se("/U <"+di.toHexString(di.U)+">"),se("/O <"+di.toHexString(di.O)+">"),se("/P "+di.P),se(">>"),se("endobj")},al=function(){for(var y in se("/Font <<"),pn)pn.hasOwnProperty(y)&&(d===!1||d===!0&&p.hasOwnProperty(y))&&se("/"+y+" "+pn[y].objectNumber+" 0 R");se(">>")},zu=function(){if(Object.keys(ln).length>0){for(var y in se("/Shading <<"),ln)ln.hasOwnProperty(y)&&ln[y]instanceof lc&&ln[y].objectNumber>=0&&se("/"+y+" "+ln[y].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),se(">>")}},qs=function(y){if(Object.keys(ln).length>0){for(var N in se("/Pattern <<"),ln)ln.hasOwnProperty(N)&&ln[N]instanceof f.TilingPattern&&ln[N].objectNumber>=0&&ln[N].objectNumber<y&&se("/"+N+" "+ln[N].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),se(">>")}},wc=function(){if(Object.keys(kn).length>0){var y;for(y in se("/ExtGState <<"),kn)kn.hasOwnProperty(y)&&kn[y].objectNumber>=0&&se("/"+y+" "+kn[y].objectNumber+" 0 R");tn.publish("putGStateDict"),se(">>")}},Fn=function(y){Xi(y.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),al(),zu(),qs(y.objectOid),wc(),sa(),se(">>"),se("endobj")},ll=function(){var y=[];ms(),Hu(),ia(),ra(y),tn.publish("putResources"),y.forEach(Fn),Fn({resourcesOid:Pr,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources")},cl=function(){tn.publish("putAdditionalObjects");for(var y=0;y<ze.length;y++){var N=ze[y];Xi(N.objId,!0),se(N.content),se("endobj")}tn.publish("postPutAdditionalObjects")},bc=function(y){Mn[y.fontName]=Mn[y.fontName]||{},Mn[y.fontName][y.fontStyle]=y.id},ul=function(y,N,ne,he,ye){var Le={id:"F"+(Object.keys(pn).length+1).toString(10),postScriptName:y,fontName:N,fontStyle:ne,encoding:he,isStandardFont:ye||!1,metadata:{}};return tn.publish("addFont",{font:Le,instance:this}),pn[Le.id]=Le,bc(Le),Le.id},oa=function(y){for(var N=0,ne=We.length;N<ne;N++){var he=ul.call(this,y[N][0],y[N][1],y[N][2],We[N][3],!0);d===!1&&(p[he]=!0);var ye=y[N][0].split("-");bc({id:he,fontName:ye[0],fontStyle:ye[1]||""})}tn.publish("addFonts",{fonts:pn,dictionary:Mn})},Oi=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(he){var N=he.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var ne="Error in function "+N.split(`
`)[0].split("<")[0]+": "+he.message;if(!St.console)throw new Error(ne);St.console.error(ne,he),St.alert&&alert(ne)}},y.foo.bar=y,y.foo},_s=function(y,N){var ne,he,ye,Le,He,tt,pt,Pt,At;if(ye=(N=N||{}).sourceEncoding||"Unicode",He=N.outputEncoding,(N.autoencode||He)&&pn[wt].metadata&&pn[wt].metadata[ye]&&pn[wt].metadata[ye].encoding&&(Le=pn[wt].metadata[ye].encoding,!He&&pn[wt].encoding&&(He=pn[wt].encoding),!He&&Le.codePages&&(He=Le.codePages[0]),typeof He=="string"&&(He=Le[He]),He)){for(pt=!1,tt=[],ne=0,he=y.length;ne<he;ne++)(Pt=He[y.charCodeAt(ne)])?tt.push(String.fromCharCode(Pt)):tt.push(y[ne]),tt[ne].charCodeAt(0)>>8&&(pt=!0);y=tt.join("")}for(ne=y.length;pt===void 0&&ne!==0;)y.charCodeAt(ne-1)>>8&&(pt=!0),ne--;if(!pt)return y;for(tt=N.noBOM?[]:[254,255],ne=0,he=y.length;ne<he;ne++){if((At=(Pt=y.charCodeAt(ne))>>8)>>8)throw new Error("Character at position "+ne+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(At),tt.push(Pt-(At<<8))}return String.fromCharCode.apply(void 0,tt)},Ci=f.__private__.pdfEscape=f.pdfEscape=function(y,N){return _s(y,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dl=f.__private__.beginPage=function(y){Ue[++Ln]=[],Dt[Ln]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},xc(Ln),Ne(Ue[z])},Cc=function(y,N){var ne,he,ye;switch(e=N||e,typeof y=="string"&&(ne=M(y.toLowerCase()),Array.isArray(ne)&&(he=ne[0],ye=ne[1])),Array.isArray(y)&&(he=y[0]*et,ye=y[1]*et),isNaN(he)&&(he=r[0],ye=r[1]),(he>14400||ye>14400)&&(Sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ye=Math.min(14400,ye)),r=[he,ye],e.substr(0,1)){case"l":ye>he&&(r=[ye,he]);break;case"p":he>ye&&(r=[ye,he])}dl(r),gl(pl),se(Lr),ml!==0&&se(ml+" J"),_l!==0&&se(_l+" j"),tn.publish("addPage",{pageNumber:Ln})},Wu=function(y){y>0&&y<=Ln&&(Ue.splice(y,1),Dt.splice(y,1),Ln--,z>Ln&&(z=Ln),this.setPage(z))},xc=function(y){y>0&&y<=Ln&&(z=y)},$u=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ue.length-1},Ec=function(y,N,ne){var he,ye=void 0;return ne=ne||{},y=y!==void 0?y:pn[wt].fontName,N=N!==void 0?N:pn[wt].fontStyle,he=y.toLowerCase(),Mn[he]!==void 0&&Mn[he][N]!==void 0?ye=Mn[he][N]:Mn[y]!==void 0&&Mn[y][N]!==void 0?ye=Mn[y][N]:ne.disableWarning===!1&&Sn.warn("Unable to look up font label for font '"+y+"', '"+N+"'. Refer to getFontList() for available fonts."),ye||ne.noFallback||(ye=Mn.times[N])==null&&(ye=Mn.times.normal),ye},Sc=f.__private__.putInfo=function(){var y=Yn(),N=function(he){return he};for(var ne in u!==null&&(N=di.encryptor(y,0)),se("<<"),se("/Producer ("+Ci(N("jsPDF "+Et.version))+")"),vt)vt.hasOwnProperty(ne)&&vt[ne]&&se("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Ci(N(vt[ne]))+")");se("/CreationDate ("+Ci(N(Ae))+")"),se(">>"),se("endobj")},hl=f.__private__.putCatalog=function(y){var N=(y=y||{}).rootDictionaryObjId||gs;switch(Yn(),se("<<"),se("/Type /Catalog"),se("/Pages "+N+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Be;ne.substr(ne.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&se("/OpenAction [3 0 R /XYZ null null "+we(Be)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}yt&&se("/PageMode /"+yt),tn.publish("putCatalog"),se(">>"),se("endobj")},Mc=f.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ue+1)),se("/Root "+ue+" 0 R"),se("/Info "+(ue-1)+" 0 R"),u!==null&&se("/Encrypt "+di.oid+" 0 R"),se("/ID [ <"+ee+"> <"+ee+"> ]"),se(">>")},Gu=f.__private__.putHeader=function(){se("%PDF-"+w),se("%\xBA\xDF\xAC\xE0")},Yu=f.__private__.putXRef=function(){var y="0000000000";se("xref"),se("0 "+(ue+1)),se("0000000000 65535 f ");for(var N=1;N<=ue;N++)typeof fe[N]=="function"?se((y+fe[N]()).slice(-10)+" 00000 n "):fe[N]!==void 0?se((y+fe[N]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ni=f.__private__.buildDocument=function(){lt(),Ne(ve),tn.publish("buildDocument"),Gu(),Or(),cl(),ll(),u!==null&&Uu(),Sc(),hl();var y=Ce;return Yu(),Mc(),se("startxref"),se(""+y),se("%%EOF"),Ne(Ue[z]),ve.join(`
`)},Eo=f.__private__.getBlob=function(y){return new Blob([rt(y)],{type:"application/pdf"})},aa=f.output=f.__private__.output=Oi(function(y,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",y){case void 0:return Ni();case"save":f.save(N.filename);break;case"arraybuffer":return rt(Ni());case"blob":return Eo(Ni());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(Eo(Ni()))||void 0;Sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",he=Ni();try{ne=Yy(he)}catch{ne=Yy(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+N.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(ye=N.pdfObjectUrl,Le="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",tt=St.open();return tt!==null&&tt.document.write(He),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',Pt=St.open();if(Pt!==null){Pt.document.write(pt);var At=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=N.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',An=St.open();if(An!==null&&(An.document.write(Yt),An.document.title=N.filename),An||typeof safari>"u")return An;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",N);default:return null}}),la=function(y){return Array.isArray(Co)===!0&&Co.indexOf(y)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=la("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var di=null;be(),W();var Ku=function(y){return u!==null?di.encryptor(y,0):function(N){return N}},Ac=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[y].objId,pageNumber:y,pageContext:Dt[y]}},Mt=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in Dt)if(Dt[N].objId===y)break;return Ac(N)},Xu=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Dt[z].objId,pageNumber:z,pageContext:Dt[z]}};f.addPage=function(){return Cc.apply(this,arguments),this},f.setPage=function(){return xc.apply(this,arguments),Ne.call(this,Ue[z]),this},f.insertPage=function(y){return this.addPage(),this.movePage(z,y),this},f.movePage=function(y,N){var ne,he;if(y>N){ne=Ue[y],he=Dt[y];for(var ye=y;ye>N;ye--)Ue[ye]=Ue[ye-1],Dt[ye]=Dt[ye-1];Ue[N]=ne,Dt[N]=he,this.setPage(N)}else if(y<N){ne=Ue[y],he=Dt[y];for(var Le=y;Le<N;Le++)Ue[Le]=Ue[Le+1],Dt[Le]=Dt[Le+1];Ue[N]=ne,Dt[N]=he,this.setPage(N)}return this},f.deletePage=function(){return Wu.apply(this,arguments),this},f.__private__.text=f.text=function(y,N,ne,he,ye){var Le,He,tt,pt,Pt,At,Yt,An,Pn,Vn=(he=he||{}).scope||this;if(typeof y=="number"&&typeof N=="number"&&(typeof ne=="string"||Array.isArray(ne))){var hi=ne;ne=N,N=y,y=hi}if(arguments[3]instanceof bt?(Y("The transform parameter of text() with a Matrix value"),Pn=ye):(tt=arguments[4],pt=arguments[5],bn(Yt=arguments[3])==="object"&&Yt!==null||(typeof tt=="string"&&(pt=tt,tt=null),typeof Yt=="string"&&(pt=Yt,Yt=null),typeof Yt=="number"&&(tt=Yt,Yt=null),he={flags:Yt,angle:tt,align:pt})),isNaN(N)||isNaN(ne)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Vn;var In="",Fr=!1,Zi=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:cr,ts=Vn.internal.scaleFactor;function bl(vn){return vn=vn.split("	").join(Array(he.TabLen||9).join(" ")),Ci(vn,Yt)}function ma(vn){for(var yn,Bn=vn.concat(),Kn=[],xs=Bn.length;xs--;)typeof(yn=Bn.shift())=="string"?Kn.push(yn):Array.isArray(vn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?Kn.push(yn[0]):Kn.push([yn[0],yn[1],yn[2]]);return Kn}function _a(vn,yn){var Bn;if(typeof vn=="string")Bn=yn(vn)[0];else if(Array.isArray(vn)){for(var Kn,xs,Dl=vn.concat(),pr=[],Pl=Dl.length;Pl--;)typeof(Kn=Dl.shift())=="string"?pr.push(yn(Kn)[0]):Array.isArray(Kn)&&typeof Kn[0]=="string"&&(xs=yn(Kn[0],Kn[1],Kn[2]),pr.push([xs[0],xs[1],xs[2]]));Bn=pr}return Bn}var va=!1,Cl=!0;if(typeof y=="string")va=!0;else if(Array.isArray(y)){var xl=y.concat();He=[];for(var ya,ti=xl.length;ti--;)(typeof(ya=xl.shift())!="string"||Array.isArray(ya)&&typeof ya[0]!="string")&&(Cl=!1);va=Cl}if(va===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var wa=Ye/Vn.internal.scaleFactor,Po=wa*(Zi-1);switch(he.baseline){case"bottom":ne-=Po;break;case"top":ne+=wa-Po;break;case"hanging":ne+=wa-2*Po;break;case"middle":ne+=wa/2-Po}if((At=he.maxWidth||0)>0&&(typeof y=="string"?y=Vn.splitTextToSize(y,At):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(vn,yn){return vn.concat(Vn.splitTextToSize(yn,At))},[]))),Le={text:y,x:N,y:ne,options:he,mutex:{pdfEscape:Ci,activeFontKey:wt,fonts:pn,activeFontSize:Ye}},tn.publish("preProcessText",Le),y=Le.text,tt=(he=Le.options).angle,!(Pn instanceof bt)&&tt&&typeof tt=="number"){tt*=Math.PI/180,he.rotationDirection===0&&(tt=-tt),R===O.ADVANCED&&(tt=-tt);var ba=Math.cos(tt),Ca=Math.sin(tt);Pn=new bt(ba,Ca,-Ca,ba,0,0)}else tt&&tt instanceof bt&&(Pn=tt);R!==O.ADVANCED||Pn||(Pn=Zr),(Pt=he.charSpace||ha)!==void 0&&(In+=te(j(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=he.horizontalScale)!==void 0&&(In+=te(100*An)+` Tz
`),he.lang;var mi=-1,sd=he.renderingMode!==void 0?he.renderingMode:he.stroke,El=Vn.internal.getCurrentPageInfo().pageContext;switch(sd){case 0:case!1:case"fill":mi=0;break;case 1:case!0:case"stroke":mi=1;break;case 2:case"fillThenStroke":mi=2;break;case 3:case"invisible":mi=3;break;case 4:case"fillAndAddForClipping":mi=4;break;case 5:case"strokeAndAddPathForClipping":mi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mi=6;break;case 7:case"addToPathForClipping":mi=7}var Nc=El.usedRenderingMode!==void 0?El.usedRenderingMode:-1;mi!==-1?In+=mi+` Tr
`:Nc!==-1&&(In+=`0 Tr
`),mi!==-1&&(El.usedRenderingMode=mi),pt=he.align||"left";var dr,ys=Ye*Zi,kc=Vn.internal.pageSize.getWidth(),Lc=pn[wt];Pt=he.charSpace||ha,At=he.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Ws=[],Io=function(vn){return Vn.getStringUnitWidth(vn,{font:Lc,charSpace:Pt,fontSize:Ye,doKerning:!1})*Ye/ts};if(Object.prototype.toString.call(y)==="[object Array]"){var xi;He=ma(y),pt!=="left"&&(dr=He.map(Io));var Ei,$s=0;if(pt==="right"){N-=dr[0],y=[],ti=He.length;for(var ws=0;ws<ti;ws++)ws===0?(Ei=kr(N),xi=Ji(ne)):(Ei=j($s-dr[ws]),xi=-ys),y.push([He[ws],Ei,xi]),$s=dr[ws]}else if(pt==="center"){N-=dr[0]/2,y=[],ti=He.length;for(var bs=0;bs<ti;bs++)bs===0?(Ei=kr(N),xi=Ji(ne)):(Ei=j(($s-dr[bs])/2),xi=-ys),y.push([He[bs],Ei,xi]),$s=dr[bs]}else if(pt==="left"){y=[],ti=He.length;for(var To=0;To<ti;To++)y.push(He[To])}else if(pt==="justify"&&Lc.encoding==="Identity-H"){y=[],ti=He.length,At=At!==0?At:kc;for(var ns=0,jn=0;jn<ti;jn++)if(xi=jn===0?Ji(ne):-ys,Ei=jn===0?kr(N):ns,jn<ti-1){var Sl=j((At-dr[jn])/(He[jn].split(" ").length-1)),Si=He[jn].split(" ");y.push([Si[0]+" ",Ei,xi]),ns=0;for(var Qi=1;Qi<Si.length;Qi++){var Gs=(Io(Si[Qi-1]+" "+Si[Qi])-Io(Si[Qi]))*ts+Sl;Qi==Si.length-1?y.push([Si[Qi],Gs,0]):y.push([Si[Qi]+" ",Gs,0]),ns-=Gs}}else y.push([He[jn],Ei,xi]);y.push(["",ns,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],ti=He.length,At=At!==0?At:kc,jn=0;jn<ti;jn++)xi=jn===0?Ji(ne):-ys,Ei=jn===0?kr(N):0,jn<ti-1?Ws.push(te(j((At-dr[jn])/(He[jn].split(" ").length-1)))):Ws.push(0),y.push([He[jn],Ei,xi])}}var Fc=typeof he.R2L=="boolean"?he.R2L:ot;Fc===!0&&(y=_a(y,function(vn,yn,Bn){return[vn.split("").reverse().join(""),yn,Bn]})),Le={text:y,x:N,y:ne,options:he,mutex:{pdfEscape:Ci,activeFontKey:wt,fonts:pn,activeFontSize:Ye}},tn.publish("postProcessText",Le),y=Le.text,Fr=Le.mutex.isHex||!1;var Ml=pn[wt].encoding;Ml!=="WinAnsiEncoding"&&Ml!=="StandardEncoding"||(y=_a(y,function(vn,yn,Bn){return[bl(vn),yn,Bn]})),He=ma(y),y=[];for(var Oo,xa,No,Ea=0,Sa=1,ko=Array.isArray(He[0])?Sa:Ea,Cs="",Al=function(vn,yn,Bn){var Kn="";return Bn instanceof bt?(Bn=typeof he.angle=="number"?Ki(Bn,new bt(1,0,0,1,vn,yn)):Ki(new bt(1,0,0,1,vn,yn),Bn),R===O.ADVANCED&&(Bn=Ki(new bt(1,0,0,-1,0,0),Bn)),Kn=Bn.join(" ")+` Tm
`):Kn=te(vn)+" "+te(yn)+` Td
`,Kn},hr=0;hr<He.length;hr++){switch(Cs="",ko){case Sa:No=(Fr?"<":"(")+He[hr][0]+(Fr?">":")"),Oo=parseFloat(He[hr][1]),xa=parseFloat(He[hr][2]);break;case Ea:No=(Fr?"<":"(")+He[hr]+(Fr?">":")"),Oo=kr(N),xa=Ji(ne)}Ws!==void 0&&Ws[hr]!==void 0&&(Cs=Ws[hr]+` Tw
`),hr===0?y.push(Cs+Al(Oo,xa,Pn)+No):ko===Ea?y.push(Cs+No):ko===Sa&&y.push(Cs+Al(Oo,xa,Pn)+No)}y=ko===Ea?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var fr=`BT
/`;return fr+=wt+" "+Ye+` Tf
`,fr+=te(Ye*Zi)+` TL
`,fr+=ur+`
`,fr+=In,fr+=y,se(fr+="ET"),p[wt]=!0,Vn};var Ju=f.__private__.clip=f.clip=function(y){return se(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ju("evenodd")},f.__private__.discardPath=f.discardPath=function(){return se("n"),this};var es=f.__private__.isValidStyle=function(y){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(N=!0),N};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return es(y)&&(c=y),this};var vs=f.__private__.getStyle=f.getStyle=function(y){var N=c;switch(y){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=y}return N},Dc=f.close=function(){return se("h"),this};f.stroke=function(){return se("S"),this},f.fill=function(y){return So("f",y),this},f.fillEvenOdd=function(y){return So("f*",y),this},f.fillStroke=function(y){return So("B",y),this},f.fillStrokeEvenOdd=function(y){return So("B*",y),this};var So=function(y,N){bn(N)==="object"?Qu(N,y):se(y)},ca=function(y){y===null||R===O.ADVANCED&&y===void 0||(y=vs(y),se(y))};function Zu(y,N,ne,he,ye){var Le=new Ou(N||this.boundingBox,ne||this.xStep,he||this.yStep,this.gState,ye||this.matrix);Le.stream=this.stream;var He=y+"$$"+this.cloneIndex+++"$$";return Ti(He,Le),Le}var Qu=function(y,N){var ne=Yi[y.key],he=ln[ne];if(he instanceof lc)se("q"),se(ed(N)),he.gState&&f.setGState(he.gState),se(y.matrix.toString()+" cm"),se("/"+ne+" sh"),se("Q");else if(he instanceof Ou){var ye=new bt(1,0,0,-1,0,zs());y.matrix&&(ye=ye.multiply(y.matrix||Zr),ne=Zu.call(he,y.key,y.boundingBox,y.xStep,y.yStep,ye).id),se("q"),se("/Pattern cs"),se("/"+ne+" scn"),he.gState&&f.setGState(he.gState),se(N),se("Q")}},ed=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fl=f.moveTo=function(y,N){return se(te(j(y))+" "+te(re(N))+" m"),this},Mo=f.lineTo=function(y,N){return se(te(j(y))+" "+te(re(N))+" l"),this},Hs=f.curveTo=function(y,N,ne,he,ye,Le){return se([te(j(y)),te(re(N)),te(j(ne)),te(re(he)),te(j(ye)),te(re(Le)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,N,ne,he,ye){if(isNaN(y)||isNaN(N)||isNaN(ne)||isNaN(he)||!es(ye))throw new Error("Invalid arguments passed to jsPDF.line");return R===O.COMPAT?this.lines([[ne-y,he-N]],y,N,[1,1],ye||"S"):this.lines([[ne-y,he-N]],y,N,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,N,ne,he,ye,Le){var He,tt,pt,Pt,At,Yt,An,Pn,Vn,hi,In,Fr;if(typeof y=="number"&&(Fr=ne,ne=N,N=y,y=Fr),he=he||[1,1],Le=Le||!1,isNaN(N)||isNaN(ne)||!Array.isArray(y)||!Array.isArray(he)||!es(ye)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fl(N,ne),He=he[0],tt=he[1],Pt=y.length,hi=N,In=ne,pt=0;pt<Pt;pt++)(At=y[pt]).length===2?(hi=At[0]*He+hi,In=At[1]*tt+In,Mo(hi,In)):(Yt=At[0]*He+hi,An=At[1]*tt+In,Pn=At[2]*He+hi,Vn=At[3]*tt+In,hi=At[4]*He+hi,In=At[5]*tt+In,Hs(Yt,An,Pn,Vn,hi,In));return Le&&Dc(),ca(ye),this},f.path=function(y){for(var N=0;N<y.length;N++){var ne=y[N],he=ne.c;switch(ne.op){case"m":fl(he[0],he[1]);break;case"l":Mo(he[0],he[1]);break;case"c":Hs.apply(this,he);break;case"h":Dc()}}return this},f.__private__.rect=f.rect=function(y,N,ne,he,ye){if(isNaN(y)||isNaN(N)||isNaN(ne)||isNaN(he)||!es(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return R===O.COMPAT&&(he=-he),se([te(j(y)),te(re(N)),te(j(ne)),te(j(he)),"re"].join(" ")),ca(ye),this},f.__private__.triangle=f.triangle=function(y,N,ne,he,ye,Le,He){if(isNaN(y)||isNaN(N)||isNaN(ne)||isNaN(he)||isNaN(ye)||isNaN(Le)||!es(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-y,he-N],[ye-ne,Le-he],[y-ye,N-Le]],y,N,[1,1],He,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,N,ne,he,ye,Le,He){if(isNaN(y)||isNaN(N)||isNaN(ne)||isNaN(he)||isNaN(ye)||isNaN(Le)||!es(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ne),Le=Math.min(Le,.5*he),this.lines([[ne-2*ye,0],[ye*tt,0,ye,Le-Le*tt,ye,Le],[0,he-2*Le],[0,Le*tt,-ye*tt,Le,-ye,Le],[2*ye-ne,0],[-ye*tt,0,-ye,-Le*tt,-ye,-Le],[0,2*Le-he],[0,-Le*tt,ye*tt,-Le,ye,-Le]],y+ye,N,[1,1],He,!0),this},f.__private__.ellipse=f.ellipse=function(y,N,ne,he,ye){if(isNaN(y)||isNaN(N)||isNaN(ne)||isNaN(he)||!es(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*ne,He=4/3*(Math.SQRT2-1)*he;return fl(y+ne,N),Hs(y+ne,N-He,y+Le,N-he,y,N-he),Hs(y-Le,N-he,y-ne,N-He,y-ne,N),Hs(y-ne,N+He,y-Le,N+he,y,N+he),Hs(y+Le,N+he,y+ne,N+He,y+ne,N),ca(ye),this},f.__private__.circle=f.circle=function(y,N,ne,he){if(isNaN(y)||isNaN(N)||isNaN(ne)||!es(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,N,ne,ne,he)},f.setFont=function(y,N,ne){return ne&&(N=de(N,ne)),wt=Ec(y,N,{disableWarning:!1}),this};var td=f.__private__.getFont=f.getFont=function(){return pn[Ec.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,N,ne={};for(y in Mn)if(Mn.hasOwnProperty(y))for(N in ne[y]=[],Mn[y])Mn[y].hasOwnProperty(N)&&ne[y].push(N);return ne},f.addFont=function(y,N,ne,he,ye){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(ne=de(ne,he)),ye=ye||"Identity-H",ul.call(this,y,N,ne,ye)};var cr,pl=i.lineWidth||.200025,ua=f.__private__.getLineWidth=f.getLineWidth=function(){return pl},gl=f.__private__.setLineWidth=f.setLineWidth=function(y){return pl=y,se(te(j(y))+" w"),this};f.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(y,N){if(y=y||[],N=N||0,isNaN(N)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ne){return te(j(ne))}).join(" "),N=te(j(N)),se("["+y+"] "+N+" d"),this};var Pc=f.__private__.getLineHeight=f.getLineHeight=function(){return Ye*cr};f.__private__.getLineHeight=f.getLineHeight=function(){return Ye*cr};var Nr=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(cr=y),this},Ic=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return cr};Nr(i.lineHeight);var kr=f.__private__.getHorizontalCoordinate=function(y){return j(y)},Ji=f.__private__.getVerticalCoordinate=function(y){return R===O.ADVANCED?y:Dt[z].mediaBox.topRightY-Dt[z].mediaBox.bottomLeftY-j(y)},nd=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return te(kr(y))},Us=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return te(Ji(y))},Lr=i.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ir(Lr)},f.__private__.setStrokeColor=f.setDrawColor=function(y,N,ne,he){return Lr=Tr({ch1:y,ch2:N,ch3:ne,ch4:he,pdfColorType:"draw",precision:2}),se(Lr),this};var da=i.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ir(da)},f.__private__.setFillColor=f.setFillColor=function(y,N,ne,he){return da=Tr({ch1:y,ch2:N,ch3:ne,ch4:he,pdfColorType:"fill",precision:2}),se(da),this};var ur=i.textColor||"0 g",id=f.__private__.getTextColor=f.getTextColor=function(){return Ir(ur)};f.__private__.setTextColor=f.setTextColor=function(y,N,ne,he){return ur=Tr({ch1:y,ch2:N,ch3:ne,ch4:he,pdfColorType:"text",precision:3}),this};var ha=i.charSpace,rd=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ha||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ha=y,this};var ml=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var N=f.CapJoinStyles[y];if(N===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ml=N,se(N+" J"),this};var _l=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var N=f.CapJoinStyles[y];if(N===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _l=N,se(N+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(te(j(y))+" M"),this},f.GState=Cm,f.setGState=function(y){(y=typeof y=="string"?kn[Dr[y]]:Tc(null,y)).equals(ps)||(se("/"+y.id+" gs"),ps=y)};var Tc=function(y,N){if(!y||!Dr[y]){var ne=!1;for(var he in kn)if(kn.hasOwnProperty(he)&&kn[he].equals(N)){ne=!0;break}if(ne)N=kn[he];else{var ye="GS"+(Object.keys(kn).length+1).toString(10);kn[ye]=N,N.id=ye}return y&&(Dr[y]=N.id),tn.publish("addGState",N),N}};f.addGState=function(y,N){return Tc(y,N),this},f.saveGraphicsState=function(){return se("q"),Kr.push({key:wt,size:Ye,color:ur}),this},f.restoreGraphicsState=function(){se("Q");var y=Kr.pop();return wt=y.key,Ye=y.size,ur=y.color,ps=null,this},f.setCurrentTransformationMatrix=function(y){return se(y.toString()+" cm"),this},f.comment=function(y){return se("#"+y),this};var fa=function(y,N){var ne=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Le){isNaN(Le)||(ne=parseFloat(Le))}});var he=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Le){isNaN(Le)||(he=parseFloat(Le))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Le){ye=Le.toString()}}),this},vl=function(y,N,ne,he){fa.call(this,y,N),this.type="rect";var ye=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(He){isNaN(He)||(ye=parseFloat(He))}});var Le=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(He){isNaN(He)||(Le=parseFloat(He))}}),this},yl=function(){this.page=Ln,this.currentPage=z,this.pages=Ue.slice(0),this.pagesContext=Dt.slice(0),this.x=ci,this.y=Qt,this.matrix=Gi,this.width=Do(z),this.height=zs(z),this.outputDestination=Je,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){Ln=this.page,z=this.currentPage,Dt=this.pagesContext,Ue=this.pages,ci=this.x,Qt=this.y,Gi=this.matrix,wl(z,this.width),ga(z,this.height),Je=this.outputDestination};var Oc=function(y,N,ne,he,ye){Jr.push(new yl),Ln=z=0,Ue=[],ci=y,Qt=N,Gi=ye,dl([ne,he])},pa=function(y){if(Xr[y])Jr.pop().restore();else{var N=new yl,ne="Xo"+(Object.keys(ui).length+1).toString(10);N.id=ne,Xr[y]=ne,ui[ne]=N,tn.publish("addFormObject",N),Jr.pop().restore()}};for(var Ao in f.beginFormObject=function(y,N,ne,he,ye){return Oc(y,N,ne,he,ye),this},f.endFormObject=function(y){return pa(y),this},f.doFormObject=function(y,N){var ne=ui[Xr[y]];return se("q"),se(N.toString()+" cm"),se("/"+ne.id+" Do"),se("Q"),this},f.getFormObject=function(y){var N=ui[Xr[y]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},f.save=function(y,N){return y=y||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(ac(Eo(Ni()),y),typeof ac.unload=="function"&&St.setTimeout&&setTimeout(ac.unload,911),this):new Promise(function(ne,he){try{var ye=ac(Eo(Ni()),y);typeof ac.unload=="function"&&St.setTimeout&&setTimeout(ac.unload,911),ne(ye)}catch(Le){he(Le.message)}})},Et.API)Et.API.hasOwnProperty(Ao)&&(Ao==="events"&&Et.API.events.length?function(y,N){var ne,he,ye;for(ye=N.length-1;ye!==-1;ye--)ne=N[ye][0],he=N[ye][1],y.subscribe.apply(y,[ne].concat(typeof he=="function"?[he]:he))}(tn,Et.API.events):f[Ao]=Et.API[Ao]);var Do=f.getPageWidth=function(y){return(Dt[y=y||z].mediaBox.topRightX-Dt[y].mediaBox.bottomLeftX)/et},wl=f.setPageWidth=function(y,N){Dt[y].mediaBox.topRightX=N*et+Dt[y].mediaBox.bottomLeftX},zs=f.getPageHeight=function(y){return(Dt[y=y||z].mediaBox.topRightY-Dt[y].mediaBox.bottomLeftY)/et},ga=f.setPageHeight=function(y,N){Dt[y].mediaBox.topRightY=N*et+Dt[y].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ci,getStyle:vs,getFont:td,getFontSize:Ge,getCharSpace:rd,getTextColor:id,getLineHeight:Pc,getLineHeightFactor:Ic,getLineWidth:ua,write:gt,getHorizontalCoordinate:kr,getVerticalCoordinate:Ji,getCoordinateString:nd,getVerticalCoordinateString:Us,collections:{},newObject:Yn,newAdditionalObject:nn,newObjectDeferred:Un,newObjectDeferredBegin:Xi,getFilters:Qr,putStream:ar,events:tn,scaleFactor:et,pageSize:{getWidth:function(){return Do(z)},setWidth:function(y){wl(z,y)},getHeight:function(){return zs(z)},setHeight:function(y){ga(z,y)}},encryptionOptions:u,encryption:di,getEncryptor:Ku,output:aa,getNumberOfPages:$u,pages:Ue,out:se,f2:we,f3:V,getPageInfo:Ac,getPageInfoByObjId:Mt,getCurrentPageInfo:Xu,getPDFVersion:x,Point:fa,Rectangle:vl,Matrix:bt,hasHotfix:la},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Do(z)},set:function(y){wl(z,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zs(z)},set:function(y){ga(z,y)},enumerable:!0,configurable:!0}),oa.call(f,We),wt="F1",Cc(r,e),tn.publish("initialized"),f}Iu.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},Iu.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Iu.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},Iu.prototype.processOwnerPassword=function(i,t){return Xy(Ky(t).substr(0,5),i)},Iu.prototype.encryptor=function(i,t){var e=Ky(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Xy(e,n)}},Cm.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||bn(i)!==bn(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="2.5.2";var Gn=Et.API,ew=1,uc=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Du=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(i){return i.toFixed(2)},nl=function(i){return i.toFixed(5)};Gn.__acroform__={};var Ar=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},oS=function(i){return i*ew},go=function(i){var t=new xS,e=at.internal.getHeight(i)||0,n=at.internal.getWidth(i)||0;return t.BBox=[0,0,Number(Lt(n)),Number(Lt(e))],t},uL=Gn.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},dL=Gn.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},hL=Gn.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},Zn=Gn.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hL(i,t-1)},Qn=Gn.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uL(i,t-1)},ei=Gn.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dL(i,t-1)},fL=Gn.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],s=i[1],o=i[2],a=i[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=e(r+o)||0,l.upperRight_Y=n(s)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},pL=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=Jy(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+Lt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=go(i);return s.scope=i.scope,s.stream=t.join(`
`),s}},Jy=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(V){return V.split(`
`)}):r.map(function(V){return[V]});var s=e,o=at.internal.getHeight(i)||0;o=o<0?-o:o;var a=at.internal.getWidth(i)||0;a=a<0?-a:a;var l=function(V,j,oe){if(V+1<r.length){var re=j+" "+r[V+1][0];return gm(re,i,oe).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=gm("3",i,s).height,p=i.multiline?o-s:(o-d)/2,f=p+=2,w=0,x=0,P=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+gm(t,i,s=12).width+", FieldWidth:"+a+`
`;break}for(var M="",O=0,R=0;R<r.length;R++)if(r.hasOwnProperty(R)){var G=!1;if(r[R].length!==1&&P!==r[R].length-1){if((d+2)*(O+2)+2>o)continue e;M+=r[R][P],G=!0,x=R,R--}else{M=(M+=r[R][P]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var ie=parseInt(R),de=l(ie,M,s),te=R>=r.length-1;if(de&&!te){M+=" ",P=0;continue}if(de||te){if(te)x=ie;else if(i.multiline&&(d+2)*(O+2)+2>o)continue e}else{if(!i.multiline||(d+2)*(O+2)+2>o)continue e;x=ie}}for(var Y="",ce=w;ce<=x;ce++){var we=r[ce];if(i.multiline){if(ce===x){Y+=we[P]+" ",P=(P+1)%we.length;continue}if(ce===w){Y+=we[we.length-1]+" ";continue}}Y+=we[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,u=gm(Y,i,s).width,i.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}t+=Lt(c)+" "+Lt(f)+` Td
`,t+="("+uc(Y)+`) Tj
`,t+=-Lt(c)+` 0 Td
`,f=-(s+2),u=0,w=G?x:x+1,O++,M=""}break}return n.text=t,n.fontSize=s,n},gm=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},gL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mL=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},_L=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var n=e,r=i[e];t.internal.newObjectDeferredBegin(r.objId,!0),bn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},vL=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Vs.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(gL)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ew=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new ES,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var s=n[r];s.objId=void 0,s.hasAnnotation&&mL(s,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var s=!n;for(var o in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=fL(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=at.createDefaultAppearanceStream(a),bn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=pL(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var w=f[o];typeof w=="function"&&(w=w.call(r,a)),d+="/"+o+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=f)=="function"&&(w=w.call(r,a)),d+="/"+o+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&_L(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},CS=Gn.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(o){return o};if(Array.isArray(i)){for(var r="[",s=0;s<i.length;s++)switch(s!==0&&(r+=" "),bn(i[s])){case"boolean":case"number":case"object":r+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+uc(n(i[s].toString()))+")"):r+=i[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wy=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+uc(n(i))+")"},mo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mo.prototype.toString=function(){return this.objId+" 0 R"},mo.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},mo.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:CS(r,this.objId,this.scope)}):r instanceof mo?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var xS=function(){mo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Ar(xS,mo);var ES=function(){mo.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+uc(e(i))+")"}},set:function(e){i=e}})};Ar(ES,mo);var Vs=function i(){mo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');t=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(t,3)},set:function(M){M?this.F=Qn(t,3):this.F=ei(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');e=M}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(M){n=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(M){n[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(M){n[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(M){n[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(M){n[3]=M}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof xm)return;s="FieldObject"+i.FieldNum++}var M=function(O){return O};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+uc(M(s))+")"},set:function(M){s=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(M){s=M}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(M){o=M}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(M){a=M}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(M){l=M}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ew:c},set:function(M){c=M}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof xm||this instanceof cc))return Wy(d,this.objId,this.scope)},set:function(M){M=M.toString(),d=M}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof bi?p:Wy(p,this.objId,this.scope)},set:function(M){M=M.toString(),p=this instanceof bi?M:M.substr(0,1)==="("?Du(M.substr(1,M.length-2)):Du(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?Du(p.substr(1,p.length-1)):p},set:function(M){M=M.toString(),p=this instanceof bi?"/"+M:M}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof bi?f:Wy(f,this.objId,this.scope)},set:function(M){M=M.toString(),f=this instanceof bi?M:M.substr(0,1)==="("?Du(M.substr(1,M.length-2)):Du(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?Du(f.substr(1,f.length-1)):f},set:function(M){M=M.toString(),f=this instanceof bi?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(M){M=!!M,x=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(M){w=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(M){M?this.Ff=Qn(this.Ff,1):this.Ff=ei(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(M){M?this.Ff=Qn(this.Ff,2):this.Ff=ei(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(M){M?this.Ff=Qn(this.Ff,3):this.Ff=ei(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');P=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(P){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Ar(Vs,mo);var Nu=function(){Vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CS(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(e){e?this.Ff=Qn(this.Ff,18):this.Ff=ei(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Qn(this.Ff,19):this.Ff=ei(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(e){e?(this.Ff=Qn(this.Ff,20),t.sort()):this.Ff=ei(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(e){e?this.Ff=Qn(this.Ff,22):this.Ff=ei(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(e){e?this.Ff=Qn(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(e){e?this.Ff=Qn(this.Ff,27):this.Ff=ei(this.Ff,27)}}),this.hasAppearanceStream=!1};Ar(Nu,Vs);var ku=function(){Nu.call(this),this.fontName="helvetica",this.combo=!1};Ar(ku,Nu);var Lu=function(){ku.call(this),this.combo=!0};Ar(Lu,ku);var vm=function(){Lu.call(this),this.edit=!0};Ar(vm,Lu);var bi=function(){Vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(e){e?this.Ff=Qn(this.Ff,15):this.Ff=ei(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(e){e?this.Ff=Qn(this.Ff,16):this.Ff=ei(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(e){e?this.Ff=Qn(this.Ff,17):this.Ff=ei(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(e){e?this.Ff=Qn(this.Ff,26):this.Ff=ei(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+uc(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){bn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};Ar(bi,Vs);var ym=function(){bi.call(this),this.pushButton=!0};Ar(ym,bi);var Fu=function(){bi.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Ar(Fu,bi);var xm=function(){var i,t;Vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+uc(r(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){bn(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ar(xm,Vs),Fu.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},Fu.prototype.createOption=function(i){var t=new xm;return t.Parent=this,t.optionName=i,this.Kids.push(t),yL.call(this.scope,t),t};var wm=function(){bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};Ar(wm,bi);var cc=function(){Vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(t){t?this.Ff=Qn(this.Ff,13):this.Ff=ei(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(t){t?this.Ff=Qn(this.Ff,21):this.Ff=ei(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(t){t?this.Ff=Qn(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(t){t?this.Ff=Qn(this.Ff,24):this.Ff=ei(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(t){t?this.Ff=Qn(this.Ff,25):this.Ff=ei(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(t){t?this.Ff=Qn(this.Ff,26):this.Ff=ei(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ar(cc,Vs);var bm=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(i){i?this.Ff=Qn(this.Ff,14):this.Ff=ei(this.Ff,14)}}),this.password=!0};Ar(bm,cc);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=go(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),s=Jy(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+Lt(at.internal.getWidth(i))+" "+Lt(at.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Lt(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=go(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],s=at.internal.getHeight(i),o=at.internal.getWidth(i),a=Jy(i,i.caption);return r.push("1 g"),r.push("0 0 "+Lt(o)+" "+Lt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Lt(o-1)+" "+Lt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Lt(a.fontSize)+" Tf "+n),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=go(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Lt(at.internal.getWidth(i))+" "+Lt(at.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=at.RadioButton.Circle.YesNormal,t.D[i]=at.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=go(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=at.internal.Bezier_C,s=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+nl(at.internal.getWidth(i)/2)+" "+nl(at.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=go(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*at.internal.Bezier_C).toFixed(5)),o=Number((n*at.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+nl(at.internal.getWidth(i)/2)+" "+nl(at.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+nl(at.internal.getWidth(i)/2)+" "+nl(at.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=go(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),s=Number((r*at.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+nl(at.internal.getWidth(i)/2)+" "+nl(at.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=at.RadioButton.Cross.YesNormal,t.D[i]=at.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=go(i);t.scope=i.scope;var e=[],n=at.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+Lt(at.internal.getWidth(i)-2)+" "+Lt(at.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),e.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),e.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),e.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=go(i);t.scope=i.scope;var e=at.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(at.internal.getWidth(i))+" "+Lt(at.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Lt(at.internal.getWidth(i)-2)+" "+Lt(at.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(e.x1.x)+" "+Lt(e.x1.y)+" m"),n.push(Lt(e.x2.x)+" "+Lt(e.x2.y)+" l"),n.push(Lt(e.x4.x)+" "+Lt(e.x4.y)+" m"),n.push(Lt(e.x3.x)+" "+Lt(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=go(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Lt(at.internal.getWidth(i))+" "+Lt(at.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};at.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=at.internal.getWidth(i),e=at.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},at.internal.getWidth=function(i){var t=0;return bn(i)==="object"&&(t=oS(i.Rect[2])),t},at.internal.getHeight=function(i){var t=0;return bn(i)==="object"&&(t=oS(i.Rect[3])),t};var yL=Gn.addField=function(i){if(vL(this,i),!(i instanceof Vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=Nu,Gn.AcroFormListBox=ku,Gn.AcroFormComboBox=Lu,Gn.AcroFormEditBox=vm,Gn.AcroFormButton=bi,Gn.AcroFormPushButton=ym,Gn.AcroFormRadioButton=Fu,Gn.AcroFormCheckBox=wm,Gn.AcroFormTextField=cc,Gn.AcroFormPasswordField=bm,Gn.AcroFormAppearance=at,Gn.AcroForm={ChoiceField:Nu,ListBox:ku,ComboBox:Lu,EditBox:vm,Button:bi,PushButton:ym,RadioButton:Fu,CheckBox:wm,TextField:cc,PasswordField:bm,Appearance:at},Et.AcroForm={ChoiceField:Nu,ListBox:ku,ComboBox:Lu,EditBox:vm,Button:bi,PushButton:ym,RadioButton:Fu,CheckBox:wm,TextField:cc,PasswordField:bm,Appearance:at};var NW=Et.AcroForm;function SS(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(V,j){var oe,re,Ae,ee,H,W=t;if((j=j||t)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(de(V))for(H in e)for(Ae=e[H],oe=0;oe<Ae.length;oe+=1){for(ee=!0,re=0;re<Ae[oe].length;re+=1)if(Ae[oe][re]!==void 0&&Ae[oe][re]!==V[re]){ee=!1;break}if(ee===!0){W=H;break}}else for(H in e)for(Ae=e[H],oe=0;oe<Ae.length;oe+=1){for(ee=!0,re=0;re<Ae[oe].length;re+=1)if(Ae[oe][re]!==void 0&&Ae[oe][re]!==V.charCodeAt(re)){ee=!1;break}if(ee===!0){W=H;break}}return W===t&&j!==t&&(W=j),W},r=function V(j){for(var oe=this.internal.write,re=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:j.width}),ee.push({key:"Height",value:j.height}),j.colorSpace===P.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===P.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var H="",W=0,K=j.transparency.length;W<K;W++)H+=j.transparency[W]+" "+j.transparency[W]+" ";ee.push({key:"Mask",value:"["+H+"]"})}j.sMask!==void 0&&ee.push({key:"SMask",value:j.objectId+1+" 0 R"});var le=j.filter!==void 0?["/"+j.filter]:void 0;if(re({data:j.data,additionalKeyValues:ee,alreadyAppliedFilters:le,objectId:j.objectId}),oe("endobj"),"sMask"in j&&j.sMask!==void 0){var be="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,T={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:be,data:j.sMask};"filter"in j&&(T.filter=j.filter),V.call(this,T)}if(j.colorSpace===P.INDEXED){var z=this.internal.newObject();re({data:Y(new Uint8Array(j.palette)),objectId:z}),oe("endobj")}},s=function(){var V=this.internal.collections.addImage_images;for(var j in V)r.call(this,V[j])},o=function(){var V,j=this.internal.collections.addImage_images,oe=this.internal.write;for(var re in j)oe("/I"+(V=j[re]).index,V.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var V=this.internal.collections.addImage_images;return a.call(this),V},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(V){return typeof i["process"+V.toUpperCase()]=="function"},d=function(V){return bn(V)==="object"&&V.nodeType===1},p=function(V,j){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var oe=""+V.getAttribute("src");if(oe.indexOf("data:image/")===0)return Ph(unescape(oe).split("base64,").pop());var re=i.loadFile(oe,!0);if(re!==void 0)return re}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var Ae;switch(j){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;case"JPEG":case"JPG":default:Ae="image/jpeg"}return Ph(V.toDataURL(Ae,1).split("base64,").pop())}},f=function(V){var j=this.internal.collections.addImage_images;if(j){for(var oe in j)if(V===j[oe].alias)return j[oe]}},w=function(V,j,oe){return V||j||(V=-96,j=-96),V<0&&(V=-1*oe.width*72/V/this.internal.scaleFactor),j<0&&(j=-1*oe.height*72/j/this.internal.scaleFactor),V===0&&(V=j*oe.width/oe.height),j===0&&(j=V*oe.height/oe.width),[V,j]},x=function(V,j,oe,re,Ae,ee){var H=w.call(this,oe,re,Ae),W=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,le=l.call(this);if(oe=H[0],re=H[1],le[Ae.index]=Ae,ee){ee*=Math.PI/180;var be=Math.cos(ee),T=Math.sin(ee),z=function(ae){return ae.toFixed(4)},$=[z(be),z(T),z(-1*T),z(be),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,W(V),K(j+re),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([W(oe),"0","0",W(re),"0","0","cm"].join(" "))):this.internal.write([W(oe),"0","0",W(re),W(V),K(j+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},P=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},O=i.__addimage__.sHashCode=function(V){var j,oe,re=0;if(typeof V=="string")for(oe=V.length,j=0;j<oe;j++)re=(re<<5)-re+V.charCodeAt(j),re|=0;else if(de(V))for(oe=V.byteLength/2,j=0;j<oe;j++)re=(re<<5)-re+V[j],re|=0;return re},R=i.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var j=!0;return V.length===0&&(j=!1),V.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(j=!1),j},G=i.__addimage__.extractImageFromDataUrl=function(V){var j=(V=V||"").split("base64,"),oe=null;if(j.length===2){var re=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(re)&&(oe={mimeType:re[1],charset:re[2],data:j[1]})}return oe},ie=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(V){return ie()&&V instanceof ArrayBuffer};var de=i.__addimage__.isArrayBufferView=function(V){return ie()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},te=i.__addimage__.binaryStringToUint8Array=function(V){for(var j=V.length,oe=new Uint8Array(j),re=0;re<j;re++)oe[re]=V.charCodeAt(re);return oe},Y=i.__addimage__.arrayBufferToBinaryString=function(V){for(var j="",oe=de(V)?V:new Uint8Array(V),re=0;re<oe.length;re+=8192)j+=String.fromCharCode.apply(null,oe.subarray(re,re+8192));return j};i.addImage=function(){var V,j,oe,re,Ae,ee,H,W,K;if(typeof arguments[1]=="number"?(j=t,oe=arguments[1],re=arguments[2],Ae=arguments[3],ee=arguments[4],H=arguments[5],W=arguments[6],K=arguments[7]):(j=arguments[1],oe=arguments[2],re=arguments[3],Ae=arguments[4],ee=arguments[5],H=arguments[6],W=arguments[7],K=arguments[8]),bn(V=arguments[0])==="object"&&!d(V)&&"imageData"in V){var le=V;V=le.imageData,j=le.format||j||t,oe=le.x||oe||0,re=le.y||re||0,Ae=le.w||le.width||Ae,ee=le.h||le.height||ee,H=le.alias||H,W=le.compression||W,K=le.rotation||le.angle||K}var be=this.internal.getFilters();if(W===void 0&&be.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(oe)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=ce.call(this,V,j,H,W);return x.call(this,oe,re,Ae,ee,T,K),this};var ce=function(V,j,oe,re){var Ae,ee,H;if(typeof V=="string"&&n(V)===t){V=unescape(V);var W=we(V,!1);(W!==""||(W=i.loadFile(V,!0))!==void 0)&&(V=W)}if(d(V)&&(V=p(V,j)),j=n(V,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((H=oe)==null||H.length===0)&&(oe=function(K){return typeof K=="string"||de(K)?O(K):de(K.data)?O(K.data):null}(V)),(Ae=f.call(this,oe))||(ie()&&(V instanceof Uint8Array||j==="RGBA"||(ee=V,V=te(V))),Ae=this["process"+j.toUpperCase()](V,c.call(this),oe,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in i.image_compression?K:M.NONE}(re),ee)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},we=i.__addimage__.convertBase64ToBinaryString=function(V,j){var oe;j=typeof j!="boolean"||j;var re,Ae="";if(typeof V=="string"){re=(oe=G(V))!==null?oe.data:V;try{Ae=Ph(re)}catch(ee){if(j)throw R(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ae};i.getImageProperties=function(V){var j,oe,re="";if(d(V)&&(V=p(V)),typeof V=="string"&&n(V)===t&&((re=we(V,!1))===""&&(re=i.loadFile(V)||""),V=re),oe=n(V),!u(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(!ie()||V instanceof Uint8Array||(V=te(V)),!(j=this["process"+oe.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=oe,j}})(Et.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};Et.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var f=this.internal.pdfEscape,w=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(x.objId),O=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+f(M(n.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(M(O))+") >>",x.content=s;var R=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+R,n.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(x.objId,"0 R",P.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var G=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(w(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var ie=this.annotations._nameMap[n.options.name];n.options.pageNumber=ie.page,n.options.top=ie.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var de=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+de+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(n),w:l(e+r),h:c(n+s)},options:o,type:"link"})},i.textWithLink=function(e,n,r,s){var o,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(e,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(e,n,r,s),r+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,r-c,a,o,s),l},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Et.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=i.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},l=i.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&r.indexOf(x.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var c=i.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var u=i.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length==4},d=i.__arabicParser__.resolveLigatures=function(x){var P=0,M=e,O="",R=0;for(P=0;P<x.length;P+=1)M[x.charCodeAt(P)]!==void 0?(R++,typeof(M=M[x.charCodeAt(P)])=="number"&&(O+=String.fromCharCode(M),M=e,R=0),P===x.length-1&&(M=e,O+=x.charAt(P-(R-1)),P-=R-1,R=0)):(M=e,O+=x.charAt(P-R),P-=R,R=0);return O};i.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var p=i.__arabicParser__.getCorrectForm=function(x,P,M){return o(x)?s(x)===!1?-1:!c(x)||!o(P)&&!o(M)||!o(M)&&a(P)||a(x)&&!o(P)||a(x)&&l(P)||a(x)&&a(P)?0:u(x)&&o(P)&&!a(P)&&o(M)&&c(M)?3:a(x)||!o(M)?1:2:-1},f=function(x){var P=0,M=0,O=0,R="",G="",ie="",de=(x=x||"").split("\\s+"),te=[];for(P=0;P<de.length;P+=1){for(te.push(""),M=0;M<de[P].length;M+=1)R=de[P][M],G=de[P][M-1],ie=de[P][M+1],o(R)?(O=p(R,G,ie),te[P]+=O!==-1?String.fromCharCode(t[R.charCodeAt(0)][O]):R):te[P]+=R;te[P]=d(te[P])}return te.join(" ")},w=i.__arabicParser__.processArabic=i.processArabic=function(){var x,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(P)){var O=0;for(M=[],O=0;O<P.length;O+=1)Array.isArray(P[O])?M.push([f(P[O][0]),P[O][1],P[O][2]]):M.push([f(P[O])]);x=M}else x=f(P);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};i.events.push(["preProcessText",w])}(Et.API),Et.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(x){w=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},i.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,w=0,x=0,P=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var M=c.maxWidth;M>0?typeof l=="string"?l=this.splitTextToSize(l,M):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(R,G){return R.concat(P.splitTextToSize(G,M))},[])):l=Array.isArray(l)?l:[l];for(var O=0;O<l.length;O++)f<(x=this.getStringUnitWidth(l[O],{font:d})*u)&&(f=x);return f!==0&&(w=l.length),{w:f/=p,h:Math.max((w*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};i.table=function(l,c,u,d,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,w,x,P,M=[],O=[],R=[],G={},ie={},de=[],te=[],Y=(p=p||{}).autoSize||!1,ce=p.printHeaders!==!1,we=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,V=p.margins||Object.assign({width:this.getPageWidth()},t),j=typeof p.padding=="number"?p.padding:3,oe=p.headerBackgroundColor||"#c8c8c8",re=p.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=ce,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=we,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=re,this.setFontSize(we),d==null)O=M=Object.keys(u[0]),R=M.map(function(){return"left"});else if(Array.isArray(d)&&bn(d[0])==="object")for(M=d.map(function(le){return le.name}),O=d.map(function(le){return le.prompt||le.name||""}),R=d.map(function(le){return le.align||"left"}),f=0;f<d.length;f+=1)ie[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(O=M=d,R=M.map(function(){return"left"}));if(Y||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<M.length;f+=1){for(G[P=M[f]]=u.map(function(le){return le[P]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(O[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=G[P],this.setFont(void 0,"normal"),x=0;x<w.length;x+=1)de.push(this.getTextDimensions(w[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[P]=Math.max.apply(null,de)+j+j,de=[]}if(ce){var Ae={};for(f=0;f<M.length;f+=1)Ae[M[f]]={},Ae[M[f]].text=O[f],Ae[M[f]].align=R[f];var ee=a.call(this,Ae,ie);te=M.map(function(le){return new s(l,c,ie[le],ee,Ae[le].text,void 0,Ae[le].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var H=d.reduce(function(le,be){return le[be.name]=be.align,le},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var W=a.call(this,u[f],ie);for(x=0;x<M.length;x+=1){var K=u[f][M[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:x,data:K},this),o.call(this,new s(l,c,ie[M[x]],W,K,f+2,H[M[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var w=l[f];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/p+u+u},this).reduce(function(f,w){return Math.max(f,w)},0)};i.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},i.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(w)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),e=!1}}(Et.API);var MS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zy=SS(AS),DS=[100,200,300,400,500,600,700,800,900],wL=SS(DS);function Qy(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return MS[s=s||"normal"]?s:"normal"}(i.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(s){return typeof Zy[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function aS(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var bL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cS(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function CL(i,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},bL,e.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(r[(s=Qy(t[a])).family]&&(s.family=r[s.family]),i.hasOwnProperty(s.family)){o=i[s.family];break}if(!(o=o||i[n]))throw new Error("Could not find a font-family for the rule '"+cS(s)+"' and default family '"+n+"'.");if(o=function(l,c){if(c[l])return c[l];var u=Zy[l],d=u<=Zy.normal?-1:1,p=aS(c,AS,u,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=MS[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=wL[l],d=aS(c,DS,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cS(s)+"'.");return o}function uS(i){return i.trimLeft()}function xL(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function EL(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var mm,dS,hS,$y=["times"];(function(i){var t,e,n,r,s,o,a,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=T;Object.defineProperty(this,"pdf",{get:function(){return z}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(Ne){$=!!Ne}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ne){ae=!!Ne}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ne){isNaN(Ne)||(ue=Ne)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ne){isNaN(Ne)||(fe=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ne){var se;typeof Ne=="number"?se=[Ne,Ne,Ne,Ne]:((se=new Array(4))[0]=Ne[0],se[1]=Ne.length>=2?Ne[1]:se[0],se[2]=Ne.length>=3?Ne[2]:se[0],se[3]=Ne.length>=4?Ne[3]:se[1]),c.margin=se}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ne){ve=Ne}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Ne){Ce=Ne}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Ne){ze=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ne){Ne instanceof u&&(c=Ne)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ne){c.path=Ne}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(Ne){Ue=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var se;se=p(Ne),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var se=p(Ne);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Ke=null;function Je(Ne,se){if(Ke===null){var gt=function(rt){var We=[];return Object.keys(rt).forEach(function(Ye){rt[Ye].forEach(function(Be){var Ge=null;switch(Be){case"bold":Ge={family:Ye,weight:"bold"};break;case"italic":Ge={family:Ye,style:"italic"};break;case"bolditalic":Ge={family:Ye,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Ye}}Ge!==null&&(Ge.ref={name:Ye,style:Be},We.push(Ge))})}),We}(Ne.getFontList());Ke=function(rt){for(var We={},Ye=0;Ye<rt.length;++Ye){var Be=Qy(rt[Ye]),Ge=Be.family,ot=Be.stretch,yt=Be.style,ut=Be.weight;We[Ge]=We[Ge]||{},We[Ge][ot]=We[Ge][ot]||{},We[Ge][ot][yt]=We[Ge][ot][yt]||{},We[Ge][ot][yt][ut]=Be}return We}(gt.concat(se))}return Ke}var lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(Ne){Ke=null,lt=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var se;if(this.ctx.font=Ne,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var gt=se[1],rt=(se[2],se[3]),We=se[4],Ye=(se[5],se[6]),Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(Be==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var Ge=function(vt){var wt,et,ci=[],Qt=vt.trim();if(Qt==="")return $y;if(Qt in lS)return[lS[Qt]];for(;Qt!=="";){switch(et=null,wt=(Qt=uS(Qt)).charAt(0)){case'"':case"'":et=xL(Qt.substring(1),wt);break;default:et=EL(Qt)}if(et===null||(ci.push(et[0]),(Qt=uS(et[1]))!==""&&Qt.charAt(0)!==","))return $y;Qt=Qt.replace(/^,/,"")}return ci}(Ye);if(this.fontFaces){var ot=CL(Je(this.pdf,this.fontFaces),Ge.map(function(vt){return{family:vt,stretch:"normal",weight:rt,style:gt}}));this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var yt="";(rt==="bold"||parseInt(rt,10)>=700||gt==="bold")&&(yt="bold"),gt==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var ut="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gt=0;Gt<Ge.length;Gt++){if(this.pdf.internal.getFont(Ge[Gt],yt,{noFallback:!0,disableWarning:!0})!==void 0){ut=Ge[Gt];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(Ge[Gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Ge[Gt],yt="bold";else if(this.pdf.internal.getFont(Ge[Gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Ge[Gt],yt="normal";break}}if(ut===""){for(var cn=0;cn<Ge.length;cn++)if(_t[Ge[cn]]){ut=_t[Ge[cn]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){G.call(this,"fill",!1)},d.prototype.stroke=function(){G.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,z){if(isNaN(T)||isNaN(z))throw Sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(T,z));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(T,z)},d.prototype.closePath=function(){var T=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&bn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){T=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},d.prototype.lineTo=function(T,z){if(isNaN(T)||isNaN(z))throw Sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(T,z));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,z,$,ae){if(isNaN($)||isNaN(ae)||isNaN(T)||isNaN(z))throw Sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o($,ae)),fe=this.ctx.transform.applyToPoint(new o(T,z));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},d.prototype.bezierCurveTo=function(T,z,$,ae,ue,fe){if(isNaN(ue)||isNaN(fe)||isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae))throw Sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(ue,fe)),Ce=this.ctx.transform.applyToPoint(new o(T,z)),ze=this.ctx.transform.applyToPoint(new o($,ae));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:ze.x,y2:ze.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},d.prototype.arc=function(T,z,$,ae,ue,fe){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae)||isNaN(ue))throw Sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(T,z));T=ve.x,z=ve.y;var Ce=this.ctx.transform.applyToPoint(new o(0,$)),ze=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(Ce.x-ze.x,2)+Math.pow(Ce.y-ze.y,2))}Math.abs(ue-ae)>=2*Math.PI&&(ae=0,ue=2*Math.PI),this.path.push({type:"arc",x:T,y:z,radius:$,startAngle:ae,endAngle:ue,counterclockwise:fe})},d.prototype.arcTo=function(T,z,$,ae,ue){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,z,$,ae){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae))throw Sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,z),this.lineTo(T+$,z),this.lineTo(T+$,z+ae),this.lineTo(T,z+ae),this.lineTo(T,z),this.lineTo(T+$,z),this.lineTo(T,z)},d.prototype.fillRect=function(T,z,$,ae){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae))throw Sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,z,$,ae),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},d.prototype.strokeRect=function(T,z,$,ae){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae))throw Sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(T,z,$,ae),this.stroke())},d.prototype.clearRect=function(T,z,$,ae){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae))throw Sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,z,$,ae))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(z),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var z,$,ae,ue;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))z=0,$=0,ae=0,ue=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(fe!==null)z=parseInt(fe[1]),$=parseInt(fe[2]),ae=parseInt(fe[3]),ue=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)z=parseInt(fe[1]),$=parseInt(fe[2]),ae=parseInt(fe[3]),ue=parseFloat(fe[4]);else{if(ue=1,typeof T=="string"&&T.charAt(0)!=="#"){var ve=new yS(T);T=ve.ok?ve.toHex():"#000000"}T.length===4?(z=T.substring(1,2),z+=z,$=T.substring(2,3),$+=$,ae=T.substring(3,4),ae+=ae):(z=T.substring(1,3),$=T.substring(3,5),ae=T.substring(5,7)),z=parseInt(z,16),$=parseInt($,16),ae=parseInt(ae,16)}}return{r:z,g:$,b:ae,a:ue,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,z,$,ae){if(isNaN(z)||isNaN($)||typeof T!="string")throw Sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!f.call(this)){var ue=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:T,x:z,y:$,scale:fe,angle:ue,align:this.textAlign,maxWidth:ae})}},d.prototype.strokeText=function(T,z,$,ae){if(isNaN(z)||isNaN($)||typeof T!="string")throw Sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ae=isNaN(ae)?void 0:ae;var ue=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:T,x:z,y:$,scale:fe,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ae})}},d.prototype.measureText=function(T){if(typeof T!="string")throw Sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,$=this.pdf.internal.scaleFactor,ae=z.internal.getFontSize(),ue=z.getStringUnitWidth(T)*ae/z.internal.scaleFactor,fe=function(ve){var Ce=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new fe({width:ue*=Math.round(96*$/72*1e4)/1e4})},d.prototype.scale=function(T,z){if(isNaN(T)||isNaN(z))throw Sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(T,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.rotate=function(T){if(isNaN(T))throw Sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.translate=function(T,z){if(isNaN(T)||isNaN(z))throw Sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,T,z);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.transform=function(T,z,$,ae,ue,fe){if(isNaN(T)||isNaN(z)||isNaN($)||isNaN(ae)||isNaN(ue)||isNaN(fe))throw Sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(T,z,$,ae,ue,fe);this.ctx.transform=this.ctx.transform.multiply(ve)},d.prototype.setTransform=function(T,z,$,ae,ue,fe){T=isNaN(T)?1:T,z=isNaN(z)?0:z,$=isNaN($)?0:$,ae=isNaN(ae)?1:ae,ue=isNaN(ue)?0:ue,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(T,z,$,ae,ue,fe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,z,$,ae,ue,fe,ve,Ce,ze){var Ue=this.pdf.getImageProperties(T),Ke=1,Je=1,lt=1,Ne=1;ae!==void 0&&Ce!==void 0&&(lt=Ce/ae,Ne=ze/ue,Ke=Ue.width/ae*Ce/ae,Je=Ue.height/ue*ze/ue),fe===void 0&&(fe=z,ve=$,z=0,$=0),ae!==void 0&&Ce===void 0&&(Ce=ae,ze=ue),ae===void 0&&Ce===void 0&&(Ce=Ue.width,ze=Ue.height);for(var se,gt=this.ctx.transform.decompose(),rt=W(gt.rotate.shx),We=new l,Ye=(We=(We=(We=We.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new a(fe-z*lt,ve-$*Ne,ae*Ke,ue*Je)),Be=P.call(this,Ye),Ge=[],ot=0;ot<Be.length;ot+=1)Ge.indexOf(Be[ot])===-1&&Ge.push(Be[ot]);if(R(Ge),this.autoPaging)for(var yt=Ge[0],ut=Ge[Ge.length-1],_t=yt;_t<ut+1;_t++){this.pdf.setPage(_t);var Gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cn=_t===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=_t===1?0:vt+(_t-2)*wt;if(this.ctx.clip_path.length!==0){var ci=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(se,this.posX+this.margin[3],-et+cn+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=ci}var Qt=JSON.parse(JSON.stringify(Ye));Qt=O([Qt],this.posX+this.margin[3],-et+cn+this.ctx.prevPageLastElemOffset)[0];var Gi=(_t>yt||_t<ut)&&x.call(this);Gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,wt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,rt),Gi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,rt)};var P=function(T,z,$){var ae=[];z=z||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ae.push(Math.floor((T.y+ue)/$)+1);break;case"arc":ae.push(Math.floor((T.y+ue-T.radius)/$)+1),ae.push(Math.floor((T.y+ue+T.radius)/$)+1);break;case"qct":var fe=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ae.push(Math.floor((fe.y+ue)/$)+1),ae.push(Math.floor((fe.y+fe.h+ue)/$)+1);break;case"bct":var ve=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ae.push(Math.floor((ve.y+ue)/$)+1),ae.push(Math.floor((ve.y+ve.h+ue)/$)+1);break;case"rect":ae.push(Math.floor((T.y+ue)/$)+1),ae.push(Math.floor((T.y+T.h+ue)/$)+1)}for(var Ce=0;Ce<ae.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ae[Ce];)M.call(this);return ae},M=function(){var T=this.fillStyle,z=this.strokeStyle,$=this.font,ae=this.lineCap,ue=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=z,this.font=$,this.lineCap=ae,this.lineWidth=ue,this.lineJoin=fe},O=function(T,z,$){for(var ae=0;ae<T.length;ae++)switch(T[ae].type){case"bct":T[ae].x2+=z,T[ae].y2+=$;case"qct":T[ae].x1+=z,T[ae].y1+=$;case"mt":case"lt":case"arc":default:T[ae].x+=z,T[ae].y+=$}return T},R=function(T){return T.sort(function(z,$){return z-$})},G=function(T,z){for(var $,ae,ue=this.fillStyle,fe=this.strokeStyle,ve=this.lineCap,Ce=this.lineWidth,ze=Math.abs(Ce*this.ctx.transform.scaleX),Ue=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),lt=[],Ne=0;Ne<Je.length;Ne++)if(Je[Ne].x!==void 0)for(var se=P.call(this,Je[Ne]),gt=0;gt<se.length;gt+=1)lt.indexOf(se[gt])===-1&&lt.push(se[gt]);for(var rt=0;rt<lt.length;rt++)for(;this.pdf.internal.getNumberOfPages()<lt[rt];)M.call(this);if(R(lt),this.autoPaging)for(var We=lt[0],Ye=lt[lt.length-1],Be=We;Be<Ye+1;Be++){this.pdf.setPage(Be),this.fillStyle=ue,this.strokeStyle=fe,this.lineCap=ve,this.lineWidth=ze,this.lineJoin=Ue;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Be===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=Be===1?0:yt+(Be-2)*ut;if(this.ctx.clip_path.length!==0){var Gt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O($,this.posX+this.margin[3],-_t+ot+this.ctx.prevPageLastElemOffset),ie.call(this,T,!0),this.path=Gt}if(ae=JSON.parse(JSON.stringify(Ke)),this.path=O(ae,this.posX+this.margin[3],-_t+ot+this.ctx.prevPageLastElemOffset),z===!1||Be===0){var cn=(Be>We||Be<Ye)&&x.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,ut,null).clip().discardPath()),ie.call(this,T,z),cn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=ze,ie.call(this,T,z),this.lineWidth=Ce;this.path=Ke},ie=function(T,z){if((T!=="stroke"||z||!w.call(this))&&(T==="stroke"||z||!f.call(this))){for(var $,ae,ue=[],fe=this.path,ve=0;ve<fe.length;ve++){var Ce=fe[ve];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var ze=ue.length;if(fe[ve-1]&&!isNaN(fe[ve-1].x)&&($=[Ce.x-fe[ve-1].x,Ce.y-fe[ve-1].y],ze>0)){for(;ze>=0;ze--)if(ue[ze-1].close!==!0&&ue[ze-1].begin!==!0){ue[ze-1].deltas.push($),ue[ze-1].abs.push(Ce);break}}break;case"bct":$=[Ce.x1-fe[ve-1].x,Ce.y1-fe[ve-1].y,Ce.x2-fe[ve-1].x,Ce.y2-fe[ve-1].y,Ce.x-fe[ve-1].x,Ce.y-fe[ve-1].y],ue[ue.length-1].deltas.push($);break;case"qct":var Ue=fe[ve-1].x+2/3*(Ce.x1-fe[ve-1].x),Ke=fe[ve-1].y+2/3*(Ce.y1-fe[ve-1].y),Je=Ce.x+2/3*(Ce.x1-Ce.x),lt=Ce.y+2/3*(Ce.y1-Ce.y),Ne=Ce.x,se=Ce.y;$=[Ue-fe[ve-1].x,Ke-fe[ve-1].y,Je-fe[ve-1].x,lt-fe[ve-1].y,Ne-fe[ve-1].x,se-fe[ve-1].y],ue[ue.length-1].deltas.push($);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}ae=z?null:T==="stroke"?"stroke":"fill";for(var gt=!1,rt=0;rt<ue.length;rt++)if(ue[rt].arc)for(var We=ue[rt].abs,Ye=0;Ye<We.length;Ye++){var Be=We[Ye];Be.type==="arc"?Y.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,z,!gt):oe.call(this,Be.x,Be.y),gt=!0}else if(ue[rt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(ue[rt].begin!==!0){var Ge=ue[rt].start.x,ot=ue[rt].start.y;re.call(this,ue[rt].deltas,Ge,ot),gt=!0}ae&&ce.call(this,ae),z&&we.call(this)}},de=function(T){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-$;case"top":return T+z-$;case"hanging":return T+z-2*$;case"middle":return T+z/2-$;case"ideographic":return T;case"alphabetic":default:return T}},te=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(z,$){this.colorStops.push([z,$])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(T,z,$,ae,ue,fe,ve,Ce,ze){for(var Ue=ee.call(this,$,ae,ue,fe),Ke=0;Ke<Ue.length;Ke++){var Je=Ue[Ke];Ke===0&&(ze?V.call(this,Je.x1+T,Je.y1+z):oe.call(this,Je.x1+T,Je.y1+z)),Ae.call(this,T,z,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Ce?we.call(this):ce.call(this,ve)},ce=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},we=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(T,z){this.pdf.internal.out(e(T)+" "+n(z)+" m")},j=function(T){var z;switch(T.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var $=this.pdf.getTextDimensions(T.text),ae=de.call(this,T.y),ue=te.call(this,ae)-$.h,fe=this.ctx.transform.applyToPoint(new o(T.x,ae)),ve=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var ze,Ue,Ke,Je=this.ctx.transform.applyToRectangle(new a(T.x,ae,$.w,$.h)),lt=Ce.applyToRectangle(new a(T.x,ue,$.w,$.h)),Ne=P.call(this,lt),se=[],gt=0;gt<Ne.length;gt+=1)se.indexOf(Ne[gt])===-1&&se.push(Ne[gt]);if(R(se),this.autoPaging)for(var rt=se[0],We=se[se.length-1],Ye=rt;Ye<We+1;Ye++){this.pdf.setPage(Ye);var Be=Ye===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],yt=ot-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],_t=ut-this.margin[3],Gt=Ye===1?0:Ge+(Ye-2)*yt;if(this.ctx.clip_path.length!==0){var cn=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(ze,this.posX+this.margin[3],-1*Gt+Be),ie.call(this,"fill",!0),this.path=cn}var vt=O([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Gt+Be+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*T.scale),Ke=this.lineWidth,this.lineWidth=Ke*T.scale);var wt=this.autoPaging!=="text";if(wt||vt.y+vt.h<=ot){if(wt||vt.y>=Be&&vt.x<=ut){var et=wt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ut-vt.x)[0],ci=O([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Gt+Be+this.ctx.prevPageLastElemOffset)[0],Qt=wt&&(Ye>rt||Ye<We)&&x.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,yt,null).clip().discardPath()),this.pdf.text(et,ci.x,ci.y,{angle:T.angle,align:z,renderingMode:T.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else vt.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-vt.y);T.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=Ke)}else T.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*T.scale),Ke=this.lineWidth,this.lineWidth=Ke*T.scale),this.pdf.text(T.text,fe.x+this.posX,fe.y+this.posY,{angle:T.angle,align:z,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=Ke)},oe=function(T,z,$,ae){$=$||0,ae=ae||0,this.pdf.internal.out(e(T+$)+" "+n(z+ae)+" l")},re=function(T,z,$){return this.pdf.lines(T,z,$,null,null)},Ae=function(T,z,$,ae,ue,fe,ve,Ce){this.pdf.internal.out([t(r($+T)),t(s(ae+z)),t(r(ue+T)),t(s(fe+z)),t(r(ve+T)),t(s(Ce+z)),"c"].join(" "))},ee=function(T,z,$,ae){for(var ue=2*Math.PI,fe=Math.PI/2;z>$;)z-=ue;var ve=Math.abs($-z);ve<ue&&ae&&(ve=ue-ve);for(var Ce=[],ze=ae?-1:1,Ue=z;ve>1e-5;){var Ke=Ue+ze*Math.min(ve,fe);Ce.push(H.call(this,T,Ue,Ke)),ve-=Math.abs(Ke-Ue),Ue=Ke}return Ce},H=function(T,z,$){var ae=($-z)/2,ue=T*Math.cos(ae),fe=T*Math.sin(ae),ve=ue,Ce=-fe,ze=ve*ve+Ce*Ce,Ue=ze+ve*ue+Ce*fe,Ke=4/3*(Math.sqrt(2*ze*Ue)-Ue)/(ve*fe-Ce*ue),Je=ve-Ke*Ce,lt=Ce+Ke*ve,Ne=Je,se=-lt,gt=ae+z,rt=Math.cos(gt),We=Math.sin(gt);return{x1:T*Math.cos(z),y1:T*Math.sin(z),x2:Je*rt-lt*We,y2:Je*We+lt*rt,x3:Ne*rt-se*We,y3:Ne*We+se*rt,x4:T*Math.cos($),y4:T*Math.sin($)}},W=function(T){return 180*T/Math.PI},K=function(T,z,$,ae,ue,fe){var ve=T+.5*($-T),Ce=z+.5*(ae-z),ze=ue+.5*($-ue),Ue=fe+.5*(ae-fe),Ke=Math.min(T,ue,ve,ze),Je=Math.max(T,ue,ve,ze),lt=Math.min(z,fe,Ce,Ue),Ne=Math.max(z,fe,Ce,Ue);return new a(Ke,lt,Je-Ke,Ne-lt)},le=function(T,z,$,ae,ue,fe,ve,Ce){var ze,Ue,Ke,Je,lt,Ne,se,gt,rt,We,Ye,Be,Ge,ot,yt=$-T,ut=ae-z,_t=ue-$,Gt=fe-ae,cn=ve-ue,vt=Ce-fe;for(Ue=0;Ue<41;Ue++)rt=(se=(Ke=T+(ze=Ue/40)*yt)+ze*((lt=$+ze*_t)-Ke))+ze*(lt+ze*(ue+ze*cn-lt)-se),We=(gt=(Je=z+ze*ut)+ze*((Ne=ae+ze*Gt)-Je))+ze*(Ne+ze*(fe+ze*vt-Ne)-gt),Ue==0?(Ye=rt,Be=We,Ge=rt,ot=We):(Ye=Math.min(Ye,rt),Be=Math.min(Be,We),Ge=Math.max(Ge,rt),ot=Math.max(ot,We));return new a(Math.round(Ye),Math.round(Be),Math.round(Ge-Ye),Math.round(ot-Be))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,z,$=(T=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:z}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Et.API),function(i){var t=function(s){var o,a,l,c,u,d,p,f,w,x;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(x=u%85))/85)-(w=u%85))/85)-(f=u%85))/85)-(p=u%85))/85)%85,a.push(d+33,p+33,f+33,w+33,x+33)):a.push(122);return function(P,M){for(var O=M;O>0;O--)P.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},e=function(s){var o,a,l,c,u,d=String,p="length",f=255,w="charCodeAt",x="slice",P="replace";for(s[x](-2),s=s[x](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[x](s[p]%5||5))[p];u>c;c+=5)a=52200625*(s[w](c)-33)+614125*(s[w](c+1)-33)+7225*(s[w](c+2)-33)+85*(s[w](c+3)-33)+(s[w](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(M,O){for(var R=O;R>0;R--)M.pop()}(l,o[p]),d.fromCharCode.apply(d,l)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=fm(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};i.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Et.API),function(i){i.loadFile=function(t,e,n){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,p=0,f=function(w){var x=w.length,P=[],M=String.fromCharCode;for(p=0;p<x;p+=1)P.push(M(255&w.charCodeAt(p)));return P.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(r,s,o)}catch{}return a}(t,e,n)},i.loadImageFile=i.loadFile}(Et.API),function(i){function t(){return(St.html2canvas?Promise.resolve(St.html2canvas):import("./chunk-DF4PZERS.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):import("./chunk-EQGKKR3Q.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=bn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var f=c[p],w=f.src.find(function(x){return x.format==="truetype"});w&&l.addFont(w.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Et.getPageSize=function(o,a,l){if(bn(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,w=0,x=0;if(p.hasOwnProperty(d))w=p[d][1]/u,x=p[d][0]/u;else try{w=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>w&&(f=x,x=w,w=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>x&&(f=x,x=w,w=f)}return{width:x,height:w,unit:a,k:u,orientation:o}},i.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Qy):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Et.API),Et.API.addJS=function(i){return hS=i,this.internal.events.subscribe("postPutResources",function(){mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mm!==void 0&&dS!==void 0&&this.internal.out("/Names <</JavaScript "+mm+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=n.exec(o);if(a!=null){var l=a[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=e.internal.newObject();u.push(d);var p=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+f+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,s){var o={title:r,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var s=0;s<r.children.length;s++)n.count++,this.count_r(n,r.children[s]);return n.count}}])}(Et.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(d){for(var p,f=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,x={width:0,height:0,numcomponents:1},P=4;P<w;P+=2){if(P+=f,t.indexOf(d.charCodeAt(P+1))!==-1){p=256*d.charCodeAt(P+5)+d.charCodeAt(P+6),x={width:256*d.charCodeAt(P+7)+d.charCodeAt(P+8),height:p,numcomponents:d.charCodeAt(P+9)};break}f=256*d.charCodeAt(P+2)+d.charCodeAt(P+3)}return x}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:r}}return u}}(Et.API);var Pu,_m,fS,pS,gS,SL=function(){var i,t,e;function n(s){var o,a,l,c,u,d,p,f,w,x,P,M,O,R;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),w=function(){var G,ie;for(ie=[],G=0;G<4;++G)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=d?.data||this.imgData,M=0;0<=o?M<o:M>o;0<=o?++M:--M)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(O=0;0<=x?O<x:O>x;0<=x?++O:--O)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(P=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,P.slice(0,p)),this.text[f]=String.fromCharCode.apply(String,P.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(R=this.colorType)===4||R===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,p,f,w){var x,P,M,O,R,G,ie,de,te,Y,ce,we,V,j,oe,re,Ae,ee,H,W,K,le=Math.ceil((c.width-d)/f),be=Math.ceil((c.height-p)/w),T=c.width==le&&c.height==be;for(j=o*le,we=T?a:new Uint8Array(j*be),G=s.length,V=0,P=0;V<be&&l<G;){switch(s[l++]){case 0:for(O=Ae=0;Ae<j;O=Ae+=1)we[P++]=s[l++];break;case 1:for(O=ee=0;ee<j;O=ee+=1)x=s[l++],R=O<o?0:we[P-o],we[P++]=(x+R)%256;break;case 2:for(O=H=0;H<j;O=H+=1)x=s[l++],M=(O-O%o)/o,oe=V&&we[(V-1)*j+M*o+O%o],we[P++]=(oe+x)%256;break;case 3:for(O=W=0;W<j;O=W+=1)x=s[l++],M=(O-O%o)/o,R=O<o?0:we[P-o],oe=V&&we[(V-1)*j+M*o+O%o],we[P++]=(x+Math.floor((R+oe)/2))%256;break;case 4:for(O=K=0;K<j;O=K+=1)x=s[l++],M=(O-O%o)/o,R=O<o?0:we[P-o],V===0?oe=re=0:(oe=we[(V-1)*j+M*o+O%o],re=M&&we[(V-1)*j+(M-1)*o+O%o]),ie=R+oe-re,de=Math.abs(ie-R),Y=Math.abs(ie-oe),ce=Math.abs(ie-re),te=de<=Y&&de<=ce?R:Y<=ce?oe:re,we[P++]=(x+te)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!T){var z=((p+V*w)*c.width+d)*o,$=V*j;for(O=0;O<le;O+=1){for(var ae=0;ae<o;ae+=1)a[z++]=we[$++];z+=(f-1)*o}}V++}}return s=tS(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},n.prototype.decodePalette=function(){var s,o,a,l,c,u,d,p,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,p=a.length;d<p;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c},n.prototype.copyToImageData=function(s,o){var a,l,c,u,d,p,f,w,x,P,M;if(l=this.colors,x=null,a=this.hasAlphaChannel,this.palette.length&&(x=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),l=4,a=!0),w=(c=s.data||s).length,d=x||o,u=p=0,l===1)for(;u<w;)f=x?4*o[u/4]:p,P=d[f++],c[u++]=P,c[u++]=P,c[u++]=P,c[u++]=a?d[f++]:255,p=f;else for(;u<w;)f=x?4*o[u/4]:p,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,p=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{t=St.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(s){var o;if(r()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,a,l,c,u,d,p,f;if(this.animation){for(f=[],a=u=0,d=(p=this.animation.frames).length;u<d;a=++u)o=p[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=i(l));return f}},n.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),c?.disposeOp===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var o,a,l,c,u,d,p=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,w;if(f=a++%c,w=l[f],p.renderFrame(s,f),c>1&&a/c<u)return p.animation._timeout=setTimeout(o,w.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();function ML(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],s=r>>7,o=1<<(7&r)+1;i[t++],i[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,p=null,f=0,w=null;for(this.width=e,this.height=n;c&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,w=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((V=i[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=i[t++];d=i[t++]|i[t++]<<8,p=i[t++],!(1&x)&&(p=null),f=x>>2&7,t++;break;case 254:for(;;){if(!((V=i[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var P=i[t++]|i[t++]<<8,M=i[t++]|i[t++]<<8,O=i[t++]|i[t++]<<8,R=i[t++]|i[t++]<<8,G=i[t++],ie=G>>6&1,de=1<<(7&G)+1,te=a,Y=l,ce=!1;G>>7&&(ce=!0,te=t,Y=de,t+=3*de);var we=t;for(t++;;){var V;if(!((V=i[t++])>=0))throw Error("Invalid block size");if(V===0)break;t+=V}u.push({x:P,y:M,width:O,height:R,has_local_palette:ce,palette_offset:te,palette_size:Y,data_offset:we,data_length:t-we,transparent_index:p,interlaced:!!ie,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,oe){var re=this.frameInfo(j),Ae=re.width*re.height,ee=new Uint8Array(Ae);mS(i,re.data_offset,ee,Ae);var H=re.palette_offset,W=re.transparent_index;W===null&&(W=256);var K=re.width,le=e-K,be=K,T=4*(re.y*e+re.x),z=4*((re.y+re.height)*e+re.x),$=T,ae=4*le;re.interlaced===!0&&(ae+=4*e*7);for(var ue=8,fe=0,ve=ee.length;fe<ve;++fe){var Ce=ee[fe];if(be===0&&(be=K,($+=ae)>=z&&(ae=4*le+4*e*(ue-1),$=T+(K+le)*(ue<<1),ue>>=1)),Ce===W)$+=4;else{var ze=i[H+3*Ce],Ue=i[H+3*Ce+1],Ke=i[H+3*Ce+2];oe[$++]=Ke,oe[$++]=Ue,oe[$++]=ze,oe[$++]=255}--be}},this.decodeAndBlitFrameRGBA=function(j,oe){var re=this.frameInfo(j),Ae=re.width*re.height,ee=new Uint8Array(Ae);mS(i,re.data_offset,ee,Ae);var H=re.palette_offset,W=re.transparent_index;W===null&&(W=256);var K=re.width,le=e-K,be=K,T=4*(re.y*e+re.x),z=4*((re.y+re.height)*e+re.x),$=T,ae=4*le;re.interlaced===!0&&(ae+=4*e*7);for(var ue=8,fe=0,ve=ee.length;fe<ve;++fe){var Ce=ee[fe];if(be===0&&(be=K,($+=ae)>=z&&(ae=4*le+4*e*(ue-1),$=T+(K+le)*(ue<<1),ue>>=1)),Ce===W)$+=4;else{var ze=i[H+3*Ce],Ue=i[H+3*Ce+1],Ke=i[H+3*Ce+2];oe[$++]=ze,oe[$++]=Ue,oe[$++]=Ke,oe[$++]=255}--be}}}function mS(i,t,e,n){for(var r=i[t++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,d=0,p=0,f=i[t++],w=new Int32Array(4096),x=null;;){for(;u<16&&f!==0;)d|=i[t++]<<u,u+=8,f===1?f=i[t++]:--f;if(u<l)break;var P=d&c;if(d>>=l,u-=l,P!==s){if(P===o)break;for(var M=P<a?P:x,O=0,R=M;R>s;)R=w[R]>>8,++O;var G=R;if(p+O+(M!==P?1:0)>n)return void Sn.log("Warning, gif stream longer than expected.");e[p++]=G;var ie=p+=O;for(M!==P&&(e[p++]=G),R=M;O--;)R=w[R],e[--ie]=255&R,R>>=8;x!==null&&a<4096&&(w[a++]=x<<8|G,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=P}else a=o+1,c=(1<<(l=r+1))-1,x=null}return p!==n&&Sn.log("Warning, gif stream shorter than expected."),e}function Gy(i){var t,e,n,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),f=new Array(64),w=new Array(64),x=[],P=0,M=7,O=new Array(64),R=new Array(64),G=new Array(64),ie=new Array(256),de=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ce=[0,1,2,3,4,5,6,7,8,9,10,11],we=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(T,z){for(var $=0,ae=0,ue=new Array,fe=1;fe<=16;fe++){for(var ve=1;ve<=T[fe];ve++)ue[z[ae]]=[],ue[z[ae]][0]=$,ue[z[ae]][1]=fe,ae++,$++;$*=2}return ue}function H(T){for(var z=T[0],$=T[1]-1;$>=0;)z&1<<$&&(P|=1<<M),$--,--M<0&&(P==255?(W(255),W(0)):W(P),M=7,P=0)}function W(T){x.push(T)}function K(T){W(T>>8&255),W(255&T)}function le(T,z,$,ae,ue){for(var fe,ve=ue[0],Ce=ue[240],ze=function(We,Ye){var Be,Ge,ot,yt,ut,_t,Gt,cn,vt,wt,et=0;for(vt=0;vt<8;++vt){Be=We[et],Ge=We[et+1],ot=We[et+2],yt=We[et+3],ut=We[et+4],_t=We[et+5],Gt=We[et+6];var ci=Be+(cn=We[et+7]),Qt=Be-cn,Gi=Ge+Gt,pn=Ge-Gt,Mn=ot+_t,Kr=ot-_t,ln=yt+ut,Yi=yt-ut,kn=ci+ln,Dr=ci-ln,ps=Gi+Mn,Ln=Gi-Mn;We[et]=kn+ps,We[et+4]=kn-ps;var Dt=.707106781*(Ln+Dr);We[et+2]=Dr+Dt,We[et+6]=Dr-Dt;var tn=.382683433*((kn=Yi+Kr)-(Ln=pn+Qt)),Co=.5411961*kn+tn,ui=1.306562965*Ln+tn,Xr=.707106781*(ps=Kr+pn),Jr=Qt+Xr,bt=Qt-Xr;We[et+5]=bt+Co,We[et+3]=bt-Co,We[et+1]=Jr+ui,We[et+7]=Jr-ui,et+=8}for(et=0,vt=0;vt<8;++vt){Be=We[et],Ge=We[et+8],ot=We[et+16],yt=We[et+24],ut=We[et+32],_t=We[et+40],Gt=We[et+48];var Ki=Be+(cn=We[et+56]),Zr=Be-cn,Ti=Ge+Gt,Yn=Ge-Gt,Un=ot+_t,Xi=ot-_t,nn=yt+ut,gs=yt-ut,Pr=Ki+nn,Ir=Ki-nn,Tr=Ti+Un,Qr=Ti-Un;We[et]=Pr+Tr,We[et+32]=Pr-Tr;var ar=.707106781*(Qr+Ir);We[et+16]=Ir+ar,We[et+48]=Ir-ar;var lr=.382683433*((Pr=gs+Xi)-(Qr=Yn+Zr)),Or=.5411961*Pr+lr,xo=1.306562965*Qr+lr,ms=.707106781*(Tr=Xi+Yn),_n=Zr+ms,ia=Zr-ms;We[et+40]=ia+Or,We[et+24]=ia-Or,We[et+8]=_n+xo,We[et+56]=_n-xo,et++}for(vt=0;vt<64;++vt)wt=We[vt]*Ye[vt],f[vt]=wt>0?wt+.5|0:wt-.5|0;return f}(T,z),Ue=0;Ue<64;++Ue)w[te[Ue]]=ze[Ue];var Ke=w[0]-$;$=w[0],Ke==0?H(ae[0]):(H(ae[p[fe=32767+Ke]]),H(d[fe]));for(var Je=63;Je>0&&w[Je]==0;)Je--;if(Je==0)return H(ve),$;for(var lt,Ne=1;Ne<=Je;){for(var se=Ne;w[Ne]==0&&Ne<=Je;)++Ne;var gt=Ne-se;if(gt>=16){lt=gt>>4;for(var rt=1;rt<=lt;++rt)H(Ce);gt&=15}fe=32767+w[Ne],H(ue[(gt<<4)+p[fe]]),H(d[fe]),Ne++}return Je!=63&&H(ve),$}function be(T){T=Math.min(Math.max(T,1),100),s!=T&&(function(z){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ue=o(($[ae]*z+50)/100);ue=Math.min(Math.max(ue,1),255),a[te[ae]]=ue}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var Ce=o((fe[ve]*z+50)/100);Ce=Math.min(Math.max(Ce,1),255),l[te[ve]]=Ce}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Ke=0;Ke<8;Ke++)for(var Je=0;Je<8;Je++)c[Ue]=1/(a[te[Ue]]*ze[Ke]*ze[Je]*8),u[Ue]=1/(l[te[Ue]]*ze[Ke]*ze[Je]*8),Ue++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,z){z&&be(z),x=new Array,P=0,M=7,K(65496),K(65504),K(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),K(1),K(1),W(0),W(0),function(){K(65499),K(132),W(0);for(var Ge=0;Ge<64;Ge++)W(a[Ge]);W(1);for(var ot=0;ot<64;ot++)W(l[ot])}(),function(Ge,ot){K(65472),K(17),W(8),K(ot),K(Ge),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(T.width,T.height),function(){K(65476),K(418),W(0);for(var Ge=0;Ge<16;Ge++)W(Y[Ge+1]);for(var ot=0;ot<=11;ot++)W(ce[ot]);W(16);for(var yt=0;yt<16;yt++)W(we[yt+1]);for(var ut=0;ut<=161;ut++)W(V[ut]);W(1);for(var _t=0;_t<16;_t++)W(j[_t+1]);for(var Gt=0;Gt<=11;Gt++)W(oe[Gt]);W(17);for(var cn=0;cn<16;cn++)W(re[cn+1]);for(var vt=0;vt<=161;vt++)W(Ae[vt])}(),K(65498),K(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var $=0,ae=0,ue=0;P=0,M=7,this.encode.displayName="_encode_";for(var fe,ve,Ce,ze,Ue,Ke,Je,lt,Ne,se=T.data,gt=T.width,rt=T.height,We=4*gt,Ye=0;Ye<rt;){for(fe=0;fe<We;){for(Ue=We*Ye+fe,Je=-1,lt=0,Ne=0;Ne<64;Ne++)Ke=Ue+(lt=Ne>>3)*We+(Je=4*(7&Ne)),Ye+lt>=rt&&(Ke-=We*(Ye+1+lt-rt)),fe+Je>=We&&(Ke-=fe+Je-We+4),ve=se[Ke++],Ce=se[Ke++],ze=se[Ke++],O[Ne]=(de[ve]+de[Ce+256>>0]+de[ze+512>>0]>>16)-128,R[Ne]=(de[ve+768>>0]+de[Ce+1024>>0]+de[ze+1280>>0]>>16)-128,G[Ne]=(de[ve+1280>>0]+de[Ce+1536>>0]+de[ze+1792>>0]>>16)-128;$=le(O,c,$,t,n),ae=le(R,u,ae,e,r),ue=le(G,u,ue,e,r),fe+=32}Ye+=8}if(M>=0){var Be=[];Be[1]=M+1,Be[0]=(1<<M+1)-1,H(Be)}return K(65497),new Uint8Array(x)},i=i||50,function(){for(var T=String.fromCharCode,z=0;z<256;z++)ie[z]=T(z)}(),t=ee(Y,ce),e=ee(j,oe),n=ee(we,V),r=ee(re,Ae),function(){for(var T=1,z=2,$=1;$<=15;$++){for(var ae=T;ae<z;ae++)p[32767+ae]=$,d[32767+ae]=[],d[32767+ae][1]=$,d[32767+ae][0]=ae;for(var ue=-(z-1);ue<=-T;ue++)p[32767+ue]=$,d[32767+ue]=[],d[32767+ue][1]=$,d[32767+ue][0]=z-1+ue;T<<=1,z<<=1}}(),function(){for(var T=0;T<256;T++)de[T]=19595*T,de[T+256>>0]=38470*T,de[T+512>>0]=7471*T+32768,de[T+768>>0]=-11059*T,de[T+1024>>0]=-21709*T,de[T+1280>>0]=32768*T+8421375,de[T+1536>>0]=-27439*T,de[T+1792>>0]=-5329*T}(),be(i)}function Rs(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _S(i){function t(Y){if(!Y)throw Error("assert :P")}function e(Y,ce,we){for(var V=0;4>V;V++)if(Y[ce+V]!=we.charCodeAt(V))return!0;return!1}function n(Y,ce,we,V,j){for(var oe=0;oe<j;oe++)Y[ce+oe]=we[V+oe]}function r(Y,ce,we,V){for(var j=0;j<V;j++)Y[ce+j]=we}function s(Y){return new Int32Array(Y)}function o(Y,ce){for(var we=[],V=0;V<Y;V++)we.push(new ce);return we}function a(Y,ce){var we=[];return function V(j,oe,re){for(var Ae=re[oe],ee=0;ee<Ae&&(j.push(re.length>oe+1?[]:new ce),!(re.length<oe+1));ee++)V(j[ee],oe+1,re)}(we,0,Y),we}var l=function(){var Y=this;function ce(h,g){for(var C=1<<g-1>>>0;h&C;)C>>>=1;return C?(h&C-1)+C:h}function we(h,g,C,D,k){t(!(D%C));do h[g+(D-=C)]=k;while(0<D)}function V(h,g,C,D,k){if(t(2328>=k),512>=k)var L=s(512);else if((L=s(k))==null)return 0;return function(F,B,U,X,pe,Se){var Me,_e,je=B,ke=1<<U,ge=s(16),me=s(16);for(t(pe!=0),t(X!=null),t(F!=null),t(0<U),_e=0;_e<pe;++_e){if(15<X[_e])return 0;++ge[X[_e]]}if(ge[0]==pe)return 0;for(me[1]=0,Me=1;15>Me;++Me){if(ge[Me]>1<<Me)return 0;me[Me+1]=me[Me]+ge[Me]}for(_e=0;_e<pe;++_e)Me=X[_e],0<X[_e]&&(Se[me[Me]++]=_e);if(me[15]==1)return(X=new j).g=0,X.value=Se[0],we(F,je,1,ke,X),ke;var Re,qe=-1,Ve=ke-1,it=0,Xe=1,Ct=1,Ze=1<<U;for(_e=0,Me=1,pe=2;Me<=U;++Me,pe<<=1){if(Xe+=Ct<<=1,0>(Ct-=ge[Me]))return 0;for(;0<ge[Me];--ge[Me])(X=new j).g=Me,X.value=Se[_e++],we(F,je+it,pe,Ze,X),it=ce(it,Me)}for(Me=U+1,pe=2;15>=Me;++Me,pe<<=1){if(Xe+=Ct<<=1,0>(Ct-=ge[Me]))return 0;for(;0<ge[Me];--ge[Me]){if(X=new j,(it&Ve)!=qe){for(je+=Ze,Re=1<<(qe=Me)-U;15>qe&&!(0>=(Re-=ge[qe]));)++qe,Re<<=1;ke+=Ze=1<<(Re=qe-U),F[B+(qe=it&Ve)].g=Re+U,F[B+qe].value=je-B-qe}X.g=Me-U,X.value=Se[_e++],we(F,je+(it>>U),pe,Ze,X),it=ce(it,Me)}}return Xe!=2*me[15]-1?0:ke}(h,g,C,D,k,L)}function j(){this.value=this.g=0}function oe(){this.value=this.g=0}function re(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ti,oe)}function Ae(h,g,C,D){t(h!=null),t(g!=null),t(2147483648>D),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=C,h.Jd=g,h.Yc=C+D,h.Zc=4<=D?C+D-4+1:C,fe(h)}function ee(h,g){for(var C=0;0<g--;)C|=Ce(h,128)<<g;return C}function H(h,g){var C=ee(h,g);return ve(h)?-C:C}function W(h,g,C,D){var k,L=0;for(t(h!=null),t(g!=null),t(4294967288>D),h.Sb=D,h.Ra=0,h.u=0,h.h=0,4<D&&(D=4),k=0;k<D;++k)L+=g[C+k]<<8*k;h.Ra=L,h.bb=D,h.oa=g,h.pa=C}function K(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ba-8>>>0,++h.bb,h.u-=8;$(h)&&(h.h=1,h.u=0)}function le(h,g){if(t(0<=g),!h.h&&g<=Po){var C=z(h)&wa[g];return h.u+=g,K(h),C}return h.h=1,h.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(h){return h.Ra>>>(h.u&ba-1)>>>0}function $(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ba}function ae(h,g){h.u=g,h.h=$(h)}function ue(h){h.u>=Ca&&(t(h.u>=Ca),K(h))}function fe(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ve(h){return ee(h,1)}function Ce(h,g){var C=h.Ca;0>h.b&&fe(h);var D=h.b,k=C*g>>>8,L=(h.I>>>D>k)+0;for(L?(C-=k,h.I-=k+1<<D>>>0):C=k+1,D=C,k=0;256<=D;)k+=8,D>>=8;return D=7^k+mi[D],h.b-=D,h.Ca=(C<<D)-1,L}function ze(h,g,C){h[g+0]=C>>24&255,h[g+1]=C>>16&255,h[g+2]=C>>8&255,h[g+3]=C>>0&255}function Ue(h,g){return h[g+0]<<0|h[g+1]<<8}function Ke(h,g){return Ue(h,g)|h[g+2]<<16}function Je(h,g){return Ue(h,g)|Ue(h,g+2)<<16}function lt(h,g){var C=1<<g;return t(h!=null),t(0<g),h.X=s(C),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function Ne(h,g){t(h!=null),t(g!=null),t(h.Xa==g.Xa),n(g.X,0,h.X,0,1<<g.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function gt(h,g,C,D){t(C!=null),t(D!=null);var k=C[0],L=D[0];return k==0&&(k=(h*L+g/2)/g),L==0&&(L=(g*k+h/2)/h),0>=k||0>=L?0:(C[0]=k,D[0]=L,1)}function rt(h,g){return h+(1<<g)-1>>>g}function We(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ye(h,g){Y[g]=function(C,D,k,L,F,B,U){var X;for(X=0;X<F;++X){var pe=Y[h](B[U+X-1],k,L+X);B[U+X]=We(C[D+X],pe)}}}function Be(){this.ud=this.hd=this.jd=0}function Ge(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function ot(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function yt(h,g){return ot(h+(h-g+.5>>1))}function ut(h,g,C){return Math.abs(g-C)-Math.abs(h-C)}function _t(h,g,C,D,k,L,F){for(D=L[F-1],C=0;C<k;++C)L[F+C]=D=We(h[g+C],D)}function Gt(h,g,C,D,k){var L;for(L=0;L<C;++L){var F=h[g+L],B=F>>8&255,U=16711935&(U=(U=16711935&F)+((B<<16)+B));D[k+L]=(4278255360&F)+U>>>0}}function cn(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function vt(h,g,C,D,k,L){var F;for(F=0;F<D;++F){var B=g[C+F],U=B>>>8,X=B,pe=255&(pe=(pe=B>>>16)+((h.jd<<24>>24)*(U<<24>>24)>>>5));X=255&(X=(X=X+((h.hd<<24>>24)*(U<<24>>24)>>>5))+((h.ud<<24>>24)*(pe<<24>>24)>>>5)),k[L+F]=(4278255360&B)+(pe<<16)+X}}function wt(h,g,C,D,k){Y[g]=function(L,F,B,U,X,pe,Se,Me,_e){for(U=Se;U<Me;++U)for(Se=0;Se<_e;++Se)X[pe++]=k(B[D(L[F++])])},Y[h]=function(L,F,B,U,X,pe,Se){var Me=8>>L.b,_e=L.Ea,je=L.K[0],ke=L.w;if(8>Me)for(L=(1<<L.b)-1,ke=(1<<Me)-1;F<B;++F){var ge,me=0;for(ge=0;ge<_e;++ge)ge&L||(me=D(U[X++])),pe[Se++]=k(je[me&ke]),me>>=Me}else Y["VP8LMapColor"+C](U,X,je,ke,pe,Se,F,B,_e)}}function et(h,g,C,D,k){for(C=g+C;g<C;){var L=h[g++];D[k++]=L>>16&255,D[k++]=L>>8&255,D[k++]=L>>0&255}}function ci(h,g,C,D,k){for(C=g+C;g<C;){var L=h[g++];D[k++]=L>>16&255,D[k++]=L>>8&255,D[k++]=L>>0&255,D[k++]=L>>24&255}}function Qt(h,g,C,D,k){for(C=g+C;g<C;){var L=(F=h[g++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;D[k++]=L,D[k++]=F}}function Gi(h,g,C,D,k){for(C=g+C;g<C;){var L=(F=h[g++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;D[k++]=L,D[k++]=F}}function pn(h,g,C,D,k){for(C=g+C;g<C;){var L=h[g++];D[k++]=L>>0&255,D[k++]=L>>8&255,D[k++]=L>>16&255}}function Mn(h,g,C,D,k,L){if(L==0)for(C=g+C;g<C;)ze(D,((L=h[g++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),k+=32;else n(D,k,h,g,C)}function Kr(h,g){Y[g][0]=Y[h+"0"],Y[g][1]=Y[h+"1"],Y[g][2]=Y[h+"2"],Y[g][3]=Y[h+"3"],Y[g][4]=Y[h+"4"],Y[g][5]=Y[h+"5"],Y[g][6]=Y[h+"6"],Y[g][7]=Y[h+"7"],Y[g][8]=Y[h+"8"],Y[g][9]=Y[h+"9"],Y[g][10]=Y[h+"10"],Y[g][11]=Y[h+"11"],Y[g][12]=Y[h+"12"],Y[g][13]=Y[h+"13"],Y[g][14]=Y[h+"0"],Y[g][15]=Y[h+"0"]}function ln(h){return h==Tn||h==ad||h==Bc||h==ld}function Yi(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yi,this.f.kb=new kn,this.sd=null}function ps(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function tn(h,g){var C=h.T,D=g.ba.f.RGBA,k=D.eb,L=D.fb+h.ka*D.A,F=is[g.ba.S],B=h.y,U=h.O,X=h.f,pe=h.N,Se=h.ea,Me=h.W,_e=g.cc,je=g.dc,ke=g.Mc,ge=g.Nc,me=h.ka,Re=h.ka+h.T,qe=h.U,Ve=qe+1>>1;for(me==0?F(B,U,null,null,X,pe,Se,Me,X,pe,Se,Me,k,L,null,null,qe):(F(g.ec,g.fc,B,U,_e,je,ke,ge,X,pe,Se,Me,k,L-D.A,k,L,qe),++C);me+2<Re;me+=2)_e=X,je=pe,ke=Se,ge=Me,pe+=h.Rc,Me+=h.Rc,L+=2*D.A,F(B,(U+=2*h.fa)-h.fa,B,U,_e,je,ke,ge,X,pe,Se,Me,k,L-D.A,k,L,qe);return U+=h.fa,h.j+Re<h.o?(n(g.ec,g.fc,B,U,qe),n(g.cc,g.dc,X,pe,Ve),n(g.Mc,g.Nc,Se,Me,Ve),C--):1&Re||F(B,U,null,null,X,pe,Se,Me,X,pe,Se,Me,k,L+D.A,null,null,qe),C}function Co(h,g,C){var D=h.F,k=[h.J];if(D!=null){var L=h.U,F=g.ba.S,B=F==jc||F==Bc;g=g.ba.f.RGBA;var U=[0],X=h.ka;U[0]=h.T,h.Kb&&(X==0?--U[0]:(--X,k[0]-=h.width),h.j+h.ka+h.T==h.o&&(U[0]=h.o-h.j-X));var pe=g.eb;X=g.fb+X*g.A,h=yn(D,k[0],h.width,L,U,pe,X+(B?0:3),g.A),t(C==U),h&&ln(F)&&fr(pe,X,B,L,U,g.A)}return 0}function ui(h){var g=h.ma,C=g.ba.S,D=11>C,k=C==Il||C==Vc||C==jc||C==mr||C==12||ln(C);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Cl(g.Oa,h,k?11:12))return 0;if(k&&ln(C)&&He(),h.da)alert("todo:use_scaling");else{if(D){if(g.Ib=Dt,h.Kb){if(C=h.U+1>>1,g.memory=s(h.U+2*C),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+C,g.Ib=tn,He()}}else alert("todo:EmitYUV");k&&(g.Jb=Co,D&&ye())}if(D&&!Kw){for(h=0;256>h;++h)uA[h]=89858*(h-128)+Uh>>Hh,fA[h]=-22014*(h-128)+Uh,hA[h]=-45773*(h-128),dA[h]=113618*(h-128)+Uh>>Hh;for(h=ud;h<Qm;++h)g=76283*(h-16)+Uh>>Hh,pA[h-ud]=Zi(g,255),gA[h-ud]=Zi(g+8>>4,15);Kw=1}return 1}function Xr(h){var g=h.ma,C=h.U,D=h.T;return t(!(1&h.ka)),0>=C||0>=D?0:(C=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,C),g.Dc+=C,1)}function Jr(h){h.ma.memory=null}function bt(h,g,C,D){return le(h,8)!=47?0:(g[0]=le(h,14)+1,C[0]=le(h,14)+1,D[0]=le(h,1),le(h,3)!=0?0:!h.h)}function Ki(h,g){if(4>h)return h+1;var C=h-2>>1;return(2+(1&h)<<C)+le(g,C)+1}function Zr(h,g){return 120<g?g-120:1<=(C=((C=qc[g-1])>>4)*h+(8-(15&C)))?C:1;var C}function Ti(h,g,C){var D=z(C),k=h[g+=255&D].g-8;return 0<k&&(ae(C,C.u+8),D=z(C),g+=h[g].value,g+=D&(1<<k)-1),ae(C,C.u+h[g].g),h[g].value}function Yn(h,g,C){return C.g+=h.g,C.value+=h.value<<g>>>0,t(8>=C.g),h.g}function Un(h,g,C){var D=h.xc;return t((g=D==0?0:h.vc[h.md*(C>>D)+(g>>D)])<h.Wb),h.Ya[g]}function Xi(h,g,C,D){var k=h.ab,L=h.c*g,F=h.C;g=F+g;var B=C,U=D;for(D=h.Ta,C=h.Ua;0<k--;){var X=h.gc[k],pe=F,Se=g,Me=B,_e=U,je=(U=D,B=C,X.Ea);switch(t(pe<Se),t(Se<=X.nc),X.hc){case 2:Nc(Me,_e,(Se-pe)*je,U,B);break;case 0:var ke=pe,ge=Se,me=U,Re=B,qe=(Ze=X).Ea;ke==0&&(sd(Me,_e,null,null,1,me,Re),_t(Me,_e+1,0,0,qe-1,me,Re+1),_e+=qe,Re+=qe,++ke);for(var Ve=1<<Ze.b,it=Ve-1,Xe=rt(qe,Ze.b),Ct=Ze.K,Ze=Ze.w+(ke>>Ze.b)*Xe;ke<ge;){var un=Ct,gn=Ze,rn=1;for(El(Me,_e,me,Re-qe,1,me,Re);rn<qe;){var Jt=(rn&~it)+Ve;Jt>qe&&(Jt=qe),(0,Ws[un[gn++]>>8&15])(Me,_e+ +rn,me,Re+rn-qe,Jt-rn,me,Re+rn),rn=Jt}_e+=qe,Re+=qe,++ke&it||(Ze+=Xe)}Se!=X.nc&&n(U,B-je,U,B+(Se-pe-1)*je,je);break;case 1:for(je=Me,ge=_e,qe=(Me=X.Ea)-(Re=Me&~(me=(_e=1<<X.b)-1)),ke=rt(Me,X.b),Ve=X.K,X=X.w+(pe>>X.b)*ke;pe<Se;){for(it=Ve,Xe=X,Ct=new Be,Ze=ge+Re,un=ge+Me;ge<Ze;)cn(it[Xe++],Ct),Io(Ct,je,ge,_e,U,B),ge+=_e,B+=_e;ge<un&&(cn(it[Xe++],Ct),Io(Ct,je,ge,qe,U,B),ge+=qe,B+=qe),++pe&me||(X+=ke)}break;case 3:if(Me==U&&_e==B&&0<X.b){for(ge=U,Me=je=B+(Se-pe)*je-(Re=(Se-pe)*rt(X.Ea,X.b)),_e=U,me=B,ke=[],Re=(qe=Re)-1;0<=Re;--Re)ke[Re]=_e[me+Re];for(Re=qe-1;0<=Re;--Re)ge[Me+Re]=ke[Re];dr(X,pe,Se,U,je,U,B)}else dr(X,pe,Se,Me,_e,U,B)}B=D,U=C}U!=C&&n(D,C,B,U,L)}function nn(h,g){var C=h.V,D=h.Ba+h.c*h.C,k=g-h.C;if(t(g<=h.l.o),t(16>=k),0<k){var L=h.l,F=h.Ta,B=h.Ua,U=L.width;if(Xi(h,k,C,D),k=B=[B],t((C=h.C)<(D=g)),t(L.v<L.va),D>L.o&&(D=L.o),C<L.j){var X=L.j-C;C=L.j,k[0]+=X*U}if(C>=D?C=0:(k[0]+=4*L.v,L.ka=C-L.j,L.U=L.va-L.v,L.T=D-C,C=1),C){if(B=B[0],11>(C=h.ca).S){var pe=C.f.RGBA,Se=(D=C.S,k=L.U,L=L.T,X=pe.eb,pe.A),Me=L;for(pe=pe.fb+h.Ma*pe.A;0<Me--;){var _e=F,je=B,ke=k,ge=X,me=pe;switch(D){case Rc:xi(_e,je,ke,ge,me);break;case Il:Ei(_e,je,ke,ge,me);break;case Tn:Ei(_e,je,ke,ge,me),fr(ge,me,0,ke,1,0);break;case Bh:bs(_e,je,ke,ge,me);break;case Vc:Mn(_e,je,ke,ge,me,1);break;case ad:Mn(_e,je,ke,ge,me,1),fr(ge,me,0,ke,1,0);break;case jc:Mn(_e,je,ke,ge,me,0);break;case Bc:Mn(_e,je,ke,ge,me,0),fr(ge,me,1,ke,1,0);break;case mr:$s(_e,je,ke,ge,me);break;case ld:$s(_e,je,ke,ge,me),vn(ge,me,ke,1,0);break;case Tl:ws(_e,je,ke,ge,me);break;default:t(0)}B+=U,pe+=Se}h.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=C.height)}}h.C=g,t(h.C<=h.i)}function gs(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var C=h.Ya[g].G,D=h.Ya[g].H;if(0<C[1][D[1]+0].g||0<C[2][D[2]+0].g||0<C[3][D[3]+0].g)return 0}return 1}function Pr(h,g,C,D,k,L){if(h.Z!=0){var F=h.qd,B=h.rd;for(t(Da[h.Z]!=null);g<C;++g)Da[h.Z](F,B,D,k,D,k,L),F=D,B=k,k+=L;h.qd=F,h.rd=B}}function Ir(h,g){var C=h.l.ma,D=C.Z==0||C.Z==1?h.l.j:h.C;if(D=h.C<D?D:h.C,t(g<=h.l.o),g>D){var k=h.l.width,L=C.ca,F=C.tb+k*D,B=h.V,U=h.Ba+h.c*D,X=h.gc;t(h.ab==1),t(X[0].hc==3),kc(X[0],D,g,B,U,L,F),Pr(C,D,g,L,F,k)}h.C=h.Ma=g}function Tr(h,g,C,D,k,L,F){var B=h.$/D,U=h.$%D,X=h.m,pe=h.s,Se=C+h.$,Me=Se;k=C+D*k;var _e=C+D*L,je=280+pe.ua,ke=h.Pb?B:16777216,ge=0<pe.ua?pe.Wa:null,me=pe.wc,Re=Se<_e?Un(pe,U,B):null;t(h.C<L),t(_e<=k);var qe=!1;e:for(;;){for(;qe||Se<_e;){var Ve=0;if(B>=ke){var it=Se-C;t((ke=h).Pb),ke.wd=ke.m,ke.xd=it,0<ke.s.ua&&Ne(ke.s.Wa,ke.s.vb),ke=B+E}if(U&me||(Re=Un(pe,U,B)),t(Re!=null),Re.Qb&&(g[Se]=Re.qb,qe=!0),!qe)if(ue(X),Re.jc){Ve=X,it=g;var Xe=Se,Ct=Re.pd[z(Ve)&ti-1];t(Re.jc),256>Ct.g?(ae(Ve,Ve.u+Ct.g),it[Xe]=Ct.value,Ve=0):(ae(Ve,Ve.u+Ct.g-256),t(256<=Ct.value),Ve=Ct.value),Ve==0&&(qe=!0)}else Ve=Ti(Re.G[0],Re.H[0],X);if(X.h)break;if(qe||256>Ve){if(!qe)if(Re.nd)g[Se]=(Re.qb|Ve<<8)>>>0;else{if(ue(X),qe=Ti(Re.G[1],Re.H[1],X),ue(X),it=Ti(Re.G[2],Re.H[2],X),Xe=Ti(Re.G[3],Re.H[3],X),X.h)break;g[Se]=(Xe<<24|qe<<16|Ve<<8|it)>>>0}if(qe=!1,++Se,++U>=D&&(U=0,++B,F!=null&&B<=L&&!(B%16)&&F(h,B),ge!=null))for(;Me<Se;)Ve=g[Me++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve}else if(280>Ve){if(Ve=Ki(Ve-256,X),it=Ti(Re.G[4],Re.H[4],X),ue(X),it=Zr(D,it=Ki(it,X)),X.h)break;if(Se-C<it||k-Se<Ve)break e;for(Xe=0;Xe<Ve;++Xe)g[Se+Xe]=g[Se+Xe-it];for(Se+=Ve,U+=Ve;U>=D;)U-=D,++B,F!=null&&B<=L&&!(B%16)&&F(h,B);if(t(Se<=k),U&me&&(Re=Un(pe,U,B)),ge!=null)for(;Me<Se;)Ve=g[Me++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve}else{if(!(Ve<je))break e;for(qe=Ve-280,t(ge!=null);Me<Se;)Ve=g[Me++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve;Ve=Se,t(!(qe>>>(it=ge).Xa)),g[Ve]=it.X[qe],qe=!0}qe||t(X.h==$(X))}if(h.Pb&&X.h&&Se<k)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ne(h.s.vb,h.s.Wa);else{if(X.h)break e;F?.(h,B>L?L:B),h.a=0,h.$=Se-C}return 1}return h.a=3,0}function Qr(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,t(h!=null)}function ar(){var h=new pa;return h==null?null:(h.a=0,h.xb=Uw,Kr("Predictor","VP8LPredictors"),Kr("Predictor","VP8LPredictors_C"),Kr("PredictorAdd","VP8LPredictorsAdd"),Kr("PredictorAdd","VP8LPredictorsAdd_C"),Nc=Gt,Io=vt,xi=et,Ei=ci,$s=Qt,ws=Gi,bs=pn,Y.VP8LMapColor32b=ys,Y.VP8LMapColor8b=Lc,h)}function lr(h,g,C,D,k){var L=1,F=[h],B=[g],U=D.m,X=D.s,pe=null,Se=0;e:for(;;){if(C)for(;L&&le(U,1);){var Me=F,_e=B,je=D,ke=1,ge=je.m,me=je.gc[je.ab],Re=le(ge,2);if(je.Oc&1<<Re)L=0;else{switch(je.Oc|=1<<Re,me.hc=Re,me.Ea=Me[0],me.nc=_e[0],me.K=[null],++je.ab,t(4>=je.ab),Re){case 0:case 1:me.b=le(ge,3)+2,ke=lr(rt(me.Ea,me.b),rt(me.nc,me.b),0,je,me.K),me.K=me.K[0];break;case 3:var qe,Ve=le(ge,8)+1,it=16<Ve?0:4<Ve?1:2<Ve?2:3;if(Me[0]=rt(me.Ea,it),me.b=it,qe=ke=lr(Ve,1,0,je,me.K)){var Xe,Ct=Ve,Ze=me,un=1<<(8>>Ze.b),gn=s(un);if(gn==null)qe=0;else{var rn=Ze.K[0],Jt=Ze.w;for(gn[0]=Ze.K[0][0],Xe=1;Xe<1*Ct;++Xe)gn[Xe]=We(rn[Jt+Xe],gn[Xe-1]);for(;Xe<4*un;++Xe)gn[Xe]=0;Ze.K[0]=null,Ze.K[0]=gn,qe=1}}ke=qe;break;case 2:break;default:t(0)}L=ke}}if(F=F[0],B=B[0],L&&le(U,1)&&!(L=1<=(Se=le(U,4))&&11>=Se)){D.a=3;break e}var Cn;if(Cn=L)t:{var wn,Vt,ni,_r=D,ii=F,vr=B,mn=Se,Rr=C,Vr=_r.m,_i=_r.s,Mi=[null],tr=1,rs=0,Ys=v[mn];n:for(;;){if(Rr&&le(Vr,1)){var vi=le(Vr,3)+2,Ro=rt(ii,vi),Ol=rt(vr,vi),Hc=Ro*Ol;if(!lr(Ro,Ol,0,_r,Mi))break n;for(Mi=Mi[0],_i.xc=vi,wn=0;wn<Hc;++wn){var Pa=Mi[wn]>>8&65535;Mi[wn]=Pa,Pa>=tr&&(tr=Pa+1)}}if(Vr.h)break n;for(Vt=0;5>Vt;++Vt){var zn=qh[Vt];!Vt&&0<mn&&(zn+=1<<mn),rs<zn&&(rs=zn)}var e0=o(tr*Ys,j),Zw=tr,Qw=o(Zw,re);if(Qw==null)var Wh=null;else t(65536>=Zw),Wh=Qw;var dd=s(rs);if(Wh==null||dd==null||e0==null){_r.a=1;break n}var $h=e0;for(wn=ni=0;wn<tr;++wn){var Ss=Wh[wn],Uc=Ss.G,zc=Ss.H,e2=0,Gh=1,t2=0;for(Vt=0;5>Vt;++Vt){zn=qh[Vt],Uc[Vt]=$h,zc[Vt]=ni,!Vt&&0<mn&&(zn+=1<<mn);r:{var Yh,t0=zn,Kh=_r,hd=dd,vA=$h,yA=ni,n0=0,Ia=Kh.m,wA=le(Ia,1);if(r(hd,0,0,t0),wA){var bA=le(Ia,1)+1,CA=le(Ia,1),n2=le(Ia,CA==0?1:8);hd[n2]=1,bA==2&&(hd[n2=le(Ia,8)]=1);var Xh=1}else{var i2=s(19),r2=le(Ia,4)+4;if(19<r2){Kh.a=3;var Jh=0;break r}for(Yh=0;Yh<r2;++Yh)i2[Zm[Yh]]=le(Ia,3);var i0=void 0,fd=void 0,s2=Kh,xA=i2,Zh=t0,o2=hd,r0=0,Ta=s2.m,a2=8,l2=o(128,j);i:for(;V(l2,0,7,xA,19);){if(le(Ta,1)){var EA=2+2*le(Ta,3);if((i0=2+le(Ta,EA))>Zh)break i}else i0=Zh;for(fd=0;fd<Zh&&i0--;){ue(Ta);var c2=l2[0+(127&z(Ta))];ae(Ta,Ta.u+c2.g);var Wc=c2.value;if(16>Wc)o2[fd++]=Wc,Wc!=0&&(a2=Wc);else{var SA=Wc==16,u2=Wc-16,MA=Xm[u2],d2=le(Ta,Km[u2])+MA;if(fd+d2>Zh)break i;for(var AA=SA?a2:0;0<d2--;)o2[fd++]=AA}}r0=1;break i}r0||(s2.a=3),Xh=r0}(Xh=Xh&&!Ia.h)&&(n0=V(vA,yA,8,hd,t0)),Xh&&n0!=0?Jh=n0:(Kh.a=3,Jh=0)}if(Jh==0)break n;if(Gh&&Jm[Vt]==1&&(Gh=$h[ni].g==0),e2+=$h[ni].g,ni+=Jh,3>=Vt){var pd,s0=dd[0];for(pd=1;pd<zn;++pd)dd[pd]>s0&&(s0=dd[pd]);t2+=s0}}if(Ss.nd=Gh,Ss.Qb=0,Gh&&(Ss.qb=(Uc[3][zc[3]+0].value<<24|Uc[1][zc[1]+0].value<<16|Uc[2][zc[2]+0].value)>>>0,e2==0&&256>Uc[0][zc[0]+0].value&&(Ss.Qb=1,Ss.qb+=Uc[0][zc[0]+0].value<<8)),Ss.jc=!Ss.Qb&&6>t2,Ss.jc){var Qh,Vo=Ss;for(Qh=0;Qh<ti;++Qh){var Oa=Qh,Na=Vo.pd[Oa],ef=Vo.G[0][Vo.H[0]+Oa];256<=ef.value?(Na.g=ef.g+256,Na.value=ef.value):(Na.g=0,Na.value=0,Oa>>=Yn(ef,8,Na),Oa>>=Yn(Vo.G[1][Vo.H[1]+Oa],16,Na),Oa>>=Yn(Vo.G[2][Vo.H[2]+Oa],0,Na),Yn(Vo.G[3][Vo.H[3]+Oa],24,Na))}}}_i.vc=Mi,_i.Wb=tr,_i.Ya=Wh,_i.yc=e0,Cn=1;break t}Cn=0}if(!(L=Cn)){D.a=3;break e}if(0<Se){if(X.ua=1<<Se,!lt(X.Wa,Se)){D.a=1,L=0;break e}}else X.ua=0;var o0=D,h2=F,DA=B,a0=o0.s,l0=a0.xc;if(o0.c=h2,o0.i=DA,a0.md=rt(h2,l0),a0.wc=l0==0?-1:(1<<l0)-1,C){D.xb=sA;break e}if((pe=s(F*B))==null){D.a=1,L=0;break e}L=(L=Tr(D,pe,0,F,B,B,null))&&!U.h;break e}return L?(k!=null?k[0]=pe:(t(pe==null),t(C)),D.$=0,C||Qr(X)):Qr(X),L}function Or(h,g){var C=h.c*h.i,D=C+g+16*g;return t(h.c<=g),h.V=s(D),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+C+g,1)}function xo(h,g){var C=h.C,D=g-C,k=h.V,L=h.Ba+h.c*C;for(t(g<=h.l.o);0<D;){var F=16<D?16:D,B=h.l.ma,U=h.l.width,X=U*F,pe=B.ca,Se=B.tb+U*C,Me=h.Ta,_e=h.Ua;Xi(h,F,k,L),Bn(Me,_e,pe,Se,X),Pr(B,C,C+F,pe,Se,U),D-=F,k+=F*h.c,C+=F}t(C==g),h.C=h.Ma=g}function ms(){this.ub=this.yd=this.td=this.Rb=0}function _n(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ia(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _c(){this.Yb=function(){var h=[];return function g(C,D,k){for(var L=k[D],F=0;F<L&&(C.push(k.length>D+1?[]:0),!(k.length<D+1));F++)g(C[F],D+1,k)}(h,0,[3,11]),h}()}function qu(){this.jb=s(3),this.Wc=a([4,8],_c),this.Xc=a([4,17],_c)}function vc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ra(){this.ld=this.La=this.dd=this.tc=0}function yc(){this.Na=this.la=0}function Hu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ra),this.Y=0,this.ya=Array(new sa),this.aa=0,this.l=new qs}function al(){this.y=s(16),this.f=s(8),this.ea=s(8)}function zu(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new ms,this.Kc=new _n,this.ed=new vc,this.Qa=new ia,this.Ic=this.$c=this.Aa=0,this.D=new Uu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,be),this.ia=0,this.pb=o(4,Hu),this.Pa=new qu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new al),this.Hd=0,this.rb=Array(new yc),this.sb=0,this.wa=Array(new ra),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sa),this.L=this.aa=0,this.gd=a([4,2],ra),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wc(){var h=new zu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,De||(De=bc)),h}function Fn(h,g,C){return h.a==0&&(h.a=g,h.sc=C,h.cb=0),0}function ll(h,g,C){return 3<=C&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function cl(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return Fn(h,2,"null VP8Io passed to VP8GetHeaders()");var C=g.data,D=g.w,k=g.ha;if(4>k)return Fn(h,7,"Truncated header.");var L=C[D+0]|C[D+1]<<8|C[D+2]<<16,F=h.Od;if(F.Rb=!(1&L),F.td=L>>1&7,F.yd=L>>4&1,F.ub=L>>5,3<F.td)return Fn(h,3,"Incorrect keyframe parameters.");if(!F.yd)return Fn(h,4,"Frame not displayable.");D+=3,k-=3;var B=h.Kc;if(F.Rb){if(7>k)return Fn(h,7,"cannot parse picture header");if(!ll(C,D,k))return Fn(h,3,"Bad code word");B.c=16383&(C[D+4]<<8|C[D+3]),B.Td=C[D+4]>>6,B.i=16383&(C[D+6]<<8|C[D+5]),B.Ud=C[D+6]>>6,D+=7,k-=7,h.za=B.c+15>>4,h.Ub=B.i+15>>4,g.width=B.c,g.height=B.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,r((L=h.Pa).jb,0,255,L.jb.length),t((L=h.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,r(L.Zb,0,0,L.Zb.length),r(L.Lb,0,0,L.Lb)}if(F.ub>k)return Fn(h,7,"bad partition length");Ae(L=h.m,C,D,F.ub),D+=F.ub,k-=F.ub,F.Rb&&(B.Ld=ve(L),B.Kd=ve(L)),B=h.Qa;var U,X=h.Pa;if(t(L!=null),t(B!=null),B.Cb=ve(L),B.Cb){if(B.Bb=ve(L),ve(L)){for(B.Fb=ve(L),U=0;4>U;++U)B.Zb[U]=ve(L)?H(L,7):0;for(U=0;4>U;++U)B.Lb[U]=ve(L)?H(L,6):0}if(B.Bb)for(U=0;3>U;++U)X.jb[U]=ve(L)?ee(L,8):255}else B.Bb=0;if(L.Ka)return Fn(h,3,"cannot parse segment header");if((B=h.ed).zd=ve(L),B.Tb=ee(L,6),B.wb=ee(L,3),B.Pc=ve(L),B.Pc&&ve(L)){for(X=0;4>X;++X)ve(L)&&(B.vd[X]=H(L,6));for(X=0;4>X;++X)ve(L)&&(B.od[X]=H(L,6))}if(h.L=B.Tb==0?0:B.zd?1:2,L.Ka)return Fn(h,3,"cannot parse filter header");var pe=k;if(k=U=D,D=U+pe,B=pe,h.Xb=(1<<ee(h.m,2))-1,pe<3*(X=h.Xb))C=7;else{for(U+=3*X,B-=3*X,pe=0;pe<X;++pe){var Se=C[k+0]|C[k+1]<<8|C[k+2]<<16;Se>B&&(Se=B),Ae(h.Jc[+pe],C,U,Se),U+=Se,B-=Se,k+=3}Ae(h.Jc[+X],C,U,B),C=U<D?0:5}if(C!=0)return Fn(h,C,"cannot parse partitions");for(C=ee(U=h.m,7),k=ve(U)?H(U,4):0,D=ve(U)?H(U,4):0,B=ve(U)?H(U,4):0,X=ve(U)?H(U,4):0,U=ve(U)?H(U,4):0,pe=h.Qa,Se=0;4>Se;++Se){if(pe.Cb){var Me=pe.Zb[Se];pe.Fb||(Me+=C)}else{if(0<Se){h.pb[Se]=h.pb[0];continue}Me=C}var _e=h.pb[Se];_e.Sc[0]=I[Zi(Me+k,127)],_e.Sc[1]=Q[Zi(Me+0,127)],_e.Eb[0]=2*I[Zi(Me+D,127)],_e.Eb[1]=101581*Q[Zi(Me+B,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=I[Zi(Me+X,117)],_e.Qc[1]=Q[Zi(Me+U,127)],_e.lc=Me+U}if(!F.Rb)return Fn(h,4,"Not a key frame.");for(ve(L),F=h.Pa,C=0;4>C;++C){for(k=0;8>k;++k)for(D=0;3>D;++D)for(B=0;11>B;++B)X=Ce(L,cd[C][k][D][B])?ee(L,8):On[C][k][D][B],F.Wc[C][k].Yb[D][B]=X;for(k=0;17>k;++k)F.Xc[C][k]=F.Wc[C][rA[k]]}return h.kc=ve(L),h.kc&&(h.Bd=ee(L,8)),h.cb=1}function bc(h,g,C,D,k,L,F){var B=g[k].Yb[C];for(C=0;16>k;++k){if(!Ce(h,B[C+0]))return k;for(;!Ce(h,B[C+1]);)if(B=g[++k].Yb[0],C=0,k==16)return 16;var U=g[k+1].Yb;if(Ce(h,B[C+2])){var X=h,pe=0;if(Ce(X,(Me=B)[(Se=C)+3]))if(Ce(X,Me[Se+6])){for(B=0,Se=2*(pe=Ce(X,Me[Se+8]))+(Me=Ce(X,Me[Se+9+pe])),pe=0,Me=Qe[Se];Me[B];++B)pe+=pe+Ce(X,Me[B]);pe+=3+(8<<Se)}else Ce(X,Me[Se+7])?(pe=7+2*Ce(X,165),pe+=Ce(X,145)):pe=5+Ce(X,159);else pe=Ce(X,Me[Se+4])?3+Ce(X,Me[Se+5]):2;B=U[2]}else pe=1,B=U[1];U=F+Rt[k],0>(X=h).b&&fe(X);var Se,Me=X.b,_e=(Se=X.Ca>>1)-(X.I>>Me)>>31;--X.b,X.Ca+=_e,X.Ca|=1,X.I-=(Se+1&_e)<<Me,L[U]=((pe^_e)-_e)*D[(0<k)+0]}return 16}function ul(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,r(h.zc,0,0,h.zc.length),h.ja=0}function oa(h,g){if(h==null)return 0;if(g==null)return Fn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!cl(h,g))return 0;if(t(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var C=zh[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-C>>4,h.zb=g.j-C>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+C>>4,h.Hb=g.va+15+C>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var D=h.ed;for(C=0;4>C;++C){var k;if(h.Qa.Cb){var L=h.Qa.Lb[C];h.Qa.Fb||(L+=D.Tb)}else L=D.Tb;for(k=0;1>=k;++k){var F=h.gd[C][k],B=L;if(D.Pc&&(B+=D.vd[0],k&&(B+=D.od[0])),0<(B=0>B?0:63<B?63:B)){var U=B;0<D.wb&&(U=4<D.wb?U>>2:U>>1)>9-D.wb&&(U=9-D.wb),1>U&&(U=1),F.dd=U,F.tc=2*B+U,F.ld=40<=B?2:15<=B?1:0}else F.tc=0;F.La=k}}}C=0}else Fn(h,6,"Frame setup failed"),C=h.a;if(C=C==0){if(C){h.$c=0,0<h.Aa||(h.Ic=_A);e:{C=h.Ic,D=4*(U=h.za);var X=32*U,pe=U+1,Se=0<h.L?U*(0<h.Aa?2:1):0,Me=(h.Aa==2?2:1)*U;if((F=D+832+(k=3*(16*C+zh[h.L])/2*X)+(L=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=F)C=0;else{if(F>h.Vb){if(h.Vb=0,h.Ec=s(F),h.Fc=0,h.Ec==null){C=Fn(h,1,"no memory during frame initialization.");break e}h.Vb=F}F=h.Ec,B=h.Fc,h.Ac=F,h.Bc=B,B+=D,h.Gd=o(X,al),h.Hd=0,h.rb=o(pe+1,yc),h.sb=1,h.wa=Se?o(Se,ra):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=U),t(!0),h.oc=F,h.pc=B,B+=832,h.ya=o(Me,sa),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=U),h.R=16*U,h.B=8*U,U=(X=zh[h.L])*h.R,X=X/2*h.B,h.sa=F,h.ta=B+U,h.qa=h.sa,h.ra=h.ta+16*C*h.R+X,h.Ha=h.qa,h.Ia=h.ra+8*C*h.B+X,h.$c=0,B+=k,h.mb=L?F:null,h.nb=L?B:null,t(B+L<=h.Fc+h.Vb),ul(h),r(h.Ac,h.Bc,0,D),C=1}}if(C){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Pl){for(C=-255;255>=C;++C)Kn[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)xs[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Dl[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)pr[255+C]=0>C?0:255<C?255:C;Pl=1}To=Sc,ns=Wu,Sl=xc,Si=$u,Qi=Ec,jn=Cc,Gs=da,Fc=ur,Ml=rd,Oo=ml,xa=id,No=ha,Ea=_l,Sa=Tc,ko=Ic,Cs=kr,Al=Ji,hr=nd,Es[0]=es,Es[1]=Mc,Es[2]=Xu,Es[3]=Ju,Es[4]=vs,Es[5]=So,Es[6]=Dc,Es[7]=ca,Es[8]=Qu,Es[9]=Zu,Aa[0]=la,Aa[1]=Yu,Aa[2]=Ni,Aa[3]=Eo,Aa[4]=di,Aa[5]=Ku,Aa[6]=Ac,Fo[0]=Hs,Fo[1]=Gu,Fo[2]=ed,Fo[3]=fl,Fo[4]=cr,Fo[5]=td,Fo[6]=pl,C=1}else C=0}C&&(C=function(_e,je){for(_e.M=0;_e.M<_e.Va;++_e.M){var ke,ge=_e.Jc[_e.M&_e.Xb],me=_e.m,Re=_e;for(ke=0;ke<Re.za;++ke){var qe=me,Ve=Re,it=Ve.Ac,Xe=Ve.Bc+4*ke,Ct=Ve.zc,Ze=Ve.ya[Ve.aa+ke];if(Ve.Qa.Bb?Ze.$b=Ce(qe,Ve.Pa.jb[0])?2+Ce(qe,Ve.Pa.jb[2]):Ce(qe,Ve.Pa.jb[1]):Ze.$b=0,Ve.kc&&(Ze.Ad=Ce(qe,Ve.Bd)),Ze.Za=!Ce(qe,145)+0,Ze.Za){var un=Ze.Ob,gn=0;for(Ve=0;4>Ve;++Ve){var rn,Jt=Ct[0+Ve];for(rn=0;4>rn;++rn){Jt=Ma[it[Xe+rn]][Jt];for(var Cn=Kt[Ce(qe,Jt[0])];0<Cn;)Cn=Kt[2*Cn+Ce(qe,Jt[Cn])];Jt=-Cn,it[Xe+rn]=Jt}n(un,gn,it,Xe,4),gn+=4,Ct[0+Ve]=Jt}}else Jt=Ce(qe,156)?Ce(qe,128)?1:3:Ce(qe,163)?2:0,Ze.Ob[0]=Jt,r(it,Xe,Jt,4),r(Ct,0,Jt,4);Ze.Dd=Ce(qe,142)?Ce(qe,114)?Ce(qe,183)?1:3:2:0}if(Re.m.Ka)return Fn(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(Re=ge,qe=(me=_e).rb[me.sb-1],it=me.rb[me.sb+me.ja],ke=me.ya[me.aa+me.ja],Xe=me.kc?ke.Ad:0)qe.la=it.la=0,ke.Za||(qe.Na=it.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var wn,Vt;if(qe=it,it=Re,Xe=me.Pa.Xc,Ct=me.ya[me.aa+me.ja],Ze=me.pb[Ct.$b],Ve=Ct.ad,un=0,gn=me.rb[me.sb-1],Jt=rn=0,r(Ve,un,0,384),Ct.Za)var ni=0,_r=Xe[3];else{Cn=s(16);var ii=qe.Na+gn.Na;if(ii=De(it,Xe[1],ii,Ze.Eb,0,Cn,0),qe.Na=gn.Na=(0<ii)+0,1<ii)To(Cn,0,Ve,un);else{var vr=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)Ve[un+Cn]=vr}ni=1,_r=Xe[0]}var mn=15&qe.la,Rr=15&gn.la;for(Cn=0;4>Cn;++Cn){var Vr=1&Rr;for(vr=Vt=0;4>vr;++vr)mn=mn>>1|(Vr=(ii=De(it,_r,ii=Vr+(1&mn),Ze.Sc,ni,Ve,un))>ni)<<7,Vt=Vt<<2|(3<ii?3:1<ii?2:Ve[un+0]!=0),un+=16;mn>>=4,Rr=Rr>>1|Vr<<7,rn=(rn<<8|Vt)>>>0}for(_r=mn,ni=Rr>>4,wn=0;4>wn;wn+=2){for(Vt=0,mn=qe.la>>4+wn,Rr=gn.la>>4+wn,Cn=0;2>Cn;++Cn){for(Vr=1&Rr,vr=0;2>vr;++vr)ii=Vr+(1&mn),mn=mn>>1|(Vr=0<(ii=De(it,Xe[2],ii,Ze.Qc,0,Ve,un)))<<3,Vt=Vt<<2|(3<ii?3:1<ii?2:Ve[un+0]!=0),un+=16;mn>>=2,Rr=Rr>>1|Vr<<5}Jt|=Vt<<4*wn,_r|=mn<<4<<wn,ni|=(240&Rr)<<wn}qe.la=_r,gn.la=ni,Ct.Hc=rn,Ct.Gc=Jt,Ct.ia=43690&Jt?0:Ze.ia,Xe=!(rn|Jt)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[ke.$b][ke.Za],me.wa[me.Y+me.ja].La|=!Xe),Re.Ka)return Fn(_e,7,"Premature end-of-file encountered.")}if(ul(_e),me=je,Re=1,ke=(ge=_e).D,qe=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(ke.M=ge.M,ke.uc=qe,_a(ge,ke),Re=1,ke=(Vt=ge.D).Nb,qe=(Jt=zh[ge.L])*ge.R,it=Jt/2*ge.B,Cn=16*ke*ge.R,vr=8*ke*ge.B,Xe=ge.sa,Ct=ge.ta-qe+Cn,Ze=ge.qa,Ve=ge.ra-it+vr,un=ge.Ha,gn=ge.Ia-it+vr,Rr=(mn=Vt.M)==0,rn=mn>=ge.Va-1,ge.Aa==2&&_a(ge,Vt),Vt.uc)for(Vr=(ii=ge).D.M,t(ii.D.uc),Vt=ii.yb;Vt<ii.Hb;++Vt){ni=Vt,_r=Vr;var _i=(Mi=(zn=ii).D).Nb;wn=zn.R;var Mi=Mi.wa[Mi.Y+ni],tr=zn.sa,rs=zn.ta+16*_i*wn+16*ni,Ys=Mi.dd,vi=Mi.tc;if(vi!=0)if(t(3<=vi),zn.L==1)0<ni&&Cs(tr,rs,wn,vi+4),Mi.La&&hr(tr,rs,wn,vi),0<_r&&ko(tr,rs,wn,vi+4),Mi.La&&Al(tr,rs,wn,vi);else{var Ro=zn.B,Ol=zn.qa,Hc=zn.ra+8*_i*Ro+8*ni,Pa=zn.Ha,zn=zn.Ia+8*_i*Ro+8*ni;_i=Mi.ld,0<ni&&(Fc(tr,rs,wn,vi+4,Ys,_i),Oo(Ol,Hc,Pa,zn,Ro,vi+4,Ys,_i)),Mi.La&&(No(tr,rs,wn,vi,Ys,_i),Sa(Ol,Hc,Pa,zn,Ro,vi,Ys,_i)),0<_r&&(Gs(tr,rs,wn,vi+4,Ys,_i),Ml(Ol,Hc,Pa,zn,Ro,vi+4,Ys,_i)),Mi.La&&(xa(tr,rs,wn,vi,Ys,_i),Ea(Ol,Hc,Pa,zn,Ro,vi,Ys,_i))}}if(ge.ia&&alert("todo:DitherRow"),me.put!=null){if(Vt=16*mn,mn=16*(mn+1),Rr?(me.y=ge.sa,me.O=ge.ta+Cn,me.f=ge.qa,me.N=ge.ra+vr,me.ea=ge.Ha,me.W=ge.Ia+vr):(Vt-=Jt,me.y=Xe,me.O=Ct,me.f=Ze,me.N=Ve,me.ea=un,me.W=gn),rn||(mn-=Jt),mn>me.o&&(mn=me.o),me.F=null,me.J=null,ge.Fa!=null&&0<ge.Fa.length&&Vt<mn&&(me.J=ga(ge,me,Vt,mn-Vt),me.F=ge.mb,me.F==null&&me.F.length==0)){Re=Fn(ge,3,"Could not decode alpha data.");break e}Vt<me.j&&(Jt=me.j-Vt,Vt=me.j,t(!(1&Jt)),me.O+=ge.R*Jt,me.N+=ge.B*(Jt>>1),me.W+=ge.B*(Jt>>1),me.F!=null&&(me.J+=me.width*Jt)),Vt<mn&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Vt-me.j,me.U=me.va-me.v,me.T=mn-Vt,Re=me.put(me))}ke+1!=ge.Ic||rn||(n(ge.sa,ge.ta-qe,Xe,Ct+16*ge.R,qe),n(ge.qa,ge.ra-it,Ze,Ve+8*ge.B,it),n(ge.Ha,ge.Ia-it,un,gn+8*ge.B,it))}if(!Re)return Fn(_e,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),C&=1}return C?(h.cb=0,C):0}function Oi(h,g,C,D,k){k=h[g+C+32*D]+(k>>3),h[g+C+32*D]=-256&k?0>k?0:255:k}function _s(h,g,C,D,k,L){Oi(h,g,0,C,D+k),Oi(h,g,1,C,D+L),Oi(h,g,2,C,D-L),Oi(h,g,3,C,D-k)}function Ci(h){return(20091*h>>16)+h}function dl(h,g,C,D){var k,L=0,F=s(16);for(k=0;4>k;++k){var B=h[g+0]+h[g+8],U=h[g+0]-h[g+8],X=(35468*h[g+4]>>16)-Ci(h[g+12]),pe=Ci(h[g+4])+(35468*h[g+12]>>16);F[L+0]=B+pe,F[L+1]=U+X,F[L+2]=U-X,F[L+3]=B-pe,L+=4,g++}for(k=L=0;4>k;++k)B=(h=F[L+0]+4)+F[L+8],U=h-F[L+8],X=(35468*F[L+4]>>16)-Ci(F[L+12]),Oi(C,D,0,0,B+(pe=Ci(F[L+4])+(35468*F[L+12]>>16))),Oi(C,D,1,0,U+X),Oi(C,D,2,0,U-X),Oi(C,D,3,0,B-pe),L++,D+=32}function Cc(h,g,C,D){var k=h[g+0]+4,L=35468*h[g+4]>>16,F=Ci(h[g+4]),B=35468*h[g+1]>>16;_s(C,D,0,k+F,h=Ci(h[g+1]),B),_s(C,D,1,k+L,h,B),_s(C,D,2,k-L,h,B),_s(C,D,3,k-F,h,B)}function Wu(h,g,C,D,k){dl(h,g,C,D),k&&dl(h,g+16,C,D+4)}function xc(h,g,C,D){ns(h,g+0,C,D,1),ns(h,g+32,C,D+128,1)}function $u(h,g,C,D){var k;for(h=h[g+0]+4,k=0;4>k;++k)for(g=0;4>g;++g)Oi(C,D,g,k,h)}function Ec(h,g,C,D){h[g+0]&&Si(h,g+0,C,D),h[g+16]&&Si(h,g+16,C,D+4),h[g+32]&&Si(h,g+32,C,D+128),h[g+48]&&Si(h,g+48,C,D+128+4)}function Sc(h,g,C,D){var k,L=s(16);for(k=0;4>k;++k){var F=h[g+0+k]+h[g+12+k],B=h[g+4+k]+h[g+8+k],U=h[g+4+k]-h[g+8+k],X=h[g+0+k]-h[g+12+k];L[0+k]=F+B,L[8+k]=F-B,L[4+k]=X+U,L[12+k]=X-U}for(k=0;4>k;++k)F=(h=L[0+4*k]+3)+L[3+4*k],B=L[1+4*k]+L[2+4*k],U=L[1+4*k]-L[2+4*k],X=h-L[3+4*k],C[D+0]=F+B>>3,C[D+16]=X+U>>3,C[D+32]=F-B>>3,C[D+48]=X-U>>3,D+=64}function hl(h,g,C){var D,k=g-32,L=er,F=255-h[k-1];for(D=0;D<C;++D){var B,U=L,X=F+h[g-1];for(B=0;B<C;++B)h[g+B]=U[X+h[k+B]];g+=32}}function Mc(h,g){hl(h,g,4)}function Gu(h,g){hl(h,g,8)}function Yu(h,g){hl(h,g,16)}function Ni(h,g){var C;for(C=0;16>C;++C)n(h,g+32*C,h,g-32,16)}function Eo(h,g){var C;for(C=16;0<C;--C)r(h,g,h[g-1],16),g+=32}function aa(h,g,C){var D;for(D=0;16>D;++D)r(g,C+32*D,h,16)}function la(h,g){var C,D=16;for(C=0;16>C;++C)D+=h[g-1+32*C]+h[g+C-32];aa(D>>5,h,g)}function di(h,g){var C,D=8;for(C=0;16>C;++C)D+=h[g-1+32*C];aa(D>>4,h,g)}function Ku(h,g){var C,D=8;for(C=0;16>C;++C)D+=h[g+C-32];aa(D>>4,h,g)}function Ac(h,g){aa(128,h,g)}function Mt(h,g,C){return h+2*g+C+2>>2}function Xu(h,g){var C,D=g-32;for(D=new Uint8Array([Mt(h[D-1],h[D+0],h[D+1]),Mt(h[D+0],h[D+1],h[D+2]),Mt(h[D+1],h[D+2],h[D+3]),Mt(h[D+2],h[D+3],h[D+4])]),C=0;4>C;++C)n(h,g+32*C,D,0,D.length)}function Ju(h,g){var C=h[g-1],D=h[g-1+32],k=h[g-1+64],L=h[g-1+96];ze(h,g+0,16843009*Mt(h[g-1-32],C,D)),ze(h,g+32,16843009*Mt(C,D,k)),ze(h,g+64,16843009*Mt(D,k,L)),ze(h,g+96,16843009*Mt(k,L,L))}function es(h,g){var C,D=4;for(C=0;4>C;++C)D+=h[g+C-32]+h[g-1+32*C];for(D>>=3,C=0;4>C;++C)r(h,g+32*C,D,4)}function vs(h,g){var C=h[g-1+0],D=h[g-1+32],k=h[g-1+64],L=h[g-1-32],F=h[g+0-32],B=h[g+1-32],U=h[g+2-32],X=h[g+3-32];h[g+0+96]=Mt(D,k,h[g-1+96]),h[g+1+96]=h[g+0+64]=Mt(C,D,k),h[g+2+96]=h[g+1+64]=h[g+0+32]=Mt(L,C,D),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=Mt(F,L,C),h[g+3+64]=h[g+2+32]=h[g+1+0]=Mt(B,F,L),h[g+3+32]=h[g+2+0]=Mt(U,B,F),h[g+3+0]=Mt(X,U,B)}function Dc(h,g){var C=h[g+1-32],D=h[g+2-32],k=h[g+3-32],L=h[g+4-32],F=h[g+5-32],B=h[g+6-32],U=h[g+7-32];h[g+0+0]=Mt(h[g+0-32],C,D),h[g+1+0]=h[g+0+32]=Mt(C,D,k),h[g+2+0]=h[g+1+32]=h[g+0+64]=Mt(D,k,L),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=Mt(k,L,F),h[g+3+32]=h[g+2+64]=h[g+1+96]=Mt(L,F,B),h[g+3+64]=h[g+2+96]=Mt(F,B,U),h[g+3+96]=Mt(B,U,U)}function So(h,g){var C=h[g-1+0],D=h[g-1+32],k=h[g-1+64],L=h[g-1-32],F=h[g+0-32],B=h[g+1-32],U=h[g+2-32],X=h[g+3-32];h[g+0+0]=h[g+1+64]=L+F+1>>1,h[g+1+0]=h[g+2+64]=F+B+1>>1,h[g+2+0]=h[g+3+64]=B+U+1>>1,h[g+3+0]=U+X+1>>1,h[g+0+96]=Mt(k,D,C),h[g+0+64]=Mt(D,C,L),h[g+0+32]=h[g+1+96]=Mt(C,L,F),h[g+1+32]=h[g+2+96]=Mt(L,F,B),h[g+2+32]=h[g+3+96]=Mt(F,B,U),h[g+3+32]=Mt(B,U,X)}function ca(h,g){var C=h[g+0-32],D=h[g+1-32],k=h[g+2-32],L=h[g+3-32],F=h[g+4-32],B=h[g+5-32],U=h[g+6-32],X=h[g+7-32];h[g+0+0]=C+D+1>>1,h[g+1+0]=h[g+0+64]=D+k+1>>1,h[g+2+0]=h[g+1+64]=k+L+1>>1,h[g+3+0]=h[g+2+64]=L+F+1>>1,h[g+0+32]=Mt(C,D,k),h[g+1+32]=h[g+0+96]=Mt(D,k,L),h[g+2+32]=h[g+1+96]=Mt(k,L,F),h[g+3+32]=h[g+2+96]=Mt(L,F,B),h[g+3+64]=Mt(F,B,U),h[g+3+96]=Mt(B,U,X)}function Zu(h,g){var C=h[g-1+0],D=h[g-1+32],k=h[g-1+64],L=h[g-1+96];h[g+0+0]=C+D+1>>1,h[g+2+0]=h[g+0+32]=D+k+1>>1,h[g+2+32]=h[g+0+64]=k+L+1>>1,h[g+1+0]=Mt(C,D,k),h[g+3+0]=h[g+1+32]=Mt(D,k,L),h[g+3+32]=h[g+1+64]=Mt(k,L,L),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=L}function Qu(h,g){var C=h[g-1+0],D=h[g-1+32],k=h[g-1+64],L=h[g-1+96],F=h[g-1-32],B=h[g+0-32],U=h[g+1-32],X=h[g+2-32];h[g+0+0]=h[g+2+32]=C+F+1>>1,h[g+0+32]=h[g+2+64]=D+C+1>>1,h[g+0+64]=h[g+2+96]=k+D+1>>1,h[g+0+96]=L+k+1>>1,h[g+3+0]=Mt(B,U,X),h[g+2+0]=Mt(F,B,U),h[g+1+0]=h[g+3+32]=Mt(C,F,B),h[g+1+32]=h[g+3+64]=Mt(D,C,F),h[g+1+64]=h[g+3+96]=Mt(k,D,C),h[g+1+96]=Mt(L,k,D)}function ed(h,g){var C;for(C=0;8>C;++C)n(h,g+32*C,h,g-32,8)}function fl(h,g){var C;for(C=0;8>C;++C)r(h,g,h[g-1],8),g+=32}function Mo(h,g,C){var D;for(D=0;8>D;++D)r(g,C+32*D,h,8)}function Hs(h,g){var C,D=8;for(C=0;8>C;++C)D+=h[g+C-32]+h[g-1+32*C];Mo(D>>4,h,g)}function td(h,g){var C,D=4;for(C=0;8>C;++C)D+=h[g+C-32];Mo(D>>3,h,g)}function cr(h,g){var C,D=4;for(C=0;8>C;++C)D+=h[g-1+32*C];Mo(D>>3,h,g)}function pl(h,g){Mo(128,h,g)}function ua(h,g,C){var D=h[g-C],k=h[g+0],L=3*(k-D)+od[1020+h[g-2*C]-h[g+C]],F=Lo[112+(L+4>>3)];h[g-C]=er[255+D+Lo[112+(L+3>>3)]],h[g+0]=er[255+k-F]}function gl(h,g,C,D){var k=h[g+0],L=h[g+C];return gr[255+h[g-2*C]-h[g-C]]>D||gr[255+L-k]>D}function Pc(h,g,C,D){return 4*gr[255+h[g-C]-h[g+0]]+gr[255+h[g-2*C]-h[g+C]]<=D}function Nr(h,g,C,D,k){var L=h[g-3*C],F=h[g-2*C],B=h[g-C],U=h[g+0],X=h[g+C],pe=h[g+2*C],Se=h[g+3*C];return 4*gr[255+B-U]+gr[255+F-X]>D?0:gr[255+h[g-4*C]-L]<=k&&gr[255+L-F]<=k&&gr[255+F-B]<=k&&gr[255+Se-pe]<=k&&gr[255+pe-X]<=k&&gr[255+X-U]<=k}function Ic(h,g,C,D){var k=2*D+1;for(D=0;16>D;++D)Pc(h,g+D,C,k)&&ua(h,g+D,C)}function kr(h,g,C,D){var k=2*D+1;for(D=0;16>D;++D)Pc(h,g+D*C,1,k)&&ua(h,g+D*C,1)}function Ji(h,g,C,D){var k;for(k=3;0<k;--k)Ic(h,g+=4*C,C,D)}function nd(h,g,C,D){var k;for(k=3;0<k;--k)kr(h,g+=4,C,D)}function Us(h,g,C,D,k,L,F,B){for(L=2*L+1;0<k--;){if(Nr(h,g,C,L,F))if(gl(h,g,C,B))ua(h,g,C);else{var U=h,X=g,pe=C,Se=U[X-2*pe],Me=U[X-pe],_e=U[X+0],je=U[X+pe],ke=U[X+2*pe],ge=27*(Re=od[1020+3*(_e-Me)+od[1020+Se-je]])+63>>7,me=18*Re+63>>7,Re=9*Re+63>>7;U[X-3*pe]=er[255+U[X-3*pe]+Re],U[X-2*pe]=er[255+Se+me],U[X-pe]=er[255+Me+ge],U[X+0]=er[255+_e-ge],U[X+pe]=er[255+je-me],U[X+2*pe]=er[255+ke-Re]}g+=D}}function Lr(h,g,C,D,k,L,F,B){for(L=2*L+1;0<k--;){if(Nr(h,g,C,L,F))if(gl(h,g,C,B))ua(h,g,C);else{var U=h,X=g,pe=C,Se=U[X-pe],Me=U[X+0],_e=U[X+pe],je=Lo[112+((ke=3*(Me-Se))+4>>3)],ke=Lo[112+(ke+3>>3)],ge=je+1>>1;U[X-2*pe]=er[255+U[X-2*pe]+ge],U[X-pe]=er[255+Se+ke],U[X+0]=er[255+Me-je],U[X+pe]=er[255+_e-ge]}g+=D}}function da(h,g,C,D,k,L){Us(h,g,C,1,16,D,k,L)}function ur(h,g,C,D,k,L){Us(h,g,1,C,16,D,k,L)}function id(h,g,C,D,k,L){var F;for(F=3;0<F;--F)Lr(h,g+=4*C,C,1,16,D,k,L)}function ha(h,g,C,D,k,L){var F;for(F=3;0<F;--F)Lr(h,g+=4,1,C,16,D,k,L)}function rd(h,g,C,D,k,L,F,B){Us(h,g,k,1,8,L,F,B),Us(C,D,k,1,8,L,F,B)}function ml(h,g,C,D,k,L,F,B){Us(h,g,1,k,8,L,F,B),Us(C,D,1,k,8,L,F,B)}function _l(h,g,C,D,k,L,F,B){Lr(h,g+4*k,k,1,8,L,F,B),Lr(C,D+4*k,k,1,8,L,F,B)}function Tc(h,g,C,D,k,L,F,B){Lr(h,g+4,1,k,8,L,F,B),Lr(C,D+4,1,k,8,L,F,B)}function fa(){this.ba=new Dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oc(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new j}function pa(){this.xb=this.a=0,this.l=new qs,this.ca=new Dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oc,this.ab=0,this.gc=o(4,yl),this.Oc=0}function Ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Do(h,g,C,D,k,L,F){for(h=h==null?0:h[g+0],g=0;g<F;++g)k[L+g]=h+C[D+g]&255,h=k[L+g]}function wl(h,g,C,D,k,L,F){var B;if(h==null)Do(null,null,C,D,k,L,F);else for(B=0;B<F;++B)k[L+B]=h[g+B]+C[D+B]&255}function zs(h,g,C,D,k,L,F){if(h==null)Do(null,null,C,D,k,L,F);else{var B,U=h[g+0],X=U,pe=U;for(B=0;B<F;++B)X=pe+(U=h[g+B])-X,pe=C[D+B]+(-256&X?0>X?0:255:X)&255,X=U,k[L+B]=pe}}function ga(h,g,C,D){var k=g.width,L=g.o;if(t(h!=null&&g!=null),0>C||0>=D||C+D>L)return null;if(!h.Cc){if(h.ga==null){var F;if(h.ga=new Ao,(F=h.ga==null)||(F=g.width*g.o,t(h.Gb.length==0),h.Gb=s(F),h.Uc=0,h.Gb==null?F=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,F=1),F=!F),!F){F=h.ga;var B=h.Fa,U=h.P,X=h.qc,pe=h.mb,Se=h.nb,Me=U+1,_e=X-1,je=F.l;if(t(B!=null&&pe!=null&&g!=null),Da[0]=null,Da[1]=Do,Da[2]=wl,Da[3]=zs,F.ca=pe,F.tb=Se,F.c=g.width,F.i=g.height,t(0<F.c&&0<F.i),1>=X)g=0;else if(F.$a=B[U+0]>>0&3,F.Z=B[U+0]>>2&3,F.Lc=B[U+0]>>4&3,U=B[U+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||U)g=0;else if(je.put=Xr,je.ac=ui,je.bc=Jr,je.ma=F,je.width=g.width,je.height=g.height,je.Da=g.Da,je.v=g.v,je.va=g.va,je.j=g.j,je.o=g.o,F.$a)e:{t(F.$a==1),g=ar();t:for(;;){if(g==null){g=0;break e}if(t(F!=null),F.mc=g,g.c=F.c,g.i=F.i,g.l=F.l,g.l.ma=F,g.l.width=F.c,g.l.height=F.i,g.a=0,W(g.m,B,Me,_e),!lr(F.c,F.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&gs(g.s)?(F.ic=1,B=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(B),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(F.ic=0,g=Or(g,F.c)),!g))break t;g=1;break e}F.mc=null,g=0}else g=_e>=F.c*F.i;F=!g}if(F)return null;h.ga.Lc!=1?h.Ga=0:D=L-C}t(h.ga!=null),t(C+D<=L);e:{if(g=(B=h.ga).c,L=B.l.o,B.$a==0){if(Me=h.rc,_e=h.Vc,je=h.Fa,U=h.P+1+C*g,X=h.mb,pe=h.nb+C*g,t(U<=h.P+h.qc),B.Z!=0)for(t(Da[B.Z]!=null),F=0;F<D;++F)Da[B.Z](Me,_e,je,U,X,pe,g),Me=X,_e=pe,pe+=g,U+=g;else for(F=0;F<D;++F)n(X,pe,je,U,g),Me=X,_e=pe,pe+=g,U+=g;h.rc=Me,h.Vc=_e}else{if(t(B.mc!=null),g=C+D,t((F=B.mc)!=null),t(g<=F.i),F.C>=g)g=1;else if(B.ic||ye(),B.ic){B=F.V,Me=F.Ba,_e=F.c;var ke=F.i,ge=(je=1,U=F.$/_e,X=F.$%_e,pe=F.m,Se=F.s,F.$),me=_e*ke,Re=_e*g,qe=Se.wc,Ve=ge<Re?Un(Se,X,U):null;t(ge<=me),t(g<=ke),t(gs(Se));t:for(;;){for(;!pe.h&&ge<Re;){if(X&qe||(Ve=Un(Se,X,U)),t(Ve!=null),ue(pe),256>(ke=Ti(Ve.G[0],Ve.H[0],pe)))B[Me+ge]=ke,++ge,++X>=_e&&(X=0,++U<=g&&!(U%16)&&Ir(F,U));else{if(!(280>ke)){je=0;break t}ke=Ki(ke-256,pe);var it,Xe=Ti(Ve.G[4],Ve.H[4],pe);if(ue(pe),!(ge>=(Xe=Zr(_e,Xe=Ki(Xe,pe)))&&me-ge>=ke)){je=0;break t}for(it=0;it<ke;++it)B[Me+ge+it]=B[Me+ge+it-Xe];for(ge+=ke,X+=ke;X>=_e;)X-=_e,++U<=g&&!(U%16)&&Ir(F,U);ge<Re&&X&qe&&(Ve=Un(Se,X,U))}t(pe.h==$(pe))}Ir(F,U>g?g:U);break t}!je||pe.h&&ge<me?(je=0,F.a=pe.h?5:3):F.$=ge,g=je}else g=Tr(F,F.V,F.Ba,F.c,F.i,g,xo);if(!g){D=0;break e}}C+D>=L&&(h.Cc=1),D=1}if(!D)return null;if(h.Cc&&((D=h.ga)!=null&&(D.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+C*k}function y(h,g,C,D,k,L){for(;0<k--;){var F,B=h,U=g+(C?1:0),X=h,pe=g+(C?0:3);for(F=0;F<D;++F){var Se=X[pe+4*F];Se!=255&&(Se*=32897,B[U+4*F+0]=B[U+4*F+0]*Se>>23,B[U+4*F+1]=B[U+4*F+1]*Se>>23,B[U+4*F+2]=B[U+4*F+2]*Se>>23)}g+=L}}function N(h,g,C,D,k){for(;0<D--;){var L;for(L=0;L<C;++L){var F=h[g+2*L+0],B=15&(X=h[g+2*L+1]),U=4369*B,X=(240&X|X>>4)*U>>16;h[g+2*L+0]=(240&F|F>>4)*U>>16&240|(15&F|F<<4)*U>>16>>4&15,h[g+2*L+1]=240&X|B}g+=k}}function ne(h,g,C,D,k,L,F,B){var U,X,pe=255;for(X=0;X<k;++X){for(U=0;U<D;++U){var Se=h[g+U];L[F+4*U]=Se,pe&=Se}g+=C,F+=B}return pe!=255}function he(h,g,C,D,k){var L;for(L=0;L<k;++L)C[D+L]=h[g+L]>>8}function ye(){fr=y,vn=N,yn=ne,Bn=he}function Le(h,g,C){Y[h]=function(D,k,L,F,B,U,X,pe,Se,Me,_e,je,ke,ge,me,Re,qe){var Ve,it=qe-1>>1,Xe=B[U+0]|X[pe+0]<<16,Ct=Se[Me+0]|_e[je+0]<<16;t(D!=null);var Ze=3*Xe+Ct+131074>>2;for(g(D[k+0],255&Ze,Ze>>16,ke,ge),L!=null&&(Ze=3*Ct+Xe+131074>>2,g(L[F+0],255&Ze,Ze>>16,me,Re)),Ve=1;Ve<=it;++Ve){var un=B[U+Ve]|X[pe+Ve]<<16,gn=Se[Me+Ve]|_e[je+Ve]<<16,rn=Xe+un+Ct+gn+524296,Jt=rn+2*(un+Ct)>>3;Ze=Jt+Xe>>1,Xe=(rn=rn+2*(Xe+gn)>>3)+un>>1,g(D[k+2*Ve-1],255&Ze,Ze>>16,ke,ge+(2*Ve-1)*C),g(D[k+2*Ve-0],255&Xe,Xe>>16,ke,ge+(2*Ve-0)*C),L!=null&&(Ze=rn+Ct>>1,Xe=Jt+gn>>1,g(L[F+2*Ve-1],255&Ze,Ze>>16,me,Re+(2*Ve-1)*C),g(L[F+2*Ve+0],255&Xe,Xe>>16,me,Re+(2*Ve+0)*C)),Xe=un,Ct=gn}1&qe||(Ze=3*Xe+Ct+131074>>2,g(D[k+qe-1],255&Ze,Ze>>16,ke,ge+(qe-1)*C),L!=null&&(Ze=3*Ct+Xe+131074>>2,g(L[F+qe-1],255&Ze,Ze>>16,me,Re+(qe-1)*C)))}}function He(){is[Rc]=oA,is[Il]=zw,is[Bh]=aA,is[Vc]=Ww,is[jc]=$w,is[mr]=Gw,is[Tl]=lA,is[Tn]=zw,is[ad]=Ww,is[Bc]=$w,is[ld]=Gw}function tt(h){return h&~cA?0>h?0:255:h>>Yw}function pt(h,g){return tt((19077*h>>8)+(26149*g>>8)-14234)}function Pt(h,g,C){return tt((19077*h>>8)-(6419*g>>8)-(13320*C>>8)+8708)}function At(h,g){return tt((19077*h>>8)+(33050*g>>8)-17685)}function Yt(h,g,C,D,k){D[k+0]=pt(h,C),D[k+1]=Pt(h,g,C),D[k+2]=At(h,g)}function An(h,g,C,D,k){D[k+0]=At(h,g),D[k+1]=Pt(h,g,C),D[k+2]=pt(h,C)}function Pn(h,g,C,D,k){var L=Pt(h,g,C);g=L<<3&224|At(h,g)>>3,D[k+0]=248&pt(h,C)|L>>5,D[k+1]=g}function Vn(h,g,C,D,k){var L=240&At(h,g)|15;D[k+0]=240&pt(h,C)|Pt(h,g,C)>>4,D[k+1]=L}function hi(h,g,C,D,k){D[k+0]=255,Yt(h,g,C,D,k+1)}function In(h,g,C,D,k){An(h,g,C,D,k),D[k+3]=255}function Fr(h,g,C,D,k){Yt(h,g,C,D,k),D[k+3]=255}function Zi(h,g){return 0>h?0:h>g?g:h}function ts(h,g,C){Y[h]=function(D,k,L,F,B,U,X,pe,Se){for(var Me=pe+(-2&Se)*C;pe!=Me;)g(D[k+0],L[F+0],B[U+0],X,pe),g(D[k+1],L[F+0],B[U+0],X,pe+C),k+=2,++F,++U,pe+=2*C;1&Se&&g(D[k+0],L[F+0],B[U+0],X,pe)}}function bl(h,g,C){return C==0?h==0?g==0?6:5:g==0?4:0:C}function ma(h,g,C,D,k){switch(h>>>30){case 3:ns(g,C,D,k,0);break;case 2:jn(g,C,D,k);break;case 1:Si(g,C,D,k)}}function _a(h,g){var C,D,k=g.M,L=g.Nb,F=h.oc,B=h.pc+40,U=h.oc,X=h.pc+584,pe=h.oc,Se=h.pc+600;for(C=0;16>C;++C)F[B+32*C-1]=129;for(C=0;8>C;++C)U[X+32*C-1]=129,pe[Se+32*C-1]=129;for(0<k?F[B-1-32]=U[X-1-32]=pe[Se-1-32]=129:(r(F,B-32-1,127,21),r(U,X-32-1,127,9),r(pe,Se-32-1,127,9)),D=0;D<h.za;++D){var Me=g.ya[g.aa+D];if(0<D){for(C=-1;16>C;++C)n(F,B+32*C-4,F,B+32*C+12,4);for(C=-1;8>C;++C)n(U,X+32*C-4,U,X+32*C+4,4),n(pe,Se+32*C-4,pe,Se+32*C+4,4)}var _e=h.Gd,je=h.Hd+D,ke=Me.ad,ge=Me.Hc;if(0<k&&(n(F,B-32,_e[je].y,0,16),n(U,X-32,_e[je].f,0,8),n(pe,Se-32,_e[je].ea,0,8)),Me.Za){var me=F,Re=B-32+16;for(0<k&&(D>=h.za-1?r(me,Re,_e[je].y[15],4):n(me,Re,_e[je+1].y,0,4)),C=0;4>C;C++)me[Re+128+C]=me[Re+256+C]=me[Re+384+C]=me[Re+0+C];for(C=0;16>C;++C,ge<<=2)me=F,Re=B+Xw[C],Es[Me.Ob[C]](me,Re),ma(ge,ke,16*+C,me,Re)}else if(me=bl(D,k,Me.Ob[0]),Aa[me](F,B),ge!=0)for(C=0;16>C;++C,ge<<=2)ma(ge,ke,16*+C,F,B+Xw[C]);for(C=Me.Gc,me=bl(D,k,Me.Dd),Fo[me](U,X),Fo[me](pe,Se),ge=ke,me=U,Re=X,255&(Me=C>>0)&&(170&Me?Sl(ge,256,me,Re):Qi(ge,256,me,Re)),Me=pe,ge=Se,255&(C>>=8)&&(170&C?Sl(ke,320,Me,ge):Qi(ke,320,Me,ge)),k<h.Ub-1&&(n(_e[je].y,0,F,B+480,16),n(_e[je].f,0,U,X+224,8),n(_e[je].ea,0,pe,Se+224,8)),C=8*L*h.B,_e=h.sa,je=h.ta+16*D+16*L*h.R,ke=h.qa,Me=h.ra+8*D+C,ge=h.Ha,me=h.Ia+8*D+C,C=0;16>C;++C)n(_e,je+C*h.R,F,B+32*C,16);for(C=0;8>C;++C)n(ke,Me+C*h.B,U,X+32*C,8),n(ge,me+C*h.B,pe,Se+32*C,8)}}function va(h,g,C,D,k,L,F,B,U){var X=[0],pe=[0],Se=0,Me=U!=null?U.kd:0,_e=U??new vl;if(h==null||12>C)return 7;_e.data=h,_e.w=g,_e.ha=C,g=[g],C=[C],_e.gb=[_e.gb];e:{var je=g,ke=C,ge=_e.gb;if(t(h!=null),t(ke!=null),t(ge!=null),ge[0]=0,12<=ke[0]&&!e(h,je[0],"RIFF")){if(e(h,je[0]+8,"WEBP")){ge=3;break e}var me=Je(h,je[0]+4);if(12>me||4294967286<me){ge=3;break e}if(Me&&me>ke[0]-8){ge=7;break e}ge[0]=me,je[0]+=12,ke[0]-=12}ge=0}if(ge!=0)return ge;for(me=0<_e.gb[0],C=C[0];;){e:{var Re=h;ke=g,ge=C;var qe=X,Ve=pe,it=je=[0];if((Ze=Se=[Se])[0]=0,8>ge[0])ge=7;else{if(!e(Re,ke[0],"VP8X")){if(Je(Re,ke[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var Xe=Je(Re,ke[0]+8),Ct=1+Ke(Re,ke[0]+12);if(2147483648<=Ct*(Re=1+Ke(Re,ke[0]+15))){ge=3;break e}it!=null&&(it[0]=Xe),qe!=null&&(qe[0]=Ct),Ve!=null&&(Ve[0]=Re),ke[0]+=18,ge[0]-=18,Ze[0]=1}ge=0}}if(Se=Se[0],je=je[0],ge!=0)return ge;if(ke=!!(2&je),!me&&Se)return 3;if(L!=null&&(L[0]=!!(16&je)),F!=null&&(F[0]=ke),B!=null&&(B[0]=0),F=X[0],je=pe[0],Se&&ke&&U==null){ge=0;break}if(4>C){ge=7;break}if(me&&Se||!me&&!Se&&!e(h,g[0],"ALPH")){C=[C],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{Xe=h,ge=g,me=C;var Ze=_e.gb;qe=_e.na,Ve=_e.P,it=_e.Sa,Ct=22,t(Xe!=null),t(me!=null),Re=ge[0];var un=me[0];for(t(qe!=null),t(it!=null),qe[0]=null,Ve[0]=null,it[0]=0;;){if(ge[0]=Re,me[0]=un,8>un){ge=7;break e}var gn=Je(Xe,Re+4);if(4294967286<gn){ge=3;break e}var rn=8+gn+1&-2;if(Ct+=rn,0<Ze&&Ct>Ze){ge=3;break e}if(!e(Xe,Re,"VP8 ")||!e(Xe,Re,"VP8L")){ge=0;break e}if(un[0]<rn){ge=7;break e}e(Xe,Re,"ALPH")||(qe[0]=Xe,Ve[0]=Re+8,it[0]=gn),Re+=rn,un-=rn}}if(C=C[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],ge!=0)break}C=[C],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(Ze=h,ge=g,me=C,qe=_e.gb[0],Ve=_e.Ja,it=_e.xa,Xe=ge[0],Re=!e(Ze,Xe,"VP8 "),Ct=!e(Ze,Xe,"VP8L"),t(Ze!=null),t(me!=null),t(Ve!=null),t(it!=null),8>me[0])ge=7;else{if(Re||Ct){if(Ze=Je(Ze,Xe+4),12<=qe&&Ze>qe-12){ge=3;break e}if(Me&&Ze>me[0]-8){ge=7;break e}Ve[0]=Ze,ge[0]+=8,me[0]-=8,it[0]=Ct}else it[0]=5<=me[0]&&Ze[Xe+0]==47&&!(Ze[Xe+4]>>5),Ve[0]=me[0];ge=0}if(C=C[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],g=g[0],ge!=0)break;if(4294967286<_e.Ja)return 3;if(B==null||ke||(B[0]=_e.xa?2:1),F=[F],je=[je],_e.xa){if(5>C){ge=7;break}B=F,Me=je,ke=L,h==null||5>C?h=0:5<=C&&h[g+0]==47&&!(h[g+4]>>5)?(me=[0],Ze=[0],qe=[0],W(Ve=new T,h,g,C),bt(Ve,me,Ze,qe)?(B!=null&&(B[0]=me[0]),Me!=null&&(Me[0]=Ze[0]),ke!=null&&(ke[0]=qe[0]),h=1):h=0):h=0}else{if(10>C){ge=7;break}B=je,h==null||10>C||!ll(h,g+3,C-3)?h=0:(Me=h[g+0]|h[g+1]<<8|h[g+2]<<16,ke=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=_e.Ja||!ke||!h?h=0:(F&&(F[0]=ke),B&&(B[0]=h),h=1))}if(!h||(F=F[0],je=je[0],Se&&(X[0]!=F||pe[0]!=je)))return 3;U!=null&&(U[0]=_e,U.offset=g-U.w,t(4294967286>g-U.w),t(U.offset==U.ha-C));break}return ge==0||ge==7&&Se&&U==null?(L!=null&&(L[0]|=_e.na!=null&&0<_e.na.length),D!=null&&(D[0]=F),k!=null&&(k[0]=je),0):ge}function Cl(h,g,C){var D=g.width,k=g.height,L=0,F=0,B=D,U=k;if(g.Da=h!=null&&0<h.Da,g.Da&&(B=h.cd,U=h.bd,L=h.v,F=h.j,11>C||(L&=-2,F&=-2),0>L||0>F||0>=B||0>=U||L+B>D||F+U>k))return 0;if(g.v=L,g.j=F,g.va=L+B,g.o=F+U,g.U=B,g.T=U,g.da=h!=null&&0<h.da,g.da){if(!gt(B,U,C=[h.ib],L=[h.hb]))return 0;g.ib=C[0],g.hb=L[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*D/4&&g.hb<3*k/4,g.Kb=0),1}function xl(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function ya(h,g,C,D){if(D==null||0>=h||0>=g)return 2;if(C!=null){if(C.Da){var k=C.cd,L=C.bd,F=-2&C.v,B=-2&C.j;if(0>F||0>B||0>=k||0>=L||F+k>h||B+L>g)return 2;h=k,g=L}if(C.da){if(!gt(h,g,k=[C.ib],L=[C.hb]))return 2;h=k[0],g=L[0]}}D.width=h,D.height=g;e:{var U=D.width,X=D.height;if(h=D.S,0>=U||0>=X||!(h>=Rc&&13>h))h=2;else{if(0>=D.Rd&&D.sd==null){F=L=k=g=0;var pe=(B=U*Jw[h])*X;if(11>h||(L=(X+1)/2*(g=(U+1)/2),h==12&&(F=(k=U)*X)),(X=s(pe+2*L+F))==null){h=1;break e}D.sd=X,11>h?((U=D.f.RGBA).eb=X,U.fb=0,U.A=B,U.size=pe):((U=D.f.kb).y=X,U.O=0,U.fa=B,U.Fd=pe,U.f=X,U.N=0+pe,U.Ab=g,U.Cd=L,U.ea=X,U.W=0+pe+L,U.Db=g,U.Ed=L,h==12&&(U.F=X,U.J=0+pe+2*L),U.Tc=F,U.lb=k)}if(g=1,k=D.S,L=D.width,F=D.height,k>=Rc&&13>k)if(11>k)h=D.f.RGBA,g&=(B=Math.abs(h.A))*(F-1)+L<=h.size,g&=B>=L*Jw[k],g&=h.eb!=null;else{h=D.f.kb,B=(L+1)/2,pe=(F+1)/2,U=Math.abs(h.fa),X=Math.abs(h.Ab);var Se=Math.abs(h.Db),Me=Math.abs(h.lb),_e=Me*(F-1)+L;g&=U*(F-1)+L<=h.Fd,g&=X*(pe-1)+B<=h.Cd,g=(g&=Se*(pe-1)+B<=h.Ed)&U>=L&X>=B&Se>=B,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,k==12&&(g&=Me>=L,g&=_e<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||C!=null&&C.fd&&(h=xl(D)),h}var ti=64,wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Po=24,ba=32,Ca=8,mi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(h){return h},Y.Predictor2=function(h,g,C){return g[C+0]},Y.Predictor3=function(h,g,C){return g[C+1]},Y.Predictor4=function(h,g,C){return g[C-1]},Y.Predictor5=function(h,g,C){return Ge(Ge(h,g[C+1]),g[C+0])},Y.Predictor6=function(h,g,C){return Ge(h,g[C-1])},Y.Predictor7=function(h,g,C){return Ge(h,g[C+0])},Y.Predictor8=function(h,g,C){return Ge(g[C-1],g[C+0])},Y.Predictor9=function(h,g,C){return Ge(g[C+0],g[C+1])},Y.Predictor10=function(h,g,C){return Ge(Ge(h,g[C-1]),Ge(g[C+0],g[C+1]))},Y.Predictor11=function(h,g,C){var D=g[C+0];return 0>=ut(D>>24&255,h>>24&255,(g=g[C-1])>>24&255)+ut(D>>16&255,h>>16&255,g>>16&255)+ut(D>>8&255,h>>8&255,g>>8&255)+ut(255&D,255&h,255&g)?D:h},Y.Predictor12=function(h,g,C){var D=g[C+0];return(ot((h>>24&255)+(D>>24&255)-((g=g[C-1])>>24&255))<<24|ot((h>>16&255)+(D>>16&255)-(g>>16&255))<<16|ot((h>>8&255)+(D>>8&255)-(g>>8&255))<<8|ot((255&h)+(255&D)-(255&g)))>>>0},Y.Predictor13=function(h,g,C){var D=g[C-1];return(yt((h=Ge(h,g[C+0]))>>24&255,D>>24&255)<<24|yt(h>>16&255,D>>16&255)<<16|yt(h>>8&255,D>>8&255)<<8|yt(h>>0&255,D>>0&255))>>>0};var sd=Y.PredictorAdd0;Y.PredictorAdd1=_t,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var El=Y.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Nc,dr=Y.ColorIndexInverseTransform,ys=Y.MapARGB,kc=Y.VP8LColorIndexInverseTransformAlpha,Lc=Y.MapAlpha,Ws=Y.VP8LPredictorsAdd=[];Ws.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Io,xi,Ei,$s,ws,bs,To,ns,jn,Sl,Si,Qi,Gs,Fc,Ml,Oo,xa,No,Ea,Sa,ko,Cs,Al,hr,fr,vn,yn,Bn,Kn=s(511),xs=s(2041),Dl=s(225),pr=s(767),Pl=0,od=xs,Lo=Dl,er=pr,gr=Kn,Rc=0,Il=1,Bh=2,Vc=3,jc=4,mr=5,Tl=6,Tn=7,ad=8,Bc=9,ld=10,Km=[2,3,7],Xm=[3,3,11],qh=[280,256,256,256,40],Jm=[0,1,1,1,0],Zm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],v=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],E=8,I=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Q=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],De=null,Qe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kt=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],On=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ma=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Aa=[],Es=[],Fo=[],sA=1,Uw=2,Da=[],is=[];Le("UpsampleRgbLinePair",Yt,3),Le("UpsampleBgrLinePair",An,3),Le("UpsampleRgbaLinePair",Fr,4),Le("UpsampleBgraLinePair",In,4),Le("UpsampleArgbLinePair",hi,4),Le("UpsampleRgba4444LinePair",Vn,2),Le("UpsampleRgb565LinePair",Pn,2);var oA=Y.UpsampleRgbLinePair,aA=Y.UpsampleBgrLinePair,zw=Y.UpsampleRgbaLinePair,Ww=Y.UpsampleBgraLinePair,$w=Y.UpsampleArgbLinePair,Gw=Y.UpsampleRgba4444LinePair,lA=Y.UpsampleRgb565LinePair,Hh=16,Uh=1<<Hh-1,ud=-227,Qm=482,Yw=6,cA=(256<<Yw)-1,Kw=0,uA=s(256),dA=s(256),hA=s(256),fA=s(256),pA=s(Qm-ud),gA=s(Qm-ud);ts("YuvToRgbRow",Yt,3),ts("YuvToBgrRow",An,3),ts("YuvToRgbaRow",Fr,4),ts("YuvToBgraRow",In,4),ts("YuvToArgbRow",hi,4),ts("YuvToRgba4444Row",Vn,2),ts("YuvToRgb565Row",Pn,2);var Xw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zh=[0,2,8],mA=[8,7,6,4,4,2,2,2,1,1,1,1],_A=1;this.WebPDecodeRGBA=function(h,g,C,D,k){var L=Il,F=new fa,B=new Dr;F.ba=B,B.S=L,B.width=[B.width],B.height=[B.height];var U=B.width,X=B.height,pe=new ps;if(pe==null||h==null)var Se=2;else t(pe!=null),Se=va(h,g,C,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Se!=0?U=0:(U!=null&&(U[0]=pe.width[0]),X!=null&&(X[0]=pe.height[0]),U=1),U){B.width=B.width[0],B.height=B.height[0],D!=null&&(D[0]=B.width),k!=null&&(k[0]=B.height);e:{if(D=new qs,(k=new vl).data=h,k.w=g,k.ha=C,k.kd=1,g=[0],t(k!=null),((h=va(k.data,k.w,k.ha,null,null,null,g,null,k))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(t(F!=null),D.data=k.data,D.w=k.w+k.offset,D.ha=k.ha-k.offset,D.put=Xr,D.ac=ui,D.bc=Jr,D.ma=F,k.xa){if((h=ar())==null){F=1;break e}if(function(Me,_e){var je=[0],ke=[0],ge=[0];t:for(;;){if(Me==null)return 0;if(_e==null)return Me.a=2,0;if(Me.l=_e,Me.a=0,W(Me.m,_e.data,_e.w,_e.ha),!bt(Me.m,je,ke,ge)){Me.a=3;break t}if(Me.xb=Uw,_e.width=je[0],_e.height=ke[0],!lr(je[0],ke[0],1,Me,null))break t;return 1}return t(Me.a!=0),0}(h,D)){if(D=(g=ya(D.width,D.height,F.Oa,F.ba))==0){t:{D=h;n:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((C=D.l)!=null),t((k=C.ma)!=null),D.xb!=0){if(D.ca=k.ba,D.tb=k.tb,t(D.ca!=null),!Cl(k.Oa,C,Vc)){D.a=2;break n}if(!Or(D,C.width)||C.da)break n;if((C.da||ln(D.ca.S))&&ye(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ye()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!lt(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Tr(D,D.V,D.Ba,D.c,D.i,C.o,nn))break n;k.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(g=h.a)}else g=h.a}else{if((h=new wc)==null){F=1;break e}if(h.Fa=k.na,h.P=k.P,h.qc=k.Sa,cl(h,D)){if((g=ya(D.width,D.height,F.Oa,F.ba))==0){if(h.Aa=0,C=F.Oa,t((k=h)!=null),C!=null){if(0<(U=0>(U=C.Md)?0:100<U?255:255*U/100)){for(X=pe=0;4>X;++X)12>(Se=k.pb[X]).lc&&(Se.ia=U*mA[0>Se.lc?0:Se.lc]>>3),pe|=Se.ia;pe&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=C.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}oa(h,D)||(g=h.a)}}else g=h.a}g==0&&F.Oa!=null&&F.Oa.fd&&(g=xl(F.ba))}F=g}L=F!=0?null:11>L?B.f.RGBA.eb:B.f.kb.y}else L=null;return L};var Jw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(Y,ce){for(var we="",V=0;V<4;V++)we+=String.fromCharCode(Y[ce++]);return we}function u(Y,ce){return(Y[ce+0]<<0|Y[ce+1]<<8|Y[ce+2]<<16)>>>0}function d(Y,ce){return(Y[ce+0]<<0|Y[ce+1]<<8|Y[ce+2]<<16|Y[ce+3]<<24)>>>0}new l;var p=[0],f=[0],w=[],x=new l,P=i,M=function(Y,ce){var we={},V=0,j=!1,oe=0,re=0;if(we.frames=[],!function(z,$,ae,ue){for(var fe=0;fe<ue;fe++)if(z[$+fe]!=ae.charCodeAt(fe))return!0;return!1}(Y,ce,"RIFF",4)){var Ae,ee;for(d(Y,ce+=4),ce+=8;ce<Y.length;){var H=c(Y,ce),W=d(Y,ce+=4);ce+=4;var K=W+(1&W);switch(H){case"VP8 ":case"VP8L":we.frames[V]===void 0&&(we.frames[V]={}),(T=we.frames[V]).src_off=j?re:ce-8,T.src_size=oe+W+8,V++,j&&(j=!1,oe=0,re=0);break;case"VP8X":(T=we.header={}).feature_flags=Y[ce];var le=ce+4;T.canvas_width=1+u(Y,le),le+=3,T.canvas_height=1+u(Y,le),le+=3;break;case"ALPH":j=!0,oe=K+8,re=ce-8;break;case"ANIM":(T=we.header).bgcolor=d(Y,ce),le=ce+4,T.loop_count=(Ae=Y)[(ee=le)+0]<<0|Ae[ee+1]<<8,le+=2;break;case"ANMF":var be,T;(T=we.frames[V]={}).offset_x=2*u(Y,ce),ce+=3,T.offset_y=2*u(Y,ce),ce+=3,T.width=1+u(Y,ce),ce+=3,T.height=1+u(Y,ce),ce+=3,T.duration=u(Y,ce),ce+=3,be=Y[ce++],T.dispose=1&be,T.blend=be>>1&1}H!="ANMF"&&(ce+=K)}return we}}(P,0);M.response=P,M.rgbaoutput=!0,M.dataurl=!1;var O=M.header?M.header:null,R=M.frames?M.frames:null;if(O){O.loop_counter=O.loop_count,p=[O.canvas_height],f=[O.canvas_width];for(var G=0;G<R.length&&R[G].blend!=0;G++);}var ie=R[0],de=x.WebPDecodeRGBA(P,ie.src_off,ie.src_size,f,p);ie.rgba=de,ie.imgwidth=f[0],ie.imgheight=p[0];for(var te=0;te<f[0]*p[0]*4;te++)w[te]=de[te];return this.width=f,this.height=p,this.data=w,this}(function(i){var t=function(){return typeof fm=="function"},e=function(p,f,w,x){var P=4,M=o;switch(x){case i.image_compression.FAST:P=1,M=s;break;case i.image_compression.MEDIUM:P=6,M=a;break;case i.image_compression.SLOW:P=9,M=l}p=n(p,f,w,M);var O=fm(p,{level:P});return i.__addimage__.arrayBufferToBinaryString(O)},n=function(p,f,w,x){for(var P,M,O,R=p.length/f,G=new Uint8Array(p.length+R),ie=u(),de=0;de<R;de+=1){if(O=de*f,P=p.subarray(O,O+f),x)G.set(x(P,w,M),O+de);else{for(var te,Y=ie.length,ce=[];te<Y;te+=1)ce[te]=ie[te](P,w,M);var we=d(ce.concat());G.set(ce[we],O+de)}M=P}return G},r=function(p){var f=Array.apply([],p);return f.unshift(0),f},s=function(p,f){var w,x=[],P=p.length;x[0]=1;for(var M=0;M<P;M+=1)w=p[M-f]||0,x[M+1]=p[M]-w+256&255;return x},o=function(p,f,w){var x,P=[],M=p.length;P[0]=2;for(var O=0;O<M;O+=1)x=w&&w[O]||0,P[O+1]=p[O]-x+256&255;return P},a=function(p,f,w){var x,P,M=[],O=p.length;M[0]=3;for(var R=0;R<O;R+=1)x=p[R-f]||0,P=w&&w[R]||0,M[R+1]=p[R]+256-(x+P>>>1)&255;return M},l=function(p,f,w){var x,P,M,O,R=[],G=p.length;R[0]=4;for(var ie=0;ie<G;ie+=1)x=p[ie-f]||0,P=w&&w[ie]||0,M=w&&w[ie-f]||0,O=c(x,P,M),R[ie+1]=p[ie]-O+256&255;return R},c=function(p,f,w){if(p===f&&f===w)return p;var x=Math.abs(f-w),P=Math.abs(p-w),M=Math.abs(p+f-w-w);return x<=P&&x<=M?p:P<=M?f:w},u=function(){return[r,s,o,a,l]},d=function(p){var f=p.map(function(w){return w.reduce(function(x,P){return x+Math.abs(P)},0)});return f.indexOf(Math.min.apply(null,f))};i.processPNG=function(p,f,w,x){var P,M,O,R,G,ie,de,te,Y,ce,we,V,j,oe,re,Ae=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(O=new SL(p)).imgData,M=O.bits,P=O.colorSpace,G=O.colors,[4,6].indexOf(O.colorType)!==-1){if(O.bits===8){Y=(te=O.pixelBitlength==32?new Uint32Array(O.decodePixels().buffer):O.pixelBitlength==16?new Uint16Array(O.decodePixels().buffer):new Uint8Array(O.decodePixels().buffer)).length,we=new Uint8Array(Y*O.colors),ce=new Uint8Array(Y);var H,W=O.pixelBitlength-O.bits;for(oe=0,re=0;oe<Y;oe++){for(j=te[oe],H=0;H<W;)we[re++]=j>>>H&255,H+=O.bits;ce[oe]=j>>>H&255}}if(O.bits===16){Y=(te=new Uint32Array(O.decodePixels().buffer)).length,we=new Uint8Array(Y*(32/O.pixelBitlength)*O.colors),ce=new Uint8Array(Y*(32/O.pixelBitlength)),V=O.colors>1,oe=0,re=0;for(var K=0;oe<Y;)j=te[oe++],we[re++]=j>>>0&255,V&&(we[re++]=j>>>16&255,j=te[oe++],we[re++]=j>>>0&255),ce[K++]=j>>>16&255;M=8}x!==i.image_compression.NONE&&t()?(p=e(we,O.width*O.colors,O.colors,x),de=e(ce,O.width,1,x)):(p=we,de=ce,Ae=void 0)}if(O.colorType===3&&(P=this.color_spaces.INDEXED,ie=O.palette,O.transparency.indexed)){var le=O.transparency.indexed,be=0;for(oe=0,Y=le.length;oe<Y;++oe)be+=le[oe];if((be/=255)===Y-1&&le.indexOf(0)!==-1)R=[le.indexOf(0)];else if(be!==Y){for(te=O.decodePixels(),ce=new Uint8Array(te.length),oe=0,Y=te.length;oe<Y;oe++)ce[oe]=le[te[oe]];de=e(ce,O.width,1)}}var T=function(z){var $;switch(z){case i.image_compression.FAST:$=11;break;case i.image_compression.MEDIUM:$=13;break;case i.image_compression.SLOW:$=14;break;default:$=12}return $}(x);return Ae===this.decode.FLATE_DECODE&&(ee="/Predictor "+T+" "),ee+="/Colors "+G+" /BitsPerComponent "+M+" /Columns "+O.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(de&&this.__addimage__.isArrayBuffer(de)||this.__addimage__.isArrayBufferView(de))&&(de=this.__addimage__.arrayBufferToBinaryString(de)),{alias:w,data:p,index:f,filter:Ae,decodeParameters:ee,transparency:R,palette:ie,sMask:de,predictor:T,width:O.width,height:O.height,bitsPerComponent:M,colorSpace:P}}}})(Et.API),function(i){i.processGIF89A=function(t,e,n,r){var s=new ML(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Gy(100).encode(c,100);return i.processJPEG.call(this,u,e,n,r)},i.processGIF87A=i.processGIF89A}(Et.API),Rs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rs.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Sn.log("bit decode error:"+e)}},Rs.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}e!==0&&(this.pos+=4-e)}},Rs.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Rs.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},Rs.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=n*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=i}},Rs.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,c=(o>>11)/t*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=i}},Rs.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Rs.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=o}},Rs.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var s=new Rs(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Gy(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}}(Et.API),_S.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var s=new _S(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Gy(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}}(Et.API),Et.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=n[c],d=n[c+1],p=n[c+2],f=n[c+3];s[a++]=u,s[a++]=d,s[a++]=p,o[l++]=f}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},Et.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pu=Et.API,_m=Pu.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,f=i.length,w=0,x=a[0]||l,P=[];for(e=0;e<f;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?P.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(p=d&&bn(c[n])==="object"&&!isNaN(parseInt(c[n][w],10))?c[n][w]/u:0,P.push((a[n]||x)/l+p)),w=n;return P},fS=Pu.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return Pu.processArabic&&(i=Pu.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:_m.apply(this,arguments).reduce(function(s,o){return s+o},0)},pS=function(i,t,e,n){for(var r=[],s=0,o=i.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;r.push(i.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>n&&(r.push(i.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(i.slice(l,s)),r},gS=function(i,t,e){e||(e={});var n,r,s,o,a,l,c,u=[],d=[u],p=e.textIndent||0,f=0,w=0,x=i.split(" "),P=_m.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?x[0].length+2:e.lineIndent||0){var M=Array(l).join(" "),O=[];x.map(function(G){(G=G.split(/\s*\n/)).length>1?O=O.concat(G.map(function(ie,de){return(de&&ie.length?`
`:"")+ie})):O.push(G[0])}),x=O,l=fS.apply(this,[M,e])}for(s=0,o=x.length;s<o;s++){var R=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),R=1),p+f+(w=(r=_m.apply(this,[n,e])).reduce(function(G,ie){return G+ie},0))>t||R){if(w>t){for(a=pS.apply(this,[n,r,t-(p+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);w=r.slice(n.length-(u[0]?u[0].length:0)).reduce(function(G,ie){return G+ie},0)}else u=[n];d.push(u),p=w+l,f=P}else u.push(n),p+=f+w,f=P}return c=l?function(G,ie){return(ie?M:"")+G.join(" ")}:function(G){return G.join(" ")},d.map(c)},Pu.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(gS.apply(this,[n[a],o,s]));return c},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=t[r];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=i.__fontmetrics__.compress=function(d){var p,f,w,x,P=["{"];for(var M in d){if(p=d[M],isNaN(parseInt(M,10))?f="'"+M+"'":(M=parseInt(M,10),f=(f=s(M).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof p=="number")p<0?(w=s(p).slice(3),x="-"):(w=s(p).slice(2),x=""),w=x+w.slice(0,-1)+n[w.slice(-1)];else{if(bn(p)!=="object")throw new Error("Don't know what to do with value type "+bn(p)+".");w=o(p)}P.push(f+w)}return P.push("}"),P.join("")},a=i.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,f,w,x,P={},M=1,O=P,R=[],G="",ie="",de=d.length-1,te=1;te<de;te+=1)(x=d[te])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(x):x=="{"?(R.push([O,w]),O={},w=void 0):x=="}"?((f=R.pop())[0][f[1]]=O,w=void 0,O=f[0]):x=="-"?M=-1:w===void 0?e.hasOwnProperty(x)?(G+=e[x],w=parseInt(G,16)*M,M=1,G=""):G+=x:e.hasOwnProperty(x)?(ie+=e[x],O[w]=parseInt(ie,16)*M,M=1,w=void 0,ie=""):ie+=x;return P},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(d){var p=d.font,f=u.Unicode[p.postScriptName];f&&(p.metadata.Unicode={},p.metadata.Unicode.widths=f.widths,p.metadata.Unicode.kerning=f.kerning);var w=c.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(Et.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),s=0;s<n;s++)r[s]=e.charCodeAt(s);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Ph(a)),o.metadata=i.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,n)}}])}(Et),function(i){function t(){return(St.canvg?Promise.resolve(St.canvg):import("./chunk-4D6S3KPJ.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Et.API.addSvgAsImage=function(e,n,r,s,o,a,l,c){if(isNaN(n)||isNaN(r))throw Sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(w){return w.fromString(d,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,r,s,o,l,c)})}}(),Et.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},Et.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function p(w,x){var P,M=!1;for(P=0;P<w.length;P+=1)w[P]===x&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)e[a[d]].value=e[a[d]].defaultValue,e[a[d]].explicitSet=!1}if(bn(i)==="object"){for(r in i)if(s=i[r],p(a,r)&&s!==void 0){if(e[r].type==="boolean"&&typeof s=="boolean")e[r].value=s;else if(e[r].type==="name"&&p(e[r].valueSet,s))e[r].value=s;else if(e[r].type==="integer"&&Number.isInteger(s))e[r].value=s;else if(e[r].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,x=[];for(w in e)e[w].explicitSet===!0&&(e[w].type==="name"?x.push("/"+w+" /"+e[w].value):x.push("/"+w+" "+e[w].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(i){var t=i.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=s.length;d<p;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(s){var o,a,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(a=Object.keys(s).sort(function(f,w){return f-w})).length;d<p;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof i.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",w=0;w<p.length;w++)f+=String.fromCharCode(p[w]);var x=c();u({data:f,addLength1:!0,objectId:x}),l("endobj");var P=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var M=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tu(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+i.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var O=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tu(a.fontName)),l("/FontDescriptor "+M+" 0 R"),l("/W "+i.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+P+" 0 R"),l("/BaseFont /"+Tu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+O+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof i.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);var w=c();u({data:p,addLength1:!0,objectId:w}),l("endobj");var x=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var P=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+i.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Tu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var M=0;M<a.metadata.hmtx.widths.length;M++)a.metadata.hmtx.widths[M]=parseInt(a.metadata.hmtx.widths[M]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Tu(a.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},p=d.pdfEscape,f=d.activeFontKey,w=d.fonts,x=f,P="",M=0,O="",R=w[x].encoding;if(w[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(O=a,x=f,Array.isArray(a)&&(O=a[0]),M=0;M<O.length;M+=1)w[x].metadata.hasOwnProperty("cmap")&&(o=w[x].metadata.cmap.unicode.codeMap[O[M].charCodeAt(0)]),o||O[M].charCodeAt(0)<256&&w[x].metadata.hasOwnProperty("Unicode")?P+=O[M]:P+="";var G="";return parseInt(x.slice(1))<14||R==="WinAnsiEncoding"?G=p(P,x).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(G=e(P,w[x])),d.isHex=!0,{text:G,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(Et),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Et.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,s,o,a,l,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,R=0;this.__bidiEngine__={};var G=function(V){var j=V.charCodeAt(),oe=j>>8,re=x[oe];return re!==void 0?d[256*re+(255&j)]:oe===252||oe===253?"AL":M.test(oe)?"L":oe===8?"R":"N"},ie=function(V){for(var j,oe=0;oe<V.length;oe++){if((j=G(V.charAt(oe)))==="L")return!1;if(j==="R")return!0}return!1},de=function(V,j,oe,re){var Ae,ee,H,W,K=j[re];switch(K){case"L":case"R":O=!1;break;case"N":case"AN":break;case"EN":O&&(K="AN");break;case"AL":O=!0,K="R";break;case"WS":K="N";break;case"CS":re<1||re+1>=j.length||(Ae=oe[re-1])!=="EN"&&Ae!=="AN"||(ee=j[re+1])!=="EN"&&ee!=="AN"?K="N":O&&(ee="AN"),K=ee===Ae?ee:"N";break;case"ES":K=(Ae=re>0?oe[re-1]:"B")==="EN"&&re+1<j.length&&j[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&oe[re-1]==="EN"){K="EN";break}if(O){K="N";break}for(H=re+1,W=j.length;H<W&&j[H]==="ET";)H++;K=H<W&&j[H]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(W=j.length,H=re+1;H<W&&j[H]==="NSM";)H++;if(H<W){var le=V[re],be=le>=1425&&le<=2303||le===64286;if(Ae=j[H],be&&(Ae==="R"||Ae==="AL")){K="R";break}}}K=re<1||(Ae=j[re-1])==="B"?"N":oe[re-1];break;case"B":O=!1,r=!0,K=R;break;case"S":s=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"BN":K="N"}return K},te=function(V,j,oe){var re=V.split("");return oe&&Y(re,oe,{hiLevel:R}),re.reverse(),j&&j.reverse(),re.join("")},Y=function(V,j,oe){var re,Ae,ee,H,W,K=-1,le=V.length,be=0,T=[],z=R?f:p,$=[];for(O=!1,r=!1,s=!1,Ae=0;Ae<le;Ae++)$[Ae]=G(V[Ae]);for(ee=0;ee<le;ee++){if(W=be,T[ee]=de(V,$,T,ee),re=240&(be=z[W][w[T[ee]]]),be&=15,j[ee]=H=z[be][5],re>0)if(re===16){for(Ae=K;Ae<ee;Ae++)j[Ae]=1;K=-1}else K=-1;if(z[be][6])K===-1&&(K=ee);else if(K>-1){for(Ae=K;Ae<ee;Ae++)j[Ae]=H;K=-1}$[ee]==="B"&&(j[ee]=0),oe.hiLevel|=H}s&&function(ae,ue,fe){for(var ve=0;ve<fe;ve++)if(ae[ve]==="S"){ue[ve]=R;for(var Ce=ve-1;Ce>=0&&ae[Ce]==="WS";Ce--)ue[Ce]=R}}($,j,le)},ce=function(V,j,oe,re,Ae){if(!(Ae.hiLevel<V)){if(V===1&&R===1&&!r)return j.reverse(),void(oe&&oe.reverse());for(var ee,H,W,K,le=j.length,be=0;be<le;){if(re[be]>=V){for(W=be+1;W<le&&re[W]>=V;)W++;for(K=be,H=W-1;K<H;K++,H--)ee=j[K],j[K]=j[H],j[H]=ee,oe&&(ee=oe[K],oe[K]=oe[H],oe[H]=ee);be=W}be++}}},we=function(V,j,oe){var re=V.split(""),Ae={hiLevel:R};return oe||(oe=[]),Y(re,oe,Ae),function(ee,H,W){if(W.hiLevel!==0&&u)for(var K,le=0;le<ee.length;le++)H[le]===1&&(K=P.indexOf(ee[le]))>=0&&(ee[le]=P[K+1])}(re,oe,Ae),ce(2,re,j,oe,Ae),ce(1,re,j,oe,Ae),re.join("")};return this.__bidiEngine__.doBidiReorder=function(V,j,oe){if(function(Ae,ee){if(ee)for(var H=0;H<Ae.length;H++)ee[H]=H;a===void 0&&(a=ie(Ae)),c===void 0&&(c=ie(Ae))}(V,j),o||!l||c)if(o&&l&&a^c)R=a?1:0,V=te(V,j,oe);else if(!o&&l&&c)R=a?1:0,V=we(V,j,oe),V=te(V,j);else if(!o||a||l||c){if(o&&!l&&a^c)V=te(V,j),a?(R=0,V=we(V,j,oe)):(R=1,V=we(V,j,oe),V=te(V,j));else if(o&&a&&!l&&c)R=1,V=we(V,j,oe),V=te(V,j);else if(!o&&!l&&a^c){var re=u;a?(R=1,V=we(V,j,oe),R=0,u=!1,V=we(V,j,oe),u=re):(R=0,V=we(V,j,oe),V=te(V,j),R=1,u=!1,V=we(V,j,oe),u=re,V=te(V,j))}}else R=0,V=we(V,j,oe);else R=a?1:0,V=we(V,j,oe);return V},this.__bidiEngine__.setOptions=function(V){V&&(o=V.isInputVisual,l=V.isOutputVisual,a=V.isInputRtl,c=V.isOutputRtl,u=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([e.doBidiReorder(r[a])]);n.text=o}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new rl(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new qL(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new AL(this.contents),this.head=new PL(this),this.name=new kL(this),this.cmap=new PS(this),this.toUnicode={},this.hhea=new IL(this),this.maxp=new LL(this),this.hmtx=new FL(this),this.post=new OL(this),this.os2=new TL(this),this.loca=new BL(this),this.glyf=new RL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var js,rl=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,s,o,a,l;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*s+65536*o+256*a+l},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;n<r;n++)e=t[n],s.push(this.writeByte(e));return s},i}(),AL=function(){var i;function t(e){var n,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,s,o,a,l,c,u,d,p,f,w,x;for(x in f=Object.keys(e).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(r=new rl).writeInt(this.scalarType),r.writeShort(f),r.writeShort(d),r.writeShort(o),r.writeShort(u),s=16*f,c=r.pos+s,a=null,w=[],e)for(p=e[x],r.writeString(x),r.writeInt(i(p)),r.writeInt(c),r.writeInt(p.length),w=w.concat(p),x==="head"&&(a=c),c+=p.length;c%4;)w.push(0),c++;return r.write(w),n=2981146554-i(r.data),r.pos=a+8,r.writeUInt32(n),r.data},i=function(e){var n,r,s,o;for(e=IS.call(e);e.length%4;)e.push(0);for(s=new rl(e),r=0,n=0,o=e.length;n<o;n=n+=4)r+=s.readUInt32();return 4294967295&r},t}(),DL={}.hasOwnProperty,_o=function(i,t){for(var e in t)DL.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};js=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var PL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new rl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),vS=function(){function i(t,e){var n,r,s,o,a,l,c,u,d,p,f,w,x,P,M,O,R;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,s=function(){var G,ie;for(ie=[],l=G=0;0<=p?G<p:G>p;l=0<=p?++G:--G)ie.push(t.readUInt16());return ie}(),t.pos+=2,x=function(){var G,ie;for(ie=[],l=G=0;0<=p?G<p:G>p;l=0<=p?++G:--G)ie.push(t.readUInt16());return ie}(),c=function(){var G,ie;for(ie=[],l=G=0;0<=p?G<p:G>p;l=0<=p?++G:--G)ie.push(t.readUInt16());return ie}(),u=function(){var G,ie;for(ie=[],l=G=0;0<=p?G<p:G>p;l=0<=p?++G:--G)ie.push(t.readUInt16());return ie}(),r=(this.length-t.pos+this.offset)/2,a=function(){var G,ie;for(ie=[],l=G=0;0<=r?G<r:G>r;l=0<=r?++G:--G)ie.push(t.readUInt16());return ie}(),l=M=0,R=s.length;M<R;l=++M)for(P=s[l],n=O=w=x[l];w<=P?O<=P:O>=P;n=w<=P?++O:--O)u[l]===0?o=n+c[l]:(o=a[u[l]/2+(n-w)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}t.pos=d}return i.encode=function(t,e){var n,r,s,o,a,l,c,u,d,p,f,w,x,P,M,O,R,G,ie,de,te,Y,ce,we,V,j,oe,re,Ae,ee,H,W,K,le,be,T,z,$,ae,ue,fe,ve,Ce,ze,Ue,Ke;switch(re=new rl,o=Object.keys(t).sort(function(Je,lt){return Je-lt}),e){case"macroman":for(x=0,P=function(){var Je=[];for(w=0;w<256;++w)Je.push(0);return Je}(),O={0:0},s={},Ae=0,K=o.length;Ae<K;Ae++)O[Ce=t[r=o[Ae]]]==null&&(O[Ce]=++x),s[r]={old:t[r],new:O[t[r]]},P[r]=O[t[r]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(P),{charMap:s,subtable:re.data,maxGlyphID:x+1};case"unicode":for(j=[],d=[],R=0,O={},n={},M=c=null,ee=0,le=o.length;ee<le;ee++)O[ie=t[r=o[ee]]]==null&&(O[ie]=++R),n[r]={old:ie,new:O[ie]},a=O[ie]-r,M!=null&&a===c||(M&&d.push(M),j.push(r),c=a),M=r;for(M&&d.push(M),d.push(65535),j.push(65535),we=2*(ce=j.length),Y=2*Math.pow(Math.log(ce)/Math.LN2,2),p=Math.log(Y/2)/Math.LN2,te=2*ce-Y,l=[],de=[],f=[],w=H=0,be=j.length;H<be;w=++H){if(V=j[w],u=d[w],V===65535){l.push(0),de.push(0);break}if(V-(oe=n[V].new)>=32768)for(l.push(0),de.push(2*(f.length+ce-w)),r=W=V;V<=u?W<=u:W>=u;r=V<=u?++W:--W)f.push(n[r].new);else l.push(oe-V),de.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*ce+2*f.length),re.writeUInt16(0),re.writeUInt16(we),re.writeUInt16(Y),re.writeUInt16(p),re.writeUInt16(te),fe=0,T=d.length;fe<T;fe++)r=d[fe],re.writeUInt16(r);for(re.writeUInt16(0),ve=0,z=j.length;ve<z;ve++)r=j[ve],re.writeUInt16(r);for(ze=0,$=l.length;ze<$;ze++)a=l[ze],re.writeUInt16(a);for(Ue=0,ae=de.length;Ue<ae;Ue++)G=de[Ue],re.writeUInt16(G);for(Ke=0,ue=f.length;Ke<ue;Ke++)x=f[Ke],re.writeUInt16(x);return{charMap:n,subtable:re.data,maxGlyphID:R+1}}},i}(),PS=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new vS(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=vS.encode(e,n),(s=new rl).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),IL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),TL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),OL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(e.readUInt32());return c}.call(this)}},t}(),NL=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,o,a,l,c,u,d,p,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},o=d=0,p=r.length;d<p;o=++d)s=r[o],e.pos=s.offset,u=e.readString(s.length),a=new NL(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),LL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),FL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,o,a,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=function(){var u,d,p,f;for(f=[],u=0,d=(p=this.metrics).length;u<d;u++)o=p[u],f.push(o.advance);return f}.call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),IS=[].slice,RL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,o,a,l,c,u,d,p;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(l=new rl(n.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=a===-1?new jL(l,u,p,c,d):new VL(l,a,u,p,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=n.length;l<c;l++)s=e[n[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},t}(),VL=function(){function i(t,e,n,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),jL=function(){function i(t,e,n,r,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new rl(IS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),BL=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return _o(t,js),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<n.length&&n[o]==a){++o,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),qL=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(n=r[s])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))n=l[s],r[s]=n;return r},i.prototype.encode=function(t,e){var n,r,s,o,a,l,c,u,d,p,f,w,x,P,M;for(r in n=PS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},M=n.charMap)f[(l=M[r]).old]=l.new;for(w in p=n.maxGlyphID,o)w in f||(f[w]=p++);return u=function(O){var R,G;for(R in G={},O)G[O[R]]=R;return G}(f),d=Object.keys(u).sort(function(O,R){return O-R}),x=function(){var O,R,G;for(G=[],O=0,R=d.length;O<R;O++)a=d[O],G.push(u[a]);return G}(),s=this.font.glyf.encode(o,x,f),c=this.font.loca.encode(s.offsets,x),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},i}();Et.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,s,o;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)n=e[a],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in s=["<<"],e)o=e[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();var CM=c0(PA());var tw=function(i){return i.Autre="autre",i.Demande="demande",i.Essai="essai",i.Perso="perso",i.Reserve="reserve",i}(tw||{});var Sm=(()=>{class i{constructor(){}formatNumberToPad(e,n){return String(parseInt(""+e)).padStart(n,"0")}formatNumberToDevice(e){return typeof e!="number"||isNaN(e)?"":Number.isInteger(e)?e<100?e.toFixed(2).replace(".",","):e.toString():e.toFixed(2).replace(".",",")}sortByCreation(e){return e.sort((n,r)=>{let[s,o,a]=n.creation.split("/").map(Number),[l,c,u]=r.creation.split("/").map(Number),d=new Date(a,o-1,s),p=new Date(u,c-1,l);return d.getTime()-p.getTime()})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ru=(()=>{class i{constructor(){this.formatService=dt(Sm)}getStatut(e,n){let r=this.getDaysThisDay(e,n),s=null;return r.find(o=>o.statut=="reserve")?s="reserve":r.find(o=>o.statut=="demande")?s="demande":r.find(o=>o.statut=="essai")?s="essai":r.find(o=>o.statut=="autre")?s="autre":r.find(o=>o.statut=="perso")&&(s="perso"),r.length>0&&r.filter(o=>o.etape==999).length==r.length&&(s="over"),s}getNoPlanning(e,n){let r=!1,s=this.fromNow(e).filter(a=>a.statut=="reserve");return this.getDaysThisDay(s,n).find(a=>!a.planning.planningprestas)&&(r=!0),r}getNbStatut(e,n,r,s){let o=this.thisYear(e,r);s&&(o=this.thisMonth(e,s,r));let a=o.filter(c=>c.statut==n&&c.etape!=999).length,l=o.filter(c=>c.statut==n&&c.etape==999).length;return"Encore <span class='glow'>"+a+"</span> "+(n=="reserve"?"mariages":n)+(n!="reserve"&&a>1?"s":"")+" "+(n!="demande"?"("+l+" d\xE9j\xE0 finis)":"")}getNbEtape(e,n,r,s){let o=this.thisYear(e,r);return s&&(o=this.thisMonth(e,s,r)),"Prestations termin\xE9es : <span class='glow'>"+o.filter(l=>l.etape==n&&l.statut!="perso").length+"</span>"}getMonthFactures(e,n,r){let s=e.flatMap(o=>o.factures.filter(a=>{let[l,c,u]=a.creation.split("/"),d=parseInt(u,10),p=parseInt(c,10);return d===r&&(n?p===n+1:!0)}).map(a=>Ut(mt({},a),{nom:o.nom,date:o.date,id:o.id})));return this.formatService.sortByCreation(s)}isPast(e){let n=new Date;n.setHours(0,0,0,0);let r=e.split("/");if(r.length!==3)return!1;let s=parseInt(r[0],10),o=parseInt(r[1],10)-1,a=parseInt(r[2],10),l=new Date(a,o,s);return l.setHours(0,0,0,0),l<n}thisYear(e,n){return e.filter(r=>{let[s,o,a]=r.date.split("/").map(Number);return a===n})}thisMonth(e,n,r){return e.filter(s=>{let[o,a,l]=s.date.split("/").map(Number);return l===r&&a===n+1})}getDaysThisDay(e,n,r=""){let s=e.filter(o=>o.date===n);return r!==""&&s.sort((o,a)=>""+o.id===r?-1:""+a.id===r?1:0),s}fromNow(e){let n=new Date;return n.setHours(0,0,0,0),e.filter(r=>{let[s,o,a]=r.date.split("/").map(Number),l=new Date(a,o-1,s);return l.setHours(0,0,0,0),l>=n})}untilNow(e){let n=new Date;return n.setHours(0,0,0,0),e.filter(r=>{let[s,o,a]=r.date.split("/").map(Number),l=new Date(a,o-1,s);return l.setHours(0,0,0,0),l<n})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Mm=(()=>{class i{constructor(){this.http=dt(ec),this.dateService=dt(Ru),this.apiUrl="http"+(Hr()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/sksPlanning.php",this.dataSubject=new Fl(null),this.basePrestas=[{nom:"Frais de d\xE9placement",en:"Travel Expenses",titre:!0},{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0,id:"kmjj"},{nom:"Frais de d\xE9placement Essai (Aller/Retour)",en:"Trial Travel Expenses (Round Trip)",prix:.4,kilorly:!0,id:"kmessai"},{nom:"Frais de d\xE9placement renfort (Aller/Retour)",en:"Backup Travel Expenses (Round Trip)",prix:.4,kilorly:!0,id:"kmrenfort"},{nom:"Mari\xE9e (essai et jour-J)",en:"Bride (Trial and D-Day)",titre:!0},{nom:"Forfait Tulipe",en:"Tulip Package",desc:"Tulipe - Maquillage ET Coiffure",prix:450,bride:!0,time:120,maquillage:!0,coiffure:!0,id:"tulip"},{nom:"Forfait Cam\xE9lia - Maquillage",en:"Camellia Package - Makeup",desc:"Cam\xE9lia - Maquillage",prix:240,bride:!0,time:60,maquillage:!0,coiffure:!1,id:"cameliam"},{nom:"Forfait Cam\xE9lia - Coiffure",en:"Camellia Package - Hair",desc:"Cam\xE9lia - Coiffure",prix:240,bride:!0,time:60,maquillage:!1,coiffure:!0,id:"cameliac"},{nom:"Forfait Jasmin",en:"Jasmine Package",desc:"Jasmin - Maquillage ET Coiffure ET 1 Evenement +",prix:650,bride:!0,time:120,maquillage:!0,coiffure:!0,id:"jasmin"},{nom:"Forfait Pivoine",en:"Peony Package",desc:"Pivoine - Maquillage ET Coiffure ET Retouches jusqu'\xE0 C\xE9r\xE9monie",prix:580,bride:!0,time:120,maquillage:!0,coiffure:!0,id:"pivoine"},{nom:"Forfait Rose Eternelle",en:"Eternal Rose Package",desc:"Rose Eternelle - Maquillage ET Coiffure ET Accompagnement Journ\xE9e + Soir\xE9e",prix:"?",bride:!0,time:120,maquillage:!0,coiffure:!0,id:"rose"},{nom:"Invit\xE9e (jour-J)",en:"Guest (D-Day)",titre:!0},{nom:"Forfait An\xE9mone",en:"Anemone Package",desc:"An\xE9mone - Maquillage ET Coiffure",prix:130,time:75,maquillage:!0,coiffure:!0,id:"anemone"},{nom:"Forfait Gypsophile - Maquillage",en:"Baby's Breath Package - Makeup",desc:"Gypsophile - Maquillage",prix:70,time:45,maquillage:!0,coiffure:!1,id:"gypsom"},{nom:"Forfait Gypsophile - Coiffure",en:"Baby's Breath Package - Hair",desc:"Gypsophile - Coiffure",prix:80,time:45,maquillage:!1,coiffure:!0,id:"gypsoc"},{nom:"Options",en:"Options",titre:!0},{nom:"Pose Faux-cils",en:"False Lashes Application",prix:10,id:"fauxcils"},{nom:"Pose Faux-cils (bouquets)",en:"False Lashes Application (Clusters)",prix:0,id:"bouquets"},{nom:"Maquillage Mari\xE9",en:"Groom Makeup",prix:30,time:30,maquillage:!0,id:"marie"},{nom:"Suivi Mari\xE9e",en:"Bride Follow-Up",prix:50,hourly:!0,id:"suivi"}],this.data$=this.dataSubject.asObservable()}getData(e){let n=new co().set("pass",e);this.http.get(this.apiUrl,{params:n}).pipe(Pf(r=>this.dataSubject.next(this.checkData(r)))).subscribe({error:r=>{this.dataSubject.next([{error:r.error?.error||"Erreur serveur"}])}})}getBasePrestas(){return this.basePrestas}checkData(e){return e=e.filter(n=>n.statut!="essai"),e.filter(n=>n.essai&&n.essai.date&&n.essai.date!="").forEach(n=>{let r={nom:n.nom,adresse:n.adresse,codepostal:n.codepostal,tel:n.tel,mail:n.mail,statut:tw.Essai,date:n.essai.date,devis:{},factures:[],planning:{},essai:n.essai,etape:n.etape,mariage:n.mariage};e.push(r)}),e.filter(n=>n.statut=="perso"||n.statut=="essai"||n.statut=="autre").forEach(n=>{this.dateService.isPast(n.date)&&(n.etape=999)}),e.filter(n=>n.devis.prestas).forEach(n=>{n.devis.prestas.filter(r=>!r.kilorly).forEach(r=>{let s=this.basePrestas.find(o=>o.nom==r.nom||o.en==r.en);s&&(r.time||(r.time=s.time),r.bride||(r.bride=s.bride),r.coiffure||(r.coiffure=s.coiffure),r.maquillage||(r.maquillage=s.maquillage),r.prix||(r.prix=s.prix))})}),e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var wM=c0(yM());var bM=(()=>{class i{constructor(){this.cloe=["Clo\xE9 Chaudron","Clo\xA2 Chaudron","Cloe Chaudron","126 Rue de la Cerisaie","84400 Gargas","06.68.64.44.02","cloe.chaudron@outlook.com"]}convertPdfToText(e){return $e(this,null,function*(){let n=new FileReader;return new Promise((r,s)=>{n.onload=()=>$e(this,null,function*(){try{let o=n.result,a=yield H5({data:o}).promise,l="";for(let c=1;c<=a.numPages;c++){let u=yield a.getPage(c),p=(yield this.renderPageToCanvas(u)).toDataURL("image/png"),f=yield this.performOcrOnImage(p);l+=f+`

`}r(l)}catch(o){s("Erreur lors de la conversion du PDF en texte: "+o.message)}}),n.onerror=()=>s("Erreur de lecture du fichier PDF"),n.readAsArrayBuffer(e)})})}renderPageToCanvas(e){return $e(this,null,function*(){let n=e.getViewport({scale:4}),r=document.createElement("canvas"),s=r.getContext("2d");if(!s)throw new Error("Impossible de r\xE9cup\xE9rer le contexte du canvas");return r.height=n.height,r.width=n.width,yield e.render({canvasContext:s,viewport:n}).promise,r})}performOcrOnImage(e){return $e(this,null,function*(){return new Promise((n,r)=>{wM.default.recognize(e,"eng+fra",{logger:s=>null}).then(({data:{text:s}})=>{n(s)}).catch(s=>{r("Erreur OCR: "+s.message)})})})}onFileSelected(e){return $e(this,null,function*(){let n=e.target;if(n.files&&n.files.length>0){let r=n.files[0];try{return this.extractedText=yield this.convertPdfToText(r),this.treat(this.extractedText.split(`
`))}catch(s){this.extractedText="Erreur lors de l'extraction du texte",console.error(s)}finally{}}})}treat(e){let n={};return e.forEach(r=>{if(r.startsWith("Date :"))n.date=r.replace(/[^0-9/]/g,"");else if(r.startsWith("DEVIS N\xB0"))r=r.replace(/[^0-9-]/g,""),n.devis=parseInt(r.substring(0,r.indexOf("-"))),n.annee=r.substring(r.indexOf("-")+1);else if(r.includes("\u20AC")){let s=r.match(/^([0-9]+ *(km|h)? *|[ÀA] d[eé]finir *)/g);if(s){let o=s[0],a={};a.qte=o.replace(/[^0-9]/g,""),o.includes("km")?a.qte=a.qte/2:a.qte==""&&(a.qte="?"),r=r.substring(s[0].length),s=r.match(/[0-9\.,/kmh]+€/g)[0],a.prix=parseFloat(s.replace(/[^0-9,\.]/g,"")),a.nom=r.substring(0,r.indexOf(s)).replace(/ *$/g,""),s=r.substring(r.indexOf(s)+s.length).match(/[0-9\.,]+%/g),s&&(a.reduc=parseFloat(s[0].replace(/[^0-9\.,]/,""))),n.prestas||(n.prestas=[]),n.prestas.push(a)}else{let o=r.match(/[ÉéEe]ch[ée]ance *: */g);o&&(n.echeance=r.substring(o[0].length),n.echeance=n.echeance.substring(0,n.echeance.indexOf(" "))),o=r.match(/[Tt]otal */g),o&&(n.total=r.substring(r.indexOf(o[0])),n.total=parseFloat(n.total.replace(/[^0-9\.,]/g,""))),o=r.match(/Montant arrhes *: */g),o&&(n.arrhes=r.substring(o[0].length),n.arrhes=parseFloat(n.arrhes.replace(/[^0-9\.,]/g,"")))}}else r.startsWith("Prestation le : ")?(n.prestation=r.substring(r.indexOf(":")+2),n.prestation=n.prestation.substring(0,n.prestation.indexOf(" "))):this.cloe.forEach(s=>{r.startsWith(s+" ")&&(r=r.substring((s+" ").length),r.includes("@")?n.mail=r:r.replace(/[^0-9]/g,"").match(/[0-9]{8,12}/g)?n.tel=r:r.match(/[a-zA-Z ]*[0-9\. ]{5,6}[a-zA-Z ]*/g)?n.codepostal=r:r.match(/[0-9]+/)?n.adresse=r:n.nom=r)})}),n}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function yF(i,t){i&1&&(_(0,"p",37),S(1),m()),i&2&&(b(),ct(" ","DEVIS"," "))}function wF(i,t){i&1&&(_(0,"p",37),S(1),m()),i&2&&(b(),ct(" ","QUOTE"," "))}function bF(i,t){if(i&1&&(_(0,"p",40),S(1),m()),i&2){let e=A(3);b(),Fp(" ",e.lg=="Fran\xE7ais"?"DEVIS N\xB0":"QUOTE N\xB0"," ",e.values[1]<100?"0":"","",e.values[1]<10?"0":"","",e.values[1],"-",e.values[2]," ")}}function CF(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e)),"\u20AC")}}function xF(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function EF(i,t){if(i&1&&(on(0),_(1,"p"),S(2),m(),_(3,"p",42),S(4),m(),_(5,"p"),S(6),m(),_(7,"p"),S(8),m(),xe(9,CF,2,1,"p",30)(10,xF,2,0,"p",43),an()),i&2){let e=A().$implicit,n=A(3);b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":""," "),b(2),ct(" ",n.lg=="Anglais"&&e.en?e.en:e.nom," "),b(2),Zl(" ",n.transform(e.prix),"",e.kilorly?"/km":"","",e.hourly?"/h":"","\u20AC "),b(2),pi(" ",e.reduc&&e.reduc!=0?e.reduc:"","",e.reduc&&e.reduc!=0?"%":""," "),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function SF(i,t){if(i&1&&(_(0,"div",41),xe(1,EF,11,14,"ng-container",30),m()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function MF(i,t){if(i&1&&(_(0,"p",45),S(1),m()),i&2){let e=A(3);b(),pi(" ",e.lg=="Fran\xE7ais"?"\xC9ch\xE9ance":"Due Date"," : ",e.mode=="devis"?e.values[13]:e.values[58]," ")}}function AF(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(3);b(),pi(" ",e.lg=="Fran\xE7ais"?"Prestation le":"Service"," : ",e.values[14]," ")}}function DF(i,t){if(i&1&&(_(0,"p",46),S(1),m()),i&2){let e=A(3);b(),pi(" ",e.lg=="Fran\xE7ais"?"Montant arrhes":"Deposit amount"," : ",e.transform(e.calcares()),"\u20AC ")}}function PF(i,t){i&1&&(_(0,"div",47)(1,"p"),S(2," Ce devis concerne les prestations nomm\xE9es. Il est soumis aux conditions mentionn\xE9es ci-dessous : "),m(),_(3,"ul")(4,"li")(5,"p"),S(6," 30% d'arrhes de la prestation mari\xE9e sont \xE0 verser afin de bloquer la date. "),m()(),_(7,"li")(8,"p"),S(9,"Le solde est \xE0 verser au plus tard le jour du mariage."),m()(),_(10,"li")(11,"p"),S(12," Les indemnit\xE9s kilom\xE9triques sont factur\xE9es au tarif de 0,40\u20AC/kilom\xE8tre. P\xE9ages en plus. "),m()(),_(13,"li")(14,"p"),S(15," Les frais de d\xE9placements sont \xE0 verser au plus tard le jour du dit d\xE9placement. "),m()(),_(16,"li")(17,"p"),S(18," Le pr\xE9sent devis est valable jusqu'\xE0 la fin des prestations mentionn\xE9es. Des prestations peuvent \xEAtre ajout\xE9es ou modifi\xE9es en accord avec la prestataire, mais ne pourront pas \xEAtre supprim\xE9es. Les prestations ajout\xE9es apr\xE8s signature seront indiqu\xE9es sur le planning et int\xE9gr\xE9es \xE0 la facturation finale. "),m()()()())}function IF(i,t){i&1&&(_(0,"div",47)(1,"p"),S(2," This quote concerns the named services. It is subject to the conditions listed below: "),m(),_(3,"ul")(4,"li")(5,"p"),S(6," A deposit of 30% of the bridal services is required to secure the date. "),m()(),_(7,"li")(8,"p"),S(9,"The remaining balance is due no later than the wedding day."),m()(),_(10,"li")(11,"p"),S(12," Travel expenses are charged at the rate of 0.40\u20AC/kilometer. Tolls are additional. "),m()(),_(13,"li")(14,"p"),S(15," Travel fees must be paid no later than the day of the said trip. "),m()(),_(16,"li")(17,"p"),S(18," This quote is valid until the completion of the mentioned services. Services may be modified or added, but under no circumstances can they be removed. "),m()()()())}function TF(i,t){if(i&1&&(_(0,"p",48),S(1),m()),i&2){let e=A(3);b(),ct(" ",e.lg=="Fran\xE7ais"?"Pour accepter ce devis, apposez votre signature ici et renvoyez-le":"To accept this quote, please sign here and return it"," : ")}}function OF(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Coordonn\xE9es Bancaires"),m(),_(3,"p"),S(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function NF(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Bank Details"),m(),_(3,"p"),S(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function kF(i,t){if(i&1&&(_(0,"div",11,0),kt(2,"img",12),xe(3,yF,2,1,"p",13)(4,wF,2,1,"p",13),_(5,"p",14),S(6),m(),kt(7,"div",15),_(8,"div",16),xe(9,bF,2,5,"p",17),_(10,"div",18)(11,"div",19)(12,"p"),S(13),m(),_(14,"p"),S(15),m(),_(16,"p"),S(17),m(),_(18,"p"),S(19),m(),_(20,"p",20),S(21),m()(),_(22,"div",21)(23,"p"),S(24),m(),_(25,"p"),S(26),m(),_(27,"p"),S(28),m(),_(29,"p"),S(30),m(),_(31,"p",20),S(32),m()()(),_(33,"div",22)(34,"p"),S(35),m(),_(36,"p"),S(37),m(),_(38,"p"),S(39),m(),_(40,"p"),S(41),m(),_(42,"p"),S(43),m()(),kt(44,"div",23),xe(45,SF,2,1,"div",24),kt(46,"div",23),_(47,"div",25),xe(48,MF,2,2,"p",26),_(49,"p",27),S(50,"Total"),m(),_(51,"p",28),S(52),m()(),_(53,"div",29),xe(54,AF,2,2,"p",30),_(55,"p",31),S(56),m()(),xe(57,DF,2,2,"p",32)(58,PF,19,0,"div",33)(59,IF,19,0,"div",33)(60,TF,2,1,"p",34),m(),kt(61,"div",35),_(62,"div",36)(63,"p",37),S(64,"\xA0"),m(),_(65,"div",25),xe(66,OF,11,0,"div",38)(67,NF,11,0,"div",38),_(68,"div",39)(69,"p"),S(70,"THANK"),m(),_(71,"p"),S(72,"YOU"),m()()()()()),i&2){let e=A(2);b(3),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais"),b(2),ct(" Date : ",e.formatDate(e.values[0])," "),b(3),q("ngIf",e.mode=="devis"),b(4),Ee(e.values[3]),b(2),Ee(e.values[5]),b(2),Ee(e.values[7]),b(2),Ee(e.values[9]),b(2),Ee(e.values[11]),b(3),Ee(e.values[4]),b(2),Ee(e.values[6]),b(2),Ee(e.values[8]),b(2),Ee(e.values[10]),b(2),Ee(e.values[12]),b(3),Ee(e.lg==="Fran\xE7ais"?"Quantit\xE9":"Quantity"),b(2),Ee((e.lg==="Fran\xE7ais","Description")),b(2),Ee(e.lg==="Fran\xE7ais"?"Prix Unitaire":"Unit Price"),b(2),Ee(e.lg==="Fran\xE7ais"?"Reduction":"Discount"),b(2),Ee((e.lg==="Fran\xE7ais","Total")),b(2),q("ngForOf",e.prestas),b(3),q("ngIf",e.mode=="devis"),b(4),ct("",e.transform(e.calcTot()),"\u20AC"),b(2),q("ngIf",e.mode=="devis"),b(2),ct(" ",e.lg=="Fran\xE7ais"?"TVA Non Applicable - article 293 B du CGI":"VAT Not Applicable - Article 293 B of the French General Tax Code (CGI)"," "),b(),q("ngIf",e.mode=="devis"&&e.calcares()>0),b(),q("ngIf",e.mode=="devis"&&e.lg=="Fran\xE7ais"),b(),q("ngIf",e.mode=="devis"&&e.lg=="Anglais"),b(),q("ngIf",e.mode=="devis"),b(6),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function LF(i,t){i&1&&(_(0,"p",37),S(1),m()),i&2&&(b(),ct(" ","FACTURE"," "))}function FF(i,t){i&1&&(_(0,"p",37),S(1),m()),i&2&&(b(),ct(" ","INVOICE"," "))}function RF(i,t){if(i&1&&(_(0,"p",40),S(1),m()),i&2){let e=A(3);b(),Fp(" ",e.lg=="Fran\xE7ais"?"FACTURE N\xB0":"INVOICE N\xB0"," ",e.values[55]<100?"0":"","",e.values[55]<10?"0":"","",e.values[55],"-",e.values[56]," ")}}function VF(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e)),"\u20AC")}}function jF(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function BF(i,t){if(i&1&&(on(0),_(1,"p"),S(2),m(),_(3,"p",42),S(4),m(),_(5,"p"),S(6),m(),_(7,"p"),S(8),m(),xe(9,VF,2,1,"p",30)(10,jF,2,0,"p",43),an()),i&2){let e=A().$implicit,n=A(3);b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":""," "),b(2),ct(" ",n.lg=="Anglais"&&e.en?e.en:e.nom," "),b(2),Zl(" ",n.transform(e.prix),"",e.kilorly?"/km":"","",e.hourly?"/h":"","\u20AC "),b(2),pi(" ",e.reduc&&e.reduc!=0?e.reduc:"","",e.reduc&&e.reduc!=0?"%":""," "),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function qF(i,t){if(i&1&&(_(0,"div",41),xe(1,BF,11,14,"ng-container",30),m()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function HF(i,t){if(i&1&&(_(0,"p",45),S(1),m()),i&2){let e=A(3);b(),pi(" ",e.lg=="Fran\xE7ais"?"Prestation le":"Service"," : ",e.values[14]," ")}}function UF(i,t){if(i&1&&(_(0,"p",54),S(1),m()),i&2){let e=A(4);b(),Zl(" ",e.lg=="Fran\xE7ais"?"D\xE9j\xE0 vers\xE9":"Already Paid"," : ",e.transform(e.values[15]),"\u20AC ",e.getDateArrhes()," ")}}function zF(i,t){if(i&1&&(_(0,"p",55),S(1),m()),i&2){let e=A(4);b(),pi(" ",e.lg=="Fran\xE7ais"?"Reste \xE0 payer":"Remaining balance"," : ",e.values[60]!=""?e.values[60]:e.transform(e.calcTot(!0)),"\u20AC ")}}function WF(i,t){if(i&1&&(_(0,"p",54),S(1),m()),i&2){let e=A(4);b(),pi(" ",e.lg=="Fran\xE7ais"?"Paiement prestataires":"Payment to providers"," : ",e.transform(e.values[61]),"\u20AC ")}}function $F(i,t){if(i&1&&(_(0,"div",51)(1,"div",18),xe(2,UF,2,3,"p",52)(3,zF,2,2,"p",53),m(),xe(4,WF,2,2,"p",52),_(5,"p",54),S(6),m()()),i&2){let e=A(3);b(2),q("ngIf",e.values[15]!=""),b(),q("ngIf",e.values[15]!=""||e.values[60]!=""||e.data.factures.length==0),b(),q("ngIf",e.values[61]!=0),b(2),pi(" ",e.lg=="Fran\xE7ais"?"Mode de paiement":"Payment Method"," : ",e.values[16]," ")}}function GF(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Coordonn\xE9es Bancaires"),m(),_(3,"p"),S(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function YF(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Bank Details"),m(),_(3,"p"),S(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function KF(i,t){if(i&1&&(_(0,"div",11,0),kt(2,"img",12),xe(3,LF,2,1,"p",13)(4,FF,2,1,"p",13),_(5,"p",14),S(6),m(),kt(7,"div",15),_(8,"div",16),xe(9,RF,2,5,"p",17),_(10,"div",18)(11,"div",19)(12,"p"),S(13),m(),_(14,"p"),S(15),m(),_(16,"p"),S(17),m(),_(18,"p"),S(19),m(),_(20,"p",20),S(21),m()(),_(22,"div",21)(23,"p"),S(24),m(),_(25,"p"),S(26),m(),_(27,"p"),S(28),m(),_(29,"p"),S(30),m(),_(31,"p",20),S(32),m()()(),_(33,"div",22)(34,"p"),S(35),m(),_(36,"p"),S(37),m(),_(38,"p"),S(39),m(),_(40,"p"),S(41),m(),_(42,"p"),S(43),m()(),kt(44,"div",23),xe(45,qF,2,1,"div",24),kt(46,"div",23),_(47,"div",25),xe(48,HF,2,2,"p",26),_(49,"p",27),S(50,"Total"),m(),_(51,"p",28),S(52),m()(),_(53,"div",29)(54,"p",31),S(55),m()(),xe(56,$F,7,5,"div",50),m(),kt(57,"div",35),_(58,"div",36)(59,"p",37),S(60,"\xA0"),m(),_(61,"div",25),xe(62,GF,11,0,"div",38)(63,YF,11,0,"div",38),_(64,"div",39)(65,"p"),S(66,"THANK"),m(),_(67,"p"),S(68,"YOU"),m()()()()()),i&2){let e=A(2);b(3),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais"),b(2),ct(" Date : ",e.formatDate(e.values[57])," "),b(3),q("ngIf",e.mode=="facture"),b(4),Ee(e.values[3]),b(2),Ee(e.values[5]),b(2),Ee(e.values[7]),b(2),Ee(e.values[9]),b(2),Ee(e.values[11]),b(3),Ee(e.values[4]),b(2),Ee(e.values[6]),b(2),Ee(e.values[8]),b(2),Ee(e.values[10]),b(2),Ee(e.values[12]),b(3),Ee(e.lg==="Fran\xE7ais"?"Quantit\xE9":"Quantity"),b(2),Ee((e.lg==="Fran\xE7ais","Description")),b(2),Ee(e.lg==="Fran\xE7ais"?"Prix Unitaire":"Unit Price"),b(2),Ee(e.lg==="Fran\xE7ais"?"Reduction":"Discount"),b(2),Ee((e.lg==="Fran\xE7ais","Total")),b(2),q("ngForOf",e.prestas),b(3),q("ngIf",e.mode=="facture"),b(4),ct("",e.transform(e.calcTot()),"\u20AC"),b(3),ct(" ",e.lg=="Fran\xE7ais"?"TVA Non Applicable - article 293 B du CGI":"VAT Not Applicable - Article 293 B of the French General Tax Code (CGI)"," "),b(),q("ngIf",e.mode=="facture"),b(6),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function XF(i,t){if(i&1){let e=Fe();_(0,"div",56)(1,"div",57)(2,"h3"),S(3,"Modifier le nom"),m(),_(4,"input",58),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.inputValue,r)||(s.inputValue=r),Z(r)}),m(),_(5,"div",59)(6,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.cancel())}),S(7,"Annuler"),m(),_(8,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.validate())}),S(9,"Valider"),m()()()()}if(i&2){let e=A(2);b(4),Pe("ngModel",e.inputValue)}}function JF(i,t){i&1&&(_(0,"div",72),kt(1,"div",73),_(2,"p"),S(3,"\xA0"),m()())}function ZF(i,t){if(i&1&&(_(0,"div",74)(1,"p"),S(2),m()()),i&2){let e=t.$implicit,n=A(3);b(2),Ee(n.lg=="Fran\xE7ais"?e.fr:e.en)}}function QF(i,t){if(i&1){let e=Fe();_(0,"p",81),Oe("click",function(){J(e);let r=A().$implicit,s=A(5);return Z(s.popupRename(r))}),S(1),m()}if(i&2){let e=A(),n=e.$implicit,r=e.index,s=A(2).index,o=A(3);ht("onlyonerow",o.getInvitees(s).length==1),b(),ct(" ",o.lg=="Fran\xE7ais"?o.typeinvitee[n[0]].fr:o.typeinvitee[n[0]].en+" "+(n[0]==0?o.getNbInvitee(s,r,n[0]):"")," ")}}function eR(i,t){if(i&1){let e=Fe();_(0,"p",81),Oe("click",function(){J(e);let r=A().$implicit,s=A(5);return Z(s.popupRename(r))}),S(1),m()}if(i&2){let e=A().$implicit,n=A(2).index,r=A(3);ht("onlyonerow",r.getInvitees(n).length==1),b(),ct(" ",e[11]," ")}}function tR(i,t){if(i&1&&(_(0,"td",78),S(1),m()),i&2){let e=A(),n=e.$implicit,r=e.index,s=A().index,o=A(2).index,a=A(3);ht("none",a.checkDisplay(s,r,o))("odd",s%2!=0),sr("rowspan",a.checkRow(s,r,o))("colspan",a.checkCol(s,r,o)),b(),Zl(" ",r==6&&n!=""&&a.lg=="Fran\xE7ais"?"Jusqu'\xE0 ":"","",r==6&&n!=""&&a.lg=="Anglais"?"Until ":"","",n," ")}}function nR(i,t){if(i&1&&(on(0),xe(1,tR,2,9,"td",82),an()),i&2){let e=t.index;b(),q("ngIf",e>0&&e<9)}}function iR(i,t){if(i&1&&(_(0,"tr",74),xe(1,QF,2,3,"p",79)(2,eR,2,3,"p",79),_(3,"td",80),S(4,"\xA0"),m(),xe(5,nR,2,1,"ng-container",66),m()),i&2){let e=t.$implicit,n=t.index;b(),q("ngIf",!e[11]||e[11]==""),b(),q("ngIf",e[11]&&e[11]!=""),b(),ht("odd",n%2!=0),b(2),q("ngForOf",e)}}function rR(i,t){if(i&1&&(_(0,"table")(1,"tr",76)(2,"p",77),S(3,"\xA0"),m(),_(4,"td",78),S(5,"\xA0"),m(),_(6,"td",78),S(7,"\xA0"),m(),_(8,"td",78),S(9,"\xA0"),m(),_(10,"td",78),S(11,"\xA0"),m(),_(12,"td",78),S(13,"\xA0"),m(),_(14,"td",78),S(15,"\xA0"),m(),_(16,"td",78),S(17,"\xA0"),m(),_(18,"td",78),S(19,"\xA0"),m(),_(20,"td",78),S(21,"\xA0"),m()(),xe(22,iR,6,5,"tr",65),m()),i&2){let e=A().index,n=A(3);b(22),q("ngForOf",n.getInvitees(e))}}function sR(i,t){if(i&1&&(_(0,"p",83),S(1),m()),i&2){let e=A().$implicit,n=A(3);b(),pi(" ",n.lg=="Fran\xE7ais"?"Artiste":"Artist"," : ",e[0]+" "+e[1]," ")}}function oR(i,t){if(i&1&&(on(0),xe(1,rR,23,1,"table",30)(2,sR,2,2,"p",75),an()),i&2){let e=t.index,n=A(3);b(),q("ngIf",n.getInvitees(e).length>0),b(),q("ngIf",n.getInvitees(0).length!=n.invitees.length)}}function aR(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Coordonn\xE9es Bancaires"),m(),_(3,"p"),S(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function lR(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Bank Details"),m(),_(3,"p"),S(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function cR(i,t){if(i&1&&(_(0,"div",36)(1,"p",37),S(2,"\xA0"),m(),_(3,"div",25),xe(4,aR,11,0,"div",38)(5,lR,11,0,"div",38),_(6,"div",39)(7,"p"),S(8,"THANK"),m(),_(9,"p"),S(10,"YOU"),m()()()()),i&2){let e=A(3);b(4),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function uR(i,t){if(i&1&&(_(0,"div")(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m()()),i&2){let e=t.$implicit;b(2),Ee(e[0]+" "+e[1]),b(2),Ee(e[2]),b(2),Ee(e[3])}}function dR(i,t){if(i&1&&(_(0,"div",61,0),kt(2,"img",12),_(3,"p",37),S(4),m(),_(5,"p",14),S(6),m(),kt(7,"div",15),_(8,"div",16)(9,"div",62),xe(10,JF,4,0,"div",63),_(11,"div",64),xe(12,ZF,3,1,"div",65),m()(),xe(13,oR,3,2,"ng-container",66),m(),xe(14,cR,11,2,"div",67),_(15,"div",68)(16,"p",37),S(17,"\xA0"),m(),_(18,"div",69)(19,"div",70)(20,"p"),S(21),m(),_(22,"p"),S(23),m(),_(24,"p"),S(25),m()(),_(26,"p",71),S(27,"CONTACT"),m(),_(28,"div",18),xe(29,uR,7,3,"div",66),m()()()()),i&2){let e=A(2);b(4),ct(" ",e.lg=="Fran\xE7ais"?"PLANNING":"SCHEDULE"," "),b(2),ct("Date : ",e.formatDate(e.values[51]),""),b(4),q("ngForOf",e.planningtop),b(2),q("ngForOf",e.planningtop),b(),q("ngForOf",e.getCollegues()),b(),q("ngIf",e.mode!="planning"),b(7),Ee(e.values[52]==""?"Domaine":e.values[52]),b(2),Ee(e.values[53]==""?"Adresse":e.values[53]),b(2),Ee(e.values[54]==""?"Code postal + Ville":e.values[54]),b(4),q("ngForOf",e.getCollegues())}}function hR(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=t.$implicit,n=A().$implicit,r=A(3);b(),Ee(r.informations.collegues[n]?r.informations.collegues[n][e]:"\xA0")}}function fR(i,t){if(i&1&&(_(0,"div",90),xe(1,hR,2,1,"p",66),m()),i&2){let e=A(3);b(),q("ngForOf",e.generateRange(4))}}function pR(i,t){if(i&1&&kt(0,"p",96),i&2){let e=t.$implicit,n=A(3);q("innerHTML",n.textWithNbsp(n.informations.texte[e]),Ri)}}function gR(i,t){if(i&1&&(_(0,"div",84,0)(2,"div",85)(3,"div")(4,"p"),S(5,"Nom/Pr\xE9nom :\xA0"),m(),_(6,"p"),S(7),m()(),_(8,"div")(9,"p"),S(10,"Mariage le :\xA0"),m(),_(11,"p"),S(12),m()()(),_(13,"div",86)(14,"div")(15,"p"),S(16,"Adresse :\xA0"),m(),_(17,"p"),S(18),m()(),_(19,"div")(20,"p"),S(21,"Code postal :\xA0"),m(),_(22,"p"),S(23),m()(),_(24,"div")(25,"p"),S(26,"T\xE9l\xE9phone :\xA0"),m(),_(27,"p"),S(28),m()(),_(29,"div")(30,"p"),S(31,"Mail :\xA0"),m(),_(32,"p"),S(33),m()()(),_(34,"div",86)(35,"div")(36,"p"),S(37,"Domaine :\xA0"),m(),_(38,"p"),S(39),m()(),_(40,"div")(41,"p"),S(42,"Forfait invit\xE9e complet :\xA0"),m(),_(43,"p"),S(44),m()(),_(45,"div")(46,"p"),S(47,"Adresse :\xA0"),m(),_(48,"p"),S(49),m()(),_(50,"div")(51,"p"),S(52,"Maquillage seul invit\xE9e :\xA0"),m(),_(53,"p"),S(54),m()(),_(55,"div")(56,"p"),S(57,"Code postal :\xA0"),m(),_(58,"p"),S(59),m()(),_(60,"div")(61,"p"),S(62,"Coiffure seule invit\xE9e :\xA0"),m(),_(63,"p"),S(64),m()(),_(65,"div")(66,"p"),S(67,"Heure arriv\xE9e :\xA0"),m(),_(68,"p"),S(69),m()(),kt(70,"div"),_(71,"div")(72,"p"),S(73,"Fin des prestas :\xA0"),m(),_(74,"p"),S(75),m()(),kt(76,"div"),_(77,"div")(78,"p"),S(79,"Heure c\xE9r\xE9monie :\xA0"),m(),_(80,"p"),S(81),m()()(),_(82,"div",87)(83,"div")(84,"p"),S(85,"Essai le\xA0"),m(),_(86,"p"),S(87),m()(),_(88,"div",88)(89,"p"),S(90,"\xA0\xE0\xA0"),m(),_(91,"p"),S(92),m()(),_(93,"div",89)(94,"p"),S(95,"\xA0\xE0\xA0"),m(),_(96,"p"),S(97),m()()(),_(98,"div",90)(99,"p",91),S(100,"Renforts :"),m(),_(101,"div",92),xe(102,fR,2,1,"div",93),m()(),_(103,"div",90)(104,"p",91),S(105,"Maquillage x Coiffure :"),m(),_(106,"div",94),xe(107,pR,1,1,"p",95),m()()()),i&2){let e=A(2);b(7),Ee(e.informations.nom),b(5),Ee(e.informations.date),b(6),Ee(e.informations.adresse),b(5),Ee(e.informations.codepostal),b(5),Ee(e.informations.tel),b(5),Ee(e.informations.mail),b(6),Ee(e.informations.mariage.domaine),b(5),Ee(e.informations.complet),b(5),Ee(e.informations.mariage.adresse),b(5),Ee(e.informations.maquillage),b(5),Ee(e.informations.mariage.codepostal),b(5),Ee(e.informations.coiffure),b(5),Ee(e.getHeureArrivee()),b(6),Ee(e.getFinPrestas()),b(6),Ee(e.informations.planning.ceremonie),b(6),Ee(e.informations.essai.date),b(5),Ee(e.informations.essai.heure),b(5),Ee(e.informations.essai.lieu),b(5),q("ngForOf",e.generateRange(3)),b(5),q("ngForOf",e.generateRange(5))}}function mR(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Importer :"),m(),_(3,"input",110),Oe("change",function(r){J(e);let s=A(3);return Z(s.onFileSelected(r))}),m()()}}function _R(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[0],r)||(s.values[0]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[0]=r.onInput(r.values[0],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[0])}}function vR(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[57],r)||(s.values[57]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[57]=r.onInput(r.values[57],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[57])}}function yR(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[51],r)||(s.values[51]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[51]=r.onInput(r.values[51],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[51])}}function wR(i,t){if(i&1){let e=Fe();_(0,"input",116),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[1],r)||(s.values[1]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[1])}}function bR(i,t){if(i&1){let e=Fe();_(0,"input",117),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[55],r)||(s.values[55]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[55])}}function CR(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[2],r)||(s.values[2]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[2])}}function xR(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[56],r)||(s.values[56]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[56])}}function ER(i,t){if(i&1&&(_(0,"div",112)(1,"p"),S(2),m(),xe(3,wR,1,1,"input",113)(4,bR,1,1,"input",114),_(5,"p"),S(6,"-"),m(),xe(7,CR,1,1,"input",115)(8,xR,1,1,"input",115),m()),i&2){let e=A(3);b(2),Ee(e.mode=="devis"?"Devis N\xB0":"Facture N\xB0"),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(3),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture")}}function SR(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",120),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[3],r)||(s.values[3]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",122),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[4],r)||(s.values[4]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[3]),b(2),Pe("ngModel",e.values[4])}}function MR(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",123),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[5],r)||(s.values[5]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",124),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[6],r)||(s.values[6]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[5]),b(2),Pe("ngModel",e.values[6])}}function AR(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",125),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[7],r)||(s.values[7]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",126),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[8],r)||(s.values[8]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[7]),b(2),Pe("ngModel",e.values[8])}}function DR(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",127),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[9],r)||(s.values[9]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",128),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[10],r)||(s.values[10]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[9]),b(2),Pe("ngModel",e.values[10])}}function PR(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",129),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[11],r)||(s.values[11]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",130),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[12],r)||(s.values[12]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[11]),b(2),Pe("ngModel",e.values[12])}}function IR(i,t){if(i&1){let e=Fe();_(0,"button",60),Oe("click",function(){J(e);let r=A(4);return Z(r.addPrestas())}),S(1," Add prestas "),m()}}function TR(i,t){if(i&1){let e=Fe();_(0,"input",140),Ie("ngModelChange",function(r){J(e);let s=A(2).$implicit;return Te(s.nom,r)||(s.nom=r),Z(r)}),m()}if(i&2){let e=A(2).$implicit;Pe("ngModel",e.nom)}}function OR(i,t){if(i&1){let e=Fe();_(0,"input",140),Ie("ngModelChange",function(r){J(e);let s=A(2).$implicit;return Te(s.en,r)||(s.en=r),Z(r)}),m()}if(i&2){let e=A(2).$implicit;Pe("ngModel",e.en)}}function NR(i,t){if(i&1){let e=Fe();on(0),_(1,"div",134)(2,"p",135),Oe("click",function(){J(e);let r=A().$implicit;return Z(r.qte>0?r.qte=r.qte-1:void 0)}),S(3," - "),m(),_(4,"input",136),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.qte,r)||(s.qte=r),Z(r)}),m(),_(5,"p",135),Oe("click",function(){J(e);let r=A().$implicit,s=A(4);return Z(s.addQte(r))}),S(6," + "),m()(),xe(7,TR,1,1,"input",137)(8,OR,1,1,"input",137),_(9,"input",138),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.prix,r)||(s.prix=r),Z(r)}),m(),_(10,"input",139),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.reduc,r)||(s.reduc=r),Z(r)}),m(),an()}if(i&2){let e=A().$implicit,n=A(4);b(2),ht("disabled",e.qte<1),b(2),Pe("ngModel",e.qte),b(),ht("disabled",e.qte>0&&e.onlyOne),b(2),q("ngIf",n.lg==="Fran\xE7ais"),b(),q("ngIf",n.lg!=="Fran\xE7ais"),b(),Pe("ngModel",e.prix),b(),Pe("ngModel",e.reduc)}}function kR(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A().$implicit;b(),Ee(e.nom)}}function LR(i,t){if(i&1&&(_(0,"div",18),xe(1,NR,11,9,"ng-container",133)(2,kR,2,1,"ng-template",null,1,jp),m()),i&2){let e=t.$implicit,n=Lp(3);ht("title",e.titre),b(),q("ngIf",!e.titre)("ngIfElse",n)}}function FR(i,t){if(i&1){let e=Fe();_(0,"div",131)(1,"div",25)(2,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.deleteAll())}),S(3,"Delete all"),m(),xe(4,IR,2,0,"button",108),m(),xe(5,LR,4,4,"div",132),_(6,"div",98)(7,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addPresta())}),S(8,"Ajouter prestation"),m()()()}if(i&2){let e=A(3);ht("noOverflow",!e.paysage),b(4),q("ngIf",e.mode=="facture"),b(),q("ngForOf",e.prestas)}}function RR(i,t){if(i&1){let e=Fe();_(0,"input",142),Ie("ngModelChange",function(r){J(e);let s=A(5);return Te(s.values[13],r)||(s.values[13]=r),Z(r)}),m()}if(i&2){let e=A(5);Pe("ngModel",e.values[13])}}function VR(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2,"\xC9ch\xE9ance :"),m(),xe(3,RR,1,1,"input",141),m()),i&2){let e=A(4);b(3),q("ngIf",e.mode=="devis")}}function jR(i,t){if(i&1&&(_(0,"div",18),xe(1,VR,4,1,"div",99),_(2,"div",121)(3,"p"),S(4),m()()()),i&2){let e=A(3);b(),q("ngIf",e.mode=="devis"),b(3),ct("Total : ",e.transform(e.calcTot()),"\u20AC")}}function BR(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2),m()()),i&2){let e=A(3);b(2),ct("Prestation le : ",e.values[14],"")}}function qR(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"D\xE9j\xE0 vers\xE9 :"),m(),_(3,"input",143),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[15],r)||(s.values[15]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[15])}}function HR(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Solde :"),m(),_(3,"input",144),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[60],r)||(s.values[60]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[60])}}function UR(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Mode de paiement :"),m(),_(3,"input",145),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[16],r)||(s.values[16]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[16])}}function zR(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Paiement prestataire :"),m(),_(3,"input",146),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[61],r)||(s.values[61]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[61])}}function WR(i,t){if(i&1&&(_(0,"option",165),S(1),m()),i&2){let e=t.$implicit,n=t.index;q("value",n),b(),ct(" ",e[0]," ")}}function $R(i,t){if(i&1){let e=Fe();_(0,"div",158)(1,"input",159),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.prix,r)||(s.prix=r),Z(r)}),m(),_(2,"select",160),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.presta,r)||(s.presta=r),Z(r)}),Oe("change",function(r){let s=J(e).$implicit,o=A(6);return Z(o.changePrestataire(r,s))}),xe(3,WR,2,2,"option",161),m(),_(4,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.monter(o,s))}),S(5,"Monter"),m(),_(6,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.descendre(o,s))}),S(7," Descendre "),m(),_(8,"input",162),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.time,r)||(s.time=r),Z(r)}),Oe("input",function(){let r=J(e).$implicit,s=A(6);return Z(s.onTimeInput(r))}),m(),_(9,"input",163),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.maquillage,r)||(s.maquillage=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("m",r))}),m(),_(10,"input",164),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.coiffure,r)||(s.coiffure=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("c",r))}),m(),_(11,"button",60),Oe("click",function(){let r=J(e).$implicit,s=A(6);return Z(s.deletePresta(r))}),S(12,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=t.index,r=A(2).index,s=A(4);ht("bride",e.bride),b(),Pe("ngModel",e.prix),b(),Pe("ngModel",e.presta),b(),q("ngForOf",s.collegues),b(),ht("disabled",n==0),b(2),ht("disabled",n==s.getplanningprestas(r).length-1),b(2),Pe("ngModel",e.time),b(),Pe("ngModel",e.maquillage),b(),Pe("ngModel",e.coiffure)}}function GR(i,t){if(i&1){let e=Fe();_(0,"div",98)(1,"button",60),Oe("click",function(){J(e);let r=A(2).index,s=A(4);return Z(s.addPlanningPresta(r))}),S(2,"Ajouter prestation"),m()()}}function YR(i,t){if(i&1){let e=Fe();on(0),_(1,"div",151)(2,"p"),S(3),m(),_(4,"input",152),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[4],r)||(s[4]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onArriveeInput(r))}),m(),_(5,"input",153),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[5],r)||(s[5]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onRetoucheInput(r))}),m(),_(6,"input",154),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[6],r)||(s[6]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onDispoInput(r))}),m()(),_(7,"div",155)(8,"p"),S(9,"Invit\xE9e"),m(),_(10,"p"),S(11,"Artiste"),m(),_(12,"p"),S(13,"\xA0"),m(),_(14,"p"),S(15,"\xA0"),m(),_(16,"p"),S(17,"Temps"),m(),_(18,"p"),S(19,"Maqu"),m(),_(20,"p"),S(21,"Coif"),m()(),xe(22,$R,13,12,"div",156)(23,GR,3,0,"div",157),an()}if(i&2){let e=A(),n=e.$implicit,r=e.index,s=A(4);b(3),Ee(n[0]+" "+n[1]),b(),Pe("ngModel",n[4]),b(),Pe("ngModel",n[5]),b(),Pe("ngModel",n[6]),b(16),q("ngForOf",s.getplanningprestas(r))("ngForTrackBy",s.trackByIndex),b(),q("ngIf",s.mode=="planning")}}function KR(i,t){if(i&1&&(_(0,"div"),xe(1,YR,24,7,"ng-container",30),m()),i&2){let e=t.index,n=A(4);b(),q("ngIf",n.getplanningprestas(e).length>0)}}function XR(i,t){if(i&1){let e=Fe();_(0,"div",147)(1,"div",98)(2,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.actualiser())}),S(3,"Calculer"),m()(),_(4,"div",148)(5,"p"),S(6,"Fin prestations : "),m(),_(7,"input",149),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.finprestas,r)||(s.finprestas=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onFinPrestasInput())}),m(),_(8,"p"),S(9,"D\xE9but c\xE9r\xE9monie : "),m(),_(10,"input",150),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.ceremonie,r)||(s.ceremonie=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onCeremonieInput())}),m()(),xe(11,KR,2,1,"div",66),m()}if(i&2){let e=A(3);b(7),Pe("ngModel",e.finprestas),b(3),Pe("ngModel",e.ceremonie),b(),q("ngForOf",e.collegues)}}function JR(i,t){if(i&1){let e=Fe();_(0,"div",166)(1,"div",25)(2,"p"),S(3,"Domaine :"),m(),_(4,"input",167),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[52],r)||(s.values[52]=r),Z(r)}),m()(),_(5,"div",25)(6,"p"),S(7,"Adresse :"),m(),_(8,"input",168),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[53],r)||(s.values[53]=r),Z(r)}),m()(),_(9,"div",25)(10,"p"),S(11,"Code postal + Ville :"),m(),_(12,"input",169),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[54],r)||(s.values[54]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(4),Pe("ngModel",e.values[52]),b(4),Pe("ngModel",e.values[53]),b(4),Pe("ngModel",e.values[54])}}function ZR(i,t){if(i&1){let e=Fe();_(0,"input",159),Ie("ngModelChange",function(r){J(e);let s=A().index,o=A().index,a=A(4);return Te(a.collegues[o][s],r)||(a.collegues[o][s]=r),Z(r)}),m()}if(i&2){let e=A().index,n=A().index,r=A(4);Pe("ngModel",r.collegues[n][e])}}function QR(i,t){if(i&1&&(on(0),xe(1,ZR,1,1,"input",175),an()),i&2){let e=t.index;b(),q("ngIf",e<4)}}function e6(i,t){if(i&1){let e=Fe();_(0,"div",172)(1,"p",173),S(2),m(),xe(3,QR,2,1,"ng-container",174),_(4,"button",60),Oe("click",function(){let r=J(e).index,s=A(4);return Z(s.deleteCollegue(r))}),S(5,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=t.index,r=A(4);b(2),Ee(r.calcGains(n)),b(),q("ngForOf",e)("ngForTrackBy",r.trackByIndex)}}function t6(i,t){if(i&1&&(_(0,"div",25)(1,"div",170),xe(2,e6,6,3,"div",171),m()()),i&2){let e=A(3);b(2),q("ngForOf",e.collegues)("ngForTrackBy",e.trackByIndex)}}function n6(i,t){if(i&1){let e=Fe();_(0,"div",176)(1,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addCollegue())}),S(2," Ajouter coll\xE8gue "),m()()}}function i6(i,t){if(i&1){let e=Fe();_(0,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.reinitPlanning())}),S(1,"Reinit planning"),m()}}function r6(i,t){if(i&1){let e=Fe();_(0,"button",177),Oe("click",function(){J(e);let r=A(3);return Z(r.delete())}),S(1,"Supprimer"),m()}}function s6(i,t){if(i&1){let e=Fe();_(0,"div",97)(1,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.return())}),S(2,"Retour"),m(),_(3,"div",98)(4,"p"),S(5,"Langue : "),m(),_(6,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.lg=="Fran\xE7ais"?r.lg="Anglais":r.lg="Fran\xE7ais")}),S(7),m()(),xe(8,mR,4,0,"div",99),_(9,"div",98)(10,"p"),S(11,"Date :"),m(),xe(12,_R,1,1,"input",100)(13,vR,1,1,"input",100)(14,yR,1,1,"input",100),m(),kt(15,"div",15),xe(16,ER,9,5,"div",101)(17,SR,5,2,"div",102)(18,MR,5,2,"div",102)(19,AR,5,2,"div",102)(20,DR,5,2,"div",102)(21,PR,5,2,"div",102)(22,FR,9,4,"div",103)(23,jR,5,2,"div",102)(24,BR,3,1,"div",99)(25,qR,4,1,"div",99)(26,HR,4,1,"div",99)(27,UR,4,1,"div",99)(28,zR,4,1,"div",99)(29,XR,12,3,"div",104)(30,JR,13,3,"div",105)(31,t6,3,2,"div",99)(32,n6,3,0,"div",106),_(33,"div",107),xe(34,i6,2,0,"button",108),_(35,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.generatePDFfromHTML())}),S(36," G\xE9n\xE9rer PDF "),m(),_(37,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.save())}),S(38,"Sauvegarder"),m(),xe(39,r6,2,0,"button",109),m()()}if(i&2){let e=A(2);b(7),ct(" ",e.lg," "),b(),q("ngIf",!1),b(4),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(2),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(2),q("ngIf",!1),b(5),q("ngIf",e.mode=="facture"&&e.data.factures[e.data.factureClicked])}}function o6(i,t){if(i&1){let e=Fe();_(0,"input",159),Ie("ngModelChange",function(r){let s=J(e).$implicit,o=A(3);return Te(o.informations.texte[s],r)||(o.informations.texte[s]=r),Z(r)}),m()}if(i&2){let e=t.$implicit,n=A(3);Pe("ngModel",n.informations.texte[e])}}function a6(i,t){if(i&1){let e=Fe();_(0,"div",97)(1,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.return())}),S(2,"Retour"),m(),_(3,"div",178),xe(4,o6,1,1,"input",179),m(),_(5,"div",107)(6,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.generatePDFfromHTML())}),S(7," G\xE9n\xE9rer PDF "),m()()()}if(i&2){let e=A(2);b(4),q("ngForOf",e.generateRange(5))}}function l6(i,t){if(i&1&&(_(0,"div",5),xe(1,kF,73,30,"div",6)(2,KF,69,26,"div",6)(3,XF,10,1,"div",7)(4,dR,30,10,"div",8)(5,gR,108,20,"div",9)(6,s6,40,24,"div",10)(7,a6,8,1,"div",10),m()),i&2){let e=A();ht("flex",e.paysage)("portrait",!e.paysage),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.popupVisible),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="renseignement"),b(),q("ngIf",e.mode!="renseignement"),b(),q("ngIf",e.mode=="renseignement")}}function c6(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e))," \u20AC")}}function u6(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function d6(i,t){if(i&1&&(_(0,"div",193)(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),xe(7,c6,2,1,"p",30)(8,u6,2,0,"p",43),m()),i&2){let e=A().$implicit,n=A(3);b(2),Ee(e.nom),b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":"",""),b(2),Ee(e.reduc&&e.reduc!=""?e.reduc+"%":""),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function h6(i,t){if(i&1&&(on(0),xe(1,d6,9,10,"div",192),an()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function f6(i,t){if(i&1&&(_(0,"div",183,0)(2,"div",184)(3,"p"),S(4,"CS"),m(),_(5,"p"),S(6,"Celma Sahidet"),m(),_(7,"p"),S(8,"Siret : 92398283900014"),m(),_(9,"p"),S(10,"sahidetcelma@gmail.com"),m(),_(11,"p"),S(12,"+33 6 80 84 42 52"),m()(),_(13,"div",185)(14,"p"),S(15,"FACTURE"),m(),_(16,"p"),S(17,"PROFORMA"),m(),_(18,"p"),S(19),m(),_(20,"p"),S(21),m(),_(22,"p"),S(23),m()(),_(24,"div",186)(25,"p"),S(26,"SERVICE"),m(),_(27,"p"),S(28),Di(29,"uppercase"),m(),_(30,"p"),S(31),Di(32,"uppercase"),m(),_(33,"p"),S(34,"TOTAL"),m()(),_(35,"div",187),xe(36,h6,2,1,"ng-container",66),_(37,"div",188)(38,"p"),S(39,"Montant net non soumis \xE0 la TVA en vertu de l'art. 293B du CGI."),m(),_(40,"p"),S(41,"TOTAL"),m(),_(42,"p"),S(43),m()()(),_(44,"div",189)(45,"p"),S(46,"Ce devis concerne les prestations nomm\xE9es. Il est soumis aux conditions mentionn\xE9es ci-dessous :"),m(),_(47,"p"),S(48,"50% d'arrhes de la prestation mari\xE9e sont \xE0 verser le jour de l'essai"),m(),_(49,"p"),S(50,"Le montant restant est \xE0 verser au plus tard le jour du mariage"),m(),_(51,"p"),S(52,"Les frais de d\xE9placements sont \xE0 verser au plus tard le jour du dit d\xE9placement"),m(),_(53,"p"),S(54,"Les indemnit\xE9s kilom\xE9triques sont factur\xE9es au tarif de 0,40\u20AC/kilom\xE8tre. P\xE9ages en plus"),m(),_(55,"p"),S(56,"Le pr\xE9sent devis est valable jusqu'\xE0 la fin des prestations mentionn\xE9es. Des prestations peuvent \xEAtre modifi\xE9es, ajout\xE9es mais en aucun cas supprim\xE9es"),m(),_(57,"p"),S(58,"Pour accepter ce devis, apposez votre signature et renvoyez le"),m(),_(59,"p"),S(60,"Veuillez r\xE9diger tous les ch\xE8ques \xE0 l'ordre de Sahidet Celma"),m(),_(61,"p"),S(62,"Pour toute question concernant cette facture, veuillez me contacter"),m()(),_(63,"div",190)(64,"p"),S(65),Di(66,"uppercase"),m(),_(67,"p"),S(68),Di(69,"uppercase"),m(),_(70,"p"),S(71),m(),_(72,"p"),S(73),m(),_(74,"p"),S(75),m(),_(76,"p"),S(77),m()(),_(78,"div",191)(79,"p"),S(80,"Merci de votre"),m(),_(81,"p"),S(82,"confiance !"),m()()()),i&2){let e=A(2);b(19),ct("N\xB0",e.values[1],""),b(2),ct("Du ",e.values[0],""),b(2),pi("",e.data.statut=="reserve"||e.data.statut=="demande"?"Mariage":"Prestation"," le ",e.values[14],""),b(5),Ee(Pi(29,14,"qt\xE9")),b(3),Ee(Pi(32,16,"r\xE9duc")),b(5),q("ngForOf",e.prestas),b(7),ct("",e.transform(e.calcTot())," \u20AC"),b(22),Ee(Pi(66,18,"factur\xE9 \xE0")),b(3),Ee(Pi(69,20,e.values[4])),b(3),Ee(e.values[6]),b(2),Ee(e.values[8]),b(2),Ee(e.values[10]),b(2),Ee(e.values[12])}}function p6(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e))," \u20AC")}}function g6(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function m6(i,t){if(i&1&&(_(0,"div",193)(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),xe(7,p6,2,1,"p",30)(8,g6,2,0,"p",43),m()),i&2){let e=A().$implicit,n=A(3);b(2),Ee(e.nom),b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":"",""),b(2),Ee(e.reduc&&e.reduc!=""?e.reduc+"%":""),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function _6(i,t){if(i&1&&(on(0),xe(1,m6,9,10,"div",192),an()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function v6(i,t){if(i&1&&(_(0,"div",194,0)(2,"div",195)(3,"p"),S(4,"Facture"),m()(),_(5,"div",184)(6,"p"),S(7,"SAHIDET Celma"),m(),_(8,"p"),S(9),Di(10,"uppercase"),m(),_(11,"p"),S(12),Di(13,"uppercase"),m()(),_(14,"div",196)(15,"p"),S(16),Di(17,"uppercase"),m(),_(18,"p"),S(19),Di(20,"uppercase"),m(),_(21,"p"),S(22),Di(23,"uppercase"),m(),_(24,"p"),S(25),Di(26,"uppercase"),m()(),_(27,"div",187),xe(28,_6,2,1,"ng-container",66),_(29,"div",188)(30,"p"),S(31),m()()(),_(32,"div",197)(33,"p"),S(34,"Sahidet Celma"),m(),_(35,"p"),S(36,"SIRET : 92398283900014"),m(),_(37,"p"),S(38,"sahidetcelma@gmail.com"),m(),_(39,"p"),S(40,"+33 6 80 84 42 52"),m()(),_(41,"div",198)(42,"p"),S(43,"CS"),m()()()),i&2){let e=A(2);b(9),Ee(Pi(10,8,"Date de d\xE9livrance : Le "+e.values[0])),b(3),Ee(Pi(13,10,"Num\xE9ro de facture : "+e.values[55])),b(4),Ee(Pi(17,12,"Description")),b(3),Ee(Pi(20,14,"Quantit\xE9")),b(3),Ee(Pi(23,16,"R\xE9duction")),b(3),Ee(Pi(26,18,"Total")),b(3),q("ngForOf",e.prestas),b(3),ct("TOTAL : ",e.transform(e.calcTot())," \u20AC")}}function y6(i,t){if(i&1&&(_(0,"p",37),S(1),m()),i&2){let e=A(3);b(),ct(" ",e.values[50]," ")}}function w6(i,t){i&1&&(_(0,"div",72),kt(1,"div",73),_(2,"p"),S(3,"\xA0"),m()())}function b6(i,t){if(i&1&&(_(0,"div",74)(1,"p"),S(2),m()()),i&2){let e=t.$implicit;b(2),Ee(e.fr)}}function C6(i,t){if(i&1&&(_(0,"td",78),S(1),m()),i&2){let e=A(),n=e.$implicit,r=e.index,s=A().index,o=A(2).index,a=A(3);ht("none",a.checkDisplay(s,r,o))("odd",s%2!=0),sr("rowspan",a.checkRow(s,r,o))("colspan",a.checkCol(s,r,o)),b(),pi(" ",r==6&&n!=""?"Jusqu'\xE0 ":"","",n," ")}}function x6(i,t){if(i&1&&(on(0),xe(1,C6,2,8,"td",82),an()),i&2){let e=t.index;b(),q("ngIf",e>0&&e<9)}}function E6(i,t){if(i&1&&(_(0,"tr",74)(1,"p",77),S(2),m(),_(3,"td",80),S(4,"\xA0"),m(),xe(5,x6,2,1,"ng-container",66),m()),i&2){let e=t.$implicit,n=t.index,r=A(2).index,s=A(3);b(),ht("onlyonerow",s.getInvitees(r).length==1),b(),ct(" ",s.typeinvitee[e[0]]+" "+(e[0]==0?s.getNbInvitee(r,n,e[0]):"")," "),b(),ht("odd",n%2!=0),b(2),q("ngForOf",e)}}function S6(i,t){if(i&1&&(_(0,"table")(1,"tr",76)(2,"p",77),S(3,"\xA0"),m(),_(4,"td",78),S(5,"\xA0"),m(),_(6,"td",78),S(7,"\xA0"),m(),_(8,"td",78),S(9,"\xA0"),m(),_(10,"td",78),S(11,"\xA0"),m(),_(12,"td",78),S(13,"\xA0"),m(),_(14,"td",78),S(15,"\xA0"),m(),_(16,"td",78),S(17,"\xA0"),m(),_(18,"td",78),S(19,"\xA0"),m(),_(20,"td",78),S(21,"\xA0"),m()(),xe(22,E6,6,6,"tr",65),m()),i&2){let e=A().index,n=A(3);b(22),q("ngForOf",n.getInvitees(e))}}function M6(i,t){if(i&1&&(_(0,"p",83),S(1),m()),i&2){let e=A().$implicit;b(),ct(" Artiste : ",e[0]+" "+e[1]," ")}}function A6(i,t){if(i&1&&(on(0),xe(1,S6,23,1,"table",30)(2,M6,2,1,"p",75),an()),i&2){let e=t.index,n=A(3);b(),q("ngIf",n.getInvitees(e).length>0),b(),q("ngIf",n.getInvitees(0).length!=n.invitees.length)}}function D6(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Coordonn\xE9es Bancaires"),m(),_(3,"p"),S(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function P6(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Bank Details"),m(),_(3,"p"),S(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function I6(i,t){if(i&1&&(_(0,"div",36)(1,"p",37),S(2,"\xA0"),m(),_(3,"div",25),xe(4,D6,11,0,"div",38)(5,P6,11,0,"div",38),_(6,"div",39)(7,"p"),S(8,"THANK"),m(),_(9,"p"),S(10,"YOU"),m()()()()),i&2){let e=A(3);b(4),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function T6(i,t){if(i&1&&(_(0,"div")(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m()()),i&2){let e=t.$implicit;b(2),Ee(e[0]+" "+e[1]),b(2),Ee(e[2]),b(2),Ee(e[3])}}function O6(i,t){if(i&1&&(_(0,"div",61,0),kt(2,"img",12),xe(3,y6,2,1,"p",13),_(4,"p",14),S(5),m(),kt(6,"div",15),_(7,"div",16)(8,"div",62),xe(9,w6,4,0,"div",63),_(10,"div",64),xe(11,b6,3,1,"div",65),m()(),xe(12,A6,3,2,"ng-container",66),m(),xe(13,I6,11,2,"div",67),_(14,"div",68)(15,"p",37),S(16,"\xA0"),m(),_(17,"div",69)(18,"div",70)(19,"p"),S(20),m(),_(21,"p"),S(22),m(),_(23,"p"),S(24),m()(),_(25,"p",71),S(26,"CONTACT"),m(),_(27,"div",18),xe(28,T6,7,3,"div",66),m()()()()),i&2){let e=A(2);b(3),q("ngIf",e.lg=="Fran\xE7ais"),b(2),ct("Date : ",e.formatDate(e.values[51]),""),b(4),q("ngForOf",e.planningtop),b(2),q("ngForOf",e.planningtop),b(),q("ngForOf",e.getCollegues()),b(),q("ngIf",e.mode!="planning"),b(7),Ee(e.values[52]==""?"Domaine":e.values[52]),b(2),Ee(e.values[53]==""?"Adresse":e.values[53]),b(2),Ee(e.values[54]==""?"Code postal + Ville":e.values[54]),b(4),q("ngForOf",e.getCollegues())}}function N6(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Importer :"),m(),_(3,"input",110),Oe("change",function(r){J(e);let s=A(3);return Z(s.onFileSelected(r))}),m()()}}function k6(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[0],r)||(s.values[0]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[0]=r.onInput(r.values[0],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[0])}}function L6(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[57],r)||(s.values[57]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[57]=r.onInput(r.values[57],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[57])}}function F6(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[51],r)||(s.values[51]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[51]=r.onInput(r.values[51],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[51])}}function R6(i,t){if(i&1){let e=Fe();_(0,"input",116),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[1],r)||(s.values[1]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[1])}}function V6(i,t){if(i&1){let e=Fe();_(0,"input",117),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[55],r)||(s.values[55]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[55])}}function j6(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[2],r)||(s.values[2]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[2])}}function B6(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[56],r)||(s.values[56]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[56])}}function q6(i,t){if(i&1&&(_(0,"div",112)(1,"p"),S(2),m(),xe(3,R6,1,1,"input",113)(4,V6,1,1,"input",114),_(5,"p"),S(6,"-"),m(),xe(7,j6,1,1,"input",115)(8,B6,1,1,"input",115),m()),i&2){let e=A(3);b(2),Ee(e.mode=="devis"?"Devis N\xB0":"Facture N\xB0"),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(3),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture")}}function H6(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",120),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[3],r)||(s.values[3]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",122),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[4],r)||(s.values[4]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[3]),b(2),Pe("ngModel",e.values[4])}}function U6(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",123),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[5],r)||(s.values[5]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",124),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[6],r)||(s.values[6]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[5]),b(2),Pe("ngModel",e.values[6])}}function z6(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",125),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[7],r)||(s.values[7]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",126),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[8],r)||(s.values[8]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[7]),b(2),Pe("ngModel",e.values[8])}}function W6(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",127),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[9],r)||(s.values[9]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",128),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[10],r)||(s.values[10]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[9]),b(2),Pe("ngModel",e.values[10])}}function $6(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",129),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[11],r)||(s.values[11]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",130),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[12],r)||(s.values[12]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[11]),b(2),Pe("ngModel",e.values[12])}}function G6(i,t){if(i&1){let e=Fe();_(0,"button",60),Oe("click",function(){J(e);let r=A(4);return Z(r.addPrestas())}),S(1," Add prestas "),m()}}function Y6(i,t){if(i&1){let e=Fe();on(0),_(1,"div",134)(2,"p",135),Oe("click",function(){J(e);let r=A().$implicit;return Z(r.qte>0?r.qte=r.qte-1:void 0)}),S(3," - "),m(),_(4,"input",136),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.qte,r)||(s.qte=r),Z(r)}),m(),_(5,"p",135),Oe("click",function(){J(e);let r=A().$implicit,s=A(4);return Z(s.addQte(r))}),S(6," + "),m()(),_(7,"input",140),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.nom,r)||(s.nom=r),Z(r)}),m(),_(8,"input",138),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.prix,r)||(s.prix=r),Z(r)}),m(),_(9,"input",139),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.reduc,r)||(s.reduc=r),Z(r)}),m(),an()}if(i&2){let e=A().$implicit;b(2),ht("disabled",e.qte<1),b(2),Pe("ngModel",e.qte),b(),ht("disabled",e.qte>0&&e.onlyOne),b(2),Pe("ngModel",e.nom),b(),Pe("ngModel",e.prix),b(),Pe("ngModel",e.reduc)}}function K6(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A().$implicit;b(),Ee(e.nom)}}function X6(i,t){if(i&1&&(_(0,"div",18),xe(1,Y6,10,8,"ng-container",133)(2,K6,2,1,"ng-template",null,1,jp),m()),i&2){let e=t.$implicit,n=Lp(3);ht("title",e.titre),b(),q("ngIf",!e.titre)("ngIfElse",n)}}function J6(i,t){if(i&1){let e=Fe();_(0,"div",131)(1,"div",25)(2,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.deleteAll())}),S(3,"Delete all"),m(),xe(4,G6,2,0,"button",108),m(),xe(5,X6,4,4,"div",132),_(6,"div",98)(7,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addPresta())}),S(8,"Ajouter prestation"),m()()()}if(i&2){let e=A(3);ht("noOverflow",!e.paysage),b(4),q("ngIf",e.mode=="facture"),b(),q("ngForOf",e.prestas)}}function Z6(i,t){if(i&1){let e=Fe();_(0,"input",142),Ie("ngModelChange",function(r){J(e);let s=A(5);return Te(s.values[13],r)||(s.values[13]=r),Z(r)}),m()}if(i&2){let e=A(5);Pe("ngModel",e.values[13])}}function Q6(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2,"\xC9ch\xE9ance :"),m(),xe(3,Z6,1,1,"input",141),m()),i&2){let e=A(4);b(3),q("ngIf",e.mode=="devis")}}function e8(i,t){if(i&1&&(_(0,"div",18),xe(1,Q6,4,1,"div",99),_(2,"div",121)(3,"p"),S(4),m()()()),i&2){let e=A(3);b(),q("ngIf",e.mode=="devis"),b(3),ct("Total : ",e.transform(e.calcTot()),"\u20AC")}}function t8(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2),m()()),i&2){let e=A(3);b(2),ct("Prestation le : ",e.values[14],"")}}function n8(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"D\xE9j\xE0 vers\xE9 :"),m(),_(3,"input",143),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[15],r)||(s.values[15]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[15])}}function i8(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Solde :"),m(),_(3,"input",144),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[60],r)||(s.values[60]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[60])}}function r8(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Mode de paiement :"),m(),_(3,"input",145),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[16],r)||(s.values[16]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[16])}}function s8(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Paiement prestataire :"),m(),_(3,"input",146),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[61],r)||(s.values[61]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[61])}}function o8(i,t){if(i&1&&(_(0,"option",165),S(1),m()),i&2){let e=t.$implicit,n=t.index;q("value",n),b(),ct(" ",e[0]," ")}}function a8(i,t){if(i&1){let e=Fe();_(0,"div",158)(1,"textarea",200),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.nom,r)||(s.nom=r),Z(r)}),m(),_(2,"select",160),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.presta,r)||(s.presta=r),Z(r)}),Oe("change",function(r){let s=J(e).$implicit,o=A(6);return Z(o.changePrestataire(r,s))}),xe(3,o8,2,2,"option",161),m(),_(4,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.monter(o,s))}),S(5,"Monter"),m(),_(6,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.descendre(o,s))}),S(7," Descendre "),m(),_(8,"input",162),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.time,r)||(s.time=r),Z(r)}),Oe("input",function(){let r=J(e).$implicit,s=A(6);return Z(s.onTimeInput(r))}),m(),_(9,"input",163),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.maquillage,r)||(s.maquillage=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("m",r))}),m(),_(10,"input",164),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.coiffure,r)||(s.coiffure=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("c",r))}),m(),_(11,"button",60),Oe("click",function(){let r=J(e).$implicit,s=A(6);return Z(s.deletePresta(r))}),S(12,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=t.index,r=A(2).index,s=A(4);b(),Pe("ngModel",e.nom),b(),Pe("ngModel",e.presta),b(),q("ngForOf",s.collegues),b(),ht("disabled",n==0),b(2),ht("disabled",n==s.getplanningprestas(r).length-1),b(2),Pe("ngModel",e.time),b(),Pe("ngModel",e.maquillage),b(),Pe("ngModel",e.coiffure)}}function l8(i,t){if(i&1){let e=Fe();_(0,"div",98)(1,"button",60),Oe("click",function(){J(e);let r=A(2).index,s=A(4);return Z(s.addPlanningPresta(r))}),S(2,"Ajouter prestation"),m()()}}function c8(i,t){if(i&1){let e=Fe();on(0),_(1,"div",151)(2,"p"),S(3),m(),_(4,"input",152),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[4],r)||(s[4]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onArriveeInput(r))}),m(),_(5,"input",153),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[5],r)||(s[5]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onRetoucheInput(r))}),m(),_(6,"input",154),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[6],r)||(s[6]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onDispoInput(r))}),m()(),_(7,"div",155)(8,"p"),S(9,"Presta"),m(),_(10,"p"),S(11,"Artiste"),m(),_(12,"p"),S(13,"\xA0"),m(),_(14,"p"),S(15,"\xA0"),m(),_(16,"p"),S(17,"Temps"),m(),_(18,"p"),S(19,"Maqu"),m(),_(20,"p"),S(21,"Coif"),m()(),xe(22,a8,13,10,"div",199)(23,l8,3,0,"div",157),an()}if(i&2){let e=A(),n=e.$implicit,r=e.index,s=A(4);b(3),Ee(n[0]+" "+n[1]),b(),Pe("ngModel",n[4]),b(),Pe("ngModel",n[5]),b(),Pe("ngModel",n[6]),b(16),q("ngForOf",s.getplanningprestas(r))("ngForTrackBy",s.trackByIndex),b(),q("ngIf",s.mode=="planning")}}function u8(i,t){if(i&1&&(_(0,"div"),xe(1,c8,24,7,"ng-container",30),m()),i&2){let e=t.index,n=A(4);b(),q("ngIf",n.getplanningprestas(e).length>0)}}function d8(i,t){if(i&1){let e=Fe();_(0,"div",147)(1,"div",148)(2,"p"),S(3,"Fin prestations : "),m(),_(4,"input",149),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.finprestas,r)||(s.finprestas=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onFinPrestasInput())}),m(),_(5,"p"),S(6,"D\xE9but c\xE9r\xE9monie : "),m(),_(7,"input",150),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.ceremonie,r)||(s.ceremonie=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onCeremonieInput())}),m()(),xe(8,u8,2,1,"div",66),m()}if(i&2){let e=A(3);b(4),Pe("ngModel",e.finprestas),b(3),Pe("ngModel",e.ceremonie),b(),q("ngForOf",e.collegues)}}function h8(i,t){if(i&1){let e=Fe();_(0,"div",166)(1,"div",25)(2,"p"),S(3,"Domaine :"),m(),_(4,"input",167),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[52],r)||(s.values[52]=r),Z(r)}),m()(),_(5,"div",25)(6,"p"),S(7,"Adresse :"),m(),_(8,"input",168),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[53],r)||(s.values[53]=r),Z(r)}),m()(),_(9,"div",25)(10,"p"),S(11,"Code postal + Ville :"),m(),_(12,"input",169),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[54],r)||(s.values[54]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(4),Pe("ngModel",e.values[52]),b(4),Pe("ngModel",e.values[53]),b(4),Pe("ngModel",e.values[54])}}function f8(i,t){if(i&1){let e=Fe();_(0,"input",159),Ie("ngModelChange",function(r){J(e);let s=A().index,o=A().index,a=A(4);return Te(a.collegues[o][s],r)||(a.collegues[o][s]=r),Z(r)}),m()}if(i&2){let e=A().index,n=A().index,r=A(4);Pe("ngModel",r.collegues[n][e])}}function p8(i,t){if(i&1&&(on(0),xe(1,f8,1,1,"input",175),an()),i&2){let e=t.index;b(),q("ngIf",e<4)}}function g8(i,t){if(i&1){let e=Fe();_(0,"div",172),xe(1,p8,2,1,"ng-container",174),_(2,"button",60),Oe("click",function(){let r=J(e).index,s=A(4);return Z(s.deleteCollegue(r))}),S(3,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=A(4);b(),q("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function m8(i,t){if(i&1&&(_(0,"div",25)(1,"div",170),xe(2,g8,4,2,"div",171),m()()),i&2){let e=A(3);b(2),q("ngForOf",e.collegues)("ngForTrackBy",e.trackByIndex)}}function _8(i,t){if(i&1){let e=Fe();_(0,"div",176)(1,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addCollegue())}),S(2," Ajouter coll\xE8gue "),m()()}}function v8(i,t){if(i&1){let e=Fe();_(0,"div",97)(1,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.return())}),S(2,"Retour"),m(),_(3,"div",98)(4,"p"),S(5,"Langue : "),m(),_(6,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.lg=="Fran\xE7ais"?r.lg="Anglais":r.lg="Fran\xE7ais")}),S(7),m()(),xe(8,N6,4,0,"div",99),_(9,"div",98)(10,"p"),S(11,"Date :"),m(),xe(12,k6,1,1,"input",100)(13,L6,1,1,"input",100)(14,F6,1,1,"input",100),m(),kt(15,"div",15),xe(16,q6,9,5,"div",101)(17,H6,5,2,"div",102)(18,U6,5,2,"div",102)(19,z6,5,2,"div",102)(20,W6,5,2,"div",102)(21,$6,5,2,"div",102)(22,J6,9,4,"div",103)(23,e8,5,2,"div",102)(24,t8,3,1,"div",99)(25,n8,4,1,"div",99)(26,i8,4,1,"div",99)(27,r8,4,1,"div",99)(28,s8,4,1,"div",99)(29,d8,9,3,"div",104)(30,h8,13,3,"div",105)(31,m8,3,2,"div",99)(32,_8,3,0,"div",106),_(33,"div",107)(34,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.generatePDFfromHTML())}),S(35," G\xE9n\xE9rer PDF "),m(),_(36,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.save())}),S(37,"Sauvegarder"),m()()()}if(i&2){let e=A(2);b(7),ct(" ",e.lg," "),b(),q("ngIf",!1),b(4),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(2),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning")}}function y8(i,t){if(i&1&&(_(0,"div",180),xe(1,f6,83,22,"div",181)(2,v6,44,20,"div",182)(3,O6,29,10,"div",8)(4,v8,38,22,"div",10),m()),i&2){let e=A();ht("flex",e.paysage)("portrait",!e.paysage),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode!="renseignement")}}function w8(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e)),"\u20AC")}}function b8(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function C8(i,t){if(i&1&&(on(0),_(1,"p",42),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),xe(7,w8,2,1,"p",30)(8,b8,2,0,"p",43),an()),i&2){let e=A().$implicit,n=A(3);b(2),ct(" ",n.lg=="Anglais"&&e.en?e.en:e.nom," "),b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":""," "),b(2),Zl(" ",n.transform(e.prix),"",e.kilorly?"/km":"","",e.hourly?"/h":"","\u20AC "),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function x8(i,t){if(i&1&&(_(0,"div"),xe(1,C8,9,12,"ng-container",30),m()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function E8(i,t){i&1&&(_(0,"div",49)(1,"p")(2,"b"),S(3,"Coordonn\xE9es Bancaires"),m()(),_(4,"p")(5,"b"),S(6,"Nom : "),m(),S(7,"La Banque Postale"),m(),_(8,"p")(9,"b"),S(10,"IBAN : "),m(),S(11,"FR41 2004 1010 1412 0723 3N03 540"),m(),_(12,"p")(13,"b"),S(14,"BIC : "),m(),S(15,"PSSTFRPPROU"),m(),_(16,"p")(17,"b"),S(18,"SIRET : "),m(),S(19,"943032342 00017"),m()())}function S8(i,t){i&1&&(_(0,"div",49)(1,"p")(2,"b"),S(3,"Bank Details"),m()(),_(4,"p")(5,"b"),S(6,"Name : "),m(),S(7,"La Banque Postale"),m(),_(8,"p")(9,"b"),S(10,"IBAN : "),m(),S(11,"FR41 2004 1010 1412 0723 3N03 540"),m(),_(12,"p")(13,"b"),S(14,"BIC : "),m(),S(15,"PSSTFRPPROU"),m(),_(16,"p")(17,"b"),S(18,"SIRET : "),m(),S(19,"943032342 00017"),m()())}function M8(i,t){if(i&1&&(_(0,"div",183,0),kt(2,"img",202),_(3,"div",185)(4,"p",203),S(5),m(),_(6,"div",204)(7,"div")(8,"p"),S(9),m(),_(10,"p"),S(11),m()(),_(12,"div")(13,"p"),S(14,"Date"),m(),_(15,"p"),S(16),m()()()(),_(17,"div",205)(18,"div",204)(19,"p"),S(20),m(),_(21,"p"),S(22),m(),_(23,"p"),S(24),m(),_(25,"p"),S(26),m()()(),_(27,"div",186)(28,"p"),S(29,"DESCRIPTION"),m(),_(30,"p"),S(31),m(),_(32,"p"),S(33),m(),_(34,"p"),S(35),m()(),_(36,"div",131),xe(37,x8,2,1,"div",66),_(38,"div",206)(39,"p"),S(40,"TOTAL"),m(),_(41,"p"),S(42),m()(),_(43,"p",31),S(44,"TVA non applicable \u2013 article 293 B du CGI"),m()(),_(45,"div",36)(46,"div",191)(47,"p")(48,"b"),S(49),m()(),_(50,"p"),S(51),m(),_(52,"p"),S(53),m(),_(54,"p"),S(55),m()(),_(56,"div",207),xe(57,E8,20,0,"div",38)(58,S8,20,0,"div",38),_(59,"div",39)(60,"p"),S(61,"THANK"),m(),_(62,"p"),S(63,"YOU"),m()()()()()),i&2){let e=A(2);b(5),Ee(e.lg=="Fran\xE7ais"?"DEVIS":"QUOTE"),b(4),ct("",e.lg=="Fran\xE7ais"?"Devis":"Quote"," #"),b(2),Ee(e.values[1]),b(5),Ee(e.values[0]),b(4),Ee(e.values[4]),b(2),pi("",e.values[6],", ",e.values[8],""),b(2),Ee(e.values[10]),b(2),Ee(e.values[12]),b(5),Ee(e.lg=="Fran\xE7ais"?"HEURES":"HOURS"),b(2),Ee(e.lg=="Fran\xE7ais"?"TARIF":"RATE"),b(2),Ee(e.lg=="Fran\xE7ais"?"MONTANT":"AMOUNT"),b(2),q("ngForOf",e.prestas),b(5),ct("",e.transform(e.calcTot()),"\u20AC"),b(7),Ee(e.values[3]),b(2),pi("",e.values[5],", ",e.values[7],""),b(2),Ee(e.values[9]),b(2),Ee(e.values[11]),b(2),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function A8(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(2).$implicit,n=A(3);b(),ct("",n.transform(n.calc(e))," \u20AC")}}function D8(i,t){i&1&&(_(0,"p",44),S(1,"Offert"),m())}function P8(i,t){if(i&1&&(_(0,"div",193)(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),xe(7,A8,2,1,"p",30)(8,D8,2,0,"p",43),m()),i&2){let e=A().$implicit,n=A(3);b(2),Ee(e.nom),b(2),Wa(" ",e.qte=="?"&&n.lg==="Fran\xE7ais"?"\xC0 definir":""," ",e.qte=="?"&&n.lg!=="Fran\xE7ais"?"To define":""," ",e.qte!="?"&&e.kilorly?e.qte*2:""," ",e.qte!="?"&&!e.kilorly?e.qte:""," ",e.kilorly&&e.qte!="?"?"km":"","",e.hourly&&e.qte!="?"?"h":"",""),b(2),Ee(e.reduc&&e.reduc!=""?e.reduc+"%":""),b(),q("ngIf",n.calc(e)>0),b(),q("ngIf",n.calc(e)==0)}}function I8(i,t){if(i&1&&(on(0),xe(1,P8,9,10,"div",192),an()),i&2){let e=t.$implicit;b(),q("ngIf",e.qte>0||e.qte=="?")}}function T8(i,t){if(i&1&&(_(0,"div",194,0)(2,"div",195)(3,"p"),S(4,"Facture"),m()(),_(5,"div",184)(6,"p"),S(7,"SAHIDET Celma"),m(),_(8,"p"),S(9),Di(10,"uppercase"),m(),_(11,"p"),S(12),Di(13,"uppercase"),m()(),_(14,"div",196)(15,"p"),S(16),Di(17,"uppercase"),m(),_(18,"p"),S(19),Di(20,"uppercase"),m(),_(21,"p"),S(22),Di(23,"uppercase"),m(),_(24,"p"),S(25),Di(26,"uppercase"),m()(),_(27,"div",187),xe(28,I8,2,1,"ng-container",66),_(29,"div",188)(30,"p"),S(31),m()()(),_(32,"div",197)(33,"p"),S(34,"Sahidet Celma"),m(),_(35,"p"),S(36,"SIRET : 92398283900014"),m(),_(37,"p"),S(38,"sahidetcelma@gmail.com"),m(),_(39,"p"),S(40,"+33 6 80 84 42 52"),m()(),_(41,"div",198)(42,"p"),S(43,"CS"),m()()()),i&2){let e=A(2);b(9),Ee(Pi(10,8,"Date de d\xE9livrance : Le "+e.values[0])),b(3),Ee(Pi(13,10,"Num\xE9ro de facture : "+e.values[55])),b(4),Ee(Pi(17,12,"Description")),b(3),Ee(Pi(20,14,"Quantit\xE9")),b(3),Ee(Pi(23,16,"R\xE9duction")),b(3),Ee(Pi(26,18,"Total")),b(3),q("ngForOf",e.prestas),b(3),ct("TOTAL : ",e.transform(e.calcTot())," \u20AC")}}function O8(i,t){if(i&1&&(_(0,"p",37),S(1),m()),i&2){let e=A(3);b(),ct(" ",e.values[50]," ")}}function N8(i,t){i&1&&(_(0,"div",72),kt(1,"div",73),_(2,"p"),S(3,"\xA0"),m()())}function k8(i,t){if(i&1&&(_(0,"div",74)(1,"p"),S(2),m()()),i&2){let e=t.$implicit;b(2),Ee(e.fr)}}function L8(i,t){if(i&1&&(_(0,"td",78),S(1),m()),i&2){let e=A(),n=e.$implicit,r=e.index,s=A().index,o=A(2).index,a=A(3);ht("none",a.checkDisplay(s,r,o))("odd",s%2!=0),sr("rowspan",a.checkRow(s,r,o))("colspan",a.checkCol(s,r,o)),b(),pi(" ",r==6&&n!=""?"Jusqu'\xE0 ":"","",n," ")}}function F8(i,t){if(i&1&&(on(0),xe(1,L8,2,8,"td",82),an()),i&2){let e=t.index;b(),q("ngIf",e>0&&e<9)}}function R8(i,t){if(i&1&&(_(0,"tr",74)(1,"p",77),S(2),m(),_(3,"td",80),S(4,"\xA0"),m(),xe(5,F8,2,1,"ng-container",66),m()),i&2){let e=t.$implicit,n=t.index,r=A(2).index,s=A(3);b(),ht("onlyonerow",s.getInvitees(r).length==1),b(),ct(" ",s.typeinvitee[e[0]]+" "+(e[0]==0?s.getNbInvitee(r,n,e[0]):"")," "),b(),ht("odd",n%2!=0),b(2),q("ngForOf",e)}}function V8(i,t){if(i&1&&(_(0,"table")(1,"tr",76)(2,"p",77),S(3,"\xA0"),m(),_(4,"td",78),S(5,"\xA0"),m(),_(6,"td",78),S(7,"\xA0"),m(),_(8,"td",78),S(9,"\xA0"),m(),_(10,"td",78),S(11,"\xA0"),m(),_(12,"td",78),S(13,"\xA0"),m(),_(14,"td",78),S(15,"\xA0"),m(),_(16,"td",78),S(17,"\xA0"),m(),_(18,"td",78),S(19,"\xA0"),m(),_(20,"td",78),S(21,"\xA0"),m()(),xe(22,R8,6,6,"tr",65),m()),i&2){let e=A().index,n=A(3);b(22),q("ngForOf",n.getInvitees(e))}}function j8(i,t){if(i&1&&(_(0,"p",83),S(1),m()),i&2){let e=A().$implicit;b(),ct(" Artiste : ",e[0]+" "+e[1]," ")}}function B8(i,t){if(i&1&&(on(0),xe(1,V8,23,1,"table",30)(2,j8,2,1,"p",75),an()),i&2){let e=t.index,n=A(3);b(),q("ngIf",n.getInvitees(e).length>0),b(),q("ngIf",n.getInvitees(0).length!=n.invitees.length)}}function q8(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Coordonn\xE9es Bancaires"),m(),_(3,"p"),S(4,"Nom : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function H8(i,t){i&1&&(_(0,"div",49)(1,"p"),S(2,"Bank Details"),m(),_(3,"p"),S(4,"Name : Soci\xE9t\xE9 G\xE9n\xE9rale"),m(),_(5,"p"),S(6,"IBAN : FR76 3000 3031 8400 1500 2190 924"),m(),_(7,"p"),S(8,"BIC : SOGEFRPP"),m(),_(9,"p"),S(10,"SIRET : 883 822 801 00014"),m()())}function U8(i,t){if(i&1&&(_(0,"div",36)(1,"p",37),S(2,"\xA0"),m(),_(3,"div",25),xe(4,q8,11,0,"div",38)(5,H8,11,0,"div",38),_(6,"div",39)(7,"p"),S(8,"THANK"),m(),_(9,"p"),S(10,"YOU"),m()()()()),i&2){let e=A(3);b(4),q("ngIf",e.lg=="Fran\xE7ais"),b(),q("ngIf",e.lg=="Anglais")}}function z8(i,t){if(i&1&&(_(0,"div")(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m()()),i&2){let e=t.$implicit;b(2),Ee(e[0]+" "+e[1]),b(2),Ee(e[2]),b(2),Ee(e[3])}}function W8(i,t){if(i&1&&(_(0,"div",61,0),kt(2,"img",12),xe(3,O8,2,1,"p",13),_(4,"p",14),S(5),m(),kt(6,"div",15),_(7,"div",16)(8,"div",62),xe(9,N8,4,0,"div",63),_(10,"div",64),xe(11,k8,3,1,"div",65),m()(),xe(12,B8,3,2,"ng-container",66),m(),xe(13,U8,11,2,"div",67),_(14,"div",68)(15,"p",37),S(16,"\xA0"),m(),_(17,"div",69)(18,"div",70)(19,"p"),S(20),m(),_(21,"p"),S(22),m(),_(23,"p"),S(24),m()(),_(25,"p",71),S(26,"CONTACT"),m(),_(27,"div",18),xe(28,z8,7,3,"div",66),m()()()()),i&2){let e=A(2);b(3),q("ngIf",e.lg=="Fran\xE7ais"),b(2),ct("Date : ",e.formatDate(e.values[51]),""),b(4),q("ngForOf",e.planningtop),b(2),q("ngForOf",e.planningtop),b(),q("ngForOf",e.getCollegues()),b(),q("ngIf",e.mode!="planning"),b(7),Ee(e.values[52]==""?"Domaine":e.values[52]),b(2),Ee(e.values[53]==""?"Adresse":e.values[53]),b(2),Ee(e.values[54]==""?"Code postal + Ville":e.values[54]),b(4),q("ngForOf",e.getCollegues())}}function $8(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Importer :"),m(),_(3,"input",110),Oe("change",function(r){J(e);let s=A(3);return Z(s.onFileSelected(r))}),m()()}}function G8(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[0],r)||(s.values[0]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[0]=r.onInput(r.values[0],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[0])}}function Y8(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[57],r)||(s.values[57]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[57]=r.onInput(r.values[57],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[57])}}function K8(i,t){if(i&1){let e=Fe();_(0,"input",111),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[51],r)||(s.values[51]=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.values[51]=r.onInput(r.values[51],!0))}),m()}if(i&2){let e=A(3);Pe("ngModel",e.values[51])}}function X8(i,t){if(i&1){let e=Fe();_(0,"input",116),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[1],r)||(s.values[1]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[1])}}function J8(i,t){if(i&1){let e=Fe();_(0,"input",117),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[55],r)||(s.values[55]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[55])}}function Z8(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[2],r)||(s.values[2]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[2])}}function Q8(i,t){if(i&1){let e=Fe();_(0,"input",118),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.values[56],r)||(s.values[56]=r),Z(r)}),m()}if(i&2){let e=A(4);Pe("ngModel",e.values[56])}}function e7(i,t){if(i&1&&(_(0,"div",112)(1,"p"),S(2),m(),xe(3,X8,1,1,"input",113)(4,J8,1,1,"input",114),_(5,"p"),S(6,"-"),m(),xe(7,Z8,1,1,"input",115)(8,Q8,1,1,"input",115),m()),i&2){let e=A(3);b(2),Ee(e.mode=="devis"?"Devis N\xB0":"Facture N\xB0"),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(3),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture")}}function t7(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",120),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[3],r)||(s.values[3]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",122),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[4],r)||(s.values[4]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[3]),b(2),Pe("ngModel",e.values[4])}}function n7(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",123),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[5],r)||(s.values[5]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",124),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[6],r)||(s.values[6]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[5]),b(2),Pe("ngModel",e.values[6])}}function i7(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",125),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[7],r)||(s.values[7]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",126),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[8],r)||(s.values[8]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[7]),b(2),Pe("ngModel",e.values[8])}}function r7(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",127),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[9],r)||(s.values[9]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",128),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[10],r)||(s.values[10]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[9]),b(2),Pe("ngModel",e.values[10])}}function s7(i,t){if(i&1){let e=Fe();_(0,"div",18)(1,"div",119)(2,"input",129),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[11],r)||(s.values[11]=r),Z(r)}),m()(),_(3,"div",121)(4,"input",130),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[12],r)||(s.values[12]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(2),Pe("ngModel",e.values[11]),b(2),Pe("ngModel",e.values[12])}}function o7(i,t){if(i&1){let e=Fe();_(0,"button",60),Oe("click",function(){J(e);let r=A(4);return Z(r.addPrestas())}),S(1," Add prestas "),m()}}function a7(i,t){if(i&1){let e=Fe();on(0),_(1,"div",134)(2,"p",135),Oe("click",function(){J(e);let r=A().$implicit;return Z(r.qte>0?r.qte=r.qte-1:void 0)}),S(3," - "),m(),_(4,"input",136),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.qte,r)||(s.qte=r),Z(r)}),m(),_(5,"p",135),Oe("click",function(){J(e);let r=A().$implicit,s=A(4);return Z(s.addQte(r))}),S(6," + "),m()(),_(7,"input",140),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.nom,r)||(s.nom=r),Z(r)}),m(),_(8,"input",138),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.prix,r)||(s.prix=r),Z(r)}),m(),_(9,"input",139),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s.reduc,r)||(s.reduc=r),Z(r)}),m(),an()}if(i&2){let e=A().$implicit;b(2),ht("disabled",e.qte<1),b(2),Pe("ngModel",e.qte),b(),ht("disabled",e.qte>0&&e.onlyOne),b(2),Pe("ngModel",e.nom),b(),Pe("ngModel",e.prix),b(),Pe("ngModel",e.reduc)}}function l7(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A().$implicit;b(),Ee(e.nom)}}function c7(i,t){if(i&1&&(_(0,"div",18),xe(1,a7,10,8,"ng-container",133)(2,l7,2,1,"ng-template",null,1,jp),m()),i&2){let e=t.$implicit,n=Lp(3);ht("title",e.titre),b(),q("ngIf",!e.titre)("ngIfElse",n)}}function u7(i,t){if(i&1){let e=Fe();_(0,"div",131)(1,"div",25)(2,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.deleteAll())}),S(3,"Delete all"),m(),xe(4,o7,2,0,"button",108),m(),xe(5,c7,4,4,"div",132),_(6,"div",98)(7,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addPresta())}),S(8,"Ajouter prestation"),m()()()}if(i&2){let e=A(3);ht("noOverflow",!e.paysage),b(4),q("ngIf",e.mode=="facture"),b(),q("ngForOf",e.prestas)}}function d7(i,t){if(i&1){let e=Fe();_(0,"input",142),Ie("ngModelChange",function(r){J(e);let s=A(5);return Te(s.values[13],r)||(s.values[13]=r),Z(r)}),m()}if(i&2){let e=A(5);Pe("ngModel",e.values[13])}}function h7(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2,"\xC9ch\xE9ance :"),m(),xe(3,d7,1,1,"input",141),m()),i&2){let e=A(4);b(3),q("ngIf",e.mode=="devis")}}function f7(i,t){if(i&1&&(_(0,"div",18),xe(1,h7,4,1,"div",99),_(2,"div",121)(3,"p"),S(4),m()()()),i&2){let e=A(3);b(),q("ngIf",e.mode=="devis"),b(3),ct("Total : ",e.transform(e.calcTot()),"\u20AC")}}function p7(i,t){if(i&1&&(_(0,"div",25)(1,"p"),S(2),m()()),i&2){let e=A(3);b(2),ct("Prestation le : ",e.values[14],"")}}function g7(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"D\xE9j\xE0 vers\xE9 :"),m(),_(3,"input",143),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[15],r)||(s.values[15]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[15])}}function m7(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Solde :"),m(),_(3,"input",144),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[60],r)||(s.values[60]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[60])}}function _7(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Mode de paiement :"),m(),_(3,"input",145),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[16],r)||(s.values[16]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[16])}}function v7(i,t){if(i&1){let e=Fe();_(0,"div",25)(1,"p"),S(2,"Paiement prestataire :"),m(),_(3,"input",146),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[61],r)||(s.values[61]=r),Z(r)}),m()()}if(i&2){let e=A(3);b(3),Pe("ngModel",e.values[61])}}function y7(i,t){if(i&1&&(_(0,"option",165),S(1),m()),i&2){let e=t.$implicit,n=t.index;q("value",n),b(),ct(" ",e[0]," ")}}function w7(i,t){if(i&1){let e=Fe();_(0,"div",158)(1,"textarea",200),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.nom,r)||(s.nom=r),Z(r)}),m(),_(2,"select",160),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.presta,r)||(s.presta=r),Z(r)}),Oe("change",function(r){let s=J(e).$implicit,o=A(6);return Z(o.changePrestataire(r,s))}),xe(3,y7,2,2,"option",161),m(),_(4,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.monter(o,s))}),S(5,"Monter"),m(),_(6,"button",60),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(6);return Z(a.descendre(o,s))}),S(7," Descendre "),m(),_(8,"input",162),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.time,r)||(s.time=r),Z(r)}),Oe("input",function(){let r=J(e).$implicit,s=A(6);return Z(s.onTimeInput(r))}),m(),_(9,"input",163),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.maquillage,r)||(s.maquillage=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("m",r))}),m(),_(10,"input",164),Ie("ngModelChange",function(r){let s=J(e).$implicit;return Te(s.coiffure,r)||(s.coiffure=r),Z(r)}),Oe("change",function(){let r=J(e).$implicit,s=A(6);return Z(s.onCheckBoxClick("c",r))}),m(),_(11,"button",60),Oe("click",function(){let r=J(e).$implicit,s=A(6);return Z(s.deletePresta(r))}),S(12,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=t.index,r=A(2).index,s=A(4);b(),Pe("ngModel",e.nom),b(),Pe("ngModel",e.presta),b(),q("ngForOf",s.collegues),b(),ht("disabled",n==0),b(2),ht("disabled",n==s.getplanningprestas(r).length-1),b(2),Pe("ngModel",e.time),b(),Pe("ngModel",e.maquillage),b(),Pe("ngModel",e.coiffure)}}function b7(i,t){if(i&1){let e=Fe();_(0,"div",98)(1,"button",60),Oe("click",function(){J(e);let r=A(2).index,s=A(4);return Z(s.addPlanningPresta(r))}),S(2,"Ajouter prestation"),m()()}}function C7(i,t){if(i&1){let e=Fe();on(0),_(1,"div",151)(2,"p"),S(3),m(),_(4,"input",152),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[4],r)||(s[4]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onArriveeInput(r))}),m(),_(5,"input",153),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[5],r)||(s[5]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onRetoucheInput(r))}),m(),_(6,"input",154),Ie("ngModelChange",function(r){J(e);let s=A().$implicit;return Te(s[6],r)||(s[6]=r),Z(r)}),Oe("input",function(){J(e);let r=A().index,s=A(4);return Z(s.onDispoInput(r))}),m()(),_(7,"div",155)(8,"p"),S(9,"Presta"),m(),_(10,"p"),S(11,"Artiste"),m(),_(12,"p"),S(13,"\xA0"),m(),_(14,"p"),S(15,"\xA0"),m(),_(16,"p"),S(17,"Temps"),m(),_(18,"p"),S(19,"Maqu"),m(),_(20,"p"),S(21,"Coif"),m()(),xe(22,w7,13,10,"div",199)(23,b7,3,0,"div",157),an()}if(i&2){let e=A(),n=e.$implicit,r=e.index,s=A(4);b(3),Ee(n[0]+" "+n[1]),b(),Pe("ngModel",n[4]),b(),Pe("ngModel",n[5]),b(),Pe("ngModel",n[6]),b(16),q("ngForOf",s.getplanningprestas(r))("ngForTrackBy",s.trackByIndex),b(),q("ngIf",s.mode=="planning")}}function x7(i,t){if(i&1&&(_(0,"div"),xe(1,C7,24,7,"ng-container",30),m()),i&2){let e=t.index,n=A(4);b(),q("ngIf",n.getplanningprestas(e).length>0)}}function E7(i,t){if(i&1){let e=Fe();_(0,"div",147)(1,"div",148)(2,"p"),S(3,"Fin prestations : "),m(),_(4,"input",149),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.finprestas,r)||(s.finprestas=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onFinPrestasInput())}),m(),_(5,"p"),S(6,"D\xE9but c\xE9r\xE9monie : "),m(),_(7,"input",150),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.ceremonie,r)||(s.ceremonie=r),Z(r)}),Oe("input",function(){J(e);let r=A(3);return Z(r.onCeremonieInput())}),m()(),xe(8,x7,2,1,"div",66),m()}if(i&2){let e=A(3);b(4),Pe("ngModel",e.finprestas),b(3),Pe("ngModel",e.ceremonie),b(),q("ngForOf",e.collegues)}}function S7(i,t){if(i&1){let e=Fe();_(0,"div",166)(1,"div",25)(2,"p"),S(3,"Domaine :"),m(),_(4,"input",167),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[52],r)||(s.values[52]=r),Z(r)}),m()(),_(5,"div",25)(6,"p"),S(7,"Adresse :"),m(),_(8,"input",168),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[53],r)||(s.values[53]=r),Z(r)}),m()(),_(9,"div",25)(10,"p"),S(11,"Code postal + Ville :"),m(),_(12,"input",169),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.values[54],r)||(s.values[54]=r),Z(r)}),m()()()}if(i&2){let e=A(3);b(4),Pe("ngModel",e.values[52]),b(4),Pe("ngModel",e.values[53]),b(4),Pe("ngModel",e.values[54])}}function M7(i,t){if(i&1){let e=Fe();_(0,"input",159),Ie("ngModelChange",function(r){J(e);let s=A().index,o=A().index,a=A(4);return Te(a.collegues[o][s],r)||(a.collegues[o][s]=r),Z(r)}),m()}if(i&2){let e=A().index,n=A().index,r=A(4);Pe("ngModel",r.collegues[n][e])}}function A7(i,t){if(i&1&&(on(0),xe(1,M7,1,1,"input",175),an()),i&2){let e=t.index;b(),q("ngIf",e<4)}}function D7(i,t){if(i&1){let e=Fe();_(0,"div",172),xe(1,A7,2,1,"ng-container",174),_(2,"button",60),Oe("click",function(){let r=J(e).index,s=A(4);return Z(s.deleteCollegue(r))}),S(3,"Supprimer"),m()()}if(i&2){let e=t.$implicit,n=A(4);b(),q("ngForOf",e)("ngForTrackBy",n.trackByIndex)}}function P7(i,t){if(i&1&&(_(0,"div",25)(1,"div",170),xe(2,D7,4,2,"div",171),m()()),i&2){let e=A(3);b(2),q("ngForOf",e.collegues)("ngForTrackBy",e.trackByIndex)}}function I7(i,t){if(i&1){let e=Fe();_(0,"div",176)(1,"button",60),Oe("click",function(){J(e);let r=A(3);return Z(r.addCollegue())}),S(2," Ajouter coll\xE8gue "),m()()}}function T7(i,t){if(i&1){let e=Fe();_(0,"div",97)(1,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.return())}),S(2,"Retour"),m(),_(3,"div",98)(4,"p"),S(5,"Langue : "),m(),_(6,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.lg=="Fran\xE7ais"?r.lg="Anglais":r.lg="Fran\xE7ais")}),S(7),m()(),xe(8,$8,4,0,"div",99),_(9,"div",98)(10,"p"),S(11,"Date :"),m(),xe(12,G8,1,1,"input",100)(13,Y8,1,1,"input",100)(14,K8,1,1,"input",100),m(),kt(15,"div",15),xe(16,e7,9,5,"div",101)(17,t7,5,2,"div",102)(18,n7,5,2,"div",102)(19,i7,5,2,"div",102)(20,r7,5,2,"div",102)(21,s7,5,2,"div",102)(22,u7,9,4,"div",103)(23,f7,5,2,"div",102)(24,p7,3,1,"div",99)(25,g7,4,1,"div",99)(26,m7,4,1,"div",99)(27,_7,4,1,"div",99)(28,v7,4,1,"div",99)(29,E7,9,3,"div",104)(30,S7,13,3,"div",105)(31,P7,3,2,"div",99)(32,I7,3,0,"div",106),_(33,"div",107)(34,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.generatePDFfromHTML())}),S(35," G\xE9n\xE9rer PDF "),m(),_(36,"button",60),Oe("click",function(){J(e);let r=A(2);return Z(r.save())}),S(37,"Sauvegarder"),m()()()}if(i&2){let e=A(2);b(7),ct(" ",e.lg," "),b(),q("ngIf",!1),b(4),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(2),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode!="planning"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode=="planning")}}function O7(i,t){if(i&1&&(_(0,"div",201),xe(1,M8,64,21,"div",181)(2,T8,44,20,"div",182)(3,W8,29,10,"div",8)(4,T7,38,22,"div",10),m()),i&2){let e=A();ht("flex",e.paysage)("portrait",!e.paysage),b(),q("ngIf",e.mode=="devis"),b(),q("ngIf",e.mode=="facture"),b(),q("ngIf",e.mode=="planning"),b(),q("ngIf",e.mode!="renseignement")}}var xM=(()=>{class i{onResize(e){this.innerHeight=e.target.innerHeight,this.innerWidth=e.target.innerWidth,e.target.innerHeight>e.target.innerWidth?this.paysage=!1:this.paysage=!0}constructor(e,n,r){this.datePipe=e,this.http=n,this.readPDF=r,this.dataService=dt(Mm),this.retour=new Ai,this.values=[],this.dataprestas=[],this.prestas=[],this.baseprestas=[{nom:"Frais de d\xE9placement",en:"Travel Expenses",titre:!0},{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement Essai (Aller/Retour)",en:"Trial Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement renfort (Aller/Retour)",en:"Backup Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Mari\xE9e (essai et jour-J)",en:"Bride (Trial and D-Day)",titre:!0},{nom:"Forfait Mari\xE9e Complet",en:"Complete Bride Package",prix:420,onlyOne:!0,bride:!0,time:120,maquillage:!0,coiffure:!0},{nom:"Maquillage Mari\xE9e",en:"Bride Makeup",prix:220,onlyOne:!0,bride:!0,time:60,maquillage:!0},{nom:"Coiffure Mari\xE9e",en:"Bride Hairstyling",prix:220,onlyOne:!0,bride:!0,time:60,coiffure:!0},{nom:"Maquillage et coiffure suppl\xE9mentaire (Mariage civil, seconde mise en beaut\xE9)",en:"Additional Makeup and Hairstyling (Civil Wedding, Second Beauty Touch-Up)",prix:300,bride:!0,time:120,maquillage:!0,coiffure:!0},{nom:"Invit\xE9e (jour-J)",en:"Guest (D-Day)",titre:!0},{nom:"Forfait Invit\xE9e Complet",en:"Complete Guest Package",prix:130,time:75,maquillage:!0,coiffure:!0},{nom:"Coiffure Invit\xE9e (Attache compl\xE8te)",en:"Guest Hairstyling (Full Updo)",prix:80,time:45,coiffure:!0},{nom:"Coiffure Invit\xE9e (Attache partielle)",en:"Guest Hairstyling (Partial Updo)",prix:70,time:45,coiffure:!0},{nom:"Brushing Hollywoodien Invit\xE9e",en:"Hollywood Blowout (Guest)",prix:70,time:45,coiffure:!0},{nom:"Maquillage Invit\xE9e",en:"Guest Makeup",prix:65,time:45,maquillage:!0},{nom:"Coiffure enfant (-13ans)",en:"Child Hairstyling (-13 years)",prix:30,time:20,coiffure:!0},{nom:"Options",en:"Options",titre:!0},{nom:"Pose Faux-cils",en:"False Lashes Application",prix:10},{nom:"Pose Faux-cils (bouquets)",en:"False Lashes Application (Clusters)",prix:0},{nom:"Maquillage Mari\xE9",en:"Groom Makeup",prix:30,onlyOne:!0,time:30,maquillage:!0},{nom:"Pr\xE9sence avant 7h",en:"Early Presence (Before 7 AM)",prix:30,onlyOne:!0},{nom:"Suivi Mari\xE9e",en:"Bride Follow-Up",prix:50,hourly:!0}],this.typeinvitee=[{fr:"Invit\xE9e",en:"Guest"},{fr:"Mari\xE9e",en:"Bride"}],this.ceremonie="",this.finprestas="",this.collegues=[["Clo\xE9","CHAUDRON","+33 6 68 64 44 02","cloe.chaudron@outlook.com","","",""],["Celma","SAHIDET","+33 6 80 84 42 52","sahidetcelma@gmail.com","","",""]],this.invitees=[[0,"8h30","8h45","9h00","9h00","10h15","15h30 \xE0 16h00","jusqu'\xE0 16h00","16h00",0]],this.planningtop=[{fr:"ARRIVEE",en:"ARRIVAL"},{fr:"INSTALLATION",en:"SETUP"},{fr:"MAQUILLAGE",en:"MAKEUP"},{fr:"COIFFURE",en:"HAIRSTYLING"},{fr:"FIN PRESTATION",en:"END OF SERVICE"},{fr:"RETOUCHES",en:"TOUCH-UPS"},{fr:"DISPONIBILITE",en:"AVAILABILITY"},{fr:"CEREMONIE",en:"CEREMONY"}],this.lg="Fran\xE7ais",this.intitules=[],this.renfort=!1,this.popupVisible=!1,this.inputValue="",this.mode="devis",this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.paysage=!0,this.inited=!1}ngOnInit(){this.baseprestas=this.dataService.getBasePrestas(),this.artiste=="celma"?this.basePrestasCelma():this.artiste=="charles"&&this.basePrestasCharles(),this.baseprestas.forEach(e=>{e.qte=0}),this.prestas=JSON.parse(JSON.stringify(this.baseprestas)),this.innerHeight>this.innerWidth?this.paysage=!1:this.paysage=!0}popupRename(e){this.inviteeEdit=e,this.inputValue=e[11],this.popupVisible=!0}cancel(){this.popupVisible=!1}validate(){this.inviteeEdit[11]=this.inputValue,this.popupVisible=!1}basePrestasCelma(){this.baseprestas=[{nom:"Frais de d\xE9placement",en:"Travel Expenses",titre:!0},{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement Essai (Aller/Retour)",en:"Trial Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Frais de d\xE9placement renfort (Aller/Retour)",en:"Backup Travel Expenses (Round Trip)",prix:.4,kilorly:!0},{nom:"Coiffure & Maquillage",en:"Guest (D-Day)",titre:!0},{nom:"Forfait Mari\xE9e (1 essai + Jour J)",prix:420,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Forfait suivi de Mari\xE9e",prix:50,hourly:!0,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:'Forfait "Elles" (1 essai commun + Jour J)',prix:800,hourly:!0,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:'Forfait "Ils" (Jour J)',prix:70,hourly:!0,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Coiffure Mari\xE9e / Mari\xE9",en:"Bride & Groom Hairstyle",titre:!0},{nom:"Forfait Coiffure Mari\xE9e (1 essai + Jour J)",prix:220,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Transformation de coiffure",prix:50,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Coiffure mari\xE9 (Jour J)",prix:20,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Coiffure invit\xE9es",en:"Guest (D-Day)",titre:!0},{nom:"Brushing",en:"Complete Guest Package",prix:40,time:75,maquillage:!1,coiffure:!0},{nom:"Attache partielle",en:"Complete Guest Package",prix:70,time:75,maquillage:!1,coiffure:!0},{nom:"Attache compl\xE8te sans pr\xE9paration des cheveux",en:"Complete Guest Package",prix:70,time:75,maquillage:!1,coiffure:!0},{nom:"Attache compl\xE8te avec pr\xE9paration des cheveux",en:"Complete Guest Package",prix:80,time:75,maquillage:!1,coiffure:!0},{nom:"Maquillage Mari\xE9e / Mari\xE9",en:"Guest (D-Day)",titre:!0},{nom:"Forfait Maquillage Mari\xE9e (1 essai + Jour J)",prix:220,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Transformation de maquillage",prix:50,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Maquillage mari\xE9 (Jour J)",prix:20,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Maquillage invit\xE9es",en:"Guest (D-Day)",titre:!0},{nom:"Maquillage invit\xE9e",prix:65,bride:!0,time:120,maquillage:!1,coiffure:!0},{nom:"Pose dimplants (fournis) / de faux-cils (non fournis)",prix:10,bride:!0,time:120,maquillage:!1,coiffure:!0}]}basePrestasCharles(){this.baseprestas=[{nom:"Frais de d\xE9placement",en:"Travel Expenses",titre:!0},{nom:"Frais de d\xE9placement",en:"Travel Expenses",prix:.4,kilorly:!0},{nom:"Principaux",en:"Principaux",titre:!0},{nom:"Consultations",en:"Consulting",prix:100},{nom:"Developpement",en:"Development",prix:100},{nom:"Design",en:"Design",prix:100},{nom:"Testing",en:"Testing",prix:100}]}onCeremonieInput(){!this.ceremonie||this.ceremonie==""?this.invitees.forEach(e=>e[8]=""):this.ceremonie.match(/^[0-9]{1,2}h[0-9]{2}$/g)&&(this.invitees.forEach(e=>e[8]=this.ceremonie),this.changeForCeremonie())}onFinPrestasInput(){this.finprestas.match(/^[0-9]{1,2}h[0-9]{2}$/g)&&this.changeForCeremonie()}changeForCeremonie(){for(let e=0;e<this.collegues.length;e++)if(this.collegues[e][4]==""){let n=this.ceremonie,r=-60;this.finprestas.match(/^[0-9]{1,2}h[0-9]{2}$/g)&&(r=0,n=this.finprestas);let s=this.getplanningprestas(e);if(s.length>0){s.forEach(l=>r-=l.time),n=this.addMinutesToTime(n,r);let o=this.invitees.find(l=>l[9]==e),a=this.planningprestas.find(l=>l.index==o[10]);a.maquillage?o[3]=n:o[3]="",a.coiffure?o[4]=n:o[4]=""}}else{let n=this.invitees.find(s=>s[9]==e),r=this.planningprestas.find(s=>s.index==n[10]);r.maquillage?n[3]=this.addMinutesToTime(this.collegues[e][4],30):n[3]="",r.coiffure?n[4]=this.addMinutesToTime(this.collegues[e][4],30):n[4]=""}this.collegues[0][4]==""&&this.collegues[1][4]==""&&this.getplanningprestas(0).length>0&&this.getplanningprestas(1).length>0?this.adaptStart():this.actualiser()}onArriveeInput(e){let n=this.collegues[e][4];n.match(/^[0-9]{1,2}h[0-9]{2}$/g)?this.changeForCeremonie():n==""&&(this.ceremonie!=""?this.onCeremonieInput():this.finprestas!=""&&this.onFinPrestasInput(),this.invitees.forEach(r=>r[6]=""))}onRetoucheInput(e){let n=this.collegues[e][5];n.match(/^[0-9]{1,2}h[0-9]{2}$/g)?this.invitees.filter(r=>r[9]==e).forEach(r=>r[6]=n):n==""&&(this.invitees.filter(r=>r[9]==e).forEach(r=>r[6]=""),this.ceremonie!=""?this.onCeremonieInput():this.finprestas!=""&&this.onFinPrestasInput())}onDispoInput(e){let n=this.collegues[e][6];n.match(/^[0-9]{1,2}h[0-9]{2}$/g)?this.invitees.filter(r=>r[9]==e).forEach(r=>r[7]=n):n==""&&this.invitees.filter(r=>r[9]==e).forEach(r=>r[7]="")}adaptStart(){if(this.invitees.filter(e=>e[9]==1).length>0){let e=this.invitees.find(o=>o[9]==0),n=this.invitees.find(o=>o[9]==1),r=e[3];r==""&&(r=e[4]);let s=n[3];if(s==""&&(s=n[4]),r!=s){let o=this.differenceMinutes(r,s);if(this.estPlusTot(r,s)){let a=this.addMinutesToTime(s,-o);n[3]!=""&&(n[3]=a),n[4]!=""&&(n[4]=a)}else{let a=this.addMinutesToTime(r,-o);e[3]!=""&&(e[3]=a),e[4]!=""&&(e[4]=a)}this.actualiser(),this.adaptRetouches()}}else this.actualiser()}adaptRetouches(){let e=this.invitees.filter(o=>o[9]==0);e=e[e.length-1];let n=this.invitees.filter(o=>o[9]==1);n=n[n.length-1];let r=e[5],s=n[5];this.estPlusTot(r,s)?(this.invitees.filter(o=>o[9]==0).forEach(o=>o[6]=s),this.invitees.filter(o=>o[9]==1).forEach(o=>o[6]="")):(this.invitees.filter(o=>o[9]==1).forEach(o=>o[6]=r),this.invitees.filter(o=>o[9]==0).forEach(o=>o[6]=""))}estPlusTot(e,n){let[r,s]=e.split("h").map(Number),[o,a]=n.split("h").map(Number),l=r*60+s,c=o*60+a;return l<c}differenceMinutes(e,n){let[r,s]=e.split("h").map(Number),[o,a]=n.split("h").map(Number),l=r*60+s,c=o*60+a;return Math.abs(c-l)}onInput(e,n=!1){if(e=e.replace(/\D/g,""),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"/"+e.slice(5)),n&&e.length>3&&(this.values[2]=e.substring(e.length-4),this.values[56]=e.substring(e.length-4)),e.length==10&&this.mode=="devis"){let[r,s,o]=e.split("/").map(Number),a=new Date(o,s-1,r);a.setDate(a.getDate()+14);let l=String(a.getDate()).padStart(2,"0"),c=String(a.getMonth()+1).padStart(2,"0"),u=a.getFullYear();this.values[13]=l+"/"+c+"/"+u}return e}monter(e,n){let r=this.getplanningprestas(n.presta),s=r[e-1],o=r[e],a=this.invitees.find(f=>f[10]==s.index),l=this.invitees.find(f=>f[10]==o.index);if(a[1]!=""){let f=a[1],w=this.addMinutesToTime(f,10),x=this.addMinutesToTime(f,20);a[1]="",a[2]="",l[1]=f,l[2]=w,l[3]!=""&&(l[3]=x),l[4]!=""&&(l[4]=x)}let c=this.invitees.indexOf(a),u=this.invitees.indexOf(l),d=this.planningprestas.indexOf(s),p=this.planningprestas.indexOf(o);this.planningprestas[d]=JSON.parse(JSON.stringify(o)),this.planningprestas[p]=JSON.parse(JSON.stringify(s)),this.invitees[c]=JSON.parse(JSON.stringify(l)),this.invitees[u]=JSON.parse(JSON.stringify(a)),this.actualiser()}descendre(e,n){let r=this.getplanningprestas(n.presta),s=r[e],o=r[e+1],a=this.invitees.find(f=>f[10]==s.index),l=this.invitees.find(f=>f[10]==o.index);if(a[1]!=""){let f=a[1],w=this.addMinutesToTime(f,10),x=this.addMinutesToTime(f,20);a[1]="",a[2]="",l[1]=f,l[2]=w,l[3]!=""&&(l[3]=x),l[4]!=""&&(l[4]=x)}let c=this.invitees.indexOf(a),u=this.invitees.indexOf(l),d=this.planningprestas.indexOf(s),p=this.planningprestas.indexOf(o);this.planningprestas[d]=JSON.parse(JSON.stringify(o)),this.planningprestas[p]=JSON.parse(JSON.stringify(s)),this.invitees[c]=JSON.parse(JSON.stringify(l)),this.invitees[u]=JSON.parse(JSON.stringify(a)),this.actualiser()}getInvIndex(e){let n=this.invitees.find(r=>r[10]==e);return this.invitees.indexOf(n)}deleteAll(){this.prestas.forEach(e=>e.qte=0)}init(e=void 0){let n=JSON.parse(JSON.stringify(this.data));console.log(n),this.inited=!1,this.prestas=JSON.parse(JSON.stringify(this.baseprestas)),this.invitees=[],this.intitules=[],this.collegues=[this.collegues[0],this.collegues[1]];let r=new Date,s=new Date;s=new Date(s.getTime()+14*24*60*60*1e3);let o=new Date;if(o=new Date(o.getTime()+30*24*6*60*60*1e3),this.values[0]=this.datePipe.transform(r,"dd/MM/yyyy")||"",this.values[1]=e?e.maxDevis+1:"1",this.artiste=="celma"&&(this.values[1]=this.datePipe.transform(r,"ddMMyy")+(e?e.maxDevis+1:"1")),this.values[2]=this.datePipe.transform(r,"yyyy")||"",this.values[3]="Clo\xE9 Chaudron",this.artiste=="charles"&&(this.values[3]="SwissKey Solutions"),this.values[5]="126 Rue de la Cerisaie",this.values[7]="84400 Gargas",this.values[9]="+33 6 68 64 44 02",this.artiste=="charles"&&(this.values[9]="+33 6 82 01 57 34"),this.values[11]="cloe.chaudron@outlook.com",this.artiste=="charles"&&(this.values[11]="swisskeysolutions.contact@gmail.com"),this.values[13]=this.datePipe.transform(s,"dd/MM/yyyy")||"",this.values[14]=this.datePipe.transform(o,"dd/MM/yyyy")||"",this.values[15]="",this.values[16]="Virement",this.values[50]="PLANNING",this.values[51]=n.date,this.values[52]="",this.values[53]="",this.values[54]="",this.values[55]=e?e.maxFacture+1:"1",this.artiste=="celma"&&(this.values[55]=this.datePipe.transform(r,"ddMMyy")+(e?e.maxFacture+1:"1")),this.values[56]=this.datePipe.transform(r,"yyyy")||"",this.values[57]=this.datePipe.transform(r,"dd/MM/yyyy")||"",this.values[58]=this.datePipe.transform(s,"dd/MM/yyyy")||"",this.values[60]="",this.values[61]=0,this.values[62]="",this.mode=n.mode,this.values[4]=n.nom,this.values[6]=n.adresse,this.values[8]=n.codepostal,this.values[10]=n.tel,this.values[12]=n.mail,this.values[14]=n.date,n.mode=="devis"&&n.devis)n.devis.prestas&&n.devis.prestas.forEach(l=>{let c=this.prestas.find(u=>l.nom.includes(u.nom)&&!u.titre);c?(c.qte=l.qte,c.prix=l.prix,c.reduc=l.reduc?l.reduc:0,c.nom=l.nom):this.prestas.push({qte:l.qte,nom:l.nom,prix:l.prix,reduc:l.reduc?l.reduc:0,kilorly:l.kilorly})}),n.devis.creation&&(this.values[0]=n.devis.creation),n.devis.numero&&(this.values[1]=n.devis.numero),n.devis.annee&&(this.values[2]=n.devis.annee),n.devis.echeance&&(this.values[13]=n.devis.echeance);else if(n.mode=="planning"&&!n.planning.date){this.values[52]=n.mariage.domaine,this.values[53]=n.mariage.adresse,this.values[54]=n.mariage.codepostal,this.ceremonie=n.mariage.ceremonie,this.planningprestas=[];let l,c=n.devis.prestas;c&&c.forEach(u=>{let d=this.prestas.find(p=>p.nom==u.nom);if(d&&d.time){u.coiffure=d.coiffure,u.maquillage=d.maquillage,u.time=d.time;for(let p=0;p<u.qte;p++){let f=JSON.parse(JSON.stringify(u));f.presta=0,f.index=this.planningprestas.length,f.bride?l=JSON.parse(JSON.stringify(f)):(this.planningprestas.push(f),this.addInvitee(f))}}}),l&&(l.index=this.planningprestas.length,this.planningprestas.push(l),this.addInvitee(l))}else if(n.mode=="planning"&&n.planning.date)this.collegues=n.planning.collegues,this.invitees=n.planning.invitees,this.values[51]=n.planning.date,this.values[52]=n.planning.domaine,this.values[53]=n.planning.adresse,this.values[54]=n.planning.codepostal,this.planningprestas=n.planning.planningprestas,this.ceremonie=n.mariage.ceremonie,this.finprestas=n.planning.finprestas;else if(n.mode=="facture"){if(n.factureClicked!=-1){console.log("facture 0");let l=n.factures[n.factureClicked];if(l.prestas&&l.prestas.forEach(c=>{let u=this.prestas.find(d=>c.nom.includes(d.nom)&&!d.titre);u?(u.qte=c.qte,u.prix=c.prix,u.reduc=c.reduc?c.reduc:0,u.nom=c.nom):this.prestas.push({qte:c.qte,nom:c.nom,prix:c.prix,reduc:c.reduc?c.reduc:0})}),l.type&&(this.values[16]=l.type),l.creation&&(this.values[57]=l.creation),l.numero&&(this.values[55]=l.numero),l.annee&&(this.values[56]=l.annee),l.solde&&(this.values[60]=l.solde),l.paiementprestas&&(this.values[61]=l.paiementprestas),n.factures.length>0){let c=0;for(let u=0;u<n.factureClicked;u++)if(u!=n.factureClicked){let d=n.factures[u];d.solde?c+=parseFloat(d.solde):d.prestas.forEach(p=>{c+=this.calc(p)})}this.values[15]=c}}else if(n.factures.length==0)console.log("facture 1"),this.prestas.push({qte:1,nom:"Paiement Arrhes",prix:this.calcaresFromDevis(),reduc:0});else if(n.factures.length>0){console.log("facture 2"),n.devis.prestas.forEach(c=>{let u=this.prestas.find(d=>c.nom.includes(d.nom)&&!d.titre);u?(u.qte=c.qte,u.prix=c.prix,u.reduc=c.reduc?c.reduc:0,u.nom=c.nom):this.prestas.push({qte:c.qte,nom:c.nom,prix:c.prix,reduc:c.reduc?c.reduc:0})});let l=0;if(n.factures.forEach(c=>{c.solde?l+=parseFloat(c.solde):c.prestas.forEach(u=>{l+=this.calc(u)}),c.prestas.forEach(u=>{let d=this.prestas.find(p=>p.nom==u.nom&&p.prix==u.prix&&p.qte==u.qte);d&&(d.qte=0)})}),this.values[15]=l,!n.factures.find(c=>c.paiementprestas&&c.paiementprestas!=0)){if(n.planning&&n.planning.planningprestas){let c=0;n.planning.planningprestas.forEach(u=>{u.presta!=0&&(c=c+parseFloat(""+u.prix))}),this.values[61]=parseInt(""+c)}n.devis&&n.devis.prestas&&n.devis.prestas.forEach(c=>{c.nom.includes("renfort")&&(this.values[61]+=this.calc(c))}),this.values[60]=parseInt(this.transform(this.calcTot(!0)))-this.values[61]}}}else n.mode=="renseignement"&&(this.informations=JSON.parse(JSON.stringify(this.data)),this.informations&&this.informations.devis&&this.informations.devis.prestas&&this.informations.devis.prestas.forEach(l=>{let c=this.prestas.find(u=>u.nom==l.nom);c&&(l.maquillage=c.maquillage,l.coiffure=c.coiffure)}),this.informations.complet=this.getNbPrestasInvitee(!0,!0),this.informations.maquillage=this.getNbPrestasInvitee(!0,!1),this.informations.coiffure=this.getNbPrestasInvitee(!1,!0),this.informations.collegues=[],this.informations.texte=["","","","",""],this.informations.planning&&this.informations.planning.planningprestas?(this.planningprestas=this.data.planning.planningprestas,this.getplanningprestas(1).length>0&&this.informations.collegues.push(this.collegues[1]),this.getplanningprestas(2).length>0&&this.informations.collegues.push(this.collegues[2]),this.getplanningprestas(3).length>0&&this.informations.collegues.push(this.collegues[3])):this.informations&&this.informations.devis&&this.informations.devis.prestas&&this.informations.devis.prestas.find(l=>l.nom.includes("renfort"))&&this.informations.collegues.push(this.collegues[1]));if(this.inited=!0,this.data.download){let l=setInterval(()=>{this.generatePDFfromHTML(),this.data.download=void 0,this.return(),clearInterval(l)},10)}let a=window.innerWidth;this.paysage||this.adjustViewport()}textWithNbsp(e){return"&nbsp;"+e.replace(/ /g,"&nbsp;")}getHeureArrivee(){return!this.informations.planning||!this.informations.planning.invitees?"":this.informations.planning.invitees.find(e=>e[9]==0&&e[1]!="")[1]}getFinPrestas(){if(!this.informations.planning||!this.informations.planning.invitees)return"";let e=this.informations.planning.invitees.filter(n=>n[9]==0);return e[e.length-1][5]}getNbPrestasInvitee(e,n){if(!this.informations.devis||!this.informations.devis.prestas)return"";let r=0;return this.informations.devis.prestas.forEach(s=>{s.bride||(!s.maquillage&&!e?(!s.coiffure&&!n||s.coiffure&&n)&&(r+=s.qte):s.maquillage&&e&&(!s.coiffure&&!n||s.coiffure&&n)&&(r+=s.qte))}),parseInt(""+r)>0?parseInt(""+r):""}generateRange(e){return new Array(e).fill(0).map((n,r)=>r)}adjustViewport(){let e=setInterval(()=>{let n=window.innerWidth,r=document.getElementById("htmlContent").offsetWidth,s=n/r,o=document.querySelector("meta[name=viewport]");o&&o.setAttribute("content",`width=device-width, initial-scale=${s}`),window.scrollTo({top:0,left:0}),document.documentElement.scrollIntoView(),document.documentElement.scrollTop=0,document.body.scrollTop=0,clearInterval(e)},100)}cancelViewport(){let e=document.querySelector("meta[name=viewport]");e&&e.setAttribute("content","width=device-width, initial-scale=1")}changePrestataire(e,n){let r=e.target.value,s=n.index,o=this.invitees.find(u=>u[10]==s),a=this.invitees.indexOf(o),l=this.invitees.filter(u=>u[9]==o[9]),c=l.indexOf(o);l.length>1&&c==0&&(l[1][1]=o[1],l[1][2]=o[2]),this.invitees.splice(a,1),this.addInvitee(n,r)}onCheckBoxClick(e,n){!n.maquillage&&!n.coiffure?e=="m"?n.coiffure=!0:n.maquillage=!0:n.maquillage&&n.coiffure?n.time=n.time*2:n.time=n.time/2;let r=this.invitees.find(o=>o[10]==n.index),s=r[3];s==""&&(s=r[4]),n.maquillage?r[3]=s:r[3]="",n.coiffure?r[4]=s:r[4]="",this.ceremonie!=""||this.finprestas!=""?this.onCeremonieInput():this.actualiser()}onTimeInput(e){e.time.match(/^[0-9]+$/)&&(e.time=parseInt(e.time),this.ceremonie!=""||this.finprestas!=""?this.onCeremonieInput():this.actualiser())}deletePresta(e){let n=this.planningprestas.indexOf(e),r=this.invitees.find(o=>o[10]==e.index),s=this.invitees.indexOf(r);this.planningprestas.splice(n,1),this.invitees.splice(s,1),this.ceremonie!=""||this.finprestas!=""?this.onCeremonieInput():this.actualiser()}addPlanningPresta(e){let n=JSON.parse(JSON.stringify(this.getplanningprestas(e)[0]));n.index=this.planningprestas.length,n.nom="",n.time=45,this.planningprestas.push(n),this.addInvitee(n,e)}getplanningprestas(e){return this.planningprestas.filter(n=>n.presta==e)}addPrestas(){let e=this.prestas.find(r=>r.nom=="Paiement Arrhes");e&&(e.qte=0),this.data.devis.prestas.forEach(r=>{let s=this.prestas.find(o=>r.nom.includes(o.nom)&&!o.titre);if(s)s.qte=r.qte,s.prix=r.prix,s.reduc=r.reduc?r.reduc:0,s.nom=r.nom;else{let o={qte:r.qte,nom:r.nom,prix:r.prix,reduc:r.reduc?r.reduc:0};r.nom.includes("Frais de d\xE9placement")&&(o.kilorly=!0),this.prestas.push(o)}});let n=0;this.data.factures.forEach(r=>{r.solde?n+=parseFloat(r.solde):r.prestas.forEach(s=>{n+=this.calc(s)}),r.prestas.forEach(s=>{let o=this.prestas.find(a=>a.nom==s.nom&&a.prix==s.prix&&a.qte==s.qte);o&&(o.qte=0)})}),this.values[15]=n}onFileSelected(e){return $e(this,null,function*(){let n=yield this.readPDF.onFileSelected(e);n.date&&(this.values[0]=n.date),n.devis&&(this.values[1]=n.devis),n.annee&&(this.values[2]=n.annee),n.nom&&(this.values[4]=n.nom),n.adresse&&(this.values[6]=n.adresse),n.codepostal&&(this.values[8]=n.codepostal),n.tel&&(this.values[10]=n.tel),n.mail&&(this.values[12]=n.mail),n.echeance&&(this.values[13]=n.echeance),n.prestas&&n.prestas.forEach(r=>{let s=this.prestas.find(o=>o.nom==r.nom);s?(s.qte=r.qte,s.prix=r.prix,s.reduc=r.reduc?r.reduc:0):this.prestas.push({qte:r.qte,nom:r.nom,prix:r.prix,reduc:r.reduc?r.reduc:0})})})}getDateArrhes(){return this.data.factures[0]?"("+this.data.factures[0].creation+")":""}return(){this.retour.emit()}delete(){this.data.delete=this.data.factureClicked,this.retour.emit()}save(){if(this.mode=="devis"){let e={};e.prestas=this.prestas.filter(n=>n.qte>0||n.qte=="?"),e.creation=this.values[0],e.numero=this.values[1],e.annee=this.values[2],e.echeance=this.values[13],this.data.devis=e,this.data.etape==0&&(this.data.etape=1)}else if(this.mode=="facture"){let e={};e.prestas=this.prestas.filter(n=>n.qte>0||n.qte=="?"),e.type=this.values[16],e.creation=this.values[57],e.numero=this.values[55],e.annee=this.values[56],e.paiementprestas=this.values[61],e.solde=this.calcTot(!0),this.values[60]&&(e.solde=this.values[60]),this.data.factures.length==0&&(this.data.etape=2,this.data.statut=="demande"&&(this.data.statut="reserve")),this.data.factureClicked==-1?this.data.factures.push(e):this.data.factures[this.data.factureClicked]=e}else if(this.mode=="planning"){let e={};e.date=this.values[51],e.domaine=this.values[52],e.adresse=this.values[53],e.codepostal=this.values[54],e.invitees=this.invitees,e.collegues=this.collegues,e.planningprestas=this.planningprestas,e.ceremonie=this.ceremonie,e.finprestas=this.finprestas,this.data.mariage.ceremonie||(this.data.mariage.ceremonie=this.ceremonie),this.data.planning=e}this.values[4]!=""&&(this.data.nom=this.values[4]),this.values[6]!=""&&(this.data.adresse=this.values[6]),this.values[8]!=""&&(this.data.codepostal=this.values[8]),this.values[10]!=""&&(this.data.tel=this.values[10]),this.values[12]!=""&&(this.data.mail=this.values[12]),this.retour.emit()}checkRow(e,n,r){let s=this.getInvitees(r),o=s[e][n],a=1;for(let l=e+1;l<s.length&&(o!=""&&s[l][n]===o);l++)a++;return a}calculate(){this.invitees.sort((e,n)=>this.toDate(e[5])-this.toDate(n[5]))}actualiser(){for(let n=0;n<this.collegues.length;n++){let r=this.invitees.filter(s=>s[9]==n);for(let s=0;s<r.length;s++){let o=r[s],a=this.planningprestas.find(l=>l.index==o[10]);if(s==0){let l="";a.maquillage?l=o[3]:a.coiffure&&(l=o[4]);let c=this.addMinutesToTime(l,-20),u=this.addMinutesToTime(l,-10);o[1]=c,o[2]=u,o[5]=this.addMinutesToTime(l,a.time)}else{let l=r[s-1][5];o[3]=a.maquillage?l:"",o[4]=a.coiffure?l:"",o[5]=this.addMinutesToTime(l,a.time)}}}let e=[];this.invitees.forEach(n=>{e.push(JSON.parse(JSON.stringify(this.planningprestas.find(r=>n[10]==r.index))))}),this.planningprestas=e}addInvitee(e,n=0){let r=this.invitees.filter(s=>s[9]==n);if(r.length==0){let s=this.collegues[n][4]!=""?this.collegues[n][4]:"8h30",o=this.addMinutesToTime(s,10),a=this.addMinutesToTime(s,20);this.invitees.push([e.bride?1:0,s,o,e.maquillage?a:"",e.coiffure?a:"",this.addMinutesToTime(a,e.time),this.collegues[n][5]!=""?this.collegues[n][5]:"",this.collegues[n][6]!=""?this.collegues[n][6]:"",this.ceremonie!=""?this.ceremonie:"",n,e.index])}else this.invitees.push([e.bride?1:0,"","",e.maquillage?r[r.length-1][5]:"",e.coiffure?r[r.length-1][5]:"",this.addMinutesToTime(r[r.length-1][5],e.time),this.collegues[n][5]!=""?this.collegues[n][5]:"",this.collegues[n][6]!=""?this.collegues[n][6]:"",this.ceremonie!=""?this.ceremonie:"",n,e.index]);this.ceremonie!=""||this.finprestas!=""?this.onCeremonieInput():this.actualiser()}cloeFinishesLater(e){let n=o=>{let[a,l]=o.split("h").map(Number);return a*60+l},r=-1/0,s=-1/0;for(let o of e){let a=n(o[5]);o[9]===0?r=Math.max(r,a):o[9]===1&&(s=Math.max(s,a))}return r>s}getInvitees(e){return this.invitees.filter(n=>n[9]==e)}trackByIndex(e,n){return e}getNbInvitee(e,n,r){let s=this.getInvitees(e),o=1;for(let a=0;a<n;a++)s[a][0]==r&&o++;return o}changetypeinvitee(e,n=!1,r=0){n&&(e[0]=e[0]==0?1:0),r!=0?e[3]!=""?e[5]=this.addMinutesToTime(e[3],r):e[4]!=""&&(e[5]=this.addMinutesToTime(e[4],r)):e[0]==1?e[3]!=""&&e[4]!=""?e[5]=this.addMinutesToTime(e[3],120):e[3]!=""?e[5]=this.addMinutesToTime(e[3],60):e[4]!=""&&(e[5]=this.addMinutesToTime(e[4],60)):e[0]==0&&(e[3]!=""&&e[4]!=""?e[5]=this.addMinutesToTime(e[3],75):e[3]!=""?e[5]=this.addMinutesToTime(e[3],45):e[4]!=""&&(e[5]=this.addMinutesToTime(e[4],45)))}toDate(e){let[n,r]=e.split("h").map(Number),s=new Date;return s.setHours(n),s.setMinutes(r),s}addMinutesToTime(e,n){let[r,s]=e.split("h").map(Number),o=new Date;o.setHours(r),o.setMinutes(s+n);let a=o.getHours(),l=o.getMinutes();return a+"h"+(l<10?"0"+l:l)}deleteInvitee(e){this.invitees.splice(e,1),this.calculate()}deleteCollegue(e){this.collegues.splice(e,1)}checkCol(e,n,r){let s=this.getInvitees(r),o=s[e][n],a=1;for(let l=n+1;l<s[e].length&&(o!=""&&s[e][l]===o);l++)a++;return a}checkDisplay(e,n,r){let s=this.getInvitees(r),o=s[e][n];return o!=""&&s[e][n-1]===o||e>0&&o!=""&&s[e-1][n]===o}generatePDFfromHTML(){this.paysage||this.cancelViewport();let e=document.getElementById("htmlContent");(0,CM.default)(e,{scale:4}).then(n=>{let r=n.toDataURL("image/jpeg"),s=new Et("p","mm","a4"),o=210,a=297,l=n.height*o/n.width,c=l,u=0;for(s.addImage(r,"JPEG",0,u,o,l),c-=a;c>=0;)u=c-l,s.addPage(),s.addImage(r,"JPEG",0,u,o,l),c-=a;let d="DEVIS_";if(this.mode=="facture"&&(d="FACTURE_"),this.mode=="planning")d="PLANNING_"+this.values[51];else if(this.mode=="renseignement")d="RENSEIGNEMENT_"+this.informations.nom.toUpperCase().replace(/ +/g,"_");else{let p=this.values[1],f=this.values[2];this.mode=="facture"&&(p=this.values[55],f=this.values[56]),p<100&&(d=d+"0"),p<10&&(d=d+"0"),d=d+p,d=d+"_"+f}s.save(d+".pdf")}),this.paysage||this.adjustViewport()}addQte(e){e.qte=parseInt(e.qte)+1}addCollegue(){this.collegues.push(["","","","","","",""])}getCollegues(){let e=[];for(let n=0;n<this.collegues.length;n++)this.getInvitees(n).length>0&&e.push(this.collegues[n]);return e}addPresta(){this.prestas.push({nom:"",qte:0,prix:50,reduc:""})}remplir(e){for(let n=0;n<this.collegues.length;n++){let r=this.getInvitees(n),s=r.find(o=>o[e]!="");s&&(e!=8?r.forEach(o=>{o[e]=s[e]}):this.invitees.forEach(o=>{o[e]=s[e]}))}}calc(e){let n=e.prix*e.qte;return e.kilorly&&(this.artiste=="cloe"?e.qte<=10?n=0:n=(e.qte-10)*2*e.prix:n=e.qte*2*e.prix),e.reduc&&(n=n-n*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(n=Math.floor(n)),n}calcTot(e=!1){let n=0;return this.prestas.filter(r=>r.qte>0).forEach(r=>{n+=this.calc(r)}),e&&this.values[15]!=""&&(n=n-this.values[15]),n}calcares(){let e=0;return this.prestas.filter(n=>n.bride&&n.qte>0).forEach(n=>{e+=this.calc(n)}),e!=0?e=.3*e:e=.3*this.calcTot(),Math.floor(e)}calcaresFromDevis(){let e=0;return this.data.devis.prestas.filter(r=>r.bride&&r.qte>0).forEach(r=>{e+=this.calc(r)}),e!=0&&(e=.3*e),Math.floor(e)}transform(e){return typeof e=="string"&&(e=e.replace(/[^0-9\.,]/g,""),e=parseFloat(e)),Number.isInteger(e)?e<100?e.toFixed(2).replace(".",","):e.toString():e.toFixed(2).replace(".",",")}formatDate(e){let[n,r,s]=e.split("/");return this.lg==="Anglais"?`${r}/${n}/${s}`:e}reinitPlanning(){this.data.planning.date=void 0,this.init()}calcGains(e){let n=this.getplanningprestas(e),r=0;return n.forEach(s=>{let o=parseInt(""+s.prix);s.reduc&&(o=o-o*s.reduc/100),o=parseInt(""+o),r+=o}),this.data.devis.prestas.forEach(s=>{if(e!=0&&s.nom.includes("renfort")&&s.qte!="?"){let o=this.calcToString(s);r+=parseInt(""+o)}else if(e==0&&s.nom.includes("Frais de d\xE9placement")&&!s.nom.includes("renfort")&&s.qte!="?"){let o=this.calcToString(s);o=="Offert"&&(o="0"),r+=parseInt(""+o)}}),this.transform(r)+"\u20AC"}calcToString(e){if(e.qte=="?")return"";let n=this.calcx(e);return n==0?"Offert":n+(n<100?",00":"")+"\u20AC"}calcx(e){if(e.qte=="?")return 0;let n=e.prix*e.qte;return e.kilorly&&(e.qte<=10?n=0:n=(e.qte-10)*2*e.prix),e.reduc&&(n=n-n*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(n=Math.floor(n)),n}static{this.\u0275fac=function(n){return new(n||i)(Nt(Ya),Nt(ec),Nt(bM))}}static{this.\u0275cmp=gp({type:i,selectors:[["app-devis"]],hostBindings:function(n,r){n&1&&Oe("resize",function(o){return r.onResize(o)},!1,kd)},inputs:{data:"data",artiste:"artiste"},outputs:{retour:"retour"},standalone:!0,features:[Ts([Ya]),Rp],decls:3,vars:3,consts:[["htmlContent",""],["elseBlock",""],["class","cloecss",3,"flex","portrait",4,"ngIf"],["class","celmacss",3,"flex","portrait",4,"ngIf"],["class","charlescss",3,"flex","portrait",4,"ngIf"],[1,"cloecss"],["id","htmlContent","class","noplanning",4,"ngIf"],["class","popup-backdrop",4,"ngIf"],["id","htmlContent",4,"ngIf"],["id","htmlContent","class","noplanning renseignement",4,"ngIf"],["class","inputs",4,"ngIf"],["id","htmlContent",1,"noplanning"],["src","logo.png",1,"logo"],["class","rosebg","style","color: white",4,"ngIf"],[1,"date"],[1,"ligne"],[1,"content"],["class","devis tinytext",4,"ngIf"],[1,"flex","between"],[1,"cloe"],[1,"nobold"],[1,"cloe","client"],[1,"table","margtop"],[1,"fullligne"],["class","table",4,"ngFor","ngForOf"],[1,"flex"],["class","tinytext echeance",4,"ngIf"],[1,"bold"],[1,"bold","total"],[1,"flex","minitxt"],[4,"ngIf"],[1,"tva"],["class","tinytext bold",4,"ngIf"],["class","infos",4,"ngIf"],["class","signature",4,"ngIf"],[1,"sign"],[1,"bottom"],[1,"rosebg",2,"color","white"],["class","iban",4,"ngIf"],[1,"thank"],[1,"devis","tinytext"],[1,"table"],[1,"textoverflow"],["class","green",4,"ngIf"],[1,"green"],[1,"tinytext","echeance"],[1,"tinytext","bold"],[1,"infos"],[1,"signature"],[1,"iban"],["class","resume",4,"ngIf"],[1,"resume"],["class","tinytext",4,"ngIf"],["class","tinytext bold rightalign",4,"ngIf"],[1,"tinytext"],[1,"tinytext","bold","rightalign"],[1,"popup-backdrop"],[1,"popup-box"],["type","text","placeholder","Entrez un nouveau nom",3,"ngModelChange","ngModel"],[1,"popup-actions"],[3,"click"],["id","htmlContent"],[1,"tableplann"],["class","relative containerline",4,"ngFor","ngForOf"],[1,"absolute"],["class","relative",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","bottom",4,"ngIf"],[1,"bottomplann"],[1,"botbot"],[1,"adres"],[1,"cont"],[1,"relative","containerline"],[1,"orientedline"],[1,"relative"],["class","artist",4,"ngIf"],[1,"firstrow"],[1,"invitee"],[1,"horaire"],["class","invitee",3,"onlyonerow","click",4,"ngIf"],[1,"horaire","noborder"],[1,"invitee",3,"click"],["class","horaire",3,"none","odd",4,"ngIf"],[1,"artist"],["id","htmlContent",1,"noplanning","renseignement"],[1,"infosmariee","glow"],[1,"infosmariee"],[1,"infosmariee","onerow"],[1,"small"],[1,"widthavailable"],[1,"column"],[1,"titre"],[1,"infosmariee","onerow","trio"],["class","column",4,"ngFor","ngForOf"],[1,"texteecrit"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"inputs"],[1,"flex","center"],["class","flex",4,"ngIf"],["type","text","placeholder","Date..",3,"ngModel","ngModelChange","input",4,"ngIf"],["class","flex right",4,"ngIf"],["class","flex between",4,"ngIf"],["class","prestas",3,"noOverflow",4,"ngIf"],["class","lignesprestas",4,"ngIf"],["class","domaine",4,"ngIf"],["class","marg flex center",4,"ngIf"],[1,"flex","center","bottombuttons"],[3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],["type","file","accept","application/pdf",3,"change"],["type","text","placeholder","Date..",3,"ngModelChange","input","ngModel"],[1,"flex","right"],["type","text","placeholder","N\xB0 du devis..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","N\xB0 de facture..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Ann\xE9e..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","N\xB0 du devis..",3,"ngModelChange","ngModel"],["type","text","placeholder","N\xB0 de facture..",3,"ngModelChange","ngModel"],["type","text","placeholder","Ann\xE9e..",3,"ngModelChange","ngModel"],[1,"flex","big"],["type","text","placeholder","Nom Clo\xE9..",3,"ngModelChange","ngModel"],[1,"flex","right","big"],["type","text","placeholder","Nom client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + ville Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + ville client..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone client..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail Clo\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail client..",3,"ngModelChange","ngModel"],[1,"prestas"],["class","flex between",3,"title",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"flex","qte"],[1,"clickable",3,"click"],["type","text","placeholder","Quantit\xE9..",3,"ngModelChange","ngModel"],["type","text","class","nom","placeholder","Nom..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Prix..",3,"ngModelChange","ngModel"],["type","text","placeholder","R\xE9duction..",3,"ngModelChange","ngModel"],["type","text","placeholder","Nom..",1,"nom",3,"ngModelChange","ngModel"],["type","text","placeholder","\xC9ch\xE9ance..",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","\xC9ch\xE9ance..",3,"ngModelChange","ngModel"],["type","text","placeholder","D\xE9j\xE0 vers\xE9..",3,"ngModelChange","ngModel"],["type","text","placeholder","Solde..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mode de paiement..",3,"ngModelChange","ngModel"],["type","text","placeholder","Paiement prestataire..",3,"ngModelChange","ngModel"],[1,"lignesprestas"],[1,"flex","topceremonie"],["type","text","placeholder","Fin prestations..",3,"ngModelChange","input","ngModel"],["type","text","placeholder","C\xE9r\xE9monie..",3,"ngModelChange","input","ngModel"],[1,"flex","topcollegue"],["type","text","placeholder","Arriv\xE9e..",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Retouches..",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Disponibilite..",3,"ngModelChange","input","ngModel"],[1,"flex","topartiste"],["class","lignepres flex",3,"bride",4,"ngFor","ngForOf","ngForTrackBy"],["class","flex center",4,"ngIf"],[1,"lignepres","flex"],["type","text",3,"ngModelChange","ngModel"],[1,"selectpresta",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text",3,"ngModelChange","input","ngModel"],["type","checkbox",1,"checkmaqu",3,"ngModelChange","change","ngModel"],["type","checkbox",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"domaine"],["type","text","placeholder","Domaine..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal + Ville..",3,"ngModelChange","ngModel"],[1,"dataplanning","flex"],["class","inviteesinput",4,"ngFor","ngForOf","ngForTrackBy"],[1,"inviteesinput"],[2,"text-align","center"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],[1,"marg","flex","center"],[1,"delete",3,"click"],[1,"inputstexte"],["type","text",3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"celmacss"],["id","htmlContent","class","devis",4,"ngIf"],["id","htmlContent","class","facture",4,"ngIf"],["id","htmlContent",1,"devis"],[1,"topleftinfos"],[1,"topright"],[1,"toptab"],[1,"prestations"],[1,"totalprestation"],[1,"infosdevis"],[1,"bottomleft"],[1,"bottomright"],["class","prestation",4,"ngIf"],[1,"prestation"],["id","htmlContent",1,"facture"],[1,"toptitle"],[1,"topprestas"],[1,"bottominfos"],[1,"bottomrightlogo"],["class","lignepres flex",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngModelChange","ngModel"],[1,"charlescss"],["src","logocharles.png",1,"logo"],[1,"big"],[1,"lignes"],[1,"topleft"],[1,"bottab"],[1,"end"]],template:function(n,r){n&1&&xe(0,l6,8,11,"div",2)(1,y8,5,8,"div",3)(2,O7,5,8,"div",4),n&2&&(q("ngIf",r.artiste=="cloe"&&r.data&&r.inited),b(),q("ngIf",r.artiste=="celma"&&r.data&&r.inited),b(),q("ngIf",r.artiste=="charles"&&r.data&&r.inited))},dependencies:[wg,vg,yg,Cu,nh,xu,mg,ih,Hd,tg,ng,AE],styles:[".cloecss[_ngcontent-%COMP%]   .inputstexte[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cloecss[_ngcontent-%COMP%]   .inputstexte[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-moz-available;width:-webkit-fill-available}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:40px!important}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .margbot[_ngcontent-%COMP%]{margin-bottom:20px}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .midsize[_ngcontent-%COMP%]{display:flex;width:45%}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .midsize[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:fit-content;white-space:nowrap;color:var(--required);font-weight:700}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .midsize[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:-moz-available;width:-webkit-fill-available;border-bottom:1px solid #808080}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:48%!important}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .glow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:700}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-flow:wrap}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;width:45%;margin-bottom:5px}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:fit-content;white-space:nowrap;color:var(--required);font-weight:700}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){text-align:center;width:-moz-available;width:-webkit-fill-available;white-space:nowrap;border-bottom:1px solid #808080}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{width:20%}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   .widthavailable[_ngcontent-%COMP%]{width:-moz-available;width:-webkit-fill-available}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{flex-flow:column}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .infosmariee[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000!important;text-align:center;width:-moz-available!important;width:-webkit-fill-available!important;white-space:nowrap;border-bottom:1px solid #808080}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .trio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30%!important}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .onerow[_ngcontent-%COMP%]{flex-flow:unset}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]{font-size:17px;width:fit-content;white-space:nowrap;color:var(--required);font-weight:700;margin-bottom:10px}.cloecss[_ngcontent-%COMP%]   .renseignement[_ngcontent-%COMP%]   .texteecrit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;width:-moz-available;width:-webkit-fill-available;white-space:nowrap;border-bottom:1px solid #808080}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid var(--scroll);background-color:var(--principale);margin:1px;border-radius:10px}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#fff}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;margin:0 5px 5px;border:1px solid var(--required);filter:drop-shadow(1px 1px 2px var(--required));color:#fff}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--required);font-weight:700!important}.cloecss[_ngcontent-%COMP%]   #htmlContent[_ngcontent-%COMP%]{width:595px!important;height:835px!important;position:relative;min-width:595px!important}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{padding-bottom:20px}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]{width:590px!important;min-width:590px!important;height:840px!important;padding:5px}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{min-width:45vw;position:relative;margin-top:10px;border-left:5px ridge var(--scroll);padding:10px 10px 0;margin-left:10px}.cloecss[_ngcontent-%COMP%]   .bottombuttons[_ngcontent-%COMP%]{margin-top:10px;padding-bottom:20px}.cloecss[_ngcontent-%COMP%]   .portrait[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{border-top:5px ridge var(--scroll);width:585px!important;border-left:unset;padding-left:10px;margin-left:unset}.cloecss[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;-ms-user-select:none;user-select:none}.cloecss[_ngcontent-%COMP%]   .textoverflow[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.cloecss[_ngcontent-%COMP%]   .rosebg[_ngcontent-%COMP%]{background-color:#ab83ba22;font-size:25.1px;text-align:center;letter-spacing:15px}.cloecss[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{justify-content:center}.cloecss[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:right}.cloecss[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;width:80px;margin:0 5px}.cloecss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:100%;margin:2px 0}.cloecss[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:180px}.cloecss[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:30%;margin:5px auto 10px;display:flex}.cloecss[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Cardo,serif!important;font-weight:400;font-style:normal;margin:0;font-size:14px;letter-spacing:1px}.cloecss[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:center;font-size:15px}.cloecss[_ngcontent-%COMP%]   .ligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:90%;display:flex;margin:auto}.cloecss[_ngcontent-%COMP%]   .fullligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:100%;display:flex;margin:auto}.cloecss[_ngcontent-%COMP%]   .margtop[_ngcontent-%COMP%]{margin-top:25px}.cloecss[_ngcontent-%COMP%]   .marg[_ngcontent-%COMP%]{margin-bottom:15px!important;border-bottom:2px solid var(--required);padding-bottom:10px}.cloecss[_ngcontent-%COMP%]   .popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.cloecss[_ngcontent-%COMP%]   .popup-box[_ngcontent-%COMP%]{border:3px solid var(--required);background:#fff;padding:20px;border-radius:12px;width:300px;box-shadow:0 0 10px #0000004d;animation:fadeIn .3s ease-in}.cloecss[_ngcontent-%COMP%]   .popup-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:var(--required);margin:0vh 0vw 1vh 0vw}.cloecss[_ngcontent-%COMP%]   .popup-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--scroll);background-color:var(--principale);margin:1px;border-radius:10px;width:97%;color:#fff}.cloecss[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:15px}.cloecss[_ngcontent-%COMP%]   .popup-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:3px solid var(--required);background-color:var(--principale);margin:1px;border-radius:10px;width:100%;color:#fff}.cloecss[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 15px;position:relative}.cloecss[_ngcontent-%COMP%]   .cloe[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;position:relative}.cloecss[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.cloecss[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]{border:unset!important;border-top:1px solid black!important;border-bottom:1px solid black!important;padding-left:15px}.cloecss[_ngcontent-%COMP%]   .nobold[_ngcontent-%COMP%]{font-weight:unset!important}.cloecss[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:700!important}.cloecss[_ngcontent-%COMP%]   .between[_ngcontent-%COMP%]{justify-content:space-between}.cloecss[_ngcontent-%COMP%]   .tinytext[_ngcontent-%COMP%]{font-size:12px!important}.cloecss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.cloecss[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}.cloecss[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:absolute;display:flex;left:120px}.cloecss[_ngcontent-%COMP%]   .invitee[_ngcontent-%COMP%]{white-space:nowrap;position:absolute;left:5px;top:2px}.cloecss[_ngcontent-%COMP%]   .inviteesinput[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cloecss[_ngcontent-%COMP%]   .inviteesinput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:1px;width:100px!important}.cloecss[_ngcontent-%COMP%]   .dataplanning[_ngcontent-%COMP%]{scrollbar-color:var(--principale) var(--scroll);scrollbar-width:thin;overflow-x:scroll;overflow-y:hidden;padding:2vh 0vw;max-width:70%}.cloecss[_ngcontent-%COMP%]   .rightalign[_ngcontent-%COMP%]{border:1px solid black;padding:10px 20px;position:absolute;right:0}.cloecss[_ngcontent-%COMP%]   .firstrow[_ngcontent-%COMP%]{opacity:0}.cloecss[_ngcontent-%COMP%]   .firstrow[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid transparent;border-bottom:1px solid black}.cloecss[_ngcontent-%COMP%]   .botbot[_ngcontent-%COMP%]{padding:5px 20px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .bride[_ngcontent-%COMP%]{background-color:var(--required);padding:5px 0;border-radius:10px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]{position:relative}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:unset!important;position:relative}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:70px!important}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px!important}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   .checkmaqu[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.3;color:#000!important}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:110px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:65px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:85px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){width:45px}.cloecss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(6){width:50px}.cloecss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]{justify-content:center;padding:5px 0;background-color:var(--fond);margin:15px 0!important;border:2px solid var(--required)}.cloecss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px}.cloecss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 10px}.cloecss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]{justify-content:center;border-bottom:2px ridge var(--scroll);padding:5px 0;margin:5px 0!important;border-top:2px ridge var(--scroll)}.cloecss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px}.cloecss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 10px}.cloecss[_ngcontent-%COMP%]   .nomslignes[_ngcontent-%COMP%]{padding:2vh 0vw}.cloecss[_ngcontent-%COMP%]   .nomslignes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px;text-align:right;height:22px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cloecss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]{display:flex;height:85px;padding-left:62px}.cloecss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:63.25px;white-space:nowrap;text-align:center;font-size:10px!important;transform:rotate(-45deg);transform-origin:left bottom;height:40px;top:62px;position:relative}.cloecss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   .containerline[_ngcontent-%COMP%]{position:relative;width:63.25px}.cloecss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   .orientedline[_ngcontent-%COMP%]{left:0;position:absolute;border-left:1px solid black;height:85px;transform:rotate(45deg);transform-origin:bottom left}.cloecss[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:108px}.cloecss[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100px;min-width:100px;font-size:9px;height:40px;resize:none}.cloecss[_ngcontent-%COMP%]   .artist[_ngcontent-%COMP%]{position:relative;top:-22px;text-align:right;font-style:italic}.cloecss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;top:-21px;left:-14px;position:relative}.cloecss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#ab83ba22}.cloecss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black}.cloecss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .firsttd[_ngcontent-%COMP%]{width:75px}.cloecss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .horaire[_ngcontent-%COMP%]{width:60px;min-width:60px;max-width:60px;text-align:center}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{display:flex}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:10%;white-space:nowrap;text-align:center;font-size:10px!important}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:45%}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:20%}.cloecss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){width:15%}.cloecss[_ngcontent-%COMP%]   .echeance[_ngcontent-%COMP%]{width:75%}.cloecss[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{width:15%;text-align:right}.cloecss[_ngcontent-%COMP%]   .boutons[_ngcontent-%COMP%]{justify-content:space-evenly}.cloecss[_ngcontent-%COMP%]   .boutons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.cloecss[_ngcontent-%COMP%]   .resume[_ngcontent-%COMP%]{position:relative;top:100px}.cloecss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]{position:relative;width:100%;top:-4px}.cloecss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important;width:100%}.cloecss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]   .tva[_ngcontent-%COMP%]{text-align:right;font-size:8px!important;white-space:nowrap}.cloecss[_ngcontent-%COMP%]   .infos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px!important}.cloecss[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;font-size:9px;padding:0 20px}.cloecss[_ngcontent-%COMP%]   .infos[_ngcontent-%COMP%]{margin-top:20px}.cloecss[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{font-size:10px!important;margin-top:10px}.cloecss[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ab83ba;font-size:12px!important}.cloecss[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#87528e;font-size:29px!important;text-align:center}.cloecss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.cloecss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{color:#87528e;text-decoration:underline;font-weight:700}.cloecss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.cloecss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]{border:1px solid black;width:250px;padding:5px 0;margin:15px 0}.cloecss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5px}.cloecss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;border-bottom:1px solid black}.cloecss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-style:italic;padding-top:5px}.cloecss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-style:italic}.cloecss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--fond);width:80%;justify-content:center;margin:20px auto auto;border-top:2px ridge var(--required);border-bottom:2px ridge var(--required);padding:10px}.cloecss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:35%}.cloecss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%}.cloecss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.cloecss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{margin:0 20px}.cloecss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]{width:60%}.cloecss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]{width:40%}.cloecss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;letter-spacing:10px}.cloecss[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:#fff!important;pointer-events:none}.cloecss[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{font-weight:700;color:#399b39}.cloecss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]{scrollbar-color:var(--principale) var(--scroll);scrollbar-width:thin;max-height:300px;overflow-y:scroll;border:1px solid var(--required);margin:20px 0;padding:10px}.cloecss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:unset}.cloecss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px;font-size:11px}.cloecss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .qte[_ngcontent-%COMP%]{width:100px}.cloecss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{width:80%;text-align:center}.cloecss[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;width:100%!important;border-bottom:1px solid var(--required);margin:10px 0}.cloecss[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700;color:red}.cloecss[_ngcontent-%COMP%]   .noOverflow[_ngcontent-%COMP%]{max-height:unset!important;overflow:hidden!important}.flex[_ngcontent-%COMP%]{display:flex}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topleftinfos[_ngcontent-%COMP%]{position:absolute;left:30px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topleftinfos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-size:100px;letter-spacing:-20px;margin-bottom:-20px;position:relative;left:-8px;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topleftinfos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:700;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]{position:absolute;top:20px;right:30px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;letter-spacing:8px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:700;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){letter-spacing:unset;font-size:18px;margin-top:10px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){letter-spacing:unset;font-size:18px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]{display:flex;position:absolute;top:250px;width:98%;background-color:var(--principale);padding:8px 0}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-weight:700}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){padding-left:40px;width:250px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:80px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:80px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]{position:absolute;top:300px;left:40px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]{display:flex;border-bottom:2px ridge var(--principale);padding-bottom:5px;margin-bottom:5px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:255px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:80px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:80px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]{display:flex;border-bottom:4px ridge var(--principale);padding:15px 0}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-size:8px;width:320px;position:relative;top:3px;text-align:right;padding-right:30px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:700;width:80px;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){text-align:center;font-weight:700;color:var(--required);width:65px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .infosdevis[_ngcontent-%COMP%]{position:absolute;bottom:160px;padding:0 25px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .infosdevis[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottomleft[_ngcontent-%COMP%]{position:absolute;bottom:40px;left:40px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottomleft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;letter-spacing:3px;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottomleft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){letter-spacing:3px;font-weight:700;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottomright[_ngcontent-%COMP%]{position:absolute;bottom:60px;right:60px}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottomright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .toptitle[_ngcontent-%COMP%]{position:relative;top:30px;background-color:var(--required)}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .toptitle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:20px 0;text-align:center;font-size:60px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topleftinfos[_ngcontent-%COMP%]{position:relative;top:75px;left:50px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topleftinfos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;font-size:18px;margin-bottom:10px;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]{position:relative;top:125px;display:flex;padding:0 40px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--required);font-weight:700}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:250px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .topprestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]{position:relative;top:135px;margin:0 40px;padding:20px 0;border-top:2px ridge orange;border-bottom:2px ridge orange}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]{display:flex;margin-bottom:5px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:250px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .prestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:center}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]{padding:0 30px;margin-top:15px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .prestations[_ngcontent-%COMP%]   .totalprestation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;font-weight:700;color:var(--required)}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .bottominfos[_ngcontent-%COMP%]{position:absolute;bottom:65px;left:40px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .bottomrightlogo[_ngcontent-%COMP%]{position:absolute;bottom:60px;right:60px;background-color:var(--required);border-radius:100%;padding:15px 20px}.celmacss[_ngcontent-%COMP%]   .facture[_ngcontent-%COMP%]   .bottomrightlogo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:-5px;font-size:50px;color:#fff;position:relative;left:-4px}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid var(--principale);background-color:var(--principale);margin:1px;border-radius:10px}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#fff}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;margin:0 5px 5px;border:1px solid var(--principale);filter:drop-shadow(1px 1px 2px var(--principale));color:#fff}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700!important;color:var(--required)}.celmacss[_ngcontent-%COMP%]   #htmlContent[_ngcontent-%COMP%]{width:595px!important;height:835px!important;position:relative;min-width:595px!important;background-color:#fff}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{padding-bottom:20px}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]{width:590px!important;min-width:590px!important;height:840px!important;padding:5px}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{min-width:45vw;position:relative;margin-top:10px;border-left:5px ridge var(--principale);padding:10px 10px 0;margin-left:10px}.celmacss[_ngcontent-%COMP%]   .bottombuttons[_ngcontent-%COMP%]{margin-top:10px;padding-bottom:20px}.celmacss[_ngcontent-%COMP%]   .portrait[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{border-top:5px ridge var(--principale);width:585px!important;border-left:unset;padding-left:10px;margin-left:unset}.celmacss[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;-ms-user-select:none;user-select:none}.celmacss[_ngcontent-%COMP%]   .textoverflow[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.celmacss[_ngcontent-%COMP%]   .rosebg[_ngcontent-%COMP%]{background-color:#ab83ba22;font-size:25.1px;text-align:center;letter-spacing:15px}.celmacss[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{justify-content:center}.celmacss[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:right}.celmacss[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;width:80px;margin:0 5px}.celmacss[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:100%;margin:2px 0}.celmacss[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:180px}.celmacss[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:30%;margin:5px auto 10px;display:flex}.celmacss[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Cardo,serif!important;font-weight:400;font-style:normal;margin:0;font-size:14px}.celmacss[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:center;font-size:15px}.celmacss[_ngcontent-%COMP%]   .ligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:90%;display:flex;margin:auto}.celmacss[_ngcontent-%COMP%]   .fullligne[_ngcontent-%COMP%]{border-bottom:1px solid black;width:100%;display:flex;margin:auto}.celmacss[_ngcontent-%COMP%]   .margtop[_ngcontent-%COMP%]{margin-top:25px}.celmacss[_ngcontent-%COMP%]   .marg[_ngcontent-%COMP%]{margin-bottom:15px!important;border-bottom:2px solid var(--principale);padding-bottom:10px}.celmacss[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 15px;position:relative}.celmacss[_ngcontent-%COMP%]   .cloe[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;position:relative}.celmacss[_ngcontent-%COMP%]   .none[_ngcontent-%COMP%]{display:none}.celmacss[_ngcontent-%COMP%]   .noborder[_ngcontent-%COMP%]{border:unset!important;border-top:1px solid black!important;border-bottom:1px solid black!important;padding-left:15px}.celmacss[_ngcontent-%COMP%]   .nobold[_ngcontent-%COMP%]{font-weight:unset!important}.celmacss[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:700!important}.celmacss[_ngcontent-%COMP%]   .between[_ngcontent-%COMP%]{justify-content:space-between}.celmacss[_ngcontent-%COMP%]   .tinytext[_ngcontent-%COMP%]{font-size:12px!important}.celmacss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.celmacss[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}.celmacss[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:absolute;display:flex;left:120px}.celmacss[_ngcontent-%COMP%]   .invitee[_ngcontent-%COMP%]{white-space:nowrap;position:absolute;left:5px;top:2px}.celmacss[_ngcontent-%COMP%]   .inviteesinput[_ngcontent-%COMP%]{display:flex;flex-direction:column}.celmacss[_ngcontent-%COMP%]   .inviteesinput[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:1px;width:100px!important}.celmacss[_ngcontent-%COMP%]   .dataplanning[_ngcontent-%COMP%]{scrollbar-color:var(--principale);scrollbar-width:thin;overflow-x:scroll;overflow-y:hidden;padding:2vh 0vw;max-width:70%}.celmacss[_ngcontent-%COMP%]   .firstrow[_ngcontent-%COMP%]{opacity:0}.celmacss[_ngcontent-%COMP%]   .firstrow[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid transparent;border-bottom:1px solid black}.celmacss[_ngcontent-%COMP%]   .botbot[_ngcontent-%COMP%]{padding:5px 20px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]{position:relative}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:unset!important;position:relative}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:70px!important}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px!important}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .lignepres[_ngcontent-%COMP%]   .checkmaqu[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.3;color:#000!important}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:110px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:65px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:85px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){width:45px}.celmacss[_ngcontent-%COMP%]   .lignesprestas[_ngcontent-%COMP%]   .topartiste[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(6){width:50px}.celmacss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]{justify-content:center;padding:5px 0;background-color:var(--principale);margin:15px 0!important;border:2px solid var(--principale)}.celmacss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px}.celmacss[_ngcontent-%COMP%]   .topceremonie[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 10px}.celmacss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]{justify-content:center;border-bottom:2px ridge var(--principale);padding:5px 0;margin:5px 0!important;border-top:2px ridge var(--principale)}.celmacss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px}.celmacss[_ngcontent-%COMP%]   .topcollegue[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 10px}.celmacss[_ngcontent-%COMP%]   .nomslignes[_ngcontent-%COMP%]{padding:2vh 0vw}.celmacss[_ngcontent-%COMP%]   .nomslignes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;top:2px;text-align:right;height:22px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.celmacss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]{display:flex;height:85px;padding-left:62px}.celmacss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:63.25px;white-space:nowrap;text-align:center;font-size:10px!important;transform:rotate(-45deg);transform-origin:left bottom;height:40px;top:62px;position:relative}.celmacss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   .containerline[_ngcontent-%COMP%]{position:relative;width:63.25px}.celmacss[_ngcontent-%COMP%]   .tableplann[_ngcontent-%COMP%]   .orientedline[_ngcontent-%COMP%]{left:0;position:absolute;border-left:1px solid black;height:85px;transform:rotate(45deg);transform-origin:bottom left}.celmacss[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:108px}.celmacss[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100px;font-size:9px;height:40px;resize:none}.celmacss[_ngcontent-%COMP%]   .artist[_ngcontent-%COMP%]{position:relative;top:-22px;text-align:right;font-style:italic}.celmacss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;top:-21px;left:-14px;position:relative}.celmacss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]{background-color:#ab83ba22}.celmacss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black}.celmacss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .firsttd[_ngcontent-%COMP%]{width:75px}.celmacss[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .horaire[_ngcontent-%COMP%]{width:60px;min-width:60px;max-width:60px;text-align:center}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{display:flex}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:10%;white-space:nowrap;text-align:center;font-size:10px!important}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:45%}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:20%}.celmacss[_ngcontent-%COMP%]   .noplanning[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(5){width:15%}.celmacss[_ngcontent-%COMP%]   .echeance[_ngcontent-%COMP%]{width:75%}.celmacss[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{width:15%;text-align:right}.celmacss[_ngcontent-%COMP%]   .boutons[_ngcontent-%COMP%]{justify-content:space-evenly}.celmacss[_ngcontent-%COMP%]   .boutons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}.celmacss[_ngcontent-%COMP%]   .resume[_ngcontent-%COMP%]{position:relative;top:100px}.celmacss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]{position:relative;width:100%;top:-4px}.celmacss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important;width:100%}.celmacss[_ngcontent-%COMP%]   .minitxt[_ngcontent-%COMP%]   .tva[_ngcontent-%COMP%]{text-align:right;font-size:8px!important;white-space:nowrap}.celmacss[_ngcontent-%COMP%]   .infos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px!important}.celmacss[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;font-size:9px;padding:0 20px}.celmacss[_ngcontent-%COMP%]   .infos[_ngcontent-%COMP%]{margin-top:20px}.celmacss[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{font-size:10px!important;margin-top:10px}.celmacss[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ab83ba;font-size:12px!important}.celmacss[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#87528e;font-size:29px!important;text-align:center}.celmacss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.celmacss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{color:#87528e;text-decoration:underline;font-weight:700}.celmacss[_ngcontent-%COMP%]   .bottomplann[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.celmacss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]{border:1px solid black;width:250px;padding:5px 0;margin:15px 0}.celmacss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 5px}.celmacss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){font-weight:700;border-bottom:1px solid black}.celmacss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-style:italic;padding-top:5px}.celmacss[_ngcontent-%COMP%]   .adres[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){font-style:italic}.celmacss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--principale);width:80%;justify-content:center;margin:20px auto auto;border-top:2px ridge var(--principale);border-bottom:2px ridge var(--principale);padding:10px}.celmacss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:35%}.celmacss[_ngcontent-%COMP%]   .domaine[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%}.celmacss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.celmacss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{margin:0 20px}.celmacss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]{width:60%}.celmacss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]{width:40%}.celmacss[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;letter-spacing:10px}.celmacss[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:#fff!important;pointer-events:none}.celmacss[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{font-weight:700;color:#399b39}.celmacss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]{scrollbar-color:var(--principale);scrollbar-width:thin;max-height:300px;overflow-y:scroll;border:1px solid var(--principale);margin:20px 0;padding:10px}.celmacss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{width:unset}.celmacss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px;font-size:11px}.celmacss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .qte[_ngcontent-%COMP%]{width:100px}.celmacss[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{width:80%;text-align:center}.celmacss[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;width:100%!important;border-bottom:1px solid var(--principale);margin:10px 0}.celmacss[_ngcontent-%COMP%]   .clickable[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700;color:red}.celmacss[_ngcontent-%COMP%]   .noOverflow[_ngcontent-%COMP%]{max-height:unset!important;overflow:hidden!important}.charlescss[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}.charlescss[_ngcontent-%COMP%]   #htmlContent[_ngcontent-%COMP%]{width:595px!important;height:835px!important;position:relative;min-width:595px!important;background:#fff}.charlescss[_ngcontent-%COMP%]   #htmlContent[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#132437}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;top:30px;left:30px;width:180px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]{position:absolute;top:60px;right:30px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]{font-weight:700;font-size:26px;letter-spacing:3px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   .lignes[_ngcontent-%COMP%]{margin-top:30px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topright[_ngcontent-%COMP%]   .lignes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:160px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .topleft[_ngcontent-%COMP%]{position:relative;left:30px;top:185px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]{display:flex;left:30px;position:relative;top:210px;border-top:1px solid #132437;border-bottom:1px solid #132437;width:525px;padding:10px 5px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:255px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:80px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:100px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .toptab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]{position:relative;left:30px;top:220px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;font-size:12px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:255px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:80px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:100px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){width:100px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .bottab[_ngcontent-%COMP%]{border-top:1px solid #132437;width:535px;margin-top:10px;padding-top:10px;font-size:16px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .bottab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:435px;text-align:right;font-weight:700}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .bottab[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:100px;text-align:right}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .tva[_ngcontent-%COMP%]{width:535px;text-align:right;font-size:10px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{position:absolute;bottom:30px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .bottomright[_ngcontent-%COMP%]{text-align:right;width:565px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:15px 30px 0;width:535px;border-top:1px solid #132437;margin-top:15px}.charlescss[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .end[_ngcontent-%COMP%]   .thank[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:25px;top:20px;position:relative;right:20px}.delete[_ngcontent-%COMP%]{background:red!important;color:#fff!important;font-weight:700!important}"]})}}return i})();var hw=c0(EM());var Im={production:!1,password:"dyoniss84",password2:"celmasahid13",password3:"....2222"};var Tm=(()=>{class i{constructor(){}getPlanningPrestasTime(e){let n=0;return e.forEach(r=>{r.time&&r.presta==0&&(n+=r.time)}),parseFloat(""+n)}getPrestasTime(e){let n=0;return e.forEach(r=>{r.time&&r.qte&&r.qte!="?"&&(n+=r.time*parseFloat(""+r.qte))}),parseFloat(""+n)}getPrestasPrice(e,n=!0,r=!1){let s=0;return e.forEach(o=>{r?o.nom.includes("renfort")&&(s+=parseFloat(this.calc(o))):n?o.nom.includes("renfort")||(s+=parseFloat(this.calc(o))):s+=parseFloat(this.calc(o))}),parseFloat(""+s)}getPlanningPrestasPrice(e,n=!1){let r=0;return e.forEach(s=>{n?s.presta!=0&&(r=r+parseInt(this.calc(s,!0))):s.presta==0&&(r=r+parseInt(this.calc(s,!0)))}),r}calc(e,n=!1){if(e.qte=="?")return 0;e.prix=parseFloat(e.prix),e.qte=parseFloat(e.qte);let r=e.prix*e.qte;return n&&(r=e.prix),e.kilorly&&(e.qte<=10?r=0:r=(e.qte-10)*2*e.prix),e.reduc&&(r=r-r*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(r=Math.floor(r)),r}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var SM=(()=>{class i{constructor(){this.dateService=dt(Ru),this.prestaService=dt(Tm),this.formatService=dt(Sm)}getHoursWorked(e,n,r,s,o){let a=this.dateService.thisYear(e,n);o&&(a=this.dateService.thisMonth(e,o,n)),r?a=this.dateService.fromNow(a):s&&(a=this.dateService.untilNow(a));let l=0;return a.forEach(c=>{if(c.statut=="essai")l+=120;else if(c.statut=="autre")l+=240;else if(c.statut=="reserve"){let u=c.planning.planningprestas;u?l+=this.prestaService.getPlanningPrestasTime(u):(u=c.devis.prestas,u&&(l+=this.prestaService.getPrestasTime(u)))}}),l}getPerHour(e,n,r,s,o){let a=parseInt(""+this.getHoursWorked(e,n,r,s,o)/60),l=0;return r?l=this.getNotPaid(e,n,o):s?l=this.getAlreadyPaid(e,n,o):l=this.getAlreadyPaid(e,n,o),+this.getNotPaid(e,n,o),parseInt(""+l/a)}getAlreadyPaid(e,n,r){let s=e.flatMap(a=>a.factures).filter(a=>{let l=parseInt(a.creation.split("/")[2],10),c=parseInt(a.creation.split("/")[1],10);return l==n&&(r?c==r+1:!0)}),o=0;return s.forEach(a=>{a.solde&&(o+=parseFloat(""+a.solde))}),parseInt(""+o)}getAlreadyPaidThisDay(e,n=!1){let r=e.factures,s=0;if(r.forEach(o=>{o.solde?s+=parseFloat(""+o.solde):s+=this.prestaService.getPrestasPrice(o.prestas,!1)}),!n){let o=0;e.prestataires?o+=parseFloat(""+e.prestataires):e.factures.filter(a=>a.paiementprestas).forEach(a=>o+=parseFloat(a.paiementprestas)),s-=parseFloat(""+o)}return parseInt(""+s)}getNotPaid(e,n,r,s=!1){let o=e.filter(l=>{let c=parseInt(l.date.split("/")[2],10),u=parseInt(l.date.split("/")[1],10);return c==n&&(r?u==r+1:!0)&&l.etape!=999&&l.devis&&l.devis.creation});s||(o=o.filter(l=>l.statut!="demande"));let a=0;return o.forEach(l=>{a+=this.getMineThisDay(l),l.factures.forEach(c=>{a-=parseFloat(c.solde)})}),parseInt(""+a)}getHelpers(e,n,r){let s=0;return e.filter(a=>{let l=parseInt(a.date.split("/")[2],10),c=parseInt(a.date.split("/")[1],10);return l==n&&(r?c==r+1:!0)&&a.statut!="demande"}).forEach(a=>{let l=0;a.prestataires?l+=parseFloat(a.prestataires):a.factures.filter(c=>c.paiementprestas).forEach(c=>l+=parseFloat(c.paiementprestas)),l==0&&a.planning&&a.planning.planningprestas&&(l+=this.prestaService.getPlanningPrestasPrice(a.planning.planningprestas,!0)),a.devis&&a.devis.prestas&&(l+=this.prestaService.getPrestasPrice(a.devis.prestas,!1,!0)),s+=parseFloat(""+l)}),parseInt(s)}getHelpersThisDay(e){let n=0,r=0;return e.prestataires?r+=parseFloat(""+e.prestataires):e.factures.filter(s=>s.paiementprestas).forEach(s=>r+=parseFloat(s.paiementprestas)),r==0&&(e.planning&&e.planning.planningprestas&&(r+=this.prestaService.getPlanningPrestasPrice(e.planning.planningprestas,!0)),e.devis&&e.devis.prestas&&(r+=this.prestaService.getPrestasPrice(e.devis.prestas,!1,!0))),n+=parseFloat(""+r),parseInt(n)}getMineThisDay(e){let n=0,r=0;return e.planning&&e.planning.planningprestas?(r+=this.prestaService.getPlanningPrestasPrice(e.planning.planningprestas,!1),n+=parseFloat(""+r),e.devis&&e.devis.prestas&&e.devis.prestas.forEach(s=>{s.kilorly&&!s.nom.includes("renfort")&&(n+=this.prestaService.calc(s))})):e.devis&&e.devis.prestas&&(r+=this.prestaService.getPrestasPrice(e.devis.prestas),n+=parseFloat(""+r)),parseInt(n)}getMonthFacturesMissing(e,n,r){let s=[],o=this.dateService.thisYear(e,r);return n&&(o=this.dateService.thisMonth(e,n,r)),o=o.filter(a=>a.etape!=999),o.forEach(a=>{if(a.devis&&a.devis.prestas){let l=this.getMineThisDay(a)-this.getAlreadyPaidThisDay(a,!0);l>0&&s.push({creation:a.date,nom:a.nom,solde:l,id:a.id})}}),this.formatService.sortByCreation(s)}getEstimate(e,n,r){return this.getAlreadyPaid(e,n,r)+this.getNotPaid(e,n,r,!0)}getTotal(e,n,r){return this.getAlreadyPaid(e,n,r)+this.getNotPaid(e,n,r)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var N7=["devis"],k7=["calendarContainer"],L7=["chartCanvas"],F7=["monthRef"],MM=()=>[],R7=()=>({}),V7=(i,t)=>({"top.px":i,"left.px":t});function j7(i,t){if(i&1){let e=Fe();_(0,"div",5)(1,"input",6),Ie("ngModelChange",function(r){J(e);let s=A();return Te(s.mdp,r)||(s.mdp=r),Z(r)}),m(),_(2,"button",7),Oe("click",function(){J(e);let r=A();return Z(r.checkMdp())}),S(3,"Valider"),m()()}if(i&2){let e=A();b(),Pe("ngModel",e.mdp)}}function B7(i,t){if(i&1){let e=Fe();_(0,"div",20)(1,"button",7),Oe("click",function(){J(e);let r=A(2);return Z(r.year=r.year-1)}),S(2,"<"),m(),_(3,"p",21),S(4),m(),_(5,"button",7),Oe("click",function(){J(e);let r=A(2);return Z(r.year=r.year+1)}),S(6,">"),m()()}if(i&2){let e=A(2);b(4),Ee(e.year)}}function q7(i,t){if(i&1){let e=Fe();_(0,"div",20)(1,"button",7),Oe("click",function(){J(e);let r=A(2);return r.month=void 0,Z(r.monthIndex=void 0)}),S(2,"< Retour"),m(),_(3,"p",21),S(4),m()()}if(i&2){let e=A(2);b(4),Ee(e.year)}}function H7(i,t){if(i&1){let e=Fe();_(0,"div",22)(1,"input",23),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.search,r)||(s.search=r),Z(r)}),m()()}if(i&2){let e=A(2);b(),Pe("ngModel",e.search)}}function U7(i,t){if(i&1&&(_(0,"div"),S(1),m()),i&2){let e=t.$implicit;b(),Ee(e)}}function z7(i,t){i&1&&kt(0,"div",33)}function W7(i,t){if(i&1&&(_(0,"p",36),S(1),m()),i&2){let e=A().$implicit,n=A().index,r=A(4);b(),Ee(r.numberOfEvents(n,e))}}function $7(i,t){if(i&1){let e=Fe();_(0,"div",34),Oe("mouseenter",function(r){let s=J(e).$implicit,o=A().index,a=A(4);return Z(a.showTooltip(r,o,s))})("mouseleave",function(){J(e);let r=A(5);return Z(r.hideTooltip())})("click",function(){let r=J(e).$implicit,s=A().index,o=A(4);return Z(o.clickJour(s,r,o.year))}),S(1),xe(2,W7,2,1,"p",35),m()}if(i&2){let e=t.$implicit,n=A().index,r=A(4);ht("ant",r.isAnt(n,e,r.year))("today",r.istoday(n,e,r.year))("noplanning",r.noPlanning(r.year,n,e))("zindex",r.numberOfEvents(n,e)>1)("nopointer",r.portrait),q("ngClass",r.isOccupied(r.year,n,e)),b(),ct(" ",e," "),b(),q("ngIf",r.numberOfEvents(n,e)>1)}}function G7(i,t){if(i&1){let e=Fe();_(0,"div",27,2),Oe("click",function(){let r=J(e),s=r.$implicit,o=r.index,a=A(4);return Z(a.clickMonth(s,o))}),_(2,"h3"),S(3),m(),_(4,"div",28),xe(5,U7,2,1,"div",29),m(),_(6,"div",30),xe(7,z7,1,0,"div",31)(8,$7,3,13,"div",32),m()()}if(i&2){let e=t.$implicit,n=t.index,r=A(4);sr("data-index",n),b(3),Ee(e+" ("+(n+1)+")"),b(2),q("ngForOf",r.weekDays),b(2),q("ngForOf",Vp(5,MM).constructor(r.getFirstDayOfMonth(r.year,n)===0?6:r.getFirstDayOfMonth(r.year,n)-1)),b(),q("ngForOf",r.getDaysInMonth(r.year,n))}}function Y7(i,t){if(i&1&&(on(0),xe(1,G7,9,6,"div",26),an()),i&2){let e=A(3);b(),q("ngForOf",e.months)}}function K7(i,t){if(i&1&&(_(0,"div"),S(1),m()),i&2){let e=t.$implicit;b(),Ee(e)}}function X7(i,t){i&1&&kt(0,"div",33)}function J7(i,t){if(i&1&&(_(0,"p",36),S(1),m()),i&2){let e=A().$implicit,n=A(4);b(),Ee(n.numberOfEvents(n.monthIndex,e))}}function Z7(i,t){if(i&1){let e=Fe();_(0,"div",34),Oe("mouseenter",function(r){let s=J(e).$implicit,o=A(4);return Z(o.showTooltip(r,o.monthIndex,s))})("mouseleave",function(){J(e);let r=A(4);return Z(r.hideTooltip())})("click",function(){let r=J(e).$implicit,s=A(4);return Z(s.clickJour(s.monthIndex,r,s.year))}),S(1),xe(2,J7,2,1,"p",35),m()}if(i&2){let e=t.$implicit,n=A(4);ht("ant",n.isAnt(n.monthIndex,e,n.year))("noplanning",n.noPlanning(n.year,n.monthIndex,e))("today",n.istoday(n.monthIndex,e,n.year)),q("ngClass",n.isOccupied(n.year,n.monthIndex,e)),b(),ct(" ",e," "),b(),q("ngIf",n.numberOfEvents(n.monthIndex,e)>1)}}function Q7(i,t){if(i&1){let e=Fe();on(0),_(1,"div",37)(2,"div",38)(3,"p",7),Oe("click",function(){J(e);let r=A(3);return Z(r.otherMonth(-1))}),S(4,"<"),m(),_(5,"p",7),Oe("click",function(){J(e);let r=A(3);return Z(r.otherMonth(1))}),S(6,">"),m()(),_(7,"h3"),S(8),m(),_(9,"div",28),xe(10,K7,2,1,"div",29),m(),_(11,"div",30),xe(12,X7,1,0,"div",31)(13,Z7,3,9,"div",39),m()(),an()}if(i&2){let e=A(3);b(8),Ee(e.month+" ("+(e.monthIndex+1)+")"),b(2),q("ngForOf",e.weekDays),b(2),q("ngForOf",Vp(4,MM).constructor(e.getFirstDayOfMonth(e.year,e.monthIndex)===0?6:e.getFirstDayOfMonth(e.year,e.monthIndex)-1)),b(),q("ngForOf",e.getDaysInMonth(e.year,e.monthIndex))}}function eV(i,t){if(i&1&&(_(0,"div",24,1),xe(2,Y7,2,1,"ng-container",25)(3,Q7,14,5,"ng-container",25),m()),i&2){let e=A(2);b(2),q("ngIf",e.portrait&&!e.month||!e.portrait),b(),q("ngIf",e.portrait&&e.month)}}function tV(i,t){if(i&1){let e=Fe();_(0,"div",52)(1,"p",7),Oe("click",function(){J(e);let r=A(3);return Z(r.onRetour(-1))}),S(2,"<"),m(),_(3,"p",21),S(4),m(),_(5,"p",7),Oe("click",function(){J(e);let r=A(3);return Z(r.onRetour(1))}),S(6,">"),m()()}if(i&2){let e=A(3);b(4),Ee(e.otherEvents()-1+" autre \xE9v\xEAnement")}}function nV(i,t){if(i&1){let e=Fe();_(0,"div")(1,"p"),S(2,"Mariage.Net :"),m(),_(3,"input",66),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariagenet,r)||(s.jourClicked.mariagenet=r),Z(r)}),m()()}if(i&2){let e=A(4);b(3),ht("red",e.diffs&&e.diffs.mariagenet),Pe("ngModel",e.jourClicked.mariagenet)}}function iV(i,t){if(i&1){let e=Fe();_(0,"div")(1,"p"),S(2,"Essai : "),m(),_(3,"div",67)(4,"input",68),Oe("input",function(){J(e);let r=A(4);return Z(r.jourClicked.essai.date=r.onInput(r.jourClicked.essai.date))}),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.essai.date,r)||(s.jourClicked.essai.date=r),Z(r)}),m(),_(5,"input",69),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.essai.lieu,r)||(s.jourClicked.essai.lieu=r),Z(r)}),m(),_(6,"input",70),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.essai.heure,r)||(s.jourClicked.essai.heure=r),Z(r)}),m()()()}if(i&2){let e=A(4);b(4),ht("red",e.diffs&&e.diffs.essai&&e.diffs.essai.date),Pe("ngModel",e.jourClicked.essai.date),b(),ht("red",e.diffs&&e.diffs.essai&&e.diffs.essai.lieu),Pe("ngModel",e.jourClicked.essai.lieu),b(),ht("red",e.diffs&&e.diffs.essai&&e.diffs.essai.heure),Pe("ngModel",e.jourClicked.essai.heure)}}function rV(i,t){if(i&1&&(_(0,"option",71),S(1),m()),i&2){let e=t.$implicit;q("ngValue",e),b(),pi(" ",e.domaine," ",e.codepostal," ")}}function sV(i,t){if(i&1){let e=Fe();_(0,"div")(1,"p"),S(2,"Mariage : "),m(),_(3,"div",67)(4,"select",60),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariage,r)||(s.jourClicked.mariage=r),Z(r)}),Oe("ngModelChange",function(r){J(e);let s=A(4);return Z(s.onDomainChange(r))}),_(5,"option",71),S(6,"Choisir un domaine"),m(),xe(7,rV,2,3,"option",72),m(),_(8,"input",73),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariage.domaine,r)||(s.jourClicked.mariage.domaine=r),Z(r)}),m(),_(9,"input",56),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariage.adresse,r)||(s.jourClicked.mariage.adresse=r),Z(r)}),m(),_(10,"input",74),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariage.codepostal,r)||(s.jourClicked.mariage.codepostal=r),Z(r)}),m(),_(11,"input",75),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.mariage.ceremonie,r)||(s.jourClicked.mariage.ceremonie=r),Z(r)}),m()()()}if(i&2){let e=A(4);b(4),Pe("ngModel",e.jourClicked.mariage),b(),q("ngValue",Vp(15,R7)),b(2),q("ngForOf",e.domaines),b(),ht("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.domaine),Pe("ngModel",e.jourClicked.mariage.domaine),b(),ht("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.adresse),Pe("ngModel",e.jourClicked.mariage.adresse),b(),ht("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.codepostal),Pe("ngModel",e.jourClicked.mariage.codepostal),b(),ht("red",e.diffs&&e.diffs.mariage&&e.diffs.mariage.ceremonie),Pe("ngModel",e.jourClicked.mariage.ceremonie)}}function oV(i,t){if(i&1){let e=Fe();_(0,"div",76)(1,"p"),S(2,"Avis : "),m(),_(3,"input",77),Ie("ngModelChange",function(r){J(e);let s=A(4);return Te(s.jourClicked.avis,r)||(s.jourClicked.avis=r),Z(r)}),m()()}if(i&2){let e=A(4);b(3),Pe("ngModel",e.jourClicked.avis)}}function aV(i,t){if(i&1){let e=Fe();_(0,"div",53)(1,"div")(2,"p"),S(3,"Date : "),m(),_(4,"input",54),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.date,r)||(s.jourClicked.date=r),Z(r)}),m()(),_(5,"div")(6,"p"),S(7,"Nom : "),m(),_(8,"input",55),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.nom,r)||(s.jourClicked.nom=r),Z(r)}),m()(),_(9,"div")(10,"p"),S(11,"Adresse : "),m(),_(12,"input",56),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.adresse,r)||(s.jourClicked.adresse=r),Z(r)}),m()(),_(13,"div")(14,"p"),S(15,"Code postal & Ville : "),m(),_(16,"input",57),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.codepostal,r)||(s.jourClicked.codepostal=r),Z(r)}),m()(),_(17,"div")(18,"p"),S(19,"T\xE9l\xE9phone : "),m(),_(20,"input",58),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.tel,r)||(s.jourClicked.tel=r),Z(r)}),m()(),_(21,"div")(22,"p"),S(23,"Mail : "),m(),_(24,"input",59),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.mail,r)||(s.jourClicked.mail=r),Z(r)}),m()(),xe(25,nV,4,3,"div",25),_(26,"div")(27,"p"),S(28,"Statut : "),m(),_(29,"select",60),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.jourClicked.statut,r)||(s.jourClicked.statut=r),Z(r)}),_(30,"option",61),S(31,"Demande Mariage"),m(),_(32,"option",62),S(33,"Mariage r\xE9serv\xE9"),m(),_(34,"option",63),S(35,"Autre (Shooting, Tournage, Animation..)"),m(),_(36,"option",64),S(37,"Perso"),m()()(),xe(38,iV,7,9,"div",25)(39,sV,12,16,"div",25)(40,oV,4,1,"div",65),m()}if(i&2){let e=A(3);b(4),ht("red",e.diffs&&e.diffs.date),Pe("ngModel",e.jourClicked.date),b(4),ht("red",e.diffs&&e.diffs.nom),Pe("ngModel",e.jourClicked.nom),b(4),ht("red",e.diffs&&e.diffs.adresse),Pe("ngModel",e.jourClicked.adresse),b(4),ht("red",e.diffs&&e.diffs.codepostal),Pe("ngModel",e.jourClicked.codepostal),b(4),ht("red",e.diffs&&e.diffs.tel),Pe("ngModel",e.jourClicked.tel),b(4),ht("red",e.diffs&&e.diffs.mail),Pe("ngModel",e.jourClicked.mail),b(),q("ngIf",e.jourClicked.statut!="perso"),b(4),ht("red",e.diffs&&e.diffs.statut),Pe("ngModel",e.jourClicked.statut),b(9),q("ngIf",e.jourClicked.statut!="perso"),b(),q("ngIf",e.jourClicked.statut!="perso"),b(),q("ngIf",e.jourClicked.statut=="reserve")}}function lV(i,t){if(i&1&&(_(0,"div",67)(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),_(7,"p"),S(8),m()()),i&2){let e=A(4);b(2),Ee(e.jourClicked.mariage.domaine),b(2),Ee(e.jourClicked.mariage.adresse),b(2),Ee(e.jourClicked.mariage.codepostal),b(2),Ee(e.jourClicked.mariage.ceremonie)}}function cV(i,t){if(i&1&&(_(0,"div",78)(1,"div")(2,"p"),S(3,"Nom :\xA0"),m(),_(4,"p"),S(5),m()(),_(6,"div")(7,"p"),S(8,"Adresse :\xA0"),m(),_(9,"p"),S(10),m()(),_(11,"div")(12,"p"),S(13,"Code postal & Ville :\xA0"),m(),_(14,"p"),S(15),m()(),_(16,"div")(17,"p"),S(18,"T\xE9l\xE9phone :\xA0"),m(),_(19,"p"),S(20),m()(),_(21,"div")(22,"p"),S(23,"Mail :\xA0"),m(),_(24,"p"),S(25),m()(),_(26,"div")(27,"p"),S(28,"Statut :\xA0"),m(),_(29,"p"),S(30),m()(),_(31,"div")(32,"p"),S(33,"Essai :\xA0"),m(),_(34,"div",67)(35,"p"),S(36),m(),_(37,"p"),S(38),m(),_(39,"p"),S(40),m()()(),_(41,"div")(42,"p"),S(43,"Mariage :\xA0"),m(),xe(44,lV,9,4,"div",79),m()()),i&2){let e=A(3);b(5),Ee(e.jourClicked.nom),b(5),Ee(e.jourClicked.adresse),b(5),Ee(e.jourClicked.codepostal),b(5),Ee(e.jourClicked.tel),b(5),Ee(e.jourClicked.mail),b(5),Ee(e.jourClicked.statut),b(6),Ee(e.jourClicked.essai.date),b(2),Ee(e.jourClicked.essai.lieu),b(2),Ee(e.jourClicked.essai.heure),b(4),q("ngIf",e.jourClicked.mariage)}}function uV(i,t){if(i&1){let e=Fe();_(0,"button",82),Oe("click",function(){J(e);let r=A(4);return Z(r.clickDevis())}),S(1),m()}if(i&2){let e=A(4);ht("red",e.diffs&&e.diffs.devis),b(),Ee(e.formatNumber(e.jourClicked.devis.numero)+"_"+e.jourClicked.devis.annee)}}function dV(i,t){if(i&1){let e=Fe();_(0,"button",7),Oe("click",function(){J(e);let r=A(4);return Z(r.clickDevis())}),S(1,"Editer"),m()}}function hV(i,t){if(i&1&&(_(0,"div",80)(1,"p"),S(2,"Devis : "),m(),xe(3,uV,2,3,"button",81)(4,dV,2,0,"button",50),m()),i&2){let e=A(3);b(3),q("ngIf",e.jourClicked.devis&&e.jourClicked.devis.creation),b(),q("ngIf",!e.jourClicked.devis||!e.jourClicked.devis.creation)}}function fV(i,t){if(i&1&&(_(0,"option",84),S(1),m()),i&2){let e=t.$implicit,n=t.index,r=A(4);q("value",n),b(),Ee(r.formatNumber(e.numero)+"_"+e.annee+" : "+(e.solde?e.solde:r.calcPaye2(n))+" ("+e.creation+")")}}function pV(i,t){if(i&1){let e=Fe();_(0,"div",80)(1,"p"),S(2,"Factures : "),m(),_(3,"select",83),Ie("ngModelChange",function(r){J(e);let s=A(3);return Te(s.selectedValue,r)||(s.selectedValue=r),Z(r)}),Oe("change",function(r){J(e);let s=A(3);return Z(s.clickFacture(r))}),_(4,"option",84),S(5,"Nouvelle facture"),m(),xe(6,fV,2,2,"option",85),m()()}if(i&2){let e=A(3);b(3),ht("red",e.diffs&&e.diffs.factures),Pe("ngModel",e.selectedValue),b(),q("value",-1),b(2),q("ngForOf",e.jourClicked.factures)}}function gV(i,t){if(i&1){let e=Fe();_(0,"button",82),Oe("click",function(){J(e);let r=A(4);return Z(r.clickPlanning())}),S(1),m()}if(i&2){let e=A(4);ht("red",e.diffs&&e.diffs.planning),b(),Ee(e.jourClicked.planning.date)}}function mV(i,t){if(i&1){let e=Fe();_(0,"button",7),Oe("click",function(){J(e);let r=A(4);return Z(r.clickPlanning())}),S(1,"Editer"),m()}}function _V(i,t){if(i&1&&(_(0,"div",80)(1,"p"),S(2,"Planning : "),m(),xe(3,gV,2,3,"button",81)(4,mV,2,0,"button",50),m()),i&2){let e=A(3);b(3),q("ngIf",e.jourClicked.planning&&e.jourClicked.planning.date),b(),q("ngIf",!e.jourClicked.planning||!e.jourClicked.planning.date)}}function vV(i,t){if(i&1){let e=Fe();_(0,"div",80)(1,"p"),S(2,"Etape : "),m(),_(3,"button",7),Oe("click",function(){J(e);let r=A(3);return Z(r.clickEtape())}),S(4),m()()}if(i&2){let e=A(3);b(4),Ee(e.getEtape())}}function yV(i,t){if(i&1&&(_(0,"div",91)(1,"p"),S(2),m(),_(3,"p"),S(4),m(),_(5,"p"),S(6),m(),_(7,"p"),S(8),m()()),i&2){let e=t.$implicit,n=A(5);b(2),Ee(e.qte=="?"?"?":e.qte),b(2),Ee(e.nom),b(2),Ee(e.reduc==0||!e.reduc?"":e.reduc+"%"),b(2),Ee(n.calcToString(e))}}function wV(i,t){if(i&1&&(_(0,"div",88)(1,"div",89)(2,"p"),S(3,"Qte"),m(),_(4,"p"),S(5,"Presta"),m(),_(6,"p"),S(7,"Reduc"),m(),_(8,"p"),S(9,"Prix"),m()(),kt(10,"div"),xe(11,yV,9,4,"div",90),kt(12,"div"),_(13,"div",89)(14,"p"),S(15),m(),_(16,"p"),S(17),m(),_(18,"p"),S(19,"Total :"),m(),_(20,"p"),S(21),m()(),_(22,"div",89)(23,"p"),S(24,"Autre :"),m(),_(25,"p"),S(26),m(),_(27,"p"),S(28,"Moi :"),m(),_(29,"p"),S(30),m()()()),i&2){let e=A(4);b(11),q("ngForOf",e.jourClicked.devis.prestas),b(4),Ee(e.jourClicked.factures.length==0?"Arrhes":"Pay\xE9 : "),b(2),Ee(e.jourClicked.factures.length==0?e.calcares():e.calcPaye()),b(4),Ee(e.calcTot()),b(5),ct("",e.calcPrestataires(),"\u20AC"),b(4),ct("",e.calcTotMinusPrestas(),"\u20AC")}}function bV(i,t){if(i&1&&(_(0,"div",86),xe(1,wV,31,6,"div",87),m()),i&2){let e=A(3);b(),q("ngIf",e.jourClicked.devis.prestas)}}function CV(i,t){if(i&1){let e=Fe();_(0,"button",7),Oe("click",function(){J(e);let r=A(3);return Z(r.save())}),S(1,"Sauvegarder"),m()}}function xV(i,t){if(i&1){let e=Fe();_(0,"button",92),Oe("click",function(){J(e);let r=A(3);return Z(r.delete())}),S(1,"Supprimer"),m()}}function EV(i,t){if(i&1){let e=Fe();_(0,"button",7),Oe("click",function(){J(e);let r=A(3);return Z(r.goToWed())}),S(1,"Aller au mariage"),m()}}function SV(i,t){if(i&1){let e=Fe();_(0,"button",7),Oe("click",function(){J(e);let r=A(3);return Z(r.sendEmail())}),S(1,"Relance"),m()}}function MV(i,t){if(i&1){let e=Fe();_(0,"div",40)(1,"button",41),Oe("click",function(){J(e);let r=A(2);return Z(r.onRetour())}),S(2,"< Retour"),m(),_(3,"div",42)(4,"p",7),Oe("click",function(){J(e);let r=A(2);return Z(r.changeJour(-1))}),S(5,"<"),m(),_(6,"p",21),S(7),m(),_(8,"p",7),Oe("click",function(){J(e);let r=A(2);return Z(r.changeJour(1))}),S(9,">"),m()(),xe(10,tV,7,1,"div",43)(11,aV,41,25,"div",44)(12,cV,45,10,"div",45)(13,hV,5,2,"div",46)(14,pV,7,5,"div",46)(15,_V,5,2,"div",46)(16,vV,5,1,"div",46)(17,bV,2,1,"div",47),_(18,"div",48)(19,"button",49),Oe("click",function(){J(e);let r=A(2);return Z(r.openRenseignement())}),S(20,"Renseignements"),m(),xe(21,CV,2,0,"button",50),_(22,"button",7),Oe("click",function(){J(e);let r=A(2);return Z(r.onRetour(2))}),S(23,"Ajouter \xE9v\xEAnement"),m(),_(24,"button",7),Oe("click",function(){J(e);let r=A(2);return Z(r.end())}),S(25,"Cloturer"),m(),xe(26,xV,2,0,"button",51)(27,EV,2,0,"button",50)(28,SV,2,0,"button",50),m()()}if(i&2){let e=A(2);b(7),Ee(e.formatDate(e.jourClicked.date)),b(3),q("ngIf",e.otherEvents()>1),b(),q("ngIf",e.jourClicked.statut!="essai"),b(),q("ngIf",e.jourClicked.statut=="essai"),b(),q("ngIf",e.jourClicked.statut!="essai"&&e.jourClicked.statut!="perso"),b(),q("ngIf",e.jourClicked.statut!="essai"&&e.jourClicked.statut!="perso"&&e.jourClicked.devis&&e.jourClicked.devis.creation),b(),q("ngIf",e.jourClicked.statut!="essai"&&e.jourClicked.statut!="perso"&&e.jourClicked.devis&&e.jourClicked.devis.creation),b(),q("ngIf",e.jourClicked.statut!="essai"&&e.jourClicked.statut!="perso"),b(),q("ngIf",e.jourClicked.statut!="essai"),b(4),q("ngIf",e.jourClicked.statut!="essai"),b(5),q("ngIf",e.jourClicked.id&&e.jourClicked.statut!="essai"),b(),q("ngIf",e.jourClicked.statut=="essai"),b(),q("ngIf",e.jourClicked.statut=="demande")}}function AV(i,t){i&1&&(_(0,"div",93)(1,"button",94),S(2,"R\xE9serv\xE9"),m(),_(3,"button",95),S(4,"Demande"),m(),_(5,"button",96),S(6,"Essai"),m(),_(7,"button",97),S(8,"Autre (Shooting, Tournage, Animation..)"),m()())}function DV(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=A(3);b(),Ee(e.getFullDate(e.prochain.date)+" : "+e.prochain.nom+" - ("+e.prochain.statut+")")}}function PV(i,t){if(i&1){let e=Fe();_(0,"div",98),Oe("click",function(){J(e);let r=A(2);return Z(r.clickProchain())}),_(1,"div")(2,"p"),S(3,"Prochain \xE9v\xE9nement :"),m(),xe(4,DV,2,1,"p",25),m()()}if(i&2){let e=A(2);b(4),q("ngIf",e.prochain)}}function IV(i,t){if(i&1){let e=Fe();_(0,"div",107),Oe("click",function(){let r=J(e).$implicit,s=A(3);return Z(s.onDayClicked(r.date,r.id))}),_(1,"p")(2,"b"),S(3),m()(),_(4,"p"),S(5),m(),_(6,"p")(7,"span",108),S(8),m()()()}if(i&2){let e=t.$implicit;b(3),Ee(e.nom),b(2),Ee(e.creation),b(3),ct("",e.solde,"\u20AC")}}function TV(i,t){if(i&1){let e=Fe();_(0,"div",107),Oe("click",function(){let r=J(e).$implicit,s=A(3);return Z(s.onDayClicked(r.creation,r.id))}),_(1,"p")(2,"b"),S(3),m()(),_(4,"p"),S(5),m(),_(6,"p")(7,"span",108),S(8),m()()()}if(i&2){let e=t.$implicit;b(3),Ee(e.nom),b(2),Ee(e.creation),b(3),ct("",e.solde,"\u20AC")}}function OV(i,t){if(i&1&&(_(0,"div",99)(1,"div",100),kt(2,"p",101)(3,"p",101)(4,"p",101)(5,"p",101)(6,"p",101)(7,"br")(8,"p",101)(9,"p",101)(10,"p",101)(11,"br")(12,"p",101)(13,"br")(14,"p",101)(15,"p",101),m(),_(16,"div",102)(17,"div"),kt(18,"p",103),_(19,"div",104),xe(20,IV,9,3,"div",105),m()(),_(21,"div",106),kt(22,"p",103),_(23,"div",104),xe(24,TV,9,3,"div",105),m()()()()),i&2){let e=A(2);b(2),q("innerHTML",e.getStatut2("demande"),Ri),b(),q("innerHTML",e.getStatut2("reserve"),Ri),b(),q("innerHTML",e.getStatut2("essai"),Ri),b(),q("innerHTML",e.getStatut2("autre"),Ri),b(),q("innerHTML",e.getEtape2(999),Ri),b(2),q("innerHTML",e.getHoursWorked(!1,!0),Ri),b(),q("innerHTML",e.getHoursWorked(!0,!1),Ri),b(),q("innerHTML",e.getHoursWorked(!1,!1),Ri),b(2),q("innerHTML","Paiement renforts : <span class='glow'>"+e.getHelpers()+"\u20AC</span>",Ri),b(2),q("innerHTML",e.getEstimate(),Ri),b(),q("innerHTML",e.getTotal(),Ri),b(3),q("innerHTML","D\xE9j\xE0 pay\xE9 : <span class='glow'>"+e.getAlreadyPaid()+"\u20AC</span>",Ri),b(2),q("ngForOf",e.getMonthFactures2()),b(2),q("innerHTML","Reste \xE0 payer : <span class='glow'>"+e.getNotPaid()+"\u20AC</span>",Ri),b(2),q("ngForOf",e.getMonthFacturesMissing())}}function NV(i,t){if(i&1&&(_(0,"option",71),S(1),m()),i&2){let e=t.$implicit;q("ngValue",e),b(),Ee(e.nom+" - "+e.date)}}function kV(i,t){if(i&1&&(_(0,"option",71),S(1),m()),i&2){let e=t.$implicit;q("ngValue",e),b(),Ee(e.nom+" - "+e.date)}}function LV(i,t){if(i&1){let e=Fe();_(0,"div",109)(1,"div",110)(2,"div")(3,"p"),S(4,"Mari\xE9es"),m(),_(5,"select",83),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.allwed,r)||(s.allwed=r),Z(r)}),Oe("change",function(r){J(e);let s=A(2);return Z(s.clickAllWed(r))}),kt(6,"option",71),xe(7,NV,2,2,"option",72),m()(),_(8,"div")(9,"p"),S(10,"Renseignements"),m(),_(11,"select",83),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.allrens,r)||(s.allrens=r),Z(r)}),Oe("change",function(r){J(e);let s=A(2);return Z(s.clickAllRens(r))}),kt(12,"option",71),xe(13,kV,2,2,"option",72),m()()()()}if(i&2){let e=A(2);b(5),Pe("ngModel",e.allwed),b(),q("ngValue",void 0),b(),q("ngForOf",e.getallWed()),b(4),Pe("ngModel",e.allrens),b(),q("ngValue",void 0),b(),q("ngForOf",e.getallWed())}}function FV(i,t){if(i&1&&(_(0,"option",71),S(1),m()),i&2){let e=t.$implicit,n=A(3);q("ngValue",e),b(),Ee(n.formatNumber(e.devis.numero)+" - "+e.nom)}}function RV(i,t){if(i&1&&(_(0,"option",71),S(1),m()),i&2){let e=t.$implicit,n=A(3);q("ngValue",e),b(),Ee(n.formatNumber(e.facture.numero)+" - "+e.nom)}}function VV(i,t){if(i&1){let e=Fe();_(0,"div",109)(1,"div",110)(2,"div")(3,"p"),S(4,"Devis"),m(),_(5,"select",83),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.alldev,r)||(s.alldev=r),Z(r)}),Oe("change",function(r){J(e);let s=A(2);return Z(s.clickAllDevis(r))}),kt(6,"option",71),xe(7,FV,2,2,"option",72),m()(),_(8,"div")(9,"p"),S(10,"Factures"),m(),_(11,"select",83),Ie("ngModelChange",function(r){J(e);let s=A(2);return Te(s.allfac,r)||(s.allfac=r),Z(r)}),Oe("change",function(r){J(e);let s=A(2);return Z(s.clickAllFactures(r))}),kt(12,"option",71),xe(13,RV,2,2,"option",72),m()()()()}if(i&2){let e=A(2);b(5),Pe("ngModel",e.alldev),b(),q("ngValue",void 0),b(),q("ngForOf",e.getalldevis()),b(4),Pe("ngModel",e.allfac),b(),q("ngValue",void 0),b(),q("ngForOf",e.getallfactures())}}function jV(i,t){if(i&1){let e=Fe();_(0,"div",109)(1,"button",111),Oe("click",function(){J(e);let r=A(2);return Z(r.sendEmails())}),S(2,"Relance"),m()()}}function BV(i,t){if(i&1&&(ao(),on(0),kt(1,"polyline",116),an()),i&2){let e=t.$implicit,n=t.index,r=A(3);b(),sr("points",r.getLinePoints(e))("stroke",r.colors[n])}}function qV(i,t){if(i&1&&(ao(),on(0),kt(1,"circle",117),an()),i&2){let e=A(),n=e.$implicit,r=e.index,s=A(),o=s.$implicit,a=s.index,l=A(3);b(),sr("cx",r*l.xStep)("cy",l.height-l.getMonthValue(o,n)/l.maxValue*l.height)("fill",l.colors[a])}}function HV(i,t){if(i&1&&(ao(),on(0),xe(1,qV,2,3,"ng-container",25),an()),i&2){let e=t.$implicit,n=A().$implicit,r=A(3);b(),q("ngIf",!(+n===r.currentYear&&e>r.currentMonth-1))}}function UV(i,t){if(i&1&&(ao(),on(0),xe(1,HV,2,1,"ng-container",29),an()),i&2){let e=A(3);b(),q("ngForOf",e.monthLabels)}}function zV(i,t){if(i&1&&(_(0,"span"),S(1),m()),i&2){let e=t.$implicit,n=t.index,r=A(3);Rd("color",r.colors[n]),b(),Ee(e)}}function WV(i,t){if(i&1&&(ao(),on(0),kt(1,"circle",117),an()),i&2){let e=A(),n=e.$implicit,r=e.index,s=A(),o=s.$implicit,a=s.index,l=A(3);b(),sr("cx",r*l.xStep)("cy",l.height-l.getCumulativeValue(o,n)/l.cumulativeMax*l.height)("fill",l.colors[a])}}function $V(i,t){if(i&1&&(ao(),on(0),xe(1,WV,2,3,"ng-container",25),an()),i&2){let e=t.$implicit,n=A().$implicit,r=A(3);b(),q("ngIf",!(+n===r.currentYear&&e>r.currentMonth-1))}}function GV(i,t){if(i&1&&(ao(),on(0),kt(1,"polyline",116),xe(2,$V,2,1,"ng-container",29),an()),i&2){let e=t.$implicit,n=t.index,r=A(3);b(),sr("points",r.getCumulativeLinePoints(e))("stroke",r.colors[n]),b(),q("ngForOf",r.monthLabels)}}function YV(i,t){if(i&1&&(_(0,"span"),S(1),m()),i&2){let e=t.$implicit,n=t.index,r=A(3);Rd("color",r.colors[n]),b(),Ee(e)}}function KV(i,t){if(i&1&&(_(0,"div",112)(1,"div",113)(2,"p"),S(3,"Gains par mois"),m(),ao(),_(4,"svg"),xe(5,BV,2,2,"ng-container",29)(6,UV,2,1,"ng-container",29),m(),rv(),_(7,"div",114),xe(8,zV,2,3,"span",115),m()(),_(9,"div",113)(10,"p"),S(11,"Gains de l'ann\xE9e"),m(),ao(),_(12,"svg"),xe(13,GV,3,3,"ng-container",29),m(),rv(),_(14,"div",114),xe(15,YV,2,3,"span",115),m()()()),i&2){let e=A(2);b(4),sr("width",e.width)("height",e.height),b(),q("ngForOf",e.years),b(),q("ngForOf",e.years),b(2),q("ngForOf",e.years),b(4),sr("width",e.width)("height",e.height),b(),q("ngForOf",e.years),b(2),q("ngForOf",e.years)}}function XV(i,t){if(i&1&&(_(0,"p"),S(1),m()),i&2){let e=t.$implicit;b(),Ee(e.statut+" : "+e.nom)}}function JV(i,t){if(i&1&&(_(0,"div",118),xe(1,XV,2,1,"p",29),m()),i&2){let e=A(2);q("ngStyle",iE(2,V7,e.tooltip.y,e.tooltip.x)),b(),q("ngForOf",e.tooltip.data)}}function ZV(i,t){if(i&1){let e=Fe();_(0,"div",8),xe(1,B7,7,1,"div",9)(2,q7,5,1,"div",9)(3,H7,2,1,"div",10)(4,eV,4,2,"div",11),_(5,"app-devis",12,0),Oe("retour",function(){J(e);let r=A();return Z(r.onDevisRetour())}),m(),xe(7,MV,29,13,"div",13)(8,AV,9,0,"div",14)(9,PV,5,1,"div",15)(10,OV,25,15,"div",16)(11,LV,14,6,"div",17)(12,VV,14,6,"div",17)(13,jV,3,0,"div",17)(14,KV,16,9,"div",18)(15,JV,2,5,"div",19),m()}if(i&2){let e=A();ht("portrait",e.portrait),q("ngClass",e.artiste),b(),q("ngIf",!e.jourClicked&&(e.portrait&&!e.month||!e.portrait)),b(),q("ngIf",!e.jourClicked&&e.portrait&&e.month),b(),q("ngIf",!e.jourClicked&&(e.portrait&&!e.month||!e.portrait)),b(),q("ngIf",!e.jourClicked),b(),ht("hidden",e.jourClicked&&e.jourClicked.mode==null),q("data",e.jourClicked)("artiste",e.artiste),b(2),q("ngIf",e.jourClicked&&e.jourClicked.mode==null),b(),q("ngIf",!e.jourClicked),b(),q("ngIf",!e.jourClicked&&!e.month),b(),q("ngIf",!e.jourClicked),b(),q("ngIf",!e.jourClicked&&!e.month),b(),q("ngIf",!e.jourClicked&&!e.month),b(),q("ngIf",!e.jourClicked&&!e.month),b(),q("ngIf",!e.jourClicked&&!e.month),b(),q("ngIf",e.tooltip.visible)}}var AM=(()=>{class i{constructor(e,n,r){this.http=e,this.location=n,this.datePipe=r,this.calcService=dt(SM),this.dataService=dt(Mm),this.prestaService=dt(Tm),this.dateService=dt(Ru),this.mode="day",this.dataByYear={},this.safedev=!0,this.artiste="cloe",this.currentMonth=new Date().getMonth()+1,this.currentYear=new Date().getFullYear(),this.monthLabels=Array.from({length:12},(s,o)=>o+1),this.colors=["#ccc","rgb(135, 82, 142)","green","orange","purple"],this.width=500,this.width2=600,this.height=300,this.maxValue=0,this.xStep=0,this.xStep2=0,this.cumulativeByYear={},this.cumulativeValues=[],this.cumulativeMax=0,this.startchart=!1,this.months=["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],this.year=2025,this.jourClicked=void 0,this.jourClickedSave=void 0,this.weekDays=["L","M","M","J","V","S","D"],this.occupiedDates=[],this.tooltip={visible:!1,x:0,y:0,data:null},this.diffs=void 0,this.lang="fra",this.extractedText="",this.loading=!1,this.alldevis=[],this.allfactures=[],this.allplannings=[],this.allWedding=[],this.alldev=void 0,this.allfac=void 0,this.allwed=void 0,this.allrens=void 0,this.etapes=["Devis","Arrhes"],this.changed=!1,this.event=0,this.search="",this.portrait=!1,this.month=void 0,this.monthIndex=void 0,this.selectedValue=null,this.monthsvalues=[],this.mdp="",this.okmdp=!1,this.innerWidth=window.outerWidth,this.innerHeight=window.outerHeight}onResize(e){this.innerHeight=e.target.innerHeight,this.innerWidth=e.target.innerWidth,e.target.innerHeight>e.target.innerWidth?this.portrait=!0:this.portrait=!1}onPopState(e){Hr()||(history.pushState(null,"",location.href),e.preventDefault(),e.stopPropagation(),this.onMobileReturn())}test(){}onMobileReturn(){history.pushState(null,"",location.href),this.jourClicked.leavewhenreturn?this.jourClicked=void 0:!this.jourClicked&&this.portrait&&this.month?(this.month=void 0,this.monthIndex=void 0):this.jourClicked&&this.portrait&&!this.jourClicked.mode?this.onRetour():this.jourClicked&&this.portrait&&this.jourClicked.mode&&(this.jourClicked.mode=void 0),history.pushState(null,"",location.href)}ngOnInit(){this.innerHeight=window.innerHeight,this.innerWidth=window.innerWidth,window.innerHeight>window.innerWidth?this.portrait=!0:this.portrait=!1,Hr()&&(this.okmdp=!0,this.init()),Hr()||(window.addEventListener("beforeunload",e=>{e.preventDefault(),e.returnValue="",this.onMobileReturn()}),history.pushState(null,"",location.href),window.addEventListener("backbutton",e=>{Hr()||(history.pushState(null,"",location.href),e.preventDefault(),e.stopPropagation(),this.onMobileReturn())})),q5.workerSrc="pdf.worker.js",this.innerHeight>this.innerWidth&&(this.portrait=!0)}ngAfterViewInit(){setTimeout(()=>{let n=new Date().getMonth(),r=this.monthRefs.get(0)?.nativeElement;if(!r)return;let s=r.offsetHeight+20,a=Math.floor(n/2)*s;this.calendarRef.nativeElement.scrollTo({top:a,behavior:"smooth"})},100)}onDevisRetour(){this.jourClicked.delete&&this.jourClicked.factures.splice(this.jourClicked.delete,1),this.portrait&&!this.month?this.jourClicked=void 0:this.jourClicked.mode=void 0,this.cancelViewport()}cancelViewport(){let e=setInterval(()=>{let n=document.querySelector("meta[name=viewport]");n&&n.setAttribute("content","width=device-width, initial-scale=1"),window.scrollTo({top:0,left:0}),document.documentElement.scrollIntoView(),document.documentElement.scrollTop=0,document.body.scrollTop=0,clearInterval(e)},100)}init(){this.getData()}onInput(e){return e=e.replace(/\D/g,""),e.length>2&&(e=e.slice(0,2)+"/"+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"/"+e.slice(5)),e}sendEmail(){let e=this.jourClicked.mail,n=encodeURIComponent("Disponibilit\xE9 pour votre mariage du "+this.formatDate(this.jourClicked.date)),r=encodeURIComponent("Bonjour "+this.jourClicked.nom+`,

J\u2019esp\xE8re que vous allez bien.

Je me permets de revenir vers vous concernant votre mariage du `+this.formatDate(this.jourClicked.date)+` prochain.
N\u2019ayant pas encore re\xE7u de confirmation de votre part, je souhaitais savoir si vous souhaitiez toujours faire appel \xE0 mes services.

\xC0 noter que j\u2019ai r\xE9cemment re\xE7u une autre demande pour cette m\xEAme date.
Afin de pouvoir organiser mon planning au mieux, pourriez-vous me tenir inform\xE9e de votre d\xE9cision ?

N\u2019h\xE9sitez pas \xE0 me contacter si vous avez la moindre question.

Au plaisir d\u2019\xE9changer avec vous,
Belle journ\xE9e \xE0 vous. \u{1F31E}
`);if(this.jourClicked.mail){let s=`mailto:${e}?subject=${n}&body=${r}`;window.location.href=s}else this.jourClicked.mariagenet&&this.jourClicked.mariagenet!=""?(navigator.clipboard.writeText(decodeURIComponent(r)),window.open("https://www.mariages.net/emp-AdminSolicitudesShow.php?id_solicitud="+this.jourClicked.mariagenet,"_blank")):navigator.clipboard.writeText(decodeURIComponent(r))}sendEmails(){let e=this.occupiedDates.filter(c=>c.statut=="demande"&&c.mail&&c.mail!="");e=e.map(c=>c.mail);let n="cloe.chaudron@outlook.com",r=[].join(","),s=e.join(","),o=encodeURIComponent("Disponibilit\xE9 pour votre mariage"),a=encodeURIComponent(`Bonjour Madame,

J\u2019esp\xE8re que vous allez bien.

Je me permets de revenir vers vous concernant votre mariage.
N\u2019ayant pas encore re\xE7u de confirmation de votre part, je souhaitais savoir si vous souhaitiez toujours faire appel \xE0 mes services.

\xC0 noter que j\u2019ai r\xE9cemment re\xE7u une autre demande pour cette m\xEAme date.
Afin de pouvoir organiser mon planning au mieux, pourriez-vous me tenir inform\xE9e de votre d\xE9cision ?

N\u2019h\xE9sitez pas \xE0 me contacter si vous avez la moindre question.

Au plaisir d\u2019\xE9changer avec vous,
Belle journ\xE9e \xE0 vous. \u{1F31E}
`),l=`mailto:${n}?cc=${r}&bcc=${s}&subject=${o}&body=${a}`;window.location.href=l}otherMonth(e){this.monthIndex=this.monthIndex+e,this.monthIndex<0?(this.monthIndex=11,this.year=this.year-1):this.monthIndex==12&&(this.monthIndex=0,this.year=this.year+1),this.month=this.months[this.monthIndex]}clickMonth(e,n){this.portrait&&(this.month=e,this.monthIndex=n)}findDifferences(e,n){let r={};return new Set([...Object.keys(e),...Object.keys(n)]).forEach(o=>{let a=e[o],l=n[o];if(typeof a=="object"&&typeof l=="object"&&a!==null&&l!==null){let c=this.findDifferences(a,l);Object.keys(c).length>0&&(r[o]=c)}else a!==l&&(r[o]={from:a,to:l})}),r}onRetour(e=0){this.jourClicked.mode=void 0,this.jourClickedSave.mode=void 0,this.jourClicked.factureClicked=-1,this.jourClickedSave.factureClicked=-1,this.diffs=this.findDifferences(this.jourClicked,this.jourClickedSave),Object.keys(this.diffs).length>0?hw.default.fire({title:"Attention",text:"Vous avez des modifications non enregistr\xE9es. Voulez-vous vraiment quitter ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(n=>{n.isConfirmed&&(e==0?(this.jourClicked=void 0,this.search=""):e==1||e==-1?this.changeEvent(e):e==2&&(this.diffs=void 0,this.jourClicked={date:this.jourClicked.date,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))))}):e==0?(this.jourClicked=void 0,this.search=""):e==1||e==-1?this.changeEvent(e):e==2&&(this.diffs=void 0,this.jourClicked={date:this.jourClicked.date,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked)))}isAnt(e,n,r){let s=new Date(r,e,n),o=new Date;return o.setHours(0,0,0,0),s<o}istoday(e,n,r){let s=new Date(r,e,n),o=new Date;return o.setHours(0,0,0,0),s.getDate()==o.getDate()&&s.getMonth()==o.getMonth()&&s.getFullYear()==o.getFullYear()}getData(){if(this.http.get("domaines.json").subscribe(e=>{this.domaines=e}),this.safedev&&Hr()){if(this.artiste=="celma"){document.documentElement.style.setProperty("--fond","#8dba8238"),document.documentElement.style.setProperty("--principale","#8bba82"),document.documentElement.style.setProperty("--scroll","#638e523b"),document.documentElement.style.setProperty("--gris-shadow","#505050"),document.documentElement.style.setProperty("--required","#578e52"),this.initData([{id:43,date:"19/04/2025",nom:"Charles Poure",statut:"reserve",adresse:"55 avenue foch",codepostal:"52 344 Paris",tel:"+33 6 55 22 11 44",mail:"charles.poure@mail.com",devis:{prestas:[{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0,qte:20},{nom:"Forfait Mari\xE9e Complet",en:"Complete Bride Package",prix:420,onlyOne:!0,bride:!0,time:120,maquillage:!0,coiffure:!0,qte:1},{nom:"Forfait Invit\xE9e Complet",en:"Complete Guest Package",prix:130,time:75,maquillage:!0,coiffure:!0,qte:1},{nom:"Coiffure Invit\xE9e (Attache compl\xE8te)",en:"Guest Hairstyling (Full Updo)",prix:80,time:45,coiffure:!0,qte:1},{nom:"Brushing Hollywoodien Invit\xE9e",en:"Hollywood Blowout (Guest)",prix:70,time:45,coiffure:!0,qte:1},{nom:"Suivi Mari\xE9e",en:"Bride Follow-Up",prix:50,hourly:!0,qte:2}],creation:"24/02/2025",numero:1,annee:"2025",echeance:"10/03/2025"},factures:[],planning:{},essai:{date:"10/08/2025",lieu:"Nul part"},mariage:{domaine:"Domaine de la vie",adresse:"111 avenue jean",codepostal:"67 854 apt"},prestataires:0,etape:1}]);return}else if(this.artiste=="charles"){document.documentElement.style.setProperty("--fond","#000"),document.documentElement.style.setProperty("--principale","#505050"),document.documentElement.style.setProperty("--scroll","#303030"),document.documentElement.style.setProperty("--gris-shadow","#303030"),document.documentElement.style.setProperty("--required","#303030"),this.initData([{id:43,date:"19/04/2025",nom:"Charles Poure",statut:"reserve",adresse:"55 avenue foch",codepostal:"52 344 Paris",tel:"+33 6 55 22 11 44",mail:"charles.poure@mail.com",devis:{prestas:[{nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",en:"D-Day Travel Expenses (Round Trip)",prix:.4,kilorly:!0,qte:20},{nom:"Forfait Mari\xE9e Complet",en:"Complete Bride Package",prix:420,onlyOne:!0,bride:!0,time:120,maquillage:!0,coiffure:!0,qte:1},{nom:"Forfait Invit\xE9e Complet",en:"Complete Guest Package",prix:130,time:75,maquillage:!0,coiffure:!0,qte:1},{nom:"Coiffure Invit\xE9e (Attache compl\xE8te)",en:"Guest Hairstyling (Full Updo)",prix:80,time:45,coiffure:!0,qte:1},{nom:"Brushing Hollywoodien Invit\xE9e",en:"Hollywood Blowout (Guest)",prix:70,time:45,coiffure:!0,qte:1},{nom:"Suivi Mari\xE9e",en:"Bride Follow-Up",prix:50,hourly:!0,qte:2}],creation:"24/02/2025",numero:1,annee:"2025",echeance:"10/03/2025"},factures:[],planning:{},essai:{date:"10/08/2025",lieu:"Nul part"},mariage:{domaine:"Domaine de la vie",adresse:"111 avenue jean",codepostal:"67 854 apt"},prestataires:0,etape:1}]),this.clickJour(3,19,2025);let e=setInterval(()=>{this.clickDevis(),clearInterval(e)},50);return}this.http.get("mockdata.json").subscribe(e=>{console.log("Mock Data",e),this.initData(e)})}else this.http.get("http"+(Hr()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanning.php?artiste="+this.artiste).subscribe(e=>{e=e.filter(n=>n.statut!="essai"),console.log("HTTP : CloePlanning",e),this.initData(e)})}initData(e){e=e.filter(u=>u.statut!="essai"),this.occupiedDates=e,e.filter(u=>u.essai&&u.essai.date&&u.essai.date!="").forEach(u=>{let d={nom:u.nom,adresse:u.adresse,codepostal:u.codepostal,tel:u.tel,mail:u.mail,statut:"essai",date:u.essai.date,devis:{},factures:[],planning:{},essai:u.essai,etape:u.etape,mariage:u.mariage},[p,f,w]=d.date.split("/").map(Number),x=new Date(w,f-1,p),P=new Date;P.setHours(0,0,0,0),x<P&&(d.etape=999),this.occupiedDates.push(d)}),this.alldevis=this.occupiedDates.filter(u=>u.devis&&u.devis.creation),this.allfactures=this.occupiedDates.filter(u=>u.factures.length>0),this.allfactures=this.allfactures.flatMap(u=>u.factures.map(d=>Ut(mt({},u),{facture:d}))),this.allfactures.forEach(u=>{(!u.facture.solde||u.facture.solde==0)&&console.log(u)}),this.allWedding=this.occupiedDates.filter(u=>u.statut!="essai"),this.allWedding=this.allWedding.sort((u,d)=>{let p=new Date(u.date.split("/").reverse().join("-")),f=new Date(d.date.split("/").reverse().join("-"));return p-f}),console.log(this.allWedding);let n={};this.occupiedDates.forEach(u=>{let[d,p,f]=u.date.split("/"),w=`${p}-${f}`;n[w]||(n[w]={mois:parseInt(p),annee:f,dates:[]}),n[w].dates.push(u)}),this.monthsvalues=Object.values(n);let r=new Date;this.prochain=this.occupiedDates.map(u=>Ut(mt({},u),{dateObj:new Date(u.date.split("/").reverse().join("-"))})).filter(u=>u.dateObj>r).sort((u,d)=>u.dateObj-d.dateObj)[0];let s=this.occupiedDates;s=s.filter(u=>u.statut=="reserve"&&u?.mariage?.domaine!==void 0&&u.mariage.domaine!==null&&u.mariage.domaine!=="").map(u=>({mariage:u.mariage,qte:u.devis?.prestas?.find(d=>d.nom.includes("d\xE9placement Jour-J"))?.qte})),s=s.filter(u=>u.qte!=null);let o=s,a=u=>u?.toLowerCase().trim().replace(/\s+/g," ")||"",l=new Map;for(let u of o){let d=u.mariage?.domaine||"",p=u.mariage?.adresse||"",f=u.mariage?.codepostal||"",w=a(d),x=typeof u.qte=="number"?u.qte:parseInt(u.qte);isNaN(x)||(l.has(w)||l.set(w,{nom:d.trim(),lieu:p.trim(),codepostal:f.trim(),qtes:[]}),l.get(w).qtes.push(x))}let c=Array.from(l.values());console.log("result",c),console.log(e.filter(u=>u.factures.length>0&&u.factures[0].annee==2025&&u.prestataires)),this.graphs()}setMode(e){this.mode=e}graphs(){let e={};this.occupiedDates.forEach(n=>{n.factures.forEach(r=>{let[s,o,a]=r.creation.split("/").map(Number);e[a]||(e[a]={}),e[a][o]||(e[a][o]=0),e[a][o]+=parseFloat(""+r.solde)})}),this.dataByYear=e,delete this.dataByYear[2023],this.years=Object.keys(this.dataByYear),this.maxValue=Math.max(...this.years.flatMap(n=>Object.values(this.dataByYear[n]))),this.xStep=this.width/(this.monthLabels.length-1),this.xStep2=this.width2/(this.monthLabels.length-1),this.computeCumulativeByYear()}getMonthValue(e,n){return this.dataByYear[e][n]||0}getLinePoints(e){let n=new Date().getFullYear(),r=new Date().getMonth()+1;return this.monthLabels.filter(s=>!(+e===n&&s>r-1)).map((s,o)=>{let a=o*this.xStep,l=this.height-this.getMonthValue(e,s)/this.maxValue*this.height;return`${a},${l}`}).join(" ")}computeCumulativeByYear(){this.cumulativeByYear={},this.cumulativeMax=0,this.years.forEach(e=>{let n=[],r=0;for(let s=0;s<12;s++)r+=this.getMonthValue(e,s+1),n.push(r);this.cumulativeByYear[e]=n,this.cumulativeMax=Math.max(this.cumulativeMax,...n)})}getCumulativeValue(e,n){return this.cumulativeByYear[e][n-1]||0}getCumulativeLinePoints(e){let n=new Date().getFullYear(),r=new Date().getMonth()+1;return this.monthLabels.filter(s=>!(+e===n&&s>r-1)).map((s,o)=>{let a=o*this.xStep,l=this.height-this.getCumulativeValue(e,o+1)/this.cumulativeMax*this.height;return`${a},${l}`}).join(" ")}getMonthHeight(e,n){return this.getMonthValue(e,n)/this.maxValue*100}randomColor(){return`hsl(${Math.random()*360}, 70%, 50%)`}getStatut(e,n=-1){let r=0,s=this.monthsvalues.filter(o=>o.annee==this.year);return this.month&&(s=this.monthsvalues.filter(o=>o.annee==this.year&&parseInt(o.mois)==this.monthIndex+1)),s.forEach(o=>{o.dates.forEach(a=>{(a.statut==e||a.etape==e)&&r++})}),r}getMonthFactures(){return this.occupiedDates.flatMap(n=>n.factures).filter(n=>{let r=parseInt(n.creation.split("/")[2],10),s=parseInt(n.creation.split("/")[1],10);return this.month?r==this.year&&s==this.monthIndex+1:r==this.year}).sort((n,r)=>{let[s,o,a]=n.creation.split("/").map(Number),[l,c,u]=r.creation.split("/").map(Number),d=new Date(a,o-1,s),p=new Date(u,c-1,l);return d.getTime()-p.getTime()})}getFactureText(e){let n="",r=this.occupiedDates.find(s=>s.factures.find(o=>o.creation==e.creation&&o.numero==e.numero&&o.solde==e.solde));return r&&(n="<b>"+r.nom+"</b> - "),n+=e.creation+" : "+parseInt(""+e.solde)+"\u20AC",n}goToWedding(e){let n=this.occupiedDates.find(r=>r.factures.find(s=>s.creation==e.creation&&s.numero==e.numero&&s.solde==e.solde));n&&(this.jourClicked=n,this.jourClickedSave=n)}alreadyPaid2(){let e=this.occupiedDates.flatMap(s=>s.factures).filter(s=>{let o=parseInt(s.creation.split("/")[2],10),a=parseInt(s.creation.split("/")[1],10);return this.month?o==this.year&&a==this.monthIndex+1:o==this.year}),n=0;return e.forEach(s=>{s.solde?n+=parseFloat(s.solde):s.prestas.forEach(o=>{n+=parseFloat(this.calc(o))})}),this.occupiedDates.filter(s=>{let o=parseInt(s.date.split("/")[2],10),a=parseInt(s.date.split("/")[1],10);return this.month?o==this.year&&a==this.monthIndex+1&&s.statut!="demande":o==this.year&&s.statut!="demande"}).forEach(s=>{let o=0;s.prestataires?o+=parseFloat(s.prestataires):s.factures.filter(a=>a.paiementprestas).forEach(a=>o+=parseFloat(a.paiementprestas)),n-=parseFloat(""+o)}),parseInt(""+n)}onDomainChange(e){if(this.jourClicked.devis.prestas){let n=this.jourClicked.devis.prestas.find(r=>r.nom.includes("d\xE9placement Jour-J"));n?n.qte=e.qte:this.jourClicked.devis.prestas.push({en:"D-Day Travel Expenses (Round Trip)",kilorly:!0,nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",prix:.4,qte:e.qte})}else{console.log(e);let n=new Date,r=new Date;r=new Date(r.getTime()+14*24*60*60*1e3);let s=this.getMaxs();this.jourClicked.devis.annee=this.year,this.jourClicked.devis.creation=this.datePipe.transform(n,"dd/MM/yyyy")||"",this.jourClicked.devis.echeance=this.datePipe.transform(r,"dd/MM/yyyy")||"",this.jourClicked.devis.numero=s?s.maxDevis+1:1,this.jourClicked.devis.prestas=[{en:"D-Day Travel Expenses (Round Trip)",kilorly:!0,nom:"Frais de d\xE9placement Jour-J (Aller/Retour)",prix:.4,qte:e.qte}]}}alreadyPaid(e=-1){let n=0,r=this.monthsvalues.filter(s=>s.annee==this.year);return this.month&&(r=this.monthsvalues.filter(s=>s.annee==this.year&&parseInt(s.mois)==this.monthIndex+1)),r.forEach(s=>{s.dates.filter(a=>a.factures.length>0).forEach(a=>{a.etape==999?a.devis&&a.devis.prestas&&a.devis.prestas.forEach(l=>n+=parseFloat(this.calc(l))):a.factures.forEach(l=>{l.solde?n+=parseFloat(l.solde):l.prestas.forEach(c=>n+=parseFloat(this.calc(c)))})})}),parseInt(n)+"\u20AC"}notPaid(e=-1){let n=0,r=this.monthsvalues.filter(s=>s.annee==this.year);return this.month&&(r=this.monthsvalues.filter(s=>s.annee==this.year&&parseInt(s.mois)==this.monthIndex+1)),r.forEach(s=>{s.dates.filter(a=>a.etape!=999).forEach(a=>{a.devis&&a.devis.prestas&&a.devis.prestas.forEach(l=>n+=parseFloat(this.calc(l))),a.factures&&a.factures.length>0&&a.factures.forEach(l=>{l.solde?n-=parseFloat(l.solde):l.prestas.forEach(c=>n-=parseFloat(this.calc(c)))})})}),parseInt(n)+"\u20AC"}notPaid2(){let e=this.occupiedDates.filter(r=>{let s=parseInt(r.date.split("/")[2],10),o=parseInt(r.date.split("/")[1],10);return this.month?s==this.year&&o==this.monthIndex+1&&r.etape!=999&&r.statut!="demande"&&r.devis&&r.devis.creation:s==this.year&&r.etape!=999&&r.statut!="demande"&&r.devis&&r.devis.creation}),n=0;return e.forEach(r=>{r.devis.prestas.filter(s=>!s.nom.includes("renfort")).forEach(s=>n+=parseFloat(this.calc(s)))}),e.forEach(r=>{r.factures.forEach(s=>{if(n-=parseFloat(s.solde),!s.paiementprestas||parseInt(""+s.paiementprestas)==0){let o=0;r.planning&&r.planning.planningprestas&&r.planning.planningprestas.forEach(a=>{a.presta!=0&&(o=o+parseFloat(""+a.prix))}),n-=parseFloat(""+o)}})}),parseInt(""+n)}notPaid3(){let e=this.occupiedDates.filter(r=>{let s=parseInt(r.date.split("/")[2],10),o=parseInt(r.date.split("/")[1],10);return this.month?s==this.year&&o==this.monthIndex+1&&r.etape!=999&&r.devis&&r.devis.creation:s==this.year&&r.etape!=999&&r.devis&&r.devis.creation}),n=0;return e.forEach(r=>{r.devis.prestas.filter(s=>!s.nom.includes("renfort")).forEach(s=>n+=parseFloat(this.calc(s)))}),e.forEach(r=>{r.factures.forEach(s=>{if(n-=parseFloat(s.solde),!s.paiementprestas||parseInt(""+s.paiementprestas)==0){let o=0;r.planning&&r.planning.planningprestas&&r.planning.planningprestas.forEach(a=>{a.presta!=0&&(o=o+parseFloat(""+a.prix))}),n-=parseFloat(""+o)}})}),parseInt(""+n)}xtotalThunes(){let e=this.alreadyPaid2()+this.notPaid3();return e+"\u20AC ("+parseInt(""+(e-e*.24))+"\u20AC net)"}xtotalThunes2(){let e=this.alreadyPaid2()+this.notPaid2();return e+"\u20AC ("+parseInt(""+(e-e*.24))+"\u20AC net)"}totalThunes(e=-1){let n=0,r=this.monthsvalues.filter(s=>s.annee==this.year);return this.month&&(r=this.monthsvalues.filter(s=>s.annee==this.year&&parseInt(s.mois)==this.monthIndex+1)),r.forEach(s=>{s.dates.forEach(a=>{if(a.devis&&a.devis.prestas&&a.devis.prestas.forEach(l=>n+=parseFloat(this.calc(l))),a.prestataires)n-=parseFloat(""+a.prestataires);else{let l=0;a.factures.forEach(c=>{l+=parseFloat(c.paiementprestas?c.paiementprestas:0)}),l==0&&a.planning&&a.planning.planningprestas&&a.planning.planningprestas.forEach(c=>{c.presta!=0&&(l=l+parseFloat(""+c.prix))}),n-=l}})}),parseInt(n)+"\u20AC ("+parseInt(""+(n-n*.24))+"\u20AC net)"}totalThunes2(e=-1){let n=0,r=this.monthsvalues.filter(s=>s.annee==this.year);return this.month&&(r=this.monthsvalues.filter(s=>s.annee==this.year&&parseInt(s.mois)==this.monthIndex+1)),r.forEach(s=>{s.dates.filter(a=>a.statut!="demande").forEach(a=>{if(a.etape!=999)if(a.devis&&a.devis.prestas&&a.devis.prestas.forEach(l=>n+=parseFloat(this.calc(l))),a.prestataires)n-=parseFloat(a.prestataires);else{let l=0;a.factures.forEach(c=>{l+=parseFloat(c.paiementprestas?c.paiementprestas:0)}),l==0&&a.planning&&a.planning.planningprestas&&a.planning.planningprestas.forEach(c=>{c.presta!=0&&(l=l+parseFloat(""+c.prix))}),n-=l}else a.factures.forEach(l=>{n+=parseFloat(l.solde)})})}),parseInt(n)+"\u20AC ("+parseInt(""+(n-n*.24))+"\u20AC net)"}calcPrestataires(){let e=0;return this.jourClicked.factures.forEach(n=>{n.paiementprestas&&(e=e+parseFloat(""+n.paiementprestas))}),e==0&&this.jourClicked.planning&&this.jourClicked.planning.planningprestas&&this.jourClicked.planning.planningprestas.forEach(n=>{n.presta!=0&&(e=e+parseInt(this.calcToString2(n)))}),this.jourClicked.devis.prestas.forEach(n=>{if(n.nom.includes("renfort")){let r=this.calcToString(n);r=="Offert"&&(r="0"),e+=parseInt(""+r)}}),parseInt(""+e)}renforts(e=-1){let n=0;return this.occupiedDates.filter(s=>{let o=parseInt(s.date.split("/")[2],10),a=parseInt(s.date.split("/")[1],10);return this.month?o==this.year&&a==this.monthIndex+1&&s.statut!="demande":o==this.year&&s.statut!="demande"}).forEach(s=>{let o=0;s.prestataires?o+=parseFloat(s.prestataires):s.factures.filter(a=>a.paiementprestas).forEach(a=>o+=parseFloat(a.paiementprestas)),o==0&&s.planning&&s.planning.planningprestas&&s.planning.planningprestas.forEach(a=>{a.presta!=0&&(o=o+parseInt(this.calcToString2(a)))}),s.devis&&s.devis.prestas&&s.devis.prestas.forEach(a=>{a.nom.includes("renfort")&&(o+=parseFloat(this.calc(a)))}),n+=parseFloat(""+o)}),parseInt(n)+"\u20AC"}calcTotMinusPrestas(){if(this.calcPrestataires()==0)return parseInt(this.calcTot());let e=0;return this.jourClicked.factures.forEach(n=>{n.paiementprestas&&(e=e+parseFloat(""+n.paiementprestas))}),e==0&&this.jourClicked.planning&&this.jourClicked.planning.planningprestas&&this.jourClicked.planning.planningprestas.forEach(n=>{n.presta==0&&(e=e+parseInt(this.calcToString2(n)))}),this.jourClicked.devis.prestas.forEach(n=>{if(!n.nom.includes("renfort")&&n.nom.includes("Frais de d\xE9placement")&&n.qte!="?"){let r=this.calcToString(n);r=="Offert"&&(r="0"),e+=parseInt(""+r)}}),parseInt(""+e)}getFullDate(e){let[n,r,s]=e.split("/").map(Number),o=new Date(s,r-1,n);return new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long"}).format(o).split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}getallfactures(){let e=this.allfactures.filter(n=>n.facture.annee==this.year);return e=e.sort((n,r)=>n.facture.numero-r.facture.numero),e}getallWed(){return this.allWedding.filter(e=>e.date.split("/")[2]==this.year)}getalldevis(){let e=this.alldevis.filter(n=>n.devis.annee==this.year);return e=e.sort((n,r)=>n.devis.numero-r.devis.numero),e}showFactures(){let e=1,n=this.occupiedDates.find(r=>r.factures.length>0&&r.factures.find(s=>s.numero==e));for(console.log(n);n!=null;){let r=n.factures.find(s=>s.numero==e);console.log(n.nom+" "+r.creation+" "+r.numero+"_"+r.annee),e++,n=this.occupiedDates.find(s=>s.factures.length>0&&s.factures.find(o=>o.numero==e))}}showNumeros(){this.occupiedDates.filter(n=>n.devis.creation).sort((n,r)=>this.toSortableDate(n.devis.creation)-this.toSortableDate(r.devis.creation)).forEach(n=>{let r=JSON.parse(JSON.stringify(n)),s=r.nom+" : DEVIS_"+this.formatNumber(r.devis.numero)+"_"+r.devis.annee+" ("+r.devis.creation+")";r.factures.forEach(o=>{s+=" FACTURE_"+this.formatNumber(o.numero)+"_"+o.annee+" ("+o.creation+")"}),console.log(s)})}checkNumerosDevis(){let e=this.occupiedDates.filter(o=>o.devis.creation).sort((o,a)=>this.toSortableDate(o.devis.creation)-this.toSortableDate(a.devis.creation));console.log(e);let n="",r=1,s=e[0].devis.annee;e.forEach(o=>{let a=JSON.parse(JSON.stringify(o));a.devis.annee!=s&&(r=1,s=a.devis.annee),a.devis.numero=r++,n+="UPDATE "+this.artiste+"planning SET devis = '"+JSON.stringify(a.devis)+"' WHERE ID = "+a.id+`;
`,console.log(a.nom+" "+a.devis.numero+"-"+a.devis.annee+" "+a.devis.creation)}),console.log(n)}checkNumerosFactures(e){let r=this.occupiedDates.filter(l=>l.factures.length>0).flatMap(l=>l.factures.map(c=>Ut(mt({},c),{tableauId:l.id,nom:l.nom})));r=r.filter(l=>l.annee==e),r.sort((l,c)=>{let[u,d,p]=l.creation.split("/").map(Number),[f,w,x]=c.creation.split("/").map(Number);return new Date(p,d-1,u).getTime()-new Date(x,w-1,f).getTime()});let s="",o=1,a=r[0].annee;r.forEach(l=>{l.annee!=a&&(o=1,a=l.annee);let u=this.occupiedDates.find(d=>d.id==l.tableauId).factures.find(d=>d.creation==l.creation&&JSON.stringify(d.prestas)===JSON.stringify(l.prestas));u.numero=o++}),s="",this.occupiedDates.filter(l=>l.factures.length>0).forEach(l=>{let c=JSON.parse(JSON.stringify(l));s+="UPDATE "+this.artiste+"planning SET factures = '"+JSON.stringify(c.factures)+"' WHERE ID = "+c.id+`;
`,c.factures.forEach(u=>{console.log(c.nom+" "+u.numero+"-"+u.annee+" "+u.creation)})}),console.log(s)}toSortableDate(e){let[n,r,s]=e.split("/").map(Number);return new Date(s,r-1,n).getTime()}otherEvents(){return this.occupiedDates.filter(e=>e.date==this.jourClicked.date).length}goToWed(){this.jourClicked=this.occupiedDates.find(e=>e.statut!="essai"&&e.essai&&e.essai.date==this.jourClicked.date&&e.nom==this.jourClicked.nom),this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))}getDaysInMonth(e,n){let r=new Date(e,n+1,0).getDate();return Array.from({length:r},(s,o)=>o+1)}getFirstDayOfMonth(e,n){return new Date(e,n,1).getDay()}isOccupied(e,n,r){let s=`${r.toString().padStart(2,"0")}/${(n+1).toString().padStart(2,"0")}/${e}`,o=this.occupiedDates.find(a=>a.date==s&&(this.search!=""?JSON.stringify(a).toLowerCase().includes(this.search.toLowerCase()):!0));return this.getClass(o)}noPlanning(e,n,r){let s=`${r.toString().padStart(2,"0")}/${(n+1).toString().padStart(2,"0")}/${e}`,o=this.occupiedDates.find(a=>a.date==s&&(this.search!=""?JSON.stringify(a).toLowerCase().includes(this.search.toLowerCase()):!0));return o&&o.statut=="reserve"&&o.etape!=999&&!o.planning.date}calcToString(e){if(e.qte=="?")return"";let n=this.calc(e);return n==0?"Offert":n+(n<100?",00":"")+"\u20AC"}calc(e){if(e.qte=="?")return 0;let n=e.prix*e.qte;return e.kilorly&&(e.qte<=10?n=0:n=(e.qte-10)*2*e.prix),e.reduc&&(n=n-n*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(n=Math.floor(n)),n}calcToString2(e){if(e.qte=="?")return"";let n=this.calc2(e);return n==0?"Offert":n+(n<100?",00":"")+"\u20AC"}calc2(e){if(e.qte=="?")return 0;let n=e.prix;return e.reduc&&(n=n-n*e.reduc/100),(Number.isInteger(e.prix)||e.kilorly)&&(n=Math.floor(n)),n}calcTot(e=!1){let n=0;return this.jourClicked.devis.prestas.filter(r=>r.qte>0).forEach(r=>{n+=this.calc(r)}),n=Math.floor(n),n+(n<100?",00":"")+"\u20AC"}calcares(){let e=0;return this.jourClicked.devis.prestas.filter(n=>n.bride&&n.qte>0).forEach(n=>{e+=this.calc(n)}),e!=0&&(e=.3*e),e=Math.floor(e),e+(e<100?",00":"")+"\u20AC"}calcPaye(){let e=0;return this.jourClicked.factures.forEach(n=>{n.solde?e+=parseFloat(n.solde):n.prestas.forEach(r=>{e+=this.calc(r)})}),this.transform(e)+"\u20AC"+(this.jourClicked.factures.length==1?" ("+this.jourClicked.factures[0].creation+")":"")}calcPaye2(e){let n=0,r=this.jourClicked.factures[e];return r.solde?n+=parseFloat(r.solde):r.prestas.forEach(s=>{n+=this.calc(s)}),parseInt(""+n)+"\u20AC"+(this.jourClicked.factures.length==1?" ("+this.jourClicked.factures[0].creation+")":"")}calcPaye3(e){let n=0;return e.solde?n+=parseFloat(e.solde):e.prestas.forEach(r=>{n+=this.calc(r)}),parseInt(""+n)}transform(e){return typeof e!="number"||isNaN(e)?"":Number.isInteger(e)?e<100?e.toFixed(2).replace(".",","):e.toString():e.toFixed(2).replace(".",",")}getClass(e){return e?e.etape==999?"over":e.statut:"nothing"}getMaxs(){let e=this.occupiedDates,n=new Date().getFullYear(),r=e.filter(l=>l.devis.creation).filter(l=>{let[c,u,d]=l.devis.creation.split("/").map(Number);return d===n}).map(l=>l.devis.numero),s=e.filter(l=>l.factures.length>0).flatMap(l=>l.factures).filter(l=>{let[c,u,d]=l.creation.split("/").map(Number);return d===n}).map(l=>l.numero),o=r.length>0?Math.max(...r):null,a=s.length>0?Math.max(...s):null;return{maxDevis:o,maxFacture:a}}initDevis(){this.devis.init(this.getMaxs())}clickDevis(){this.jourClicked.mode="devis",this.initDevis()}openRenseignement(){this.jourClicked.mode="renseignement",this.initDevis()}clickFacture(e=void 0){this.jourClicked.delete=void 0,console.log(e),e!=null?e.target?this.jourClicked.factureClicked=e.target.value:this.jourClicked.factureClicked=e:this.jourClicked.factureClicked=-1,this.jourClicked.mode="facture",this.initDevis(),this.selectedValue=null}clickPlanning(){this.jourClicked.mode="planning",this.initDevis()}clickAllDevis(e){if(this.alldev==null)return;this.jourClicked=this.occupiedDates.find(r=>r.id==this.alldev.id),this.jourClicked.download=!0,this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked));let n=setInterval(()=>{this.clickDevis(),clearInterval(n)},500)}clickAllWed(e){let n=this.allwed.date.split("/");this.clickJour(parseInt(n[1])-1,parseInt(n[0]),parseInt(n[2]))}clickAllRens(e){let n=this.allrens.date.split("/");this.jourClicked=this.occupiedDates.find(s=>s.id==this.allrens.id),this.jourClicked.leavewhenreturn=!0,this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked));let r=setInterval(()=>{this.openRenseignement(),clearInterval(r)},10)}clickAllFactures(e){if(this.allfac==null)return;this.jourClicked=this.occupiedDates.find(o=>o.id==this.allfac.id),this.jourClicked.download=!0,this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked));let n=this.jourClicked.factures,r=0;if(n.length>1){let o=n.find(a=>a.numero==this.allfac.facture.numero&&a.creation==this.allfac.facture.creation);r=n.indexOf(o)}let s=setInterval(()=>{this.clickFacture(r),clearInterval(s)},10)}showTooltip(e,n,r){if(this.isOccupied(this.year,n,r)=="nothing")return;let s=`${r.toString().padStart(2,"0")}/${(n+1).toString().padStart(2,"0")}/${this.year}`,o=this.occupiedDates.filter(a=>a.date==s);this.tooltip.visible=!0,this.tooltip.x=e.clientX+10,this.tooltip.y=e.clientY+10,this.tooltip.data=o}numberOfEvents(e,n){if(this.isOccupied(this.year,e,n)=="nothing")return;let r=`${n.toString().padStart(2,"0")}/${(e+1).toString().padStart(2,"0")}/${this.year}`,s=this.occupiedDates.filter(o=>o.date==r);return s.length>1?s.length:""}hideTooltip(){this.tooltip.visible=!1}formatDate(e){let[n,r,s]=e.split("/").map(Number),o=new Date(s,r-1,n);return new Intl.DateTimeFormat("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(o).replace(new RegExp("( |^)\\p{L}","gu"),l=>l.toUpperCase())}clickJour(e,n,r){this.diffs=void 0,this.event=0,this.hideTooltip();let s=`${n.toString().padStart(2,"0")}/${(e+1).toString().padStart(2,"0")}/${r}`;this.occupiedDates.find(a=>a.date==s)?(this.jourClicked=this.occupiedDates.filter(a=>a.date==s)[this.event],this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))):(this.jourClicked={date:s,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}},this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked)))}getEtape(){let e=this.jourClicked.etape;return e==0?"Cr\xE9er un devis":e==1?"Facture arrhes":e==2?"Facture finale":e==999?"Ev\xE9nement termin\xE9":"N/A"}clickEtape(){let e=this.jourClicked.etape;e==0&&this.clickDevis(),e==1&&this.clickFacture(),e==2&&this.clickFacture()}clickProchain(){let[e,n,r]=this.prochain.date.split("/").map(Number);this.clickJour(n-1,e,r)}changeJour(e){let[n,r,s]=this.jourClicked.date.split("/").map(Number),o=new Date(s,r-1,n);if(e==1){o.setDate(o.getDate()+1);let a=this.occupiedDates.map(l=>Ut(mt({},l),{dateObj:new Date(l.date.split("/").reverse().join("-"))})).filter(l=>l.dateObj>o);if(a=a.sort((l,c)=>l.dateObj-c.dateObj),a.length>0){a=a[0];let[l,c,u]=a.date.split("/").map(Number);this.clickJour(c-1,l,u)}}else{o.setDate(o.getDate()-1);let a=this.occupiedDates.map(l=>Ut(mt({},l),{dateObj:new Date(l.date.split("/").reverse().join("-"))})).filter(l=>l.dateObj<o);if(a=a.sort((l,c)=>l.dateObj-c.dateObj),a.length>0){a=a[a.length-1];let[l,c,u]=a.date.split("/").map(Number);this.clickJour(c-1,l,u)}}}changeEvent(e){this.diffs=void 0,this.event+=e,this.event>=this.otherEvents()?this.event=0:this.event<0&&(this.event=this.otherEvents()-1),this.jourClicked=this.occupiedDates.filter(n=>n.date==this.jourClicked.date)[this.event],this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))}end(){this.jourClicked.etape=999,this.save()}save(){if(this.safedev&&Hr()){console.log(this.jourClicked);return}if(this.jourClicked.statut=="essai")return;let e=this.jourClicked.id;e||this.occupiedDates.push(this.jourClicked);let n={factures:[],devis:{},planning:{},essai:{},mariage:{},etape:0,date:this.jourClicked.date};this.jourClicked.id&&(n.id=this.jourClicked.id),this.jourClicked.date&&(n.date=this.jourClicked.date),this.jourClicked.nom&&(n.nom=this.jourClicked.nom),this.jourClicked.statut&&(n.statut=this.jourClicked.statut),this.jourClicked.adresse&&(n.adresse=this.jourClicked.adresse),this.jourClicked.codepostal&&(n.codepostal=this.jourClicked.codepostal),this.jourClicked.mail&&(n.mail=this.jourClicked.mail),this.jourClicked.essai&&(n.essai=this.jourClicked.essai),this.jourClicked.mariage&&(n.mariage=this.jourClicked.mariage),this.jourClicked.mariagenet&&(n.mariagenet=this.jourClicked.mariagenet),this.jourClicked.tel&&(n.tel=this.jourClicked.tel),this.jourClicked.etape&&(n.etape=this.jourClicked.etape),this.jourClicked.devis&&(n.devis=this.jourClicked.devis),this.jourClicked.factures&&(n.factures=this.jourClicked.factures),this.jourClicked.planning&&(n.planning=this.jourClicked.planning),this.jourClicked.avis&&(n.avis=this.jourClicked.avis),Xs(fetch("http"+(Hr()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanning"+(e?"update":"create")+".php?artiste="+this.artiste,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST",mode:"no-cors"}).then(r=>{this.getData()})),this.jourClicked=void 0,this.search=""}delete(){Hr()||hw.default.fire({title:"Attention",text:"Voulez vous vraiment supprimer ces donn\xE9es ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Annuler"}).then(e=>{if(e.isConfirmed){let n={id:this.jourClicked.id};Xs(fetch("http"+(Hr()?"":"s")+"://chiyanh.cluster031.hosting.ovh.net/cloeplanningdelete.php?artiste="+this.artiste,{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},method:"POST",mode:"no-cors"}).then(r=>{this.getData()})),this.jourClicked=void 0,this.search=""}})}formatNumber(e){return String(e).padStart(3,"0")}checkMdp(){this.mdp==Im.password?(this.okmdp=!0,this.artiste="cloe"):this.mdp==Im.password2?(this.okmdp=!0,this.artiste="celma",document.documentElement.style.setProperty("--fond","#8dba8238"),document.documentElement.style.setProperty("--principale","#8bba82"),document.documentElement.style.setProperty("--scroll","#638e523b"),document.documentElement.style.setProperty("--gris-shadow","#505050"),document.documentElement.style.setProperty("--required","#578e52")):this.mdp==Im.password3&&(this.okmdp=!0,this.artiste="charles",document.documentElement.style.setProperty("--fond","#000"),document.documentElement.style.setProperty("--principale","#505050"),document.documentElement.style.setProperty("--scroll","#707070"),document.documentElement.style.setProperty("--gris-shadow","#303030"),document.documentElement.style.setProperty("--required","#303030")),this.init()}getStatut2(e){return this.dateService.getNbStatut(this.occupiedDates,e,this.year,this.monthIndex)}getEtape2(e){return this.dateService.getNbEtape(this.occupiedDates,e,this.year,this.monthIndex)}getHoursWorked(e,n){let r=this.calcService.getPerHour(this.occupiedDates,this.year,e,n,this.monthIndex),s=this.calcService.getHoursWorked(this.occupiedDates,this.year,e,n,this.monthIndex);return n?"Tu as travaill\xE9 <span class='glow'>"+parseInt(""+s/60)+"</span> heures et <span class='glow'>"+s%60+"</span> minutes ("+r+"\u20AC/h)":e?"Il te reste environ <span class='glow'>"+parseInt(""+s/60)+"</span> heures et <span class='glow'>"+s%60+"</span> minutes ("+r+"\u20AC/h)":"Ton "+(this.monthIndex?"mois":"ann\xE9e")+" est de <span class='glow'>"+parseInt(""+s/60)+"</span> heures et <span class='glow'>"+s%60+"</span> minutes ("+r+"\u20AC/h)"}getAlreadyPaid(){return this.calcService.getAlreadyPaid(this.occupiedDates,this.year,this.monthIndex)}getNotPaid(){return this.calcService.getNotPaid(this.occupiedDates,this.year,this.monthIndex)}getHelpers(){return this.calcService.getHelpers(this.occupiedDates,this.year,this.monthIndex)}getEstimate(){let e=this.calcService.getEstimate(this.occupiedDates,this.year,this.monthIndex);return"Estimation "+(this.monthIndex?"mensuelle":"annuelle")+" : <span class='glow'>"+e+"\u20AC ("+parseInt(""+(e-e*.24))+"\u20AC net)</span>"}getTotal(){let e=this.calcService.getTotal(this.occupiedDates,this.year,this.monthIndex);return"Total "+(this.monthIndex?"mensuel":"annuel")+" : <span class='glow'>"+e+"\u20AC ("+parseInt(""+(e-e*.24))+"\u20AC net)</span>"}getMonthFactures2(){return this.dateService.getMonthFactures(this.occupiedDates,this.monthIndex,this.year)}getMonthFacturesMissing(){return this.calcService.getMonthFacturesMissing(this.occupiedDates,this.monthIndex,this.year)}onDayClicked(e,n=""){this.event=0,this.diffs=void 0,this.hideTooltip();let r=this.dateService.getDaysThisDay(this.occupiedDates,e,n);r.length==0?this.jourClicked={date:e,statut:"demande",etape:0,factures:[],devis:{},planning:{},essai:{},mariage:{}}:this.jourClicked=r[0],this.jourClickedSave=JSON.parse(JSON.stringify(this.jourClicked))}static{this.\u0275fac=function(n){return new(n||i)(Nt(ec),Nt(jv),Nt(Ya))}}static{this.\u0275cmp=gp({type:i,selectors:[["app-root"]],viewQuery:function(n,r){if(n&1&&(Vd(N7,5),Vd(k7,5),Vd(L7,7),Vd(F7,5)),n&2){let s;jd(s=Bd())&&(r.devis=s.first),jd(s=Bd())&&(r.calendarRef=s.first),jd(s=Bd())&&(r.chartCanvas=s.first),jd(s=Bd())&&(r.monthRefs=s)}},hostBindings:function(n,r){n&1&&Oe("resize",function(o){return r.onResize(o)},!1,kd)("popstate",function(o){return r.onPopState(o)},!1,kd)},standalone:!0,features:[Ts([Ya]),Rp],decls:2,vars:2,consts:[["devis",""],["calendarContainer",""],["monthRef",""],["class","mdp",4,"ngIf"],[3,"portrait","ngClass",4,"ngIf"],[1,"mdp"],["type","password",3,"ngModelChange","ngModel"],[3,"click"],[3,"ngClass"],["class","annee",4,"ngIf"],["class","flex center",4,"ngIf"],["class","calendar",4,"ngIf"],[3,"retour","data","artiste"],["class","formulaire",4,"ngIf"],["class","flex legende",4,"ngIf"],["class","stats clickable",3,"click",4,"ngIf"],["class","bottom",4,"ngIf"],["style","padding-bottom:50px;",4,"ngIf"],["class","graphique",4,"ngIf"],["class","tooltip",3,"ngStyle",4,"ngIf"],[1,"annee"],[1,"nopointer"],[1,"flex","center"],["type","text","placeholder","Recherche..",3,"ngModelChange","ngModel"],[1,"calendar"],[4,"ngIf"],["class","month",3,"click",4,"ngFor","ngForOf"],[1,"month",3,"click"],[1,"week-days"],[4,"ngFor","ngForOf"],[1,"days"],["class","noday",4,"ngFor","ngForOf"],["class","blockday",3,"ant","today","noplanning","zindex","ngClass","nopointer","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"noday"],[1,"blockday",3,"mouseenter","mouseleave","click","ngClass"],["class","events",4,"ngIf"],[1,"events"],[1,"month","month2"],[1,"arrows"],["class","blockday",3,"ant","noplanning","today","ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"formulaire"],[1,"retour",3,"click"],[1,"date"],["class","date date2",4,"ngIf"],["class","inputs",4,"ngIf"],["class","inputs inputsessai",4,"ngIf"],["class","blocbas",4,"ngIf"],["class","resumes",4,"ngIf"],[1,"save"],[1,"renseignement",3,"click"],[3,"click",4,"ngIf"],["class","delete",3,"click",4,"ngIf"],[1,"date","date2"],[1,"inputs"],["type","text","placeholder","Date..",3,"ngModelChange","ngModel"],["type","text","placeholder","Nom..",3,"ngModelChange","ngModel"],["type","text","placeholder","Adresse..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code postal & Ville..",3,"ngModelChange","ngModel"],["type","text","placeholder","T\xE9l\xE9phone..",3,"ngModelChange","ngModel"],["type","text","placeholder","Mail..",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","demande"],["value","reserve"],["value","autre"],["value","perso"],["style","height: 25px;margin:10px 0px",4,"ngIf"],["type","text","placeholder","Mariage.Net..",3,"ngModelChange","ngModel"],[1,"column"],["type","text","maxlength","10","placeholder","Date..",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Lieu..",3,"ngModelChange","ngModel"],["type","text","placeholder","Heure..",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","Domaine..",3,"ngModelChange","ngModel"],["type","text","placeholder","Code Postal..",3,"ngModelChange","ngModel"],["type","text","placeholder","Heure C\xE9r\xE9monie..",3,"ngModelChange","ngModel"],[2,"height","25px","margin","10px 0px"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"inputs","inputsessai"],["class","column",4,"ngIf"],[1,"blocbas"],["class","nom",3,"red","click",4,"ngIf"],[1,"nom",3,"click"],[3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"resumes"],["class","prestas",4,"ngIf"],[1,"prestas"],[1,"entetes"],["class","small",4,"ngFor","ngForOf"],[1,"small"],[1,"delete",3,"click"],[1,"flex","legende"],[1,"reserve"],[1,"demande"],[1,"essai"],[1,"autre"],[1,"stats","clickable",3,"click"],[1,"bottom"],[1,"data"],[3,"innerHTML"],[1,"factures"],[1,"title",3,"innerHTML"],[1,"container"],["class","clickable line",3,"click",4,"ngFor","ngForOf"],[1,"toPay"],[1,"clickable","line",3,"click"],[1,"glow"],[2,"padding-bottom","50px"],[1,"flex","between","alldata"],[2,"margin","auto","display","flex",3,"click"],[1,"graphique"],[1,"graph-container"],[1,"legend"],[3,"color",4,"ngFor","ngForOf"],["stroke-width","2","fill","none"],["r","3"],[1,"tooltip",3,"ngStyle"]],template:function(n,r){n&1&&xe(0,j7,4,1,"div",3)(1,ZV,16,20,"div",4),n&2&&(q("ngIf",!r.okmdp),b(),q("ngIf",r.okmdp))},dependencies:[wg,vg,yg,Cu,nh,xu,mg,r1,ih,Hd,EE,tg,ng,SE,xM],styles:["button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border:1px solid var(--required);margin-bottom:1px!important;background-color:var(--principale);font-weight:700;border-radius:10px;filter:drop-shadow(2px 2px 3px black)}.clickable[_ngcontent-%COMP%]{border:1px solid var(--required);border-radius:20px}input[_ngcontent-%COMP%]{background-color:var(--fond)}.save[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px!important}.alldata[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%}.alldata[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin:0}.alldata[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{top:unset;width:unset;height:unset;padding:unset;margin:unset;border:1px solid var(--required);background-color:var(--fond);margin:auto;display:flex;max-width:90%}.stats[_ngcontent-%COMP%]{margin:10px;background-color:var(--fond);padding:10px}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.stats[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:45%;text-align:right;margin-right:5px}.stats[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:700;color:var(--required)}.between[_ngcontent-%COMP%]{justify-content:space-between}.portrait[_ngcontent-%COMP%]{overflow:hidden}.portrait[_ngcontent-%COMP%]   .annee[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{margin:5%;max-height:300px;overflow-y:scroll;border-top:3px solid var(--required);padding:3px;border-bottom:3px solid var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{max-width:44%;min-width:44%;background-color:var(--fond);border:3px ridge var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--required)}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:unset;height:unset;background:unset;border:unset}.portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .reserve[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .demande[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .autre[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .essai[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .over[_ngcontent-%COMP%], .portrait[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .perso[_ngcontent-%COMP%]{filter:drop-shadow(2px 2px 3px black)}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]{position:relative;max-width:95%!important;min-width:95%!important}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:80%;font-weight:700;font-size:30px;position:absolute;top:7px;color:var(--required)}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .arrows[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:40px!important}.portrait[_ngcontent-%COMP%]   .month2[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:auto!important;height:40px!important}.portrait[_ngcontent-%COMP%]   .legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px 2px}.mdp[_ngcontent-%COMP%]{display:grid;justify-content:center;margin:auto;top:40%;position:absolute;width:100%}.mdp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:80%;margin:10px auto auto;display:flex;justify-content:center}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]{padding:40px 0}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;width:50%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{white-space:nowrap;margin-bottom:15px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between;width:100%;margin:2px 0}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;color:var(--required)}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:165px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:177px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:215px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:84%}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputsessai[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2), .portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .inputsessai[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:190px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%;color:var(--required)}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:165px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .blocbas[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:190px;text-overflow:ellipsis;overflow:hidden}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]{justify-content:center}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;width:50px;white-space:nowrap}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   .prestas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){max-width:55%;min-width:55%;width:55%;overflow:hidden;text-overflow:ellipsis}.portrait[_ngcontent-%COMP%]   .formulaire[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.ant[_ngcontent-%COMP%]{background:var(--scroll)!important;color:#00000050}.calendar[_ngcontent-%COMP%]{margin:2%}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{background-color:var(--fond);border:3px ridge var(--required)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--required)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:unset;border:1px solid var(--principale)}.calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .reserve[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .demande[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .autre[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .essai[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .over[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .perso[_ngcontent-%COMP%]{filter:drop-shadow(2px 2px 3px black)}.annee[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px 2px}.calendar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}.month[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px;display:flex;flex-direction:column;align-items:center;background:#f9f9f9;border-radius:10px}h3[_ngcontent-%COMP%]{margin:5px 0;font-size:1.2em;text-align:center}.week-days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);width:100%;text-align:center;font-weight:700;padding-bottom:5px}.days[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;width:100%}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .blocday[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;align-items:center;justify-content:center;border:1px solid #ccc;border-radius:5px;background:#fff;font-size:.9em;transition:.5s}.legende[_ngcontent-%COMP%]{display:flex;justify-content:center}.legende[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:150px!important;margin:20px 30px}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:20px;border-color:red}.dday[_ngcontent-%COMP%], .reserve[_ngcontent-%COMP%], .demande[_ngcontent-%COMP%], .essai[_ngcontent-%COMP%], .autre[_ngcontent-%COMP%], .over[_ngcontent-%COMP%]{color:#fff;font-weight:700}.perso[_ngcontent-%COMP%]{color:red;font-weight:700}.legende[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0 2px!important}.dday[_ngcontent-%COMP%]{background:#b84419!important}.reserve[_ngcontent-%COMP%]{background:#2972c5!important}.demande[_ngcontent-%COMP%]{background:#f132e1!important}.essai[_ngcontent-%COMP%]{background:#b67600!important}.autre[_ngcontent-%COMP%]{background:#afa776!important}.over[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}.noday[_ngcontent-%COMP%]{border:1px solid transparent!important;background:unset!important}.tooltip[_ngcontent-%COMP%]{position:fixed;background:#000;color:#fff;padding:8px;border-radius:5px;font-size:14px;pointer-events:none;white-space:nowrap}.annee[_ngcontent-%COMP%]{display:flex;justify-content:center}.annee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;font-size:25px;margin:10px 25px;transition:.5s}.annee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.nopointer[_ngcontent-%COMP%]{pointer-events:none!important}.annee[_ngcontent-%COMP%]   .nopointer[_ngcontent-%COMP%], .formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .nopointer[_ngcontent-%COMP%]{color:var(--required);font-weight:700}.column[_ngcontent-%COMP%]{flex-direction:column}.formulaire[_ngcontent-%COMP%]{padding:40px 20px}.formulaire[_ngcontent-%COMP%]   .nopointer[_ngcontent-%COMP%]{width:350px;text-align:center}.formulaire[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:2px 0;display:flex;justify-content:center}.formulaire[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.formulaire[_ngcontent-%COMP%]   .retour[_ngcontent-%COMP%]{position:absolute;left:5px;top:5px;font-weight:700}.formulaire[_ngcontent-%COMP%]   .retour[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 10px;width:5%!important;font-size:25px;font-weight:700;color:var(--required)}.formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .nopointer[_ngcontent-%COMP%]{padding:0;width:90%!important;text-align:center!important}.formulaire[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.formulaire[_ngcontent-%COMP%]   .date2[_ngcontent-%COMP%]{margin-bottom:20px}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{flex-flow:wrap}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:space-between;width:fit-content;margin:2px 20px}.formulaire[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:200px;text-align:right;position:relative;top:0}.formulaire[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{margin-top:20px}.formulaire[_ngcontent-%COMP%]   .nom[_ngcontent-%COMP%]{font-style:italic;padding:0 10px}.formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;flex-direction:column;border:1px solid var(--required)}.formulaire[_ngcontent-%COMP%]   .resumes[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:unset;padding:unset}.flex[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{justify-content:center}.zindex[_ngcontent-%COMP%]{z-index:9!important}.blockday[_ngcontent-%COMP%]{position:relative}.blockday[_ngcontent-%COMP%]   .events[_ngcontent-%COMP%]{position:absolute;border:1px solid var(--required);background-color:var(--principale);border-radius:100%;padding:0 5px;bottom:-8px;right:-6px;z-index:1}.today[_ngcontent-%COMP%]{filter:drop-shadow(0px 0px 1px red) drop-shadow(0px 0px 1px var(--required)) drop-shadow(0px 0px 1px var(--required)) drop-shadow(0px 0px 1px var(--required)) drop-shadow(0px 0px 1px var(--required)) drop-shadow(0px 0px 1px var(--required));background-color:var(--principale)!important;color:#8a2be2;font-weight:700}.red[_ngcontent-%COMP%]{color:red!important;border-color:red!important}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{text-align:center;padding:5px;position:relative;top:-5px;width:150px;margin:0 10px}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:30px}select[_ngcontent-%COMP%]{width:164px}app-devis[_ngcontent-%COMP%]{position:absolute;width:100%}.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none;height:0px!important;width:0px!important}.delete[_ngcontent-%COMP%]{background:red;color:#fff;font-weight:700}.prestas[_ngcontent-%COMP%]{width:90%}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-direction:row!important;justify-content:space-between}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50px;white-space:nowrap}.prestas[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){max-width:55%;min-width:55%;width:55%;overflow:hidden;text-overflow:ellipsis}.prestas[_ngcontent-%COMP%]   .entetes[_ngcontent-%COMP%]{font-weight:700}.prestas[_ngcontent-%COMP%]   .entetes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--required)}button[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.5}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#fff!important;text-shadow:1px 1px 1px var(--required)!important}.renseignement[_ngcontent-%COMP%]{color:var(--required)!important;background-color:#fff;border-color:var(--required)}.charles[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff!important}.noplanning[_ngcontent-%COMP%]{border:2px solid red!important}.stats2[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.stats2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;width:50%;border:unset!important}.stats2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700;text-decoration:underline}.bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-flow:wrap;margin:20px 0}.bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:3px ridge var(--color4);border-radius:20px;margin:10px 0;background-color:var(--color3);padding:30px;height:fit-content;min-width:30vw}.bottom[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:20px;text-decoration:underline;padding-bottom:10px}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0;border:unset}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{border-radius:0;max-height:20vh;overflow-y:scroll;overflow-x:hidden}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:space-evenly;color:#000;min-width:unset}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){width:50%}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){width:30%}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){width:20%}.bottom[_ngcontent-%COMP%]   .factures[_ngcontent-%COMP%]   .toPay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--color5)!important}"]})}}return i})();var $t=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}($t||{}),wo="*";function DM(i,t=null){return{type:$t.Sequence,steps:i,options:t}}function fw(i){return{type:$t.Style,styles:i,offset:null}}var sl=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Nh=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Om="!";function PM(i){return new nt(3e3,!1)}function QV(){return new nt(3100,!1)}function ej(){return new nt(3101,!1)}function tj(i){return new nt(3001,!1)}function nj(i){return new nt(3003,!1)}function ij(i){return new nt(3004,!1)}function rj(i,t){return new nt(3005,!1)}function sj(){return new nt(3006,!1)}function oj(){return new nt(3007,!1)}function aj(i,t){return new nt(3008,!1)}function lj(i){return new nt(3002,!1)}function cj(i,t,e,n,r){return new nt(3010,!1)}function uj(){return new nt(3011,!1)}function dj(){return new nt(3012,!1)}function hj(){return new nt(3200,!1)}function fj(){return new nt(3202,!1)}function pj(){return new nt(3013,!1)}function gj(i){return new nt(3014,!1)}function mj(i){return new nt(3015,!1)}function _j(i){return new nt(3016,!1)}function vj(i,t){return new nt(3404,!1)}function yj(i){return new nt(3502,!1)}function wj(i){return new nt(3503,!1)}function bj(){return new nt(3300,!1)}function Cj(i){return new nt(3504,!1)}function xj(i){return new nt(3301,!1)}function Ej(i,t){return new nt(3302,!1)}function Sj(i){return new nt(3303,!1)}function Mj(i,t){return new nt(3400,!1)}function Aj(i){return new nt(3401,!1)}function Dj(i){return new nt(3402,!1)}function Pj(i,t){return new nt(3505,!1)}function ol(i){switch(i.length){case 0:return new sl;case 1:return i[0];default:return new Nh(i)}}function UM(i,t,e=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((p,f)=>{let w=f,x=p;if(f!=="offset")switch(w=i.normalizePropertyName(w,r),x){case Om:x=e.get(f);break;case wo:x=n.get(f);break;default:x=i.normalizeStyleValue(f,w,x,r);break}d.set(w,x)}),u||s.push(d),a=d,o=c}),r.length)throw yj(r);return s}function Fw(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&pw(e,"start",i)));break;case"done":i.onDone(()=>n(e&&pw(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&pw(e,"destroy",i)));break}}function pw(i,t,e){let n=e.totalTime,r=!!e.disabled,s=Rw(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),o=i._data;return o!=null&&(s._data=o),s}function Rw(i,t,e,n,r="",s=0,o){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Yr(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function IM(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var Ij=typeof document>"u"?null:document.documentElement;function Vw(i){let t=i.parentNode||i.host||null;return t===Ij?null:t}function Tj(i){return i.substring(1,6)=="ebkit"}var hc=null,TM=!1;function Oj(i){hc||(hc=Nj()||{},TM=hc.style?"WebkitAppearance"in hc.style:!1);let t=!0;return hc.style&&!Tj(i)&&(t=i in hc.style,!t&&TM&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in hc.style)),t}function Nj(){return typeof document<"u"?document.body:null}function zM(i,t){for(;t;){if(t===i)return!0;t=Vw(t)}return!1}function WM(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var jw=(()=>{class i{validateStyleProperty(e){return Oj(e)}containsElement(e,n){return zM(e,n)}getParentElement(e){return Vw(e)}query(e,n,r){return WM(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,o,a=[],l){return new sl(r,s)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})(),gc=class{static{this.NOOP=new jw}},mc=class{};var kj=1e3,$M="{{",Lj="}}",GM="ng-enter",ww="ng-leave",Nm="ng-trigger",Vm=".ng-trigger",OM="ng-animating",bw=".ng-animating";function na(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Cw(parseFloat(t[1]),t[2])}function Cw(i,t){switch(t){case"s":return i*kj;default:return i}}function jm(i,t,e){return i.hasOwnProperty("duration")?i:Fj(i,t,e)}function Fj(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(PM(i)),{duration:0,delay:0,easing:""};r=Cw(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Cw(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(QV()),a=!0),s<0&&(t.push(ej()),a=!0),a&&t.splice(l,0,PM(i))}return{duration:r,delay:s,easing:o}}function Rj(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function bo(i,t,e){t.forEach((n,r)=>{let s=Bw(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function pc(i,t){t.forEach((e,n)=>{let r=Bw(n);i.style[r]=""})}function kh(i){return Array.isArray(i)?i.length==1?i[0]:DM(i):i}function Vj(i,t,e){let n=t.params||{},r=YM(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(tj(s))})}var xw=new RegExp(`${$M}\\s*(.+?)\\s*${Lj}`,"g");function YM(i){let t=[];if(typeof i=="string"){let e;for(;e=xw.exec(i);)t.push(e[1]);xw.lastIndex=0}return t}function Fh(i,t,e){let n=`${i}`,r=n.replace(xw,(s,o)=>{let a=t[o];return a==null&&(e.push(nj(o)),a=""),a.toString()});return r==n?i:r}var jj=/-+([a-z0-9])/g;function Bw(i){return i.replace(jj,(...t)=>t[1].toUpperCase())}function Bj(i,t){return i===0||t===0}function qj(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,qw(i,a)))}}return t}function Gr(i,t,e){switch(t.type){case $t.Trigger:return i.visitTrigger(t,e);case $t.State:return i.visitState(t,e);case $t.Transition:return i.visitTransition(t,e);case $t.Sequence:return i.visitSequence(t,e);case $t.Group:return i.visitGroup(t,e);case $t.Animate:return i.visitAnimate(t,e);case $t.Keyframes:return i.visitKeyframes(t,e);case $t.Style:return i.visitStyle(t,e);case $t.Reference:return i.visitReference(t,e);case $t.AnimateChild:return i.visitAnimateChild(t,e);case $t.AnimateRef:return i.visitAnimateRef(t,e);case $t.Query:return i.visitQuery(t,e);case $t.Stagger:return i.visitStagger(t,e);default:throw ij(t.type)}}function qw(i,t){return window.getComputedStyle(i)[t]}var Hj=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Bm=class extends mc{normalizePropertyName(t,e){return Bw(t)}normalizeStyleValue(t,e,n,r){let s="",o=n.toString().trim();if(Hj.has(e)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(rj(t,n))}return o+s}};var qm="*";function Uj(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>zj(n,e,t)):e.push(i),e}function zj(i,t,e){if(i[0]==":"){let l=Wj(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(mj(i)),t;let r=n[1],s=n[2],o=n[3];t.push(NM(r,o));let a=r==qm&&o==qm;s[0]=="<"&&!a&&t.push(NM(o,r))}function Wj(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(_j(i)),"* => *"}}var km=new Set(["true","1"]),Lm=new Set(["false","0"]);function NM(i,t){let e=km.has(i)||Lm.has(i),n=km.has(t)||Lm.has(t);return(r,s)=>{let o=i==qm||i==r,a=t==qm||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?km.has(i):Lm.has(i)),!a&&n&&typeof s=="boolean"&&(a=s?km.has(t):Lm.has(t)),o&&a}}var KM=":self",$j=new RegExp(`s*${KM}s*,?`,"g");function XM(i,t,e,n){return new Ew(i).build(t,e,n)}var kM="",Ew=class{constructor(t){this._driver=t}build(t,e,n){let r=new Sw(e);return this._resetContextStyleTimingState(r),Gr(this,kh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=kM,t.collectedStyles=new Map,t.collectedStyles.set(kM,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(sj()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==$t.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==$t.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(oj())}),{type:$t.Trigger,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{YM(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(aj(t.name,[...s.values()]))}return{type:$t.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Gr(this,kh(t.animation),e),r=Uj(t.expr,e.errors);return{type:$t.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:fc(t.options)}}visitSequence(t,e){return{type:$t.Sequence,steps:t.steps.map(n=>Gr(this,n,e)),options:fc(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=n;let a=Gr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:$t.Group,steps:s,options:fc(t.options)}}visitAnimate(t,e){let n=Xj(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:fw({});if(s.type==$t.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=fw(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:$t.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===wo?n.push(a):e.errors.push(lj(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf($M)>=0){s=!0;break}}}),{type:$t.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(cj(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&Vj(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:$t.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(uj()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(M=>{let O=this._makeStyleAst(M,e),R=O.offset!=null?O.offset:Kj(O.styles),G=0;return R!=null&&(s++,G=O.offset=R),l=l||G<0||G>1,a=a||G<c,c=G,o.push(G),O});l&&e.errors.push(dj()),a&&e.errors.push(hj());let d=t.steps.length,p=0;s>0&&s<d?e.errors.push(fj()):s==0&&(p=r/(d-1));let f=d-1,w=e.currentTime,x=e.currentAnimateTimings,P=x.duration;return u.forEach((M,O)=>{let R=p>0?O==f?1:p*O:o[O],G=R*P;e.currentTime=w+x.delay+G,x.duration=G,this._validateStyleAst(M,e),M.offset=R,n.styles.push(M)}),n}visitReference(t,e){return{type:$t.Reference,animation:Gr(this,kh(t.animation),e),options:fc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:$t.AnimateChild,options:fc(t.options)}}visitAnimateRef(t,e){return{type:$t.AnimateRef,animation:this.visitReference(t.animation,e),options:fc(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=Gj(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,Yr(e.collectedStyles,e.currentQuerySelector,new Map);let a=Gr(this,kh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:$t.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:fc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(pj());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:jm(t.timings,e.errors,!0);return{type:$t.Stagger,animation:Gr(this,kh(t.animation),e),timings:n,options:null}}};function Gj(i){let t=!!i.split(/\s*,\s*/).find(e=>e==KM);return t&&(i=i.replace($j,"")),i=i.replace(/@\*/g,Vm).replace(/@\w+/g,e=>Vm+"-"+e.slice(1)).replace(/:animating/g,bw),[i,t]}function Yj(i){return i?mt({},i):null}var Sw=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Kj(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Xj(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=jm(i,t).duration;return gw(s,0,"")}let e=i;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=gw(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=jm(e,t);return gw(r.duration,r.delay,r.easing)}function fc(i){return i?(i=mt({},i),i.params&&(i.params=Yj(i.params))):i={},i}function gw(i,t,e){return{duration:i,delay:t,easing:e}}function Hw(i,t,e,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Rh=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Jj=1,Zj=":enter",Qj=new RegExp(Zj,"g"),eB=":leave",tB=new RegExp(eB,"g");function JM(i,t,e,n,r,s=new Map,o=new Map,a,l,c=[]){return new Mw().buildKeyframes(i,t,e,n,r,s,o,a,l,c)}var Mw=class{buildKeyframes(t,e,n,r,s,o,a,l,c,u=[]){c=c||new Rh;let d=new Aw(t,e,c,r,s,u,[]);d.options=l;let p=l.delay?na(l.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([o],null,d.errors,l),Gr(this,n,d);let f=d.timelines.filter(w=>w.containsAnimation());if(f.length&&a.size){let w;for(let x=f.length-1;x>=0;x--){let P=f[x];if(P.element===e){w=P;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,d.errors,l)}return f.length?f.map(w=>w.buildKeyframes()):[Hw(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:na(Fh(s,r?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime,o=n.duration!=null?na(n.duration):null,a=n.delay!=null?na(n.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Gr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==$t.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Hm);let o=na(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Gr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?na(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),Gr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Fh(n,e.params,e.errors):n;return jm(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let s=t.style;s.type==$t.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?na(r.delay):0;s&&(e.previousNode.type===$t.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Hm);let o=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Gr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let p=d.currentTimeline.currentTime;o=Math.max(o,p)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Gr(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},Hm={},Aw=class i{constructor(t,e,n,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Um(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=na(n.duration)),n.delay!=null&&(r.delay=na(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Fh(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Hm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new Dw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Qj,"."+this._enterClassName),t=t.replace(tB,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(gj(e)),a}},Um=class i{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Jj,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||wo),this._currentKeyframe.set(e,wo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=nB(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Fh(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wo),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Om?t.add(d):u===wo&&e.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Hw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Dw=class extends Um{constructor(t,e,n,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=n+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",LM(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let p=new Map(t[d]),f=p.get("offset"),w=e+f*n;p.set("offset",LM(w/o)),s.push(p)}n=o,e=0,r="",t=s}return Hw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function LM(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function nB(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let s of n)e.set(s,wo)}else for(let[s,o]of r)e.set(s,o)}),e}function FM(i,t,e,n,r,s,o,a,l,c,u,d,p){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:p}}var mw={},zm=class{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return iB(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,o,a,l,c,u){let d=[],p=this.ast.options&&this.ast.options.params||mw,f=a&&a.params||mw,w=this.buildStyles(n,f,d),x=l&&l.params||mw,P=this.buildStyles(r,x,d),M=new Set,O=new Map,R=new Map,G=r==="void",ie={params:ZM(x,p),delay:this.ast.options?.delay},de=u?[]:JM(t,e,this.ast.animation,s,o,w,P,ie,c,d),te=0;return de.forEach(Y=>{te=Math.max(Y.duration+Y.delay,te)}),d.length?FM(e,this._triggerName,n,r,G,w,P,[],[],O,R,te,d):(de.forEach(Y=>{let ce=Y.element,we=Yr(O,ce,new Set);Y.preStyleProps.forEach(j=>we.add(j));let V=Yr(R,ce,new Set);Y.postStyleProps.forEach(j=>V.add(j)),ce!==e&&M.add(ce)}),FM(e,this._triggerName,n,r,G,w,P,de,[...M.values()],O,R,te))}};function iB(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}function ZM(i,t){let e=mt({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var Pw=class{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=ZM(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Fh(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),n.set(a,o)})}),n}};function rB(i,t,e){return new Iw(i,t,e)}var Iw=class{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Pw(r.style,s,n))}),RM(this.states,"true","1"),RM(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new zm(t,r,this.states))}),this.fallbackTransition=sB(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(o=>o.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function sB(i,t,e){let n=[(o,a)=>!0],r={type:$t.Sequence,steps:[],options:null},s={type:$t.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new zm(i,s,t)}function RM(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var oB=new Rh,Tw=class{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let n=[],r=[],s=XM(this._driver,e,n,r);if(n.length)throw wj(n);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,e,n){let r=t.element,s=UM(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=JM(this._driver,e,s,GM,ww,new Map,new Map,n,oB,r),o.forEach(u=>{let d=Yr(a,u.element,new Map);u.postStyleProps.forEach(p=>d.set(p,null))})):(r.push(bj()),o=[]),r.length)throw Cj(r);a.forEach((u,d)=>{u.forEach((p,f)=>{u.set(f,this._driver.computeStyle(d,f,wo))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=ol(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw xj(t);return e}listen(t,e,n,r){let s=Rw(e,"","","");return Fw(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},VM="ng-animate-queued",aB=".ng-animate-queued",_w="ng-animate-disabled",lB=".ng-animate-disabled",cB="ng-star-inserted",uB=".ng-star-inserted",dB=[],QM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bs="__ng_removed",Vh=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=pB(r),n){let s=t,{value:o}=s,a=gd(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Lh="void",vw=new Vh(Lh),Ow=class{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fs(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw Ej(n,e);if(n==null||n.length==0)throw Sj(e);if(!gB(n))throw Mj(n,e);let s=Yr(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);let a=Yr(this._engine.statesByElement,t,new Map);return a.has(e)||(fs(t,Nm),fs(t,Nm+"-"+e),a.set(e,vw)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Aj(t);return e}trigger(t,e,n,r=!0){let s=this._getTrigger(e),o=new jh(this.id,e,t),a=this._engine.statesByElement.get(t);a||(fs(t,Nm),fs(t,Nm+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Vh(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=vw),!(c.value===Lh)&&l.value===c.value){if(!vB(l.params,c.params)){let x=[],P=s.matchStyles(l.value,l.params,x),M=s.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{pc(t,P),bo(t,M)})}return}let p=Yr(this._engine.playersByElement,t,[]);p.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),w=!1;if(!f){if(!r)return;f=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:w}),w||(fs(t,VM),o.onStart(()=>{ju(t,VM)})),o.onDone(()=>{let x=this.players.indexOf(o);x>=0&&this.players.splice(x,1);let P=this._engine.playersByElement.get(t);if(P){let M=P.indexOf(o);M>=0&&P.splice(M,1)}}),this.players.push(o),p.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Vm,!0);n.forEach(r=>{if(r[Bs])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Lh,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&ol(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||vw,u=new Vh(Lh),d=new jh(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let s=t[Bs];(!s||s===QM)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){fs(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=Rw(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Fw(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Nw=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Ow(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,n,r){if(Fm(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Fm(e))return;let s=e[Bs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fs(t,_w)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ju(t,_w))}removeNode(t,e,n){if(Fm(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[Bs]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return Fm(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Vm,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,bw,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ol(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Bs];if(e&&e.setForRemoval){if(t[Bs]=QM,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(_w)&&this.markElementAsDisabled(t,!1),this.driver.query(t,lB,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];fs(r,cB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?ol(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw Dj(t)}_flushAnimations(t,e){let n=new Rh,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ee=>{u.add(ee);let H=this.driver.query(ee,aB,!0);for(let W=0;W<H.length;W++)u.add(H[W])});let d=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=qM(p,this.collectedEnterElements),w=new Map,x=0;f.forEach((ee,H)=>{let W=GM+x++;w.set(H,W),ee.forEach(K=>fs(K,W))});let P=[],M=new Set,O=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){let H=this.collectedLeaveElements[ee],W=H[Bs];W&&W.setForRemoval&&(P.push(H),M.add(H),W.hasAnimation?this.driver.query(H,uB,!0).forEach(K=>M.add(K)):O.add(H))}let R=new Map,G=qM(p,Array.from(M));G.forEach((ee,H)=>{let W=ww+x++;R.set(H,W),ee.forEach(K=>fs(K,W))}),t.push(()=>{f.forEach((ee,H)=>{let W=w.get(H);ee.forEach(K=>ju(K,W))}),G.forEach((ee,H)=>{let W=R.get(H);ee.forEach(K=>ju(K,W))}),P.forEach(ee=>{this.processLeaveNode(ee)})});let ie=[],de=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(e).forEach(W=>{let K=W.player,le=W.element;if(ie.push(K),this.collectedEnterElements.length){let fe=le[Bs];if(fe&&fe.setForMove){if(fe.previousTriggersValues&&fe.previousTriggersValues.has(W.triggerName)){let ve=fe.previousTriggersValues.get(W.triggerName),Ce=this.statesByElement.get(W.element);if(Ce&&Ce.has(W.triggerName)){let ze=Ce.get(W.triggerName);ze.value=ve,Ce.set(W.triggerName,ze)}}K.destroy();return}}let be=!d||!this.driver.containsElement(d,le),T=R.get(le),z=w.get(le),$=this._buildInstruction(W,n,z,T,be);if($.errors&&$.errors.length){de.push($);return}if(be){K.onStart(()=>pc(le,$.fromStyles)),K.onDestroy(()=>bo(le,$.toStyles)),r.push(K);return}if(W.isFallbackTransition){K.onStart(()=>pc(le,$.fromStyles)),K.onDestroy(()=>bo(le,$.toStyles)),r.push(K);return}let ae=[];$.timelines.forEach(fe=>{fe.stretchStartingKeyframe=!0,this.disabledNodes.has(fe.element)||ae.push(fe)}),$.timelines=ae,n.append(le,$.timelines);let ue={instruction:$,player:K,element:le};o.push(ue),$.queriedElements.forEach(fe=>Yr(a,fe,[]).push(K)),$.preStyleProps.forEach((fe,ve)=>{if(fe.size){let Ce=l.get(ve);Ce||l.set(ve,Ce=new Set),fe.forEach((ze,Ue)=>Ce.add(Ue))}}),$.postStyleProps.forEach((fe,ve)=>{let Ce=c.get(ve);Ce||c.set(ve,Ce=new Set),fe.forEach((ze,Ue)=>Ce.add(Ue))})});if(de.length){let ee=[];de.forEach(H=>{ee.push(Pj(H.triggerName,H.errors))}),ie.forEach(H=>H.destroy()),this.reportError(ee)}let te=new Map,Y=new Map;o.forEach(ee=>{let H=ee.element;n.has(H)&&(Y.set(H,H),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,te))}),r.forEach(ee=>{let H=ee.element;this._getPreviousPlayers(H,!1,ee.namespaceId,ee.triggerName,null).forEach(K=>{Yr(te,H,[]).push(K),K.destroy()})});let ce=P.filter(ee=>HM(ee,l,c)),we=new Map;BM(we,this.driver,O,c,wo).forEach(ee=>{HM(ee,l,c)&&ce.push(ee)});let j=new Map;f.forEach((ee,H)=>{BM(j,this.driver,new Set(ee),l,Om)}),ce.forEach(ee=>{let H=we.get(ee),W=j.get(ee);we.set(ee,new Map([...H?.entries()??[],...W?.entries()??[]]))});let oe=[],re=[],Ae={};o.forEach(ee=>{let{element:H,player:W,instruction:K}=ee;if(n.has(H)){if(u.has(H)){W.onDestroy(()=>bo(H,K.toStyles)),W.disabled=!0,W.overrideTotalTime(K.totalTime),r.push(W);return}let le=Ae;if(Y.size>1){let T=H,z=[];for(;T=T.parentNode;){let $=Y.get(T);if($){le=$;break}z.push(T)}z.forEach($=>Y.set($,le))}let be=this._buildAnimation(W.namespaceId,K,te,s,j,we);if(W.setRealPlayer(be),le===Ae)oe.push(W);else{let T=this.playersByElement.get(le);T&&T.length&&(W.parentPlayer=ol(T)),r.push(W)}}else pc(H,K.fromStyles),W.onDestroy(()=>bo(H,K.toStyles)),re.push(W),u.has(H)&&r.push(W)}),re.forEach(ee=>{let H=s.get(ee.element);if(H&&H.length){let W=ol(H);ee.setRealPlayer(W)}}),r.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<P.length;ee++){let H=P[ee],W=H[Bs];if(ju(H,ww),W&&W.hasAnimation)continue;let K=[];if(a.size){let be=a.get(H);be&&be.length&&K.push(...be);let T=this.driver.query(H,bw,!0);for(let z=0;z<T.length;z++){let $=a.get(T[z]);$&&$.length&&K.push(...$)}}let le=K.filter(be=>!be.destroyed);le.length?mB(this,H,le):this.processLeaveNode(H)}return P.length=0,oe.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();let H=this.players.indexOf(ee);this.players.splice(H,1)}),ee.play()}),oe}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==Lh;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=Yr(n,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{let w=f.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),f.destroy(),d.push(f)})}pc(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,p=e.timelines.map(w=>{let x=w.element;u.add(x);let P=x[Bs];if(P&&P.removedBeforeQueried)return new sl(w.duration,w.delay);let M=x!==l,O=_B((n.get(x)||dB).map(te=>te.getRealPlayer())).filter(te=>{let Y=te;return Y.element?Y.element===x:!1}),R=s.get(x),G=o.get(x),ie=UM(this._normalizer,w.keyframes,R,G),de=this._buildPlayer(w,ie,O);if(w.subTimeline&&r&&d.add(x),M){let te=new jh(t,a,x);te.setRealPlayer(de),c.push(te)}return de});c.forEach(w=>{Yr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>fB(this.playersByQueriedElement,w.element,w))}),u.forEach(w=>fs(w,OM));let f=ol(p);return f.onDestroy(()=>{u.forEach(w=>ju(w,OM)),bo(l,e.toStyles)}),d.forEach(w=>{Yr(r,w,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new sl(t.duration,t.delay)}},jh=class{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new sl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Fw(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Yr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function fB(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function pB(i){return i??null}function Fm(i){return i&&i.nodeType===1}function gB(i){return i=="start"||i=="done"}function jM(i,t){let e=i.style.display;return i.style.display=t??"none",e}function BM(i,t,e,n,r){let s=[];e.forEach(l=>s.push(jM(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let p=t.computeStyle(c,d,r);u.set(d,p),(!p||p.length==0)&&(c[Bs]=hB,o.push(c))}),i.set(c,u)});let a=0;return e.forEach(l=>jM(l,s[a++])),o}function qM(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==n&&e.get(l).push(a)}),e}function fs(i,t){i.classList?.add(t)}function ju(i,t){i.classList?.remove(t)}function mB(i,t,e){ol(e).onDone(()=>i.processLeaveNode(t))}function _B(i){let t=[];return eA(i,t),t}function eA(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Nh?eA(n.players,t):t.push(n)}}function vB(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}function HM(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}var Bu=class{constructor(t,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Nw(t.body,e,n),this._timelineEngine=new Tw(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=XM(this._driver,s,l,c);if(l.length)throw vj(r,l);c.length&&void 0,a=rB(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[s,o]=IM(n),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if(n.charAt(0)=="@"){let[o,a]=IM(n);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function yB(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=yw(t[0]),t.length>1&&(n=yw(t[t.length-1]))):t instanceof Map&&(e=yw(t)),e||n?new kw(i,e,n):null}var kw=class i{static{this.initialStylesByElement=new WeakMap}constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=i.initialStylesByElement.get(t);r||i.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(pc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}};function yw(i){let t=null;return i.forEach((e,n)=>{wB(n)&&(t=t||new Map,t.set(n,e))}),t}function wB(i){return i==="display"||i==="position"}var Wm=class{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:qw(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},$m=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return zM(t,e)}getParentElement(t){return Vw(t)}query(t,e,n){return WM(t,e,n)}computeStyle(t,e,n){return qw(t,e)}animate(t,e,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Wm);Bj(n,r)&&u.forEach(f=>{f.currentSnapshot.forEach((w,x)=>c.set(x,w))});let d=Rj(e).map(f=>new Map(f));d=qj(t,d,c);let p=yB(t,d);return new Wm(t,d,l,p)}};var Rm="@",tA="@.disabled",Gm=class{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Rm&&e==tA?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Lw=class extends Gm{constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Rm?e.charAt(1)=="."&&e==tA?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Rm){let r=bB(t),s=e.slice(1),o="";return s.charAt(0)!=Rm&&([s,o]=CB(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,e,n)}};function bB(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function CB(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Ym=class{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Gm(n,r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new Lw(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var EB=(()=>{class i extends Bu{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||i)(Ft(xr),Ft(gc),Ft(mc))}}static{this.\u0275prov=xt({token:i,factory:i.\u0275fac})}}return i})();function SB(){return new Bm}function MB(i,t,e){return new Ym(i,t,e)}var nA=[{provide:mc,useFactory:SB},{provide:Bu,useClass:EB},{provide:Ba,useFactory:MB,deps:[cg,Bu,$n]}],AB=[{provide:gc,useFactory:()=>new $m},{provide:uv,useValue:"BrowserAnimations"},...nA],vG=[{provide:gc,useClass:jw},{provide:uv,useValue:"NoopAnimations"},...nA];function iA(){return Jl("NgEagerAnimations"),[...AB]}GE(AM,{providers:[jE(),iA()]}).catch(i=>console.error(i));
